import{r as f,c as g,d as o,f as s,b as h,j as B,k as i,m as b,e as d,y as p,g as v}from"./index.4e24e414.js";const w={style:{"padding-top":"10px"}},x={style:{display:"flex","align-items":"center"}},k={__name:"programLog",setup(y){const c=f(),_=()=>{h.get("/api/log/list").then(t=>{c.value=t.data}).catch(t=>{B.error({message:t.response.data,duration:2e3,showClose:!0})})},u=t=>{var e=parseInt(t);if(isNaN(e))return"";var a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(2));l<1&&(l=0);var r=Math.floor(l/10);return e=e/Math.pow(2,10*r),e.toString().length>e.toFixed(2).toString().length&&(e=e.toFixed(2)),e+" "+a[r]};_();const m=t=>{window.location.href="/api/log/download?path="+encodeURIComponent(t)};return(t,e)=>{const a=i("el-table-column"),l=i("el-button"),r=i("el-table");return b(),g("div",w,[o(r,{data:c.value,style:{width:"100%"}},{default:s(()=>[o(a,{prop:"name",label:"\u6587\u4EF6\u540D\u79F0"}),o(a,{label:"\u66F4\u65B0\u65F6\u95F4"},{default:s(n=>[d("div",x,[d("span",null,p(n.row.updatedAt),1)])]),_:1}),o(a,{prop:"size",label:"\u5927\u5C0F"},{default:s(n=>[d("div",null,p(u(n.row.size)),1)]),_:1}),o(a,{label:"\u4E0B\u8F7D"},{default:s(n=>[o(l,{onClick:M=>m(n.row.name)},{default:s(()=>[v(" \u4E0B\u8F7D ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}};export{k as default};
