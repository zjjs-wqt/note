import{M as AY,N as KM,O as G2,P as JM,Q as MY,R as Jb,S as y0,T as PY,U as Bk,V as BY,W as Ch,X as eP,Y as pc,Z as $Y,$ as LY,a0 as FY,a1 as Pg,a2 as NY,a3 as IY,a4 as RY,a5 as QY,a6 as zY,a7 as VY,a8 as WY,a9 as qY,aa as dv,ab as XY,ac as YY,ad as UY,ae as jY,af as HY,ag as ZY,ah as b0,ai as K2,d as Et,aj as fv,ak as es,al as GY,r as yt,am as KY,z as e4,an as pv,ao as JY,o as tP,ap as eU,aq as tU,ar as nU,as as af,at as rU,au as lf,av as mv,aw as ar,ax as iU,ay as _1,az as xr,aA as __,aB as yp,aC as sU,aD as gv,aE as oU,aF as aU,aG as $k,aH as cs,aI as lU,aJ as cU,aK as Lk,i as Fk,G as Gs,l as Nk,w as Nf,m as nn,A as Xr,u as yv,b as mr,j as Nn,aL as S3,s as uU,aM as hU,aN as dU,L as fU,_ as nP,c as Yr,t as cf,f as $t,H as pi,K as pU,D as mU,e as Ys,y as nc,C as gU,aO as Om,k as Us,g as fr,F as vm,B as xm}from"./index.4e24e414.js";import{S as yU}from"./SplitPane.a7162a6b.js";var S_=1/0,bU=17976931348623157e292;function Bg(t){if(!t)return t===0?t:0;if(t=AY(t),t===S_||t===-S_){var e=t<0?-1:1;return e*bU}return t===t?t:0}function OU(t){var e=Bg(t),n=e%1;return e===e?n?e-n:e:0}function vU(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var rP=Object.prototype,xU=rP.hasOwnProperty,kU=KM(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&G2(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=JM(s),a=-1,l=o.length;++a<l;){var u=o[a],h=t[u];(h===void 0||MY(h,rP[u])&&!xU.call(t,u))&&(t[u]=s[u])}return t});const zh=kU;function J2(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function iP(t){return typeof t=="function"?t:Jb}function Ae(t,e){var n=y0(t)?PY:Bk;return n(t,iP(e))}function wU(t,e){var n=[];return Bk(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function wl(t,e){var n=y0(t)?BY:wU;return n(t,Ch(e))}function _U(t){return function(e,n,r){var i=Object(e);if(!eP(e)){var s=Ch(n);e=pc(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var SU=Math.max;function CU(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:OU(n);return i<0&&(i=SU(r+i,0)),$Y(t,Ch(e),i)}var TU=_U(CU);const Ik=TU;function DU(t,e){return t==null?t:LY(t,iP(e),JM)}function EU(t,e){return t>e}var AU=Object.prototype,MU=AU.hasOwnProperty;function PU(t,e){return t!=null&&MU.call(t,e)}function Qt(t,e){return t!=null&&FY(t,e,PU)}function BU(t,e){return Pg(e,function(n){return t[n]})}function Ml(t){return t==null?[]:BU(t,pc(t))}var $U="[object Map]",LU="[object Set]",FU=Object.prototype,NU=FU.hasOwnProperty;function pd(t){if(t==null)return!0;if(eP(t)&&(y0(t)||typeof t=="string"||typeof t.splice=="function"||NY(t)||IY(t)||RY(t)))return!t.length;var e=QY(t);if(e==$U||e==LU)return!t.size;if(zY(t))return!VY(t).length;for(var n in t)if(NU.call(t,n))return!1;return!0}function sP(t,e){return t<e}function t4(t,e){var n={};return e=Ch(e),WY(t,function(r,i,s){qY(n,i,e(r,i,s))}),n}function Rk(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!dv(o):n(o,a)))var a=o,l=s}return l}function oh(t){return t&&t.length?Rk(t,Jb,EU):void 0}function bp(t){return t&&t.length?Rk(t,Jb,sP):void 0}function Qk(t,e){return t&&t.length?Rk(t,Ch(e),sP):void 0}function IU(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function RU(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=dv(t),o=e!==void 0,a=e===null,l=e===e,u=dv(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function QU(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=RU(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function zU(t,e,n){e.length?e=Pg(e,function(s){return y0(s)?function(o){return XY(o,s.length===1?s[0]:s)}:s}):e=[Jb];var r=-1;e=Pg(e,YY(Ch));var i=UY(t,function(s,o,a){var l=Pg(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return IU(i,function(s,o){return QU(s,o,n)})}var VU=Math.ceil,WU=Math.max;function qU(t,e,n,r){for(var i=-1,s=WU(VU((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}function XU(t){return function(e,n,r){return r&&typeof r!="number"&&G2(e,n,r)&&(n=r=void 0),e=Bg(e),n===void 0?(n=e,e=0):n=Bg(n),r=r===void 0?e<n?1:-1:Bg(r),qU(e,n,r,t)}}var YU=XU();const ah=YU;function UU(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function S1(t,e,n){var r=y0(t)?vU:UU,i=arguments.length<3;return r(t,Ch(e),n,i,Bk)}var jU=KM(function(t,e){if(t==null)return[];var n=e.length;return n>1&&G2(t,e[0],e[1])?e=[]:n>2&&G2(e[0],e[1],e[2])&&(e=[e[0]]),zU(t,jY(e,1),[])});const C1=jU;var HU=0;function n4(t){var e=++HU;return HY(t)+e}function ZU(t,e,n){for(var r=-1,i=t.length,s=e.length,o={};++r<i;){var a=r<s?e[r]:void 0;n(o,t[r],a)}return o}function GU(t,e){return ZU(t||[],e||[],ZY)}var KU=Object.defineProperty,JU=(t,e,n)=>e in t?KU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ej=(t,e,n)=>(JU(t,typeof e!="symbol"?e+"":e,n),n),Zr=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.themeMustInstalled="themeMustInstalled",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.missingIcon="missingIcon",t.vueRendererCallOutOfScope="vueRendererCallOutOfScope",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",t.missingMenuWrapper="missingMenuWrapper",t))(Zr||{});class hi extends Error{constructor(e,n){super(n),ej(this,"code"),this.name="MilkdownError",this.code=e}}const tj=(t,e)=>typeof e=="function"?"[Function]":e,Md=t=>JSON.stringify(t,tj),nj=t=>new hi(Zr.docTypeError,`Doc type error, unsupported type: ${Md(t)}`),rj=t=>new hi(Zr.contextNotFound,`Context "${t}" not found, do you forget to inject it?`),ij=t=>new hi(Zr.timerNotFound,`Timer "${t}" not found, do you forget to record it?`),sj=()=>new hi(Zr.ctxCallOutOfScope,"Should not call a context out of the plugin."),oj=(...t)=>{const e=t.reduce((n,r)=>{if(!r)return n;const i=s=>Array.isArray(s)?s.map(o=>i(o)).join(", "):s.toJSON?Md(s.toJSON()):s.spec?Md(s.spec):s.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new hi(Zr.createNodeInParserFail,e)},oP=()=>new hi(Zr.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),aj=t=>new hi(Zr.parserMatchError,`Cannot match target parser for node: ${Md(t)}.`),lj=t=>new hi(Zr.serializerMatchError,`Cannot match target serializer for node: ${Md(t)}.`),cj=(t,e)=>new hi(Zr.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`),Nr=t=>new hi(Zr.expectDomTypeError,`Expect to be a dom, but get: ${Md(t)}.`),uj=()=>new hi(Zr.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),C_=()=>new hi(Zr.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),ms=()=>new hi(Zr.missingRootElement,"Missing root element, milkdown cannot find root element of the editor."),hj=t=>new hi(Zr.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`),dj=t=>new hi(Zr.missingIcon,`Missing icon in theme, milkdown cannot find icon "${t}" in theme.`),fj=()=>new hi(Zr.vueRendererCallOutOfScope,"Should not call vue renderer before it has been created."),pj=()=>new hi(Zr.missingMenuWrapper,"Missing menu wrapper, should init menu wrapper first.");var mj=Object.defineProperty,gj=(t,e,n)=>e in t?mj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,In=(t,e,n)=>(gj(t,typeof e!="symbol"?e+"":e,n),n),aP=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},eo=(t,e,n)=>(aP(t,e,"read from private field"),n?n.call(t):e.get(t)),Yc=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Uc=(t,e,n,r)=>(aP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const r4=()=>{const t=new Map;return{sliceMap:t,getSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);if(!n){const r=typeof e=="string"?e:e.sliceName;throw rj(r)}return n},removeSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);!n||t.delete(n.id)}}},yj=t=>Array.isArray(t)?[...t]:typeof t=="object"?{...t}:t,Bt=(t,e)=>{const n=Symbol(`Context-${e}`),r=(i,s=yj(t))=>{let o=s;const a={name:e,id:n,set:l=>{o=l},get:()=>o,update:l=>{o=l(o)}};return i.set(n,a),a};return r.sliceName=e,r.id=n,r._typeInfo=()=>{throw sj()},r};var $g,Lg;class bj{constructor(e,n){Yc(this,$g,void 0),Yc(this,Lg,void 0),In(this,"use",r=>eo(this,$g).getSlice(r)),In(this,"get",r=>this.use(r).get()),In(this,"set",(r,i)=>this.use(r).set(i)),In(this,"update",(r,i)=>this.use(r).update(i)),In(this,"timing",r=>eo(this,Lg).get(r)),In(this,"done",r=>this.timing(r).done()),In(this,"wait",r=>this.timing(r)()),In(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),Uc(this,$g,e),Uc(this,Lg,n)}}$g=new WeakMap,Lg=new WeakMap;var Vh,Wh;class Oj{constructor(e,n){Yc(this,Vh,void 0),Yc(this,Wh,void 0),In(this,"inject",(r,i)=>(r(eo(this,Vh).sliceMap,i),this)),In(this,"remove",r=>(eo(this,Vh).removeSlice(r),this)),In(this,"record",r=>(r(eo(this,Wh).store),this)),In(this,"clearTimer",r=>(eo(this,Wh).remove(r),this)),In(this,"use",r=>eo(this,Vh).getSlice(r)),In(this,"get",r=>this.use(r).get()),In(this,"set",(r,i)=>this.use(r).set(i)),In(this,"update",(r,i)=>this.use(r).update(i)),In(this,"timing",r=>eo(this,Wh).get(r)),In(this,"wait",r=>this.timing(r)()),In(this,"done",r=>this.timing(r).done()),In(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),Uc(this,Vh,e),Uc(this,Wh,n)}}Vh=new WeakMap,Wh=new WeakMap;var Fg,Ng;class vj{constructor(e,n){Yc(this,Fg,void 0),Yc(this,Ng,void 0),In(this,"clearTimer",r=>(eo(this,Ng).remove(r),this)),In(this,"remove",r=>(eo(this,Fg).removeSlice(r),this)),Uc(this,Fg,e),Uc(this,Ng,n)}}Fg=new WeakMap,Ng=new WeakMap;var Ig,Rg;class xj{constructor(e,n){Yc(this,Ig,void 0),Yc(this,Rg,void 0),In(this,"inject",(r,i)=>(r(eo(this,Ig).sliceMap,i),this)),In(this,"record",r=>(r(eo(this,Rg).store),this)),Uc(this,Ig,e),Uc(this,Rg,n)}}Ig=new WeakMap,Rg=new WeakMap;const lP=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw ij(e.timerName);return n},remove:e=>{t.delete(e.id)}}},Wa=(t,e=3e3)=>{const n=Symbol("Timer"),r=i=>{let s=null,o;const a=Symbol(t),l=()=>s!=null?s:s=new Promise((u,h)=>{o=d=>{d instanceof CustomEvent&&d.detail.id===a&&(removeEventListener(t,o),d.stopImmediatePropagation(),u())},setTimeout(()=>{h(new Error(`Timing ${t} timeout.`)),removeEventListener(t,o)},e),addEventListener(t,o)});return l.done=()=>{const u=new CustomEvent(t,{detail:{id:a}});dispatchEvent(u)},i.set(n,l),l};return r.id=n,r.timerName=t,r};function kj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function wj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _j=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),mi="-ms-",ey="-moz-",dn="-webkit-",cP="comm",zk="rule",Vk="decl",Sj="@import",uP="@keyframes",Cj=Math.abs,i4=String.fromCharCode,Tj=Object.assign;function Dj(t,e){return si(t,0)^45?(((e<<2^si(t,0))<<2^si(t,1))<<2^si(t,2))<<2^si(t,3):0}function hP(t){return t.trim()}function Ej(t,e){return(t=e.exec(t))?t[0]:t}function mn(t,e,n){return t.replace(e,n)}function bv(t,e){return t.indexOf(e)}function si(t,e){return t.charCodeAt(e)|0}function Op(t,e,n){return t.slice(e,n)}function ya(t){return t.length}function Wk(t){return t.length}function km(t,e){return e.push(t),t}function Aj(t,e){return t.map(e).join("")}var s4=1,Pd=1,dP=0,gs=0,br=0,O0="";function o4(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:s4,column:Pd,length:o,return:""}}function F0(t,e){return Tj(o4("",null,null,"",null,null,0),t,{length:-t.length},e)}function Mj(){return br}function Pj(){return br=gs>0?si(O0,--gs):0,Pd--,br===10&&(Pd=1,s4--),br}function Ms(){return br=gs<dP?si(O0,gs++):0,Pd++,br===10&&(Pd=1,s4++),br}function Pa(){return si(O0,gs)}function Qg(){return gs}function T1(t,e){return Op(O0,t,e)}function vp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fP(t){return s4=Pd=1,dP=ya(O0=t),gs=0,[]}function pP(t){return O0="",t}function zg(t){return hP(T1(gs-1,Ov(t===91?t+2:t===40?t+1:t)))}function Bj(t){for(;(br=Pa())&&br<33;)Ms();return vp(t)>2||vp(br)>3?"":" "}function $j(t,e){for(;--e&&Ms()&&!(br<48||br>102||br>57&&br<65||br>70&&br<97););return T1(t,Qg()+(e<6&&Pa()==32&&Ms()==32))}function Ov(t){for(;Ms();)switch(br){case t:return gs;case 34:case 39:t!==34&&t!==39&&Ov(br);break;case 40:t===41&&Ov(t);break;case 92:Ms();break}return gs}function Lj(t,e){for(;Ms()&&t+br!==47+10;)if(t+br===42+42&&Pa()===47)break;return"/*"+T1(e,gs-1)+"*"+i4(t===47?t:Ms())}function Fj(t){for(;!vp(Pa());)Ms();return T1(t,gs)}function mP(t){return pP(Vg("",null,null,null,[""],t=fP(t),0,[0],t))}function Vg(t,e,n,r,i,s,o,a,l){for(var u=0,h=0,d=o,f=0,p=0,m=0,g=1,y=1,b=1,O=0,w="",D=i,C=s,T=r,E=w;y;)switch(m=O,O=Ms()){case 40:if(m!=108&&si(E,d-1)==58){bv(E+=mn(zg(O),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:E+=zg(O);break;case 9:case 10:case 13:case 32:E+=Bj(m);break;case 92:E+=$j(Qg()-1,7);continue;case 47:switch(Pa()){case 42:case 47:km(Nj(Lj(Ms(),Qg()),e,n),l);break;default:E+="/"}break;case 123*g:a[u++]=ya(E)*b;case 125*g:case 59:case 0:switch(O){case 0:case 125:y=0;case 59+h:p>0&&ya(E)-d&&km(p>32?D_(E+";",r,n,d-1):D_(mn(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(km(T=T_(E,e,n,u,h,i,a,w,D=[],C=[],d),s),O===123)if(h===0)Vg(E,e,T,T,D,s,d,a,C);else switch(f===99&&si(E,3)===110?100:f){case 100:case 109:case 115:Vg(t,T,T,r&&km(T_(t,T,T,0,0,i,a,w,i,D=[],d),C),i,C,d,a,r?D:C);break;default:Vg(E,T,T,T,[""],C,0,a,C)}}u=h=p=0,g=b=1,w=E="",d=o;break;case 58:d=1+ya(E),p=m;default:if(g<1){if(O==123)--g;else if(O==125&&g++==0&&Pj()==125)continue}switch(E+=i4(O),O*g){case 38:b=h>0?1:(E+="\f",-1);break;case 44:a[u++]=(ya(E)-1)*b,b=1;break;case 64:Pa()===45&&(E+=zg(Ms())),f=Pa(),h=d=ya(w=E+=Fj(Qg())),O++;break;case 45:m===45&&ya(E)==2&&(g=0)}}return s}function T_(t,e,n,r,i,s,o,a,l,u,h){for(var d=i-1,f=i===0?s:[""],p=Wk(f),m=0,g=0,y=0;m<r;++m)for(var b=0,O=Op(t,d+1,d=Cj(g=o[m])),w=t;b<p;++b)(w=hP(g>0?f[b]+" "+O:mn(O,/&\f/g,f[b])))&&(l[y++]=w);return o4(t,e,n,i===0?zk:a,l,u,h)}function Nj(t,e,n){return o4(t,e,n,cP,i4(Mj()),Op(t,2,-2),0)}function D_(t,e,n,r){return o4(t,e,n,Vk,Op(t,0,r),Op(t,r+1,-1),r)}function Uu(t,e){for(var n="",r=Wk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function gP(t,e,n,r){switch(t.type){case Sj:case Vk:return t.return=t.return||t.value;case cP:return"";case uP:return t.return=t.value+"{"+Uu(t.children,r)+"}";case zk:t.value=t.props.join(",")}return ya(n=Uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ij(t){var e=Wk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Rj(t){return function(e){e.root||(e=e.return)&&t(e)}}var Qj=function(e,n,r){for(var i=0,s=0;i=s,s=Pa(),i===38&&s===12&&(n[r]=1),!vp(s);)Ms();return T1(e,gs)},zj=function(e,n){var r=-1,i=44;do switch(vp(i)){case 0:i===38&&Pa()===12&&(n[r]=1),e[r]+=Qj(gs-1,n,r);break;case 2:e[r]+=zg(i);break;case 4:if(i===44){e[++r]=Pa()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=i4(i)}while(i=Ms());return e},Vj=function(e,n){return pP(zj(fP(e),n))},E_=new WeakMap,Wj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!E_.get(r))&&!i){E_.set(e,!0);for(var s=[],o=Vj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},qj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function yP(t,e){switch(Dj(t,e)){case 5103:return dn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dn+t+ey+t+mi+t+t;case 6828:case 4268:return dn+t+mi+t+t;case 6165:return dn+t+mi+"flex-"+t+t;case 5187:return dn+t+mn(t,/(\w+).+(:[^]+)/,dn+"box-$1$2"+mi+"flex-$1$2")+t;case 5443:return dn+t+mi+"flex-item-"+mn(t,/flex-|-self/,"")+t;case 4675:return dn+t+mi+"flex-line-pack"+mn(t,/align-content|flex-|-self/,"")+t;case 5548:return dn+t+mi+mn(t,"shrink","negative")+t;case 5292:return dn+t+mi+mn(t,"basis","preferred-size")+t;case 6060:return dn+"box-"+mn(t,"-grow","")+dn+t+mi+mn(t,"grow","positive")+t;case 4554:return dn+mn(t,/([^-])(transform)/g,"$1"+dn+"$2")+t;case 6187:return mn(mn(mn(t,/(zoom-|grab)/,dn+"$1"),/(image-set)/,dn+"$1"),t,"")+t;case 5495:case 3959:return mn(t,/(image-set\([^]*)/,dn+"$1$`$1");case 4968:return mn(mn(t,/(.+:)(flex-)?(.*)/,dn+"box-pack:$3"+mi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dn+t+t;case 4095:case 3583:case 4068:case 2532:return mn(t,/(.+)-inline(.+)/,dn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ya(t)-1-e>6)switch(si(t,e+1)){case 109:if(si(t,e+4)!==45)break;case 102:return mn(t,/(.+:)(.+)-([^]+)/,"$1"+dn+"$2-$3$1"+ey+(si(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~bv(t,"stretch")?yP(mn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(si(t,e+1)!==115)break;case 6444:switch(si(t,ya(t)-3-(~bv(t,"!important")&&10))){case 107:return mn(t,":",":"+dn)+t;case 101:return mn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dn+(si(t,14)===45?"inline-":"")+"box$3$1"+dn+"$2$3$1"+mi+"$2box$3")+t}break;case 5936:switch(si(t,e+11)){case 114:return dn+t+mi+mn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dn+t+mi+mn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dn+t+mi+mn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dn+t+mi+t+t}return t}var Xj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Vk:e.return=yP(e.value,e.length);break;case uP:return Uu([F0(e,{value:mn(e.value,"@","@"+dn)})],i);case zk:if(e.length)return Aj(e.props,function(s){switch(Ej(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uu([F0(e,{props:[mn(s,/:(read-\w+)/,":"+ey+"$1")]})],i);case"::placeholder":return Uu([F0(e,{props:[mn(s,/:(plac\w+)/,":"+dn+"input-$1")]}),F0(e,{props:[mn(s,/:(plac\w+)/,":"+ey+"$1")]}),F0(e,{props:[mn(s,/:(plac\w+)/,mi+"input-$1")]})],i)}return""})}},Yj=[Xj],Uj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||Yj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)s[y[b]]=!0;a.push(g)});var l,u=[Wj,qj];{var h,d=[gP,Rj(function(g){h.insert(g)})],f=Ij(u.concat(i,d)),p=function(y){return Uu(mP(y),f)};l=function(y,b,O,w){h=O,p(y?y+"{"+b.styles+"}":b.styles),w&&(m.inserted[b.name]=!0)}}var m={key:n,sheet:new _j({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},bP=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ei=(t,e,n)=>(bP(t,e,"read from private field"),n?n.call(t):e.get(t)),wm=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jj=(t,e,n,r)=>(bP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Hj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Zj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Gj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Kj=/[A-Z]|^ms/g,Jj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OP=function(t){return t.charCodeAt(1)===45},A_=function(t){return t!=null&&typeof t!="boolean"},C3=Gj(function(t){return OP(t)?t:t.replace(Kj,"-$&").toLowerCase()}),M_=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(Jj,function(n,r,i){return ba={name:r,styles:i,next:ba},r})}return Zj[t]!==1&&!OP(t)&&typeof e=="number"&&e!==0?e+"px":e};function xp(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ba={name:n.name,styles:n.styles,next:ba},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ba={name:r.name,styles:r.styles,next:ba},r=r.next;var i=n.styles+";";return i}return eH(t,e,n)}case"function":{if(t!==void 0){var s=ba,o=n(t);return ba=s,xp(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function eH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xp(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":A_(o)&&(r+=C3(s)+":"+M_(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)A_(o[a])&&(r+=C3(s)+":"+M_(s,o[a])+";");else{var l=xp(t,e,o);switch(s){case"animation":case"animationName":{r+=C3(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var P_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ba,T3=function(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ba=void 0;var s=t[0];s==null||s.raw===void 0?(r=!1,i+=xp(n,e,s)):i+=s[0];for(var o=1;o<t.length;o++)i+=xp(n,e,t[o]),r&&(i+=s[o]);P_.lastIndex=0;for(var a="",l;(l=P_.exec(i))!==null;)a+="-"+l[1];var u=Hj(i)+a;return{name:u,styles:i,next:ba}},tH=!0;function vP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var nH=function(t,e,n){var r=t.key+"-"+e.name;(n===!1||tH===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},rH=function(t,e,n){nH(t,e,n);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function B_(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function $_(t,e,n){var r=[],i=vP(t,r,n);return r.length<2?n:i+e(r)}var iH=function(t){var e=Uj(t);e.sheet.speedy=function(o){this.isSpeedy=o},e.compat=!0;var n=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=T3(a,e.registered,void 0);return rH(e,u,!1),e.key+"-"+u.name},r=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=T3(a,e.registered),h="animation-"+u.name;return B_(e,{name:u.name,styles:"@keyframes "+h+"{"+u.styles+"}"}),h},i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=T3(a,e.registered);B_(e,u)},s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return $_(e.registered,n,sH(a))};return{css:n,cx:s,injectGlobal:i,keyframes:r,hydrate:function(o){o.forEach(function(a){e.inserted[a]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:vP.bind(null,e.registered),merge:$_.bind(null,e.registered,n)}},sH=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var s=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=t(i);else{s="";for(var o in i)i[o]&&o&&(s&&(s+=" "),s+=o)}break}default:s=i}s&&(n&&(n+=" "),n+=s)}}return n};const oH=iH,aH=t=>oH(t),D3=Bt({key:"milkdown"},"EmotionConfig"),ju=Bt({},"Emotion"),Ns=t=>Bt(()=>null,t);var lc,cc,qh,Wg;class xP{constructor(){wm(this,lc,r4()),wm(this,cc,new Map),wm(this,qh,new Set),wm(this,Wg,()=>{})}inject(e){e(ei(this,lc).sliceMap)}has(e){const n=typeof e=="string"?e:e.sliceName;return ei(this,cc).has(n)?!0:ei(this,lc).getSlice(e).get()(null)!=null}set(e,n){const r=typeof e=="string"?e:e.sliceName;ei(this,cc).set(r,n)}get(e,n){const r=typeof e=="string"?e:e.sliceName,i=ei(this,cc).get(r);return i&&(ei(this,lc).getSlice(e).set(i),ei(this,cc).delete(e)),ei(this,lc).getSlice(e).get()(n)}getSlice(e){const n=typeof e=="string"?e:e.sliceName,r=ei(this,cc).get(n);return r&&(ei(this,lc).getSlice(e).set(r),ei(this,cc).delete(e)),ei(this,lc).getSlice(e).get()}onFlush(e,n=!0){ei(this,qh).has(e)||ei(this,qh).add(e),n&&e()}async switch(e,n){e.get(ju).flush(),await n(e)(e),this.runExecutor(),ei(this,qh).forEach(r=>r())}flush(e){e.get(ju).flush(),this.runExecutor(),ei(this,qh).forEach(n=>n())}setExecutor(e){e(),jj(this,Wg,e)}runExecutor(){ei(this,Wg).call(this)}}lc=new WeakMap,cc=new WeakMap,qh=new WeakMap,Wg=new WeakMap;const Er=Bt(new xP,"themeManager"),lH=()=>new xP,ci=Ns("border"),wi=Ns("color"),_a=Ns("font"),qk=Ns("global"),gr=Ns("icon"),cH=Ns("code-fence"),uH=Ns("image"),hH=Ns("inner-editor"),dH=Ns("input-chip"),fH=Ns("task-list-item"),Ba=Ns("scrollbar"),jo=Ns("shadow"),yn=Ns("size"),kP=[wi,yn,_a,Ba,jo,ci,gr,qk,cH,uH,hH,fH,dH],pH=t=>{const e=/^([a-f\d])([a-f\d])([a-f\d])$/i,n=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r=u=>parseInt(u,16),i=t.slice(1).replace(e,(u,h,d,f)=>h+h+d+d+f+f),[s,o="0",a="0",l="0"]=i.match(n)||[];return s?[o,a,l].map(r):null},_o=t=>(e,n=1)=>t.get(wi,[e,n]);function ni(t){this.content=t}ni.prototype={constructor:ni,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new ni(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ni(n)},addToStart:function(t,e){return new ni([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ni(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new ni(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ni.from(t),t.size?new ni(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ni.from(t),t.size?new ni(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ni.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ni.from=function(t){if(t instanceof ni)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ni(e)};function wP(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=wP(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function _P(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,h=Math.min(o.text.length,a.text.length);for(;u<h&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=_P(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let h=a+1;l.nodesBetween(Math.max(0,e-h),Math.min(l.content.size,n-h),r,i+h)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(e,l)-l,n-l),o=!r):a.isLeaf?(i?s+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(s+=a.type.spec.leafText(a)),o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Fe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Fe(r,i)}cutByIndex(e,n){return e==n?Fe.empty:e==0&&n==this.content.length?this:new Fe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Fe(i,s)}addToStart(e){return new Fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return wP(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return _P(this,e,n,r)}findIndex(e,n=-1){if(e==0)return _m(0,e);if(e==this.size)return _m(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?_m(r+1,o):_m(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Fe(n||e,r)}static from(e){if(!e)return Fe.empty;if(e instanceof Fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fe.empty=new Fe([],0);const E3={index:0,offset:0};function _m(t,e){return E3.index=t,E3.offset=e,E3}function ty(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ty(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ty(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class on{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ty(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return on.none;if(e instanceof on)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}on.none=[];class ny extends Error{}class He{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=CP(this.content,e+this.openStart,n);return r&&new He(r,this.openStart,this.openEnd)}removeBetween(e,n){return new He(SP(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return He.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new He(Fe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new He(e,r,i)}}He.empty=new He(Fe.empty,0,0);function SP(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(SP(s.content,e-i-1,n-i-1)))}function CP(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=CP(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function mH(t,e,n){if(n.openStart>t.depth)throw new ny("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ny("Inconsistent open depths");return TP(t,e,n,0)}function TP(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=TP(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Zu(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=gH(n,t);return Zu(s,EP(t,o,a,e,r))}else return Zu(s,ry(t,e,r))}function DP(t,e){if(!e.type.compatibleContent(t.type))throw new ny("Cannot join "+e.type.name+" onto "+t.type.name)}function vv(t,e,n){let r=t.node(n);return DP(r,e.node(n)),r}function Hu(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function If(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Hu(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Hu(i.child(a),r);e&&e.depth==n&&e.textOffset&&Hu(e.nodeBefore,r)}function Zu(t,e){return t.type.checkContent(e),t.copy(e)}function EP(t,e,n,r,i){let s=t.depth>i&&vv(t,e,i+1),o=r.depth>i&&vv(n,r,i+1),a=[];return If(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(DP(s,o),Hu(Zu(s,EP(t,e,n,r,i+1)),a)):(s&&Hu(Zu(s,ry(t,e,i+1)),a),If(e,n,i,a),o&&Hu(Zu(o,ry(n,r,i+1)),a)),If(r,null,i,a),new Fe(a)}function ry(t,e,n){let r=[];if(If(null,t,n,r),t.depth>n){let i=vv(t,e,n+1);Hu(Zu(i,ry(t,e,n+1)),r)}return If(e,null,n,r),new Fe(r)}function gH(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Fe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class kp{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return on.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new AP(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new kp(n,r,s)}static resolveCached(e,n){for(let i=0;i<A3.length;i++){let s=A3[i];if(s.pos==n&&s.doc==e)return s}let r=A3[M3]=kp.resolve(e,n);return M3=(M3+1)%yH,r}}let A3=[],M3=0,yH=12;class AP{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const bH=Object.create(null);class Ps{constructor(e,n,r,i=on.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Fe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ty(this.attrs,n||e.defaultAttrs||bH)&&on.sameSet(this.marks,r||on.none)}copy(e=null){return e==this.content?this:new Ps(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ps(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return He.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new He(u,i.depth-o,s.depth-o)}replace(e,n,r){return mH(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return kp.resolveCached(this,e)}resolveNoCache(e){return kp.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),MP(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Fe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=on.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!on.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Fe.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}Ps.prototype.text=void 0;class iy extends Ps{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):MP(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new iy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new iy(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function MP(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class lh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new OH(e,n);if(r.next==null)return lh.empty;let i=PP(r);r.next&&r.err("Unexpected trailing text");let s=CH(SH(i));return TH(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return Fe.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:h,next:d}=o.next[u];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(h));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}lh.empty=new lh(!0);class OH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function PP(t){let e=[];do e.push(vH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vH(t){let e=[];do e.push(xH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xH(t){let e=_H(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=kH(t,e);else break;return e}function L_(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function kH(t,e){let n=L_(t),r=n;return t.eat(",")&&(t.next!="}"?r=L_(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function wH(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function _H(t){if(t.eat("(")){let e=PP(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=wH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SH(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let h=n();i(s(o.expr,l),h),l=h}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let h=n();r(l,h),i(s(o.expr,l),h),l=h}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function BP(t,e){return e-t}function F_(t,e){let n=[];return r(e),n.sort(BP);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function CH(t){let e=Object.create(null);return n(F_(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let h=0;h<i.length;h++)i[h][0]==a&&(u=i[h][1]);F_(t,l).forEach(h=>{u||i.push([a,u=[]]),u.indexOf(h)==-1&&u.push(h)})})});let s=e[r.join(",")]=new lh(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(BP);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function TH(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $P(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function LP(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function FP(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new DH(t[n]);return e}class sy{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=FP(r.attrs),this.defaultAttrs=$P(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:LP(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ps(this,this.computeAttrs(e),Fe.from(n),on.setFrom(r))}createChecked(e=null,n,r){return n=Fe.from(n),this.checkContent(n),new Ps(this,this.computeAttrs(e),n,on.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Fe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Fe.empty,!0);return s?new Ps(this,e,n.append(s),on.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:on.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new sy(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class DH{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class a4{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=FP(i.attrs),this.excluded=null;let s=$P(this.attrs);this.instance=s?new on(this,s):null}create(e=null){return!e&&this.instance?this.instance:new on(this,LP(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new a4(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class EH{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ni.from(e.nodes),n.marks=ni.from(e.marks||{}),this.nodes=sy.compile(this.spec.nodes,this),this.marks=a4.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;s.contentMatch=r[o]||(r[o]=lh.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=a=="_"?null:a?N_(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:N_(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof sy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new iy(r,r.defaultAttrs,e,on.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ps.fromJSON(this,e)}markFromJSON(e){return on.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function N_(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class ch{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new R_(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new R_(this,n,!0);return r.addAll(e,n.from,n.to),He.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(PH(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Q_(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Q_(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ch(e,ch.schemaRules(e)))}}const NP={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},AH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},IP={ol:!0,ul:!0},oy=1,ay=2,Rf=4;function I_(t,e,n){return e!=null?(e?oy:0)|(e==="full"?ay:0):t&&t.whitespace=="pre"?oy|ay:n&~Rf}class Sm{constructor(e,n,r,i,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=on.none,this.stashMarks=[],this.match=o||(a&Rf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&oy)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):$H(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!NP.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class R_{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=I_(null,n.preserveWhitespace,0)|(r?Rf:0);i?s=new Sm(i.type,i.attrs,on.none,on.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Sm(null,null,on.none,on.none,!0,null,o):s=new Sm(e.schema.topNodeType,null,on.none,on.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(BH(n));if(!r)return;let[i,s]=r,o=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],o);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);this.addElement(e);for(let a=0;a<i.length;a++)this.removePendingMark(i[a],o);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&ay||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&oy)r.options&ay?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;IP.hasOwnProperty(r)&&this.parser.normalizeLists&&MH(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:AH.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,a=this.top,l=this.needsBlock;if(NP.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,s,s.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=on.none,r=on.none;e:for(let i=0;i<e.length;i+=2)for(let s=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,s);if(!o)continue e;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.forEach(a=>{o.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)s=o;else break}return[n,r]}addElementByRule(e,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=I_(e,i,s.options);s.options&Rf&&s.content.length==0&&(o|=Rf),this.nodes.push(new Sm(e,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let h=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!h||h.name!=u&&h.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=LH(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function MH(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&IP.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function PH(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function BH(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Q_(t){let e={};for(let n in t)e[n]=t[n];return e}function $H(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:h}=a.edge(l);if(u==e||s.indexOf(h)<0&&o(h))return!0}};if(o(i.contentMatch))return!0}}function LH(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Sa{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=P3(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],h=this.serializeMark(u,o.isInline,n);h&&(s.push([u,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Sa.renderSpec(P3(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Sa.renderSpec(P3(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let h in l)if(l[h]!=null){let d=h.indexOf(" ");d>0?a.setAttributeNS(h.slice(0,d),h.slice(d+1),l[h]):a.setAttribute(h,l[h])}}for(let h=u;h<n.length;h++){let d=n[h];if(d===0){if(h<n.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:p}=Sa.renderSpec(e,d,r);if(a.appendChild(f),p){if(o)throw new RangeError("Multiple content holes");o=p}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Sa(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=z_(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return z_(e.marks)}}function z_(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function P3(t){return t.document||window.document}var FH=Object.defineProperty,NH=(t,e,n)=>e in t?FH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bi=(t,e,n)=>(NH(t,typeof e!="symbol"?e+"":e,n),n),IH=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Jh=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},wc=(t,e,n)=>(IH(t,e,"access private method"),n);const RP=()=>{const t=n=>n.elements.length,e=n=>n.elements[t(n)-1];return{size:t,top:e,push:n=>r=>{var i;(i=e(n))==null||i.push(r)},open:n=>r=>{n.elements.push(r)},close:n=>{const r=n.elements.pop();if(!r)throw oP();return r}}},RH=(t,e,...n)=>{t.content.push(e,...n)},QH=t=>t.content.pop(),zH=(t,e,n)=>{const r={type:t,content:e,attrs:n,push:(...i)=>RH(r,...i),pop:()=>QH(r)};return r},{size:VH,push:WH,top:qH,open:XH,close:YH}=RP(),V_=t=>t.isText,UH=(t,e,n)=>{if(V_(e)&&V_(n)&&on.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)},jH=t=>(e,n)=>XH(t)(zH(e,[],n)),QP=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw oj(e,n,r);return WH(t)(i),i},zP=t=>()=>{t.marks=on.none;const e=YH(t);return QP(t)(e.type,e.attrs,e.content)},HH=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},ZH=t=>e=>{t.marks=e.removeFromSet(t.marks)},GH=t=>e=>{const n=qH(t);if(!n)throw oP();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r){n.push(i);return}const s=UH(t.schema,r,i);if(s){n.push(s);return}n.push(r,i)},KH=t=>()=>{let e;do e=zP(t)();while(VH(t));return e},JH=t=>{const e={marks:[],elements:[],schema:t};return{build:KH(e),openMark:HH(e),closeMark:ZH(e),addText:GH(e),openNode:jH(e),addNode:QP(e),closeNode:zP(e)}};var xv,W_,kv,VP;class eZ{constructor(e,n,r){Jh(this,xv),Jh(this,kv),bi(this,"run",(i,s)=>{const o=i.runSync(i.parse(s),s);return this.next(o),this}),bi(this,"next",(i=[])=>([i].flat().forEach(s=>wc(this,kv,VP).call(this,s)),this)),bi(this,"toDoc",()=>this.stack.build()),bi(this,"injectRoot",(i,s,o)=>(this.stack.openNode(s,o),this.next(i.children),this)),bi(this,"addText",(i="")=>(this.stack.addText(i),this)),bi(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),bi(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),bi(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),bi(this,"openMark",(...i)=>(this.stack.openMark(...i),this)),bi(this,"closeMark",(...i)=>(this.stack.closeMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}}xv=new WeakSet,W_=function(t){const e=Object.values(this.specMap).find(n=>n.match(t));if(!e)throw aj(t);return e},kv=new WeakSet,VP=function(t){const{key:e,runner:n,is:r}=wc(this,xv,W_).call(this,t),i=this.schema[r==="node"?"nodes":"marks"][e];n(this,t,i)};const tZ=(t,e,n)=>{const r=new eZ(JH(t),t,e);return i=>(r.run(n,i),r.toDoc())},nZ=(t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)},rZ=t=>{var e;return(e=t.children)==null?void 0:e.pop()},WP=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...s)=>nZ(i,...s),pop:()=>rZ(i)};return i},{size:iZ,push:sZ,open:oZ,close:aZ}=RP(),lZ=(t,e)=>{var n;if(t.type===e||((n=t.children)==null?void 0:n.length)!==1)return t;const r=a=>{var l;if(a.type===e)return a;if(((l=a.children)==null?void 0:l.length)!==1)return null;const[u]=a.children;return u?r(u):null},i=r(t);if(!i)return t;const s=i.children?[...i.children]:void 0,o={...t,children:s};return o.children=s,i.children=[o],i},qP=t=>{const{children:e}=t;return e&&(t.children=e.reduce((n,r,i)=>{if(i===0)return[r];const s=n[n.length-1];if(s&&s.isMark&&r.isMark){r=lZ(r,s.type);const{children:o,...a}=r,{children:l,...u}=s;if(r.type===s.type&&o&&l&&JSON.stringify(a)===JSON.stringify(u)){const h={...u,children:[...l,...o]};return n.slice(0,-1).concat(qP(h))}}return n.concat(r)},[])),t},cZ=t=>{const e={...t.props,type:t.type};return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e},XP=t=>(e,n,r)=>oZ(t)(WP(e,[],n,r)),YP=t=>(e,n,r,i)=>{const s=WP(e,n,r,i),o=qP(cZ(s));return sZ(t)(o),o},Xk=t=>()=>{const e=aZ(t);return YP(t)(e.type,e.children,e.value,e.props)},uZ=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),XP(t)(n,r,{...i,isMark:!0}))},hZ=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),Xk(t)()):null,dZ=t=>()=>{let e=null;do e=Xk(t)();while(iZ(t));return e},fZ=()=>{const t={marks:[],elements:[]};return{build:dZ(t),openMark:uZ(t),closeMark:hZ(t),openNode:XP(t),addNode:YP(t),closeNode:Xk(t)}},pZ=t=>Object.prototype.hasOwnProperty.call(t,"size");var qg,B3,wv,q_,_v,X_,Xg,Sv;class mZ{constructor(e,n,r){Jh(this,qg),Jh(this,wv),Jh(this,_v),Jh(this,Xg),bi(this,"toString",i=>i.stringify(this.stack.build())),bi(this,"next",i=>pZ(i)?(i.forEach(s=>{wc(this,Xg,Sv).call(this,s)}),this):(wc(this,Xg,Sv).call(this,i),this)),bi(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),bi(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),bi(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),bi(this,"withMark",(...i)=>(this.stack.openMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}run(e){return this.next(e),this}}qg=new WeakSet,B3=function(t){const e=Object.entries(this.specMap).map(([n,r])=>({key:n,...r})).find(n=>n.match(t));if(!e)throw lj(t.type);return e},wv=new WeakSet,q_=function(t){const{runner:e}=wc(this,qg,B3).call(this,t);e(this,t)},_v=new WeakSet,X_=function(t,e){const{runner:n}=wc(this,qg,B3).call(this,t);return n(this,t,e)},Xg=new WeakSet,Sv=function(t){const{marks:e}=t,n=r=>{var i;return(i=r.type.spec.priority)!=null?i:50};[...e].sort((r,i)=>n(r)-n(i)).every(r=>!wc(this,_v,X_).call(this,r,t))&&wc(this,wv,q_).call(this,t),e.forEach(r=>this.stack.closeMark(r))};const gZ=(t,e,n)=>r=>{const i=new mZ(fZ(),t,e);return i.run(r),i.toString(n)},UP=65535,jP=Math.pow(2,16);function yZ(t,e){return t+e*jP}function Y_(t){return t&UP}function bZ(t){return(t-(t&UP))/jP}const HP=1,ZP=2,Yg=4,GP=8;class Cv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&GP)>0}get deletedBefore(){return(this.delInfo&(HP|Yg))>0}get deletedAfter(){return(this.delInfo&(ZP|Yg))>0}get deletedAcross(){return(this.delInfo&Yg)>0}}class Ts{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ts.empty)return Ts.empty}recover(e){let n=0,r=Y_(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+bZ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],h=this.ranges[a+o],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:n:n,p=l+i+(f<0?0:h);if(r)return p;let m=e==(n<0?l:d)?null:yZ(a/3,e-l),g=e==l?ZP:e==d?HP:Yg;return(n<0?e!=l:e!=d)&&(g|=GP),new Cv(p,g,m)}i+=h-u}return r?e+i:new Cv(e+i,0,null)}touches(e,n){let r=0,i=Y_(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],h=l+u;if(e<=h&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],h=this.ranges[i+r];e(a,a+u,l,l+h),s+=h-u}}invert(){return new Ts(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ts.empty:new Ts(e<0?[0,-e,0]:[0,0,e])}}Ts.empty=new Ts([]);class md{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new md(this.maps,this.mirror,e,n)}copy(){return new md(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new md;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Cv(e,i,null)}}const $3=Object.create(null);class ys{getMap(){return Ts.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=$3[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in $3)throw new RangeError("Duplicate use of step JSON ID "+e);return $3[e]=n,n.prototype.jsonID=e,n}}class Br{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Br(e,null)}static fail(e){return new Br(null,e)}static fromReplace(e,n,r,i){try{return Br.ok(e.replace(n,r,i))}catch(s){if(s instanceof ny)return Br.fail(s.message);throw s}}}function Yk(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Yk(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Fe.fromArray(r)}class _l extends ys{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new He(Yk(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Br.fromReplace(e,this.from,this.to,s)}invert(){return new Ca(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _l(n.pos,r.pos,this.mark)}merge(e){return e instanceof _l&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _l(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _l(n.from,n.to,e.markFromJSON(n.mark))}}ys.jsonID("addMark",_l);class Ca extends ys{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new He(Yk(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Br.fromReplace(e,this.from,this.to,r)}invert(){return new _l(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ca(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ca&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ca(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ca(n.from,n.to,e.markFromJSON(n.mark))}}ys.jsonID("removeMark",Ca);class _c extends ys{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Br.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Br.fromReplace(e,this.pos,this.pos+1,new He(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new _c(this.pos,n.marks[i]);return new _c(this.pos,this.mark)}}return new Bd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _c(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _c(n.pos,e.markFromJSON(n.mark))}}ys.jsonID("addNodeMark",_c);class Bd extends ys{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Br.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Br.fromReplace(e,this.pos,this.pos+1,new He(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _c(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Bd(n.pos,e.markFromJSON(n.mark))}}ys.jsonID("removeNodeMark",Bd);class _i extends ys{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Tv(e,this.from,this.to)?Br.fail("Structure replace would overwrite content"):Br.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ts([this.from,this.to-this.from,this.slice.size])}invert(e){return new _i(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new _i(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof _i)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?He.empty:new He(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _i(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?He.empty:new He(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _i(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _i(n.from,n.to,He.fromJSON(e,n.slice),!!n.structure)}}ys.jsonID("replace",_i);class Ti extends ys{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Tv(e,this.from,this.gapFrom)||Tv(e,this.gapTo,this.to)))return Br.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Br.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Br.fromReplace(e,this.from,this.to,r):Br.fail("Content does not fit in gap")}getMap(){return new Ts([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ti(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ti(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ti(n.from,n.to,n.gapFrom,n.gapTo,He.fromJSON(e,n.slice),n.insert,!!n.structure)}}ys.jsonID("replaceAround",Ti);function Tv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function OZ(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,u,h)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&h.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=p:i.push(o=new Ca(f,p,d[g])));a&&a.to==f?a.to=p:s.push(a=new _l(f,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function vZ(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof a4){let u=o.marks,h;for(;h=r.isInSet(u);)(l||(l=[])).push(h),u=h.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let h=0;h<l.length;h++){let d=l[h],f;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new Ca(o.from,o.to,o.style)))}function xZ(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),s=[],o=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=o+l.nodeSize,h=r.matchType(l.type);if(!h)s.push(new _i(o,u,He.empty));else{r=h;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new Ca(o,u,l.marks[d]))}o=u}if(!r.validEnd){let a=r.fillBefore(Fe.empty,!0);t.replace(o,o,new He(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function kZ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function l4(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!kZ(i,s,o))break}return null}function wZ(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,u=a,h=Fe.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,h=Fe.from(r.node(m).copy(h)),d++):l--;let f=Fe.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=Fe.from(i.node(m).copy(f)),p++):u++;t.step(new Ti(l,u,o,a,new He(h.append(f),d,p),h.size-d,!0))}function KP(t,e,n=null,r=t){let i=_Z(t,e),s=i&&SZ(r,e);return s?i.map(U_).concat({type:e,attrs:n}).concat(s.map(U_)):null}function U_(t){return{type:t,attrs:null}}function _Z(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function SZ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function CZ(t,e,n){let r=Fe.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fe.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Ti(i,s,i,s,new He(r,0,0),n.length,!0))}function TZ(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&DZ(t.doc,t.mapping.slice(s).map(a),r)){t.clearIncompatible(t.mapping.slice(s).map(a,1),r);let l=t.mapping.slice(s),u=l.map(a,1),h=l.map(a+o.nodeSize,1);return t.step(new Ti(u,h,u+1,h-1,new He(Fe.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function DZ(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function EZ(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ti(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new He(Fe.from(o),0,0),1,!0))}function Qf(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,h=n-2;u>s;u--,h--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[h]||d;if(m!=d&&(p=p.replaceChild(0,m.type.create(m.attrs))),!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function AZ(t,e,n=1,r){let i=t.doc.resolve(e),s=Fe.empty,o=Fe.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=Fe.from(i.node(a).copy(s));let h=r&&r[u];o=Fe.from(h?h.type.create(h.attrs,o):i.node(a).copy(o))}t.step(new _i(e,e,new He(s.append(o),n,n),!0))}function c4(t,e){let n=t.resolve(e),r=n.index();return MZ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function MZ(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function PZ(t,e,n){let r=new _i(e-n,e+n,He.empty,!0);t.step(r)}function BZ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Uk(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),h=!1;if(s==1)h=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);h=d&&u.canReplaceWith(l,l,d[0])}if(h)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function jk(t,e,n=e,r=He.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return JP(i,s,r)?new _i(e,n,r):new $Z(i,s,r).fit()}function JP(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $Z{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Fe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new He(s,o,a);return e>-1?new Ti(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new _i(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=L3(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],h,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(Fe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(h=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:h};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=L3(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new He(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=L3(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new He(uf(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new He(uf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,u=0,h=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)h.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let g=a.child(u),y=d.matchType(g.type);if(!y)break;u++,(u>1||l==0||g.content.size)&&(d=y,h.push(eB(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let m=u==a.childCount;m||(p=-1),this.placed=hf(this.placed,n,Fe.from(h)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=m?e==0?He.empty:new He(uf(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new He(uf(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!F3(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=F3(e,n,i,r,s);if(!!o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],h=F3(e,a,u,l,!0);if(!h||h.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=hf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=hf(this.placed,this.depth,Fe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fe.empty,!0);n.childCount&&(this.placed=hf(this.placed,this.frontier.length,n))}}function uf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(uf(t.firstChild.content,e-1,n)))}function hf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(hf(t.lastChild.content,e-1,n)))}function L3(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function eB(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,eB(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Fe.empty,!0)))),t.copy(r)}function F3(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!LZ(n,s.content,o)?a:null}function LZ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function FZ(t){return t.spec.defining||t.spec.definingForContent}function NZ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(JP(i,s,r))return t.step(new _i(e,n,r));let o=nB(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],h=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(u.push(m),p==r.openStart)break;f=m.content}for(let f=h-1;f>=0;f--){let p=u[f].type,m=FZ(p);if(m&&i.node(l).type!=p)h=f;else if(m||!p.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+h+1)%(r.openStart+1),m=u[p];if(!!m)for(let g=0;g<o.length;g++){let y=o[(g+l)%o.length],b=!0;y<0&&(b=!1,y=-y);let O=i.node(y-1),w=i.index(y-1);if(O.canReplaceWith(w,w,m.type,m.marks))return t.replace(i.before(y),b?s.after(y):n,new He(tB(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=i.before(p),n=s.after(p))}}function tB(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(tB(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Fe.empty,!0))}return t}function IZ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=BZ(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new He(Fe.from(r),0,0))}function RZ(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=nB(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function nB(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class gd extends ys{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Br.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Br.fromReplace(e,this.pos,this.pos+1,new He(Fe.from(i),0,n.isLeaf?0:1))}getMap(){return Ts.empty}invert(e){return new gd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gd(n.pos,n.attr,n.value)}}ys.jsonID("attr",gd);let $d=class extends Error{};$d=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};$d.prototype=Object.create(Error.prototype);$d.prototype.constructor=$d;$d.prototype.name="TransformError";class rB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new md}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new $d(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=He.empty){let i=jk(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new He(Fe.from(r),0,0))}delete(e,n){return this.replace(e,n,He.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return NZ(this,e,n,r),this}replaceRangeWith(e,n,r){return IZ(this,e,n,r),this}deleteRange(e,n){return RZ(this,e,n),this}lift(e,n){return wZ(this,e,n),this}join(e,n=1){return PZ(this,e,n),this}wrap(e,n){return CZ(this,e,n),this}setBlockType(e,n=e,r,i=null){return TZ(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return EZ(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new gd(e,n,r)),this}addNodeMark(e,n){return this.step(new _c(e,n)),this}removeNodeMark(e,n){if(!(n instanceof on)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Bd(e,n)),this}split(e,n=1,r){return AZ(this,e,n,r),this}addMark(e,n,r){return OZ(this,e,n,r),this}removeMark(e,n,r){return vZ(this,e,n,r),this}clearIncompatible(e,n,r){return xZ(this,e,n,r),this}}const N3=Object.create(null);class St{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new iB(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=He.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],h=e.mapping.slice(s);e.replaceRange(h.map(l.pos),h.map(u.pos),a?He.empty:n),a==0&&Z_(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),u=l.map(o.pos),h=l.map(a.pos);s?e.deleteRange(u,h):(e.replaceRangeWith(u,h,n),Z_(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Mt(e):Xh(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Xh(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Xh(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ds(e.node(0))}static atStart(e){return Xh(e,e,0,0,1)||new ds(e)}static atEnd(e){return Xh(e,e,e.content.size,e.childCount,-1)||new ds(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=N3[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in N3)throw new RangeError("Duplicate use of selection JSON ID "+e);return N3[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Mt.between(this.$anchor,this.$head).getBookmark()}}St.prototype.visible=!0;class iB{constructor(e,n){this.$from=e,this.$to=n}}let j_=!1;function H_(t){!j_&&!t.parent.inlineContent&&(j_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Mt extends St{constructor(e,n=e){H_(e),H_(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return St.near(r);let i=e.resolve(n.map(this.anchor));return new Mt(i.parent.inlineContent?i:r,r)}replace(e,n=He.empty){if(super.replace(e,n),n==He.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Mt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new u4(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Mt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=St.findFrom(n,r,!0)||St.findFrom(n,-r,!0);if(s)n=s.$head;else return St.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(St.findFrom(e,-r,!0)||St.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Mt(e,n)}}St.jsonID("text",Mt);class u4{constructor(e,n){this.anchor=e,this.head=n}map(e){return new u4(e.map(this.anchor),e.map(this.head))}resolve(e){return Mt.between(e.resolve(this.anchor),e.resolve(this.head))}}class gt extends St{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?St.near(s):new gt(s)}content(){return new He(Fe.from(this.node),0,0)}eq(e){return e instanceof gt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Hk(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new gt(e.resolve(n.anchor))}static create(e,n){return new gt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}gt.prototype.visible=!1;St.jsonID("node",gt);class Hk{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new u4(r,r):new Hk(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&gt.isSelectable(r)?new gt(n):St.near(n)}}class ds extends St{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=He.empty){if(n==He.empty){e.delete(0,e.doc.content.size);let r=St.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ds(e)}map(e){return new ds(e)}eq(e){return e instanceof ds}getBookmark(){return QZ}}St.jsonID("all",ds);const QZ={map(){return this},resolve(t){return new ds(t)}};function Xh(t,e,n,r,i,s=!1){if(e.inlineContent)return Mt.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&gt.isSelectable(a))return gt.create(t,n-(i<0?a.nodeSize:0))}else{let l=Xh(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function Z_(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof _i||i instanceof Ti))return;let s=t.mapping.maps[r],o;s.forEach((a,l,u,h)=>{o==null&&(o=h)}),t.setSelection(St.near(t.doc.resolve(o),n))}const G_=1,Cm=2,K_=4;class zZ extends rB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|G_)&~Cm,this.storedMarks=null,this}get selectionSet(){return(this.updated&G_)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cm,this}ensureMarks(e){return on.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cm)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Cm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||on.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(St.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=K_,this}get scrolledIntoView(){return(this.updated&K_)>0}}function J_(t,e){return!e||!t?t:t.bind(e)}class df{constructor(e,n,r){this.name=e,this.init=J_(n.init,r),this.apply=J_(n.apply,r)}}const VZ=[new df("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new df("selection",{init(t,e){return t.selection||St.atStart(e.doc)},apply(t){return t.selection}}),new df("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new df("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class I3{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=VZ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new df(r.key,r.spec.state,r))})}}class Sc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,h=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(h&&r.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Sc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new zZ(this)}static create(e){let n=new I3(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Sc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new I3(this.schema,e.plugins),r=n.fields,i=new Sc(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new I3(e.schema,e.plugins),s=new Sc(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Ps.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=St.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function sB(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sB(i,e,{})),n[r]=i}return n}class cn{constructor(e){this.spec=e,this.props={},e.props&&sB(e.props,this,this.props),this.key=e.key?e.key.key:oB("plugin")}getState(e){return e[this.key]}}const R3=Object.create(null);function oB(t){return t in R3?t+"$"+ ++R3[t]:(R3[t]=0,t+"$")}class pn{constructor(e="key"){this.key=oB(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}function Zk(t,e){const n=(e||{}).includeImageAlt;return aB(t,typeof n=="boolean"?n:!0)}function aB(t,e){return WZ(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&eS(t.children,e))||Array.isArray(t)&&eS(t,e)||""}function eS(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=aB(t[r],e);return n.join("")}function WZ(t){return Boolean(t&&typeof t=="object")}function Bs(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(t,o),s+=1e4,e+=1e4}function to(t,e){return t.length>0?(Bs(t,t.length,0,e),t):e}const tS={}.hasOwnProperty;function lB(t){const e={};let n=-1;for(;++n<t.length;)qZ(e,t[n]);return e}function qZ(t,e){let n;for(n in e){const i=(tS.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;for(o in s){tS.call(i,o)||(i[o]=[]);const a=s[o];XZ(i[o],Array.isArray(a)?a:a?[a]:[])}}}function XZ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Bs(t,0,0,r)}const YZ=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ro=au(/[A-Za-z]/),ly=au(/\d/),UZ=au(/[\dA-Fa-f]/),Es=au(/[\dA-Za-z]/),jZ=au(/[!-/:-@[-`{-~]/),nS=au(/[#-'*+\--9=?A-Z^-~]/);function wp(t){return t!==null&&(t<32||t===127)}function kr(t){return t!==null&&(t<0||t===32)}function lt(t){return t!==null&&t<-2}function xn(t){return t===-2||t===-1||t===32}const h4=au(/\s/),d4=au(YZ);function au(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function tn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return xn(l)?(t.enter(n),a(l)):e(l)}function a(l){return xn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const HZ={tokenize:ZZ};function ZZ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),tn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return lt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const GZ={tokenize:KZ},rS={tokenize:JZ};function KZ(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&O();const D=e.events.length;let C=D,T;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){T=e.events[C][1].end;break}b(r);let E=D;for(;E<e.events.length;)e.events[E][1].end=Object.assign({},T),E++;return Bs(e.events,C+1,0,e.events.slice(D)),e.events.length=E,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(rS,h,d)(w)}function h(w){return i&&O(),b(r),f(w)}function d(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(w)}function f(w){return e.containerState={},t.attempt(rS,p,m)(w)}function p(w){return r++,n.push([e.currentConstruct,e.containerState]),f(w)}function m(w){if(w===null){i&&O(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(w)}function g(w){if(w===null){y(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return lt(w)?(t.consume(w),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),g)}function y(w,D){const C=e.sliceStream(w);if(D&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),e.parser.lazy[w.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<o&&(!i.events[T][1].end||i.events[T][1].end.offset>o))return;const E=e.events.length;let P=E,M,$;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(M){$=e.events[P][1].end;break}M=!0}for(b(r),T=E;T<e.events.length;)e.events[T][1].end=Object.assign({},$),T++;Bs(e.events,P+1,0,e.events.slice(E)),e.events.length=T}}function b(w){let D=n.length;for(;D-- >w;){const C=n[D];e.containerState=C[1],C[0].exit.call(e,t)}n.length=w}function O(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function JZ(t,e,n){return tn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cy(t){if(t===null||kr(t)||h4(t))return 1;if(d4(t))return 2}function f4(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Dv={name:"attention",tokenize:tG,resolveAll:eG};function eG(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);iS(d,-l),iS(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=to(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=to(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=to(u,f4(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=to(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=to(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Bs(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function tG(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cy(r);let s;return o;function o(l){return t.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=cy(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=Boolean(s===42?d:d&&(i||!f)),u._close=Boolean(s===42?f:f&&(h||!d)),e(l)}}function iS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const nG={name:"autolink",tokenize:rG};function rG(t,e,n){let r=1;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return ro(m)?(t.consume(m),o):nS(m)?u(m):n(m)}function o(m){return m===43||m===45||m===46||Es(m)?a(m):u(m)}function a(m){return m===58?(t.consume(m),l):(m===43||m===45||m===46||Es(m))&&r++<32?(t.consume(m),a):u(m)}function l(m){return m===62?(t.exit("autolinkProtocol"),p(m)):m===null||m===32||m===60||wp(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),r=0,h):nS(m)?(t.consume(m),u):n(m)}function h(m){return Es(m)?d(m):n(m)}function d(m){return m===46?(t.consume(m),r=0,h):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",p(m)):f(m)}function f(m){return(m===45||Es(m))&&r++<63?(t.consume(m),m===45?f:d):n(m)}function p(m){return t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e}}const D1={tokenize:iG,partial:!0};function iG(t,e,n){return tn(t,r,"linePrefix");function r(i){return i===null||lt(i)?e(i):n(i)}}const cB={name:"blockQuote",tokenize:sG,continuation:{tokenize:oG},exit:aG};function sG(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return xn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function oG(t,e,n){return tn(t,t.attempt(cB,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function aG(t){t.exit("blockQuote")}const uB={name:"characterEscape",tokenize:lG};function lG(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return jZ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const sS=document.createElement("i");function Gk(t){const e="&"+t+";";sS.innerHTML=e;const n=sS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const hB={name:"characterReference",tokenize:cG};function cG(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Es,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=UZ,h):(t.enter("characterReferenceValue"),s=7,o=ly,h(d))}function h(d){let f;return d===59&&i?(f=t.exit("characterReferenceValue"),o===Es&&!Gk(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(d)&&i++<s?(t.consume(d),h):n(d)}}const oS={name:"codeFenced",tokenize:uG,concrete:!0};function uG(t,e,n){const r=this,i={tokenize:C,partial:!0},s={tokenize:D,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,u;return h;function h(T){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u=T,d(T)}function d(T){return T===u?(t.consume(T),l++,d):(t.exit("codeFencedFenceSequence"),l<3?n(T):tn(t,f,"whitespace")(T))}function f(T){return T===null||lt(T)?y(T):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===null||kr(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tn(t,m,"whitespace")(T)):T===96&&T===u?n(T):(t.consume(T),p)}function m(T){return T===null||lt(T)?y(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||lt(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(T)):T===96&&T===u?n(T):(t.consume(T),g)}function y(T){return t.exit("codeFencedFence"),r.interrupt?e(T):b(T)}function b(T){return T===null?w(T):lt(T)?t.attempt(s,t.attempt(i,w,a?tn(t,b,"linePrefix",a+1):b),w)(T):(t.enter("codeFlowValue"),O(T))}function O(T){return T===null||lt(T)?(t.exit("codeFlowValue"),b(T)):(t.consume(T),O)}function w(T){return t.exit("codeFenced"),e(T)}function D(T,E,P){const M=this;return $;function $(_){return T.enter("lineEnding"),T.consume(_),T.exit("lineEnding"),A}function A(_){return M.parser.lazy[M.now().line]?P(_):E(_)}}function C(T,E,P){let M=0;return tn(T,$,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function $(L){return T.enter("codeFencedFence"),T.enter("codeFencedFenceSequence"),A(L)}function A(L){return L===u?(T.consume(L),M++,A):M<l?P(L):(T.exit("codeFencedFenceSequence"),tn(T,_,"whitespace")(L))}function _(L){return L===null||lt(L)?(T.exit("codeFencedFence"),E(L)):P(L)}}}const Q3={name:"codeIndented",tokenize:dG},hG={tokenize:fG,partial:!0};function dG(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),tn(t,s,"linePrefix",4+1)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):lt(u)?t.attempt(hG,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||lt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function fG(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):lt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):tn(t,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):lt(o)?i(o):n(o)}}const pG={name:"codeText",tokenize:yG,resolve:mG,previous:gG};function mG(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gG(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yG(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):lt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||lt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}function dB(t){const e={};let n=-1,r,i,s,o,a,l,u;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,bG(t,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),Bs(t,i,n-i+1,a))}}return!u}function bG(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let h,d,f=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;t[++i][1]!==p;);s.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const b=a.slice(y[f],y[f+1]),O=s.pop();l.unshift([O,O+b.length-1]),Bs(t,O,2,b)}for(f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const OG={tokenize:kG,resolve:xG},vG={tokenize:wG,partial:!0};function xG(t){return dB(t),t}function kG(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):lt(a)?t.check(vG,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wG(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),tn(t,s,"linePrefix")}function s(o){if(o===null||lt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function fB(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),f):b===null||b===41||wp(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(b))}function f(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(t.exit("chunkString"),t.exit(a),f(b)):b===null||b===60||lt(b)?n(b):(t.consume(b),b===92?m:p)}function m(b){return b===60||b===62||b===92?(t.consume(b),p):p(b)}function g(b){return b===40?++h>u?n(b):(t.consume(b),g):b===41?h--?(t.consume(b),g):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):b===null||kr(b)?h?n(b):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):wp(b)?n(b):(t.consume(b),b===92?y:g)}function y(b){return b===40||b===41||b===92?(t.consume(b),g):g(b)}}function pB(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),h}function h(p){return p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):lt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||lt(p)||a++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l=l||!xn(p),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function mB(t,e,n,r,i,s){let o;return a;function a(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):lt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),tn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||lt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(t.consume(f),h):h(f)}}function zf(t,e){let n;return r;function r(i){return lt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):xn(i)?tn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function qo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _G={name:"definition",tokenize:CG},SG={tokenize:TG,partial:!0};function CG(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),pB.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=qo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),zf(t,fB(t,t.attempt(SG,tn(t,a,"whitespace"),tn(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||lt(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function TG(t,e,n){return r;function r(o){return kr(o)?zf(t,i)(o):n(o)}function i(o){return o===34||o===39||o===40?mB(t,tn(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||lt(o)?e(o):n(o)}}const DG={name:"hardBreakEscape",tokenize:EG};function EG(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return lt(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const AG={name:"headingAtx",tokenize:PG,resolve:MG};function MG(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Bs(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function PG(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(t.consume(h),o):h===null||kr(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||lt(h)?(t.exit("atxHeading"),e(h)):xn(h)?tn(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||kr(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const BG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aS=["pre","script","style","textarea"],$G={name:"htmlFlow",tokenize:NG,resolveTo:FG,concrete:!0},LG={tokenize:IG,partial:!0};function FG(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function NG(t,e,n){const r=this;let i,s,o,a,l;return u;function u(B){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(B),h}function h(B){return B===33?(t.consume(B),d):B===47?(t.consume(B),m):B===63?(t.consume(B),i=3,r.interrupt?e:H):ro(B)?(t.consume(B),o=String.fromCharCode(B),s=!0,g):n(B)}function d(B){return B===45?(t.consume(B),i=2,f):B===91?(t.consume(B),i=5,o="CDATA[",a=0,p):ro(B)?(t.consume(B),i=4,r.interrupt?e:H):n(B)}function f(B){return B===45?(t.consume(B),r.interrupt?e:H):n(B)}function p(B){return B===o.charCodeAt(a++)?(t.consume(B),a===o.length?r.interrupt?e:A:p):n(B)}function m(B){return ro(B)?(t.consume(B),o=String.fromCharCode(B),g):n(B)}function g(B){return B===null||B===47||B===62||kr(B)?B!==47&&s&&aS.includes(o.toLowerCase())?(i=1,r.interrupt?e(B):A(B)):BG.includes(o.toLowerCase())?(i=6,B===47?(t.consume(B),y):r.interrupt?e(B):A(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?O(B):b(B)):B===45||Es(B)?(t.consume(B),o+=String.fromCharCode(B),g):n(B)}function y(B){return B===62?(t.consume(B),r.interrupt?e:A):n(B)}function b(B){return xn(B)?(t.consume(B),b):M(B)}function O(B){return B===47?(t.consume(B),M):B===58||B===95||ro(B)?(t.consume(B),w):xn(B)?(t.consume(B),O):M(B)}function w(B){return B===45||B===46||B===58||B===95||Es(B)?(t.consume(B),w):D(B)}function D(B){return B===61?(t.consume(B),C):xn(B)?(t.consume(B),D):O(B)}function C(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),l=B,T):xn(B)?(t.consume(B),C):(l=null,E(B))}function T(B){return B===null||lt(B)?n(B):B===l?(t.consume(B),P):(t.consume(B),T)}function E(B){return B===null||B===34||B===39||B===60||B===61||B===62||B===96||kr(B)?D(B):(t.consume(B),E)}function P(B){return B===47||B===62||xn(B)?O(B):n(B)}function M(B){return B===62?(t.consume(B),$):n(B)}function $(B){return xn(B)?(t.consume(B),$):B===null||lt(B)?A(B):n(B)}function A(B){return B===45&&i===2?(t.consume(B),q):B===60&&i===1?(t.consume(B),x):B===62&&i===4?(t.consume(B),G):B===63&&i===3?(t.consume(B),H):B===93&&i===5?(t.consume(B),de):lt(B)&&(i===6||i===7)?t.check(LG,G,_)(B):B===null||lt(B)?_(B):(t.consume(B),A)}function _(B){return t.exit("htmlFlowData"),L(B)}function L(B){return B===null?F(B):lt(B)?t.attempt({tokenize:v,partial:!0},L,F)(B):(t.enter("htmlFlowData"),A(B))}function v(B,ae,be){return ye;function ye(Qe){return B.enter("lineEnding"),B.consume(Qe),B.exit("lineEnding"),Z}function Z(Qe){return r.parser.lazy[r.now().line]?be(Qe):ae(Qe)}}function q(B){return B===45?(t.consume(B),H):A(B)}function x(B){return B===47?(t.consume(B),o="",X):A(B)}function X(B){return B===62&&aS.includes(o.toLowerCase())?(t.consume(B),G):ro(B)&&o.length<8?(t.consume(B),o+=String.fromCharCode(B),X):A(B)}function de(B){return B===93?(t.consume(B),H):A(B)}function H(B){return B===62?(t.consume(B),G):B===45&&i===2?(t.consume(B),H):A(B)}function G(B){return B===null||lt(B)?(t.exit("htmlFlowData"),F(B)):(t.consume(B),G)}function F(B){return t.exit("htmlFlow"),e(B)}}function IG(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(D1,e,n)}}const RG={name:"htmlText",tokenize:QG};function QG(t,e,n){const r=this;let i,s,o,a;return l;function l(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),u}function u(F){return F===33?(t.consume(F),h):F===47?(t.consume(F),E):F===63?(t.consume(F),C):ro(F)?(t.consume(F),$):n(F)}function h(F){return F===45?(t.consume(F),d):F===91?(t.consume(F),s="CDATA[",o=0,y):ro(F)?(t.consume(F),D):n(F)}function d(F){return F===45?(t.consume(F),f):n(F)}function f(F){return F===null||F===62?n(F):F===45?(t.consume(F),p):m(F)}function p(F){return F===null||F===62?n(F):m(F)}function m(F){return F===null?n(F):F===45?(t.consume(F),g):lt(F)?(a=m,de(F)):(t.consume(F),m)}function g(F){return F===45?(t.consume(F),G):m(F)}function y(F){return F===s.charCodeAt(o++)?(t.consume(F),o===s.length?b:y):n(F)}function b(F){return F===null?n(F):F===93?(t.consume(F),O):lt(F)?(a=b,de(F)):(t.consume(F),b)}function O(F){return F===93?(t.consume(F),w):b(F)}function w(F){return F===62?G(F):F===93?(t.consume(F),w):b(F)}function D(F){return F===null||F===62?G(F):lt(F)?(a=D,de(F)):(t.consume(F),D)}function C(F){return F===null?n(F):F===63?(t.consume(F),T):lt(F)?(a=C,de(F)):(t.consume(F),C)}function T(F){return F===62?G(F):C(F)}function E(F){return ro(F)?(t.consume(F),P):n(F)}function P(F){return F===45||Es(F)?(t.consume(F),P):M(F)}function M(F){return lt(F)?(a=M,de(F)):xn(F)?(t.consume(F),M):G(F)}function $(F){return F===45||Es(F)?(t.consume(F),$):F===47||F===62||kr(F)?A(F):n(F)}function A(F){return F===47?(t.consume(F),G):F===58||F===95||ro(F)?(t.consume(F),_):lt(F)?(a=A,de(F)):xn(F)?(t.consume(F),A):G(F)}function _(F){return F===45||F===46||F===58||F===95||Es(F)?(t.consume(F),_):L(F)}function L(F){return F===61?(t.consume(F),v):lt(F)?(a=L,de(F)):xn(F)?(t.consume(F),L):A(F)}function v(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,q):lt(F)?(a=v,de(F)):xn(F)?(t.consume(F),v):(t.consume(F),i=void 0,X)}function q(F){return F===i?(t.consume(F),x):F===null?n(F):lt(F)?(a=q,de(F)):(t.consume(F),q)}function x(F){return F===62||F===47||kr(F)?A(F):n(F)}function X(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===62||kr(F)?A(F):(t.consume(F),X)}function de(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),tn(t,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function H(F){return t.enter("htmlTextData"),a(F)}function G(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}}const Kk={name:"labelEnd",tokenize:YG,resolveTo:XG,resolveAll:qG},zG={tokenize:UG},VG={tokenize:jG},WG={tokenize:HG};function qG(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function XG(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",u,e]],a=to(a,t.slice(s+1,s+r+3)),a=to(a,[["enter",h,e]]),a=to(a,f4(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=to(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=to(a,t.slice(o+1)),a=to(a,[["exit",l,e]]),Bs(t,s,t.length,a),t}function YG(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?u(h):(o=r.parser.defined.includes(qo(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(zG,e,o?e:u)(h):h===91?t.attempt(VG,e,o?t.attempt(WG,e,u):u)(h):o?e(h):u(h)}function u(h){return s._balanced=!0,n(h)}}function UG(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),zf(t,i)}function i(l){return l===41?a(l):fB(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return kr(l)?zf(t,o)(l):a(l)}function o(l){return l===34||l===39||l===40?mB(t,zf(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function jG(t,e,n){const r=this;return i;function i(o){return pB.call(r,t,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(qo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}}function HG(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const ZG={name:"labelStartImage",tokenize:GG,resolveAll:Kk.resolveAll};function GG(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const KG={name:"labelStartLink",tokenize:JG,resolveAll:Kk.resolveAll};function JG(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const z3={name:"lineEnding",tokenize:eK};function eK(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),tn(t,e,"linePrefix")}}const Ug={name:"thematicBreak",tokenize:tK};function tK(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):xn(l)?tn(t,o,"whitespace")(l):r<3||l!==null&&!lt(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),o(l))}}const Ji={name:"list",tokenize:iK,continuation:{tokenize:sK},exit:aK},nK={tokenize:lK,partial:!0},rK={tokenize:oK,partial:!0};function iK(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:ly(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Ug,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return ly(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(D1,r.interrupt?n:h,t.attempt(nK,f,d))}function h(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return xn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function sK(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(D1,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,tn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!xn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rK,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,tn(t,t.attempt(Ji,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function oK(t,e,n){const r=this;return tn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function aK(t){t.exit(this.containerState.type)}function lK(t,e,n){const r=this;return tn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!xn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const lS={name:"setextUnderline",tokenize:uK,resolveTo:cK};function cK(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function uK(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),tn(t,u,"lineSuffix")(h))}function u(h){return h===null||lt(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const hK={tokenize:dK};function dK(t){const e=this,n=t.attempt(D1,r,t.attempt(this.parser.constructs.flowInitial,i,tn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(OG,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const fK={resolveAll:yB()},pK=gB("string"),mK=gB("text");function gB(t){return{tokenize:e,resolveAll:yB(t==="text"?gK:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function yB(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function gK(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function yK(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:O,enter:w,exit:D,attempt:E(C),check:E(T),interrupt:E(T,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:p,sliceSerialize:f,now:m,defineSkip:g,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(A){return o=to(o,A),y(),o[o.length-1]!==null?[]:(P(e,0),u.events=f4(s,u.events,u),u.events)}function f(A,_){return OK(p(A),_)}function p(A){return bK(o,A)}function m(){return Object.assign({},r)}function g(A){i[A.line]=A.column,$()}function y(){let A;for(;r._index<o.length;){const _=o[r._index];if(typeof _=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<_.length;)b(_.charCodeAt(r._bufferIndex));else b(_)}}function b(A){h=h(A)}function O(A){lt(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,$()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function w(A,_){const L=_||{};return L.type=A,L.start=m(),u.events.push(["enter",L,u]),a.push(L),L}function D(A){const _=a.pop();return _.end=m(),u.events.push(["exit",_,u]),_}function C(A,_){P(A,_.from)}function T(A,_){_.restore()}function E(A,_){return L;function L(v,q,x){let X,de,H,G;return Array.isArray(v)?B(v):"tokenize"in v?B([v]):F(v);function F(Z){return Qe;function Qe(ne){const se=ne!==null&&Z[ne],ee=ne!==null&&Z.null,J=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ee)?ee:ee?[ee]:[]];return B(J)(ne)}}function B(Z){return X=Z,de=0,Z.length===0?x:ae(Z[de])}function ae(Z){return Qe;function Qe(ne){return G=M(),H=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?ye():Z.tokenize.call(_?Object.assign(Object.create(u),_):u,l,be,ye)(ne)}}function be(Z){return A(H,G),q}function ye(Z){return G.restore(),++de<X.length?ae(X[de]):x}}}function P(A,_){A.resolveAll&&!s.includes(A)&&s.push(A),A.resolve&&Bs(u.events,_,u.events.length-_,A.resolve(u.events.slice(_),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function M(){const A=m(),_=u.previous,L=u.currentConstruct,v=u.events.length,q=Array.from(a);return{restore:x,from:v};function x(){r=A,u.previous=_,u.currentConstruct=L,u.events.length=v,a=q,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function bK(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;return n===i?o=[t[n].slice(r,s)]:(o=t.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(t[i].slice(0,s))),o}function OK(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const vK={[42]:Ji,[43]:Ji,[45]:Ji,[48]:Ji,[49]:Ji,[50]:Ji,[51]:Ji,[52]:Ji,[53]:Ji,[54]:Ji,[55]:Ji,[56]:Ji,[57]:Ji,[62]:cB},xK={[91]:_G},kK={[-2]:Q3,[-1]:Q3,[32]:Q3},wK={[35]:AG,[42]:Ug,[45]:[lS,Ug],[60]:$G,[61]:lS,[95]:Ug,[96]:oS,[126]:oS},_K={[38]:hB,[92]:uB},SK={[-5]:z3,[-4]:z3,[-3]:z3,[33]:ZG,[38]:hB,[42]:Dv,[60]:[nG,RG],[91]:KG,[92]:[DG,uB],[93]:Kk,[95]:Dv,[96]:pG},CK={null:[Dv,fK]},TK={null:[42,95]},DK={null:[]},EK=Object.freeze(Object.defineProperty({__proto__:null,document:vK,contentInitial:xK,flowInitial:kK,flow:wK,string:_K,text:SK,insideSpan:CK,attentionMarkers:TK,disable:DK},Symbol.toStringTag,{value:"Module"}));function AK(t={}){const e=lB([EK].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(HZ),document:r(GZ),flow:r(hK),string:r(pK),text:r(mK)};return n;function r(i){return s;function s(o){return yK(n,i,o)}}}const cS=/[\0\t\n\r]/g;function MK(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,d,f,p;for(s=e+s.toString(o),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(cS.lastIndex=d,u=cS.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function PK(t){for(;!dB(t););return t}function bB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const BK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OB(t){return t.replace(BK,$K)}function $K(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return bB(n.slice(s?2:1),s?16:10)}return Gk(n)||t}function Vf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uS(t.position):"start"in t||"end"in t?uS(t):"line"in t||"column"in t?Ev(t):""}function Ev(t){return hS(t&&t.line)+":"+hS(t&&t.column)}function uS(t){return Ev(t&&t.start)+"-"+Ev(t&&t.end)}function hS(t){return t&&typeof t=="number"?t:1}const vB={}.hasOwnProperty,LK=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),FK(n)(PK(AK(n).document().write(MK()(t,e,!0))))};function FK(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a($e),autolinkProtocol:A,autolinkEmail:A,atxHeading:a(me),blockQuote:a(J),characterEscape:A,characterReference:A,codeFenced:a(z),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(z,l),codeText:a(W,l),codeTextData:A,data:A,codeFlowValue:A,definition:a(te),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Q),hardBreakEscape:a(I),hardBreakTrailing:a(I),htmlFlow:a(ge,l),htmlFlowData:A,htmlText:a(ge,l),htmlTextData:A,image:a(Y),label:l,link:a($e),listItem:a(De),listItemValue:m,listOrdered:a(Se,p),listUnordered:a(Se),paragraph:a(_e),reference:ye,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(me),strong:a(Te),thematicBreak:a(Me)},exit:{atxHeading:h(),atxHeadingSequence:E,autolink:h(),autolinkEmail:ee,autolinkProtocol:se,blockQuote:h(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Qe,characterReferenceMarkerNumeric:Qe,characterReferenceValue:ne,codeFenced:h(O),codeFencedFence:b,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:_,codeIndented:h(w),codeText:h(X),codeTextData:_,data:_,definition:h(),definitionDestinationString:T,definitionLabelString:D,definitionTitleString:C,emphasis:h(),hardBreakEscape:h(v),hardBreakTrailing:h(v),htmlFlow:h(q),htmlFlowData:_,htmlText:h(x),htmlTextData:_,image:h(H),label:F,labelText:G,lineEnding:L,link:h(de),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Z,resourceDestinationString:B,resourceTitleString:ae,resource:be,setextHeading:h($),setextHeadingLineSequence:M,setextHeadingText:P,strong:h(),thematicBreak:h()}};xB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Ce={type:"root",children:[]};const Be={stack:[Ce],tokenStack:[],config:e,enter:u,exit:d,buffer:l,resume:f,setData:s,getData:o},qe=[];let Je=-1;for(;++Je<pe.length;)if(pe[Je][1].type==="listOrdered"||pe[Je][1].type==="listUnordered")if(pe[Je][0]==="enter")qe.push(Je);else{const Nt=qe.pop();Je=i(pe,Nt,Je)}for(Je=-1;++Je<pe.length;){const Nt=e[pe[Je][0]];vB.call(Nt,pe[Je][1].type)&&Nt[pe[Je][1].type].call(Object.assign({sliceSerialize:pe[Je][2].sliceSerialize},Be),pe[Je][1])}if(Be.tokenStack.length>0){const Nt=Be.tokenStack[Be.tokenStack.length-1];(Nt[1]||dS).call(Be,void 0,Nt[0])}for(Ce.position={start:rc(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:rc(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)Ce=e.transforms[Je](Ce)||Ce;return Ce}function i(pe,Ce,Be){let qe=Ce-1,Je=-1,Nt=!1,Ne,rt,Ke,Pe;for(;++qe<=Be;){const we=pe[qe];if(we[1].type==="listUnordered"||we[1].type==="listOrdered"||we[1].type==="blockQuote"?(we[0]==="enter"?Je++:Je--,Pe=void 0):we[1].type==="lineEndingBlank"?we[0]==="enter"&&(Ne&&!Pe&&!Je&&!Ke&&(Ke=qe),Pe=void 0):we[1].type==="linePrefix"||we[1].type==="listItemValue"||we[1].type==="listItemMarker"||we[1].type==="listItemPrefix"||we[1].type==="listItemPrefixWhitespace"||(Pe=void 0),!Je&&we[0]==="enter"&&we[1].type==="listItemPrefix"||Je===-1&&we[0]==="exit"&&(we[1].type==="listUnordered"||we[1].type==="listOrdered")){if(Ne){let ze=qe;for(rt=void 0;ze--;){const ve=pe[ze];if(ve[1].type==="lineEnding"||ve[1].type==="lineEndingBlank"){if(ve[0]==="exit")continue;rt&&(pe[rt][1].type="lineEndingBlank",Nt=!0),ve[1].type="lineEnding",rt=ze}else if(!(ve[1].type==="linePrefix"||ve[1].type==="blockQuotePrefix"||ve[1].type==="blockQuotePrefixWhitespace"||ve[1].type==="blockQuoteMarker"||ve[1].type==="listItemIndent"))break}Ke&&(!rt||Ke<rt)&&(Ne._spread=!0),Ne.end=Object.assign({},rt?pe[rt][1].start:we[1].end),pe.splice(rt||qe,0,["exit",Ne,we[2]]),qe++,Be++}we[1].type==="listItemPrefix"&&(Ne={type:"listItem",_spread:!1,start:Object.assign({},we[1].start)},pe.splice(qe,0,["enter",Ne,we[2]]),qe++,Be++,Ke=void 0,Pe=!0)}}return pe[Ce][1]._spread=Nt,Be}function s(pe,Ce){n[pe]=Ce}function o(pe){return n[pe]}function a(pe,Ce){return Be;function Be(qe){u.call(this,pe(qe),qe),Ce&&Ce.call(this,qe)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(pe,Ce,Be){return this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Ce,Be]),pe.position={start:rc(Ce.start)},pe}function h(pe){return Ce;function Ce(Be){pe&&pe.call(this,Be),d.call(this,Be)}}function d(pe,Ce){const Be=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==pe.type&&(Ce?Ce.call(this,pe,qe[0]):(qe[1]||dS).call(this,pe,qe[0]));else throw new Error("Cannot close `"+pe.type+"` ("+Vf({start:pe.start,end:pe.end})+"): it\u2019s not open");return Be.position.end=rc(pe.end),Be}function f(){return Zk(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function m(pe){if(o("expectingFirstListItemValue")){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(pe),10),s("expectingFirstListItemValue")}}function g(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=pe}function y(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=pe}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function O(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe.replace(/(\r?\n|\r)$/g,"")}function D(pe){const Ce=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ce,Be.identifier=qo(this.sliceSerialize(pe)).toLowerCase()}function C(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=pe}function T(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=pe}function E(pe){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Be=this.sliceSerialize(pe).length;Ce.depth=Be}}function P(){s("setextHeadingSlurpLineEnding",!0)}function M(pe){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(pe).charCodeAt(0)===61?1:2}function $(){s("setextHeadingSlurpLineEnding")}function A(pe){const Ce=this.stack[this.stack.length-1];let Be=Ce.children[Ce.children.length-1];(!Be||Be.type!=="text")&&(Be=ke(),Be.position={start:rc(pe.start)},Ce.children.push(Be)),this.stack.push(Be)}function _(pe){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(pe),Ce.position.end=rc(pe.end)}function L(pe){const Ce=this.stack[this.stack.length-1];if(o("atHardBreak")){const Be=Ce.children[Ce.children.length-1];Be.position.end=rc(pe.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(Ce.type)&&(A.call(this,pe),_.call(this,pe))}function v(){s("atHardBreak",!0)}function q(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function x(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function X(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function de(){const pe=this.stack[this.stack.length-1];if(o("inReference")){const Ce=o("referenceType")||"shortcut";pe.type+="Reference",pe.referenceType=Ce,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;s("referenceType")}function H(){const pe=this.stack[this.stack.length-1];if(o("inReference")){const Ce=o("referenceType")||"shortcut";pe.type+="Reference",pe.referenceType=Ce,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;s("referenceType")}function G(pe){const Ce=this.sliceSerialize(pe),Be=this.stack[this.stack.length-2];Be.label=OB(Ce),Be.identifier=qo(Ce).toLowerCase()}function F(){const pe=this.stack[this.stack.length-1],Ce=this.resume(),Be=this.stack[this.stack.length-1];if(s("inReference",!0),Be.type==="link"){const qe=pe.children;Be.children=qe}else Be.alt=Ce}function B(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=pe}function ae(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=pe}function be(){s("inReference")}function ye(){s("referenceType","collapsed")}function Z(pe){const Ce=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ce,Be.identifier=qo(this.sliceSerialize(pe)).toLowerCase(),s("referenceType","full")}function Qe(pe){s("characterReferenceType",pe.type)}function ne(pe){const Ce=this.sliceSerialize(pe),Be=o("characterReferenceType");let qe;Be?(qe=bB(Ce,Be==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):qe=Gk(Ce);const Je=this.stack.pop();Je.value+=qe,Je.position.end=rc(pe.end)}function se(pe){_.call(this,pe);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(pe)}function ee(pe){_.call(this,pe);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(pe)}function J(){return{type:"blockquote",children:[]}}function z(){return{type:"code",lang:null,meta:null,value:""}}function W(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function me(){return{type:"heading",depth:void 0,children:[]}}function I(){return{type:"break"}}function ge(){return{type:"html",value:""}}function Y(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function Se(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function De(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function Te(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function rc(t){return{line:t.line,column:t.column,offset:t.offset}}function xB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?xB(t,r):NK(t,r)}}function NK(t,e){let n;for(n in e)if(vB.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function dS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Vf({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Vf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Vf({start:e.start,end:e.end})+") is still open")}function Av(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return LK(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const fS={}.hasOwnProperty;function IK(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&fS.call(i,t)){const l=String(i[t]);o=fS.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function jg(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)jg(t,e.extensions[n]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?t[r]=[...t[r]||[],...e[r]||[]]:r==="handlers"?t[r]=Object.assign(t[r],e[r]||{}):t.options[r]=e[r]);return t}function RK(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),QK);return i(),o}function QK(t,e,n){return">"+(n?"":" ")+t}function kB(t,e){return pS(t,e.inConstruct,!0)&&!pS(t,e.notInConstruct,!1)}function pS(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function mS(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&kB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function wB(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Mv(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function zK(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function VK(t,e,n,r){const i=zK(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Mv(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,WK);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(wB(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),d()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function WK(t,e,n){return(n?"":"    ")+t}function Jk(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function qK(t,e,n,r){const i=Jk(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function XK(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}_B.peek=YK;function _B(t,e,n,r){const i=XK(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function YK(t,e,n){return n.options.emphasis||"*"}const p4=function(t){if(t==null)return ZK;if(typeof t=="string")return HK(t);if(typeof t=="object")return Array.isArray(t)?UK(t):jK(t);if(typeof t=="function")return m4(t);throw new Error("Expected function, string, or object as test")};function UK(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=p4(t[n]);return m4(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function jK(t){return m4(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function HK(t){return m4(e);function e(n){return n&&n.type===t}}function m4(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function ZK(){return!0}const GK=!0,Pv=!1,Bv="skip",SB=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=p4(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,u){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=[],p,m,g;if((!e||i(a,l,u[u.length-1]||null))&&(f=KK(n(a,u)),f[0]===Pv))return f;if(a.children&&f[0]!==Bv)for(m=(r?a.children.length:-1)+s,g=u.concat(a);m>-1&&m<a.children.length;){if(p=o(a.children[m],m,g)(),p[0]===Pv)return p;m=typeof p[1]=="number"?p[1]:m+s}return f}}};function KK(t){return Array.isArray(t)?t:typeof t=="number"?[GK,t]:[t]}const E1=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),SB(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function CB(t,e){let n=!1;return E1(t,r=>{if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Pv}),Boolean((!t.depth||t.depth<3)&&Zk(t)&&(e.options.setext||n))}function JK(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(CB(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}TB.peek=eJ;function TB(t){return t.value||""}function eJ(){return"<"}DB.peek=tJ;function DB(t,e,n,r){const i=Jk(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function tJ(){return"!"}EB.peek=nJ;function EB(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function nJ(){return"!"}function ew(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}tw.peek=rJ;function tw(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=ew(o);let l;if(!!o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function rJ(){return"`"}function AB(t,e){const n=Zk(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}MB.peek=iJ;function MB(t,e,n,r){const i=Jk(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(AB(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=h,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function iJ(t,e,n){return AB(t,n)?"<":"["}PB.peek=sJ;function PB(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function sJ(){return"["}function nw(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function oJ(t){const e=nw(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function BB(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function aJ(t){const e=BB(t),n=t.options.bulletOrderedOther;if(!n)return e==="."?")":".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}function $B(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function lJ(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?BB(n):nw(n);const a=t.ordered?aJ(n):oJ(n),l=n.bulletLastUsed;let u=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&l&&o===l&&(u=!0),!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),$B(n)===o&&d){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const h=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),h}function cJ(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function LB(t,e,n,r){const i=cJ(n);let s=n.bulletCurrent||nw(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function uJ(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const hJ=p4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function dJ(t,e,n,r){return(t.children.some(o=>hJ(o))?n.containerPhrasing:n.containerFlow).call(n,t,r)}function fJ(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}FB.peek=pJ;function FB(t,e,n,r){const i=fJ(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function pJ(t,e,n){return n.options.strong||"*"}function mJ(t,e,n,r){return n.safe(t.value,r)}function gJ(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function yJ(t,e,n){const r=($B(n)+(n.options.ruleSpaces?" ":"")).repeat(gJ(n));return n.options.ruleSpaces?r.slice(0,-1):r}const bJ={blockquote:RK,break:mS,code:VK,definition:qK,emphasis:_B,hardBreak:mS,heading:JK,html:TB,image:DB,imageReference:EB,inlineCode:tw,link:MB,linkReference:PB,list:lJ,listItem:LB,paragraph:uJ,root:dJ,strong:FB,text:mJ,thematicBreak:yJ},OJ=[vJ];function vJ(t,e,n,r){if(e.type==="code"&&Mv(e,r)&&(t.type==="list"||t.type===e.type&&Mv(t,r))||t.type==="list"&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&CB(e,r))?void 0:n.spread?1:0}const bu=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],xJ=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:bu},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:bu},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:bu},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:bu},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:bu},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:bu},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:bu},{atBreak:!0,character:"~"}];function rw(t){return t.label||!t.identifier?t.label||"":OB(t.identifier)}function iw(t,e,n){const r=e.indexStack,i=t.children||[],s=[];let o=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++o<i.length;){const u=i[o];let h;if(r[r.length-1]=o,o+1<i.length){let d=e.handle.handlers[i[o+1].type];d&&d.peek&&(d=d.peek),h=d?d(i[o+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else h=n.after;s.length>0&&(a==="\r"||a===`
`)&&u.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(s.join(""))),s.push(l.move(e.handle(u,t,e,{...l.current(),before:a,after:h}))),a=s[s.length-1].slice(-1)}return r.pop(),s.join("")}function NB(t,e,n){const r=e.indexStack,i=t.children||[],s=e.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(e.handle(l,t,e,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(kJ(l,i[a+1],t,e)))}return r.pop(),o.join("")}function kJ(t,e,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const wJ=/\r?\n|\r/g;function IB(t,e){const n=[];let r=0,i=0,s;for(;s=wJ.exec(t);)o(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(t.slice(r)),n.join("");function o(a){n.push(e(a,i,!a))}}function g4(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<t.unsafe.length;){const h=t.unsafe[a];if(!kB(t.stack,h))continue;const d=ew(h);let f;for(;f=d.exec(r);){const p="before"in h||Boolean(h.atBreak),m="after"in h,g=f.index+(p?f[1].length:0);i.includes(g)?(o[g].before&&!p&&(o[g].before=!1),o[g].after&&!m&&(o[g].after=!1)):(i.push(g),o[g]={before:p,after:m})}}i.sort(_J);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const h=i[a];h<l||h>=u||h+1<u&&i[a+1]===h+1&&o[h].after&&!o[h+1].before&&!o[h+1].after||i[a-1]===h-1&&o[h].before&&!o[h-1].before&&!o[h-1].after||(l!==h&&s.push(gS(r.slice(l,h),"\\")),l=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(h).toString(16).toUpperCase()+";"),l++))}return s.push(gS(r.slice(l,u),n.after)),s.join("")}function _J(t,e){return t-e}function gS(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(t.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(t.slice(a)),i.join("")}function v0(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(u){r+=u}function l(u){const h=u||"",d=h.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,h}}function SJ(t,e={}){const n={enter:i,indentLines:IB,associationId:rw,containerPhrasing:EJ,containerFlow:AJ,createTracker:v0,safe:MJ,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};jg(n,{unsafe:xJ,join:OJ,handlers:bJ}),jg(n,e),n.options.tightDefinitions&&jg(n,{join:[DJ]}),n.handle=IK("type",{invalid:CJ,unknown:TJ,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(s){return n.stack.push(s),o;function o(){n.stack.pop()}}}function CJ(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function TJ(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function DJ(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function EJ(t,e){return iw(t,this,e)}function AJ(t,e){return NB(t,this,e)}function MJ(t,e){return g4(this,t,e)}function $v(t){Object.assign(this,{Compiler:n=>{const r=this.data("settings");return SJ(n,Object.assign({},r,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})}function yS(t){if(t)throw t}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var RB=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},Hg=Object.prototype.hasOwnProperty,QB=Object.prototype.toString,bS=Object.defineProperty,OS=Object.getOwnPropertyDescriptor,vS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):QB.call(e)==="[object Array]"},xS=function(e){if(!e||QB.call(e)!=="[object Object]")return!1;var n=Hg.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Hg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Hg.call(e,i)},kS=function(e,n){bS&&n.name==="__proto__"?bS(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},wS=function(e,n){if(n==="__proto__")if(Hg.call(e,n)){if(OS)return OS(e,n).value}else return;return e[n]},_S=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=wS(a,n),i=wS(e,n),a!==i&&(h&&i&&(xS(i)||(s=vS(i)))?(s?(s=!1,o=r&&vS(r)?r:[]):o=r&&xS(r)?r:{},kS(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&kS(a,{name:n,newValue:i}));return a};function Lv(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function PJ(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?BJ(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function BJ(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}class So extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Vf(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}So.prototype.file="";So.prototype.name="";So.prototype.reason="";So.prototype.message="";So.prototype.stack="";So.prototype.fatal=null;So.prototype.column=null;So.prototype.line=null;So.prototype.source=null;So.prototype.ruleId=null;So.prototype.position=null;const pa={basename:$J,dirname:LJ,extname:FJ,join:NJ,sep:"/"};function $J(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');A1(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function LJ(t){if(A1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function FJ(t){A1(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function NJ(...t){let e=-1,n;for(;++e<t.length;)A1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":IJ(n)}function IJ(t){A1(t);const e=t.charCodeAt(0)===47;let n=RJ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function RJ(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function A1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const QJ={cwd:zJ};function zJ(){return"/"}function Fv(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function VJ(t){if(typeof t=="string")t=new URL(t);else if(!Fv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return WJ(t)}function WJ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const V3=["history","path","basename","stem","extname","dirname"];class qJ{constructor(e){let n;e?typeof e=="string"||XJ(e)?n={value:e}:Fv(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=QJ.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<V3.length;){const s=V3[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)V3.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){Fv(e)&&(e=VJ(e)),q3(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?pa.dirname(this.path):void 0}set dirname(e){SS(this.basename,"dirname"),this.path=pa.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?pa.basename(this.path):void 0}set basename(e){q3(e,"basename"),W3(e,"basename"),this.path=pa.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?pa.extname(this.path):void 0}set extname(e){if(W3(e,"extname"),SS(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pa.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?pa.basename(this.path,this.extname):void 0}set stem(e){q3(e,"stem"),W3(e,"stem"),this.path=pa.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new So(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function W3(t,e){if(t&&t.includes(pa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pa.sep+"`")}function q3(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function SS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function XJ(t){return RB(t)}const Nv=VB().freeze(),zB={}.hasOwnProperty;function VB(){const t=PJ(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=u,s.stringify=h,s.run=d,s.runSync=f,s.process=p,s.processSync=m,s;function s(){const g=VB();let y=-1;for(;++y<e.length;)g.use(...e[y]);return g.data(_S(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(U3("data",r),n[g]=y,s):zB.call(n,g)&&n[g]||null:g?(U3("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<e.length;){const[g,...y]=e[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const b=g.call(s,...y);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(g,...y){let b;if(U3("use",r),g!=null)if(typeof g=="function")C(g,...y);else if(typeof g=="object")Array.isArray(g)?D(g):w(g);else throw new TypeError("Expected usable value, not `"+g+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function O(T){if(typeof T=="function")C(T);else if(typeof T=="object")if(Array.isArray(T)){const[E,...P]=T;C(E,...P)}else w(T);else throw new TypeError("Expected usable value, not `"+T+"`")}function w(T){D(T.plugins),T.settings&&(b=Object.assign(b||{},T.settings))}function D(T){let E=-1;if(T!=null)if(Array.isArray(T))for(;++E<T.length;){const P=T[E];O(P)}else throw new TypeError("Expected a list of plugins, not `"+T+"`")}function C(T,E){let P=-1,M;for(;++P<e.length;)if(e[P][0]===T){M=e[P];break}M?(Lv(M[1])&&Lv(E)&&(E=_S(!0,M[1],E)),M[1]=E):e.push([...arguments])}}function u(g){s.freeze();const y=N0(g),b=s.Parser;return X3("parse",b),CS(b,"parse")?new b(String(y),y).parse():b(String(y),y)}function h(g,y){s.freeze();const b=N0(y),O=s.Compiler;return Y3("stringify",O),TS(g),CS(O,"compile")?new O(g,b).compile():O(g,b)}function d(g,y,b){if(TS(g),s.freeze(),!b&&typeof y=="function"&&(b=y,y=void 0),!b)return new Promise(O);O(null,b);function O(w,D){t.run(g,N0(y),C);function C(T,E,P){E=E||g,T?D(T):w?w(E):b(null,E,P)}}}function f(g,y){let b,O;return s.run(g,y,w),DS("runSync","run",O),b;function w(D,C){yS(D),b=C,O=!0}}function p(g,y){if(s.freeze(),X3("process",s.Parser),Y3("process",s.Compiler),!y)return new Promise(b);b(null,y);function b(O,w){const D=N0(g);s.run(s.parse(D),D,(T,E,P)=>{if(T||!E||!P)C(T);else{const M=s.stringify(E,P);M==null||(jJ(M)?P.value=M:P.result=M),C(T,P)}});function C(T,E){T||!E?w(T):O?O(E):y(null,E)}}}function m(g){let y;s.freeze(),X3("processSync",s.Parser),Y3("processSync",s.Compiler);const b=N0(g);return s.process(b,O),DS("processSync","process",y),b;function O(w){y=!0,yS(w)}}}function CS(t,e){return typeof t=="function"&&t.prototype&&(YJ(t.prototype)||e in t.prototype)}function YJ(t){let e;for(e in t)if(zB.call(t,e))return!0;return!1}function X3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function Y3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function U3(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TS(t){if(!Lv(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function DS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function N0(t){return UJ(t)?t:new qJ(t)}function UJ(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function jJ(t){return typeof t=="string"||RB(t)}const Cs=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},_p=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ES=null;const pl=function(t,e,n){let r=ES||(ES=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},uh=function(t,e,n,r){return n&&(AS(t,e,n,r,-1)||AS(t,e,n,r,1))},HJ=/^(img|br|input|textarea|hr)$/i;function AS(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ka(t))){let s=t.parentNode;if(!s||s.nodeType!=1||GJ(t)||HJ.test(t.nodeName)||t.contentEditable=="false")return!1;e=Cs(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?ka(t):0}else return!1}}function ka(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ZJ(t,e,n){for(let r=e==0,i=e==ka(t);r||i;){if(t==n)return!0;let s=Cs(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==ka(t)}}function GJ(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const y4=function(t){return t.focusNode&&uh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Bu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function KJ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const jc=typeof navigator<"u"?navigator:null,MS=typeof document<"u"?document:null,lu=jc&&jc.userAgent||"",Iv=/Edge\/(\d+)/.exec(lu),WB=/MSIE \d/.exec(lu),Rv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lu),fs=!!(WB||Rv||Iv),Pc=WB?document.documentMode:Rv?+Rv[1]:Iv?+Iv[1]:0,Ho=!fs&&/gecko\/(\d+)/i.test(lu);Ho&&+(/Firefox\/(\d+)/.exec(lu)||[0,0])[1];const Qv=!fs&&/Chrome\/(\d+)/.exec(lu),Fi=!!Qv,JJ=Qv?+Qv[1]:0,Xi=!fs&&!!jc&&/Apple Computer/.test(jc.vendor),Ld=Xi&&(/Mobile\/\w+/.test(lu)||!!jc&&jc.maxTouchPoints>2),Js=Ld||(jc?/Mac/.test(jc.platform):!1),Bo=/Android \d/.test(lu),b4=!!MS&&"webkitFontSmoothing"in MS.documentElement.style,eee=b4?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function tee(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ic(t,e){return typeof t=="number"?t:t[e]}function nee(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function PS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=_p(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?tee(s):nee(a),h=0,d=0;if(e.top<u.top+ic(r,"top")?d=-(u.top-e.top+ic(i,"top")):e.bottom>u.bottom-ic(r,"bottom")&&(d=e.bottom-u.bottom+ic(i,"bottom")),e.left<u.left+ic(r,"left")?h=-(u.left-e.left+ic(i,"left")):e.right>u.right-ic(r,"right")&&(h=e.right-u.right+ic(i,"right")),h||d)if(l)s.defaultView.scrollBy(h,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),h&&(a.scrollLeft+=h);let m=a.scrollLeft-f,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l)break}}function ree(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:qB(t.dom)}}function qB(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=_p(r));return e}function iee({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;XB(n,r==0?0:r-e)}function XB(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Fh=null;function see(t){if(t.setActive)return t.setActive();if(Fh)return t.focus(Fh);let e=qB(t);t.focus(Fh==null?{get preventScroll(){return Fh={preventScroll:!0},!0}}:void 0),Fh||(Fh=!1,XB(e,0))}function YB(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let h;if(l.nodeType==1)h=l.getClientRects();else if(l.nodeType==3)h=pl(l).getClientRects();else continue;for(let d=0;d<h.length;d++){let f=h[d];if(f.top<=o&&f.bottom>=a){o=Math.max(f.bottom,o),a=Math.min(f.top,a);let p=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(p<r){n=l,r=p,i=p&&n.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,l.nodeType==1&&p&&(s=u+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(s=u+1)}}return n&&n.nodeType==3?oee(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:YB(n,i)}function oee(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=uc(r,1);if(s.top!=s.bottom&&sw(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function sw(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function aee(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function lee(t,e,n){let{node:r,offset:i}=YB(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function cee(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!o||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!o&&(o=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function UB(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(sw(e,u))return UB(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function uee(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let l=t.dom.getBoundingClientRect();if(!sw(e,l)||(s=UB(t.dom,e,l),!s))return null}if(Xi)for(let l=s;r&&l;l=_p(l))l.draggable&&(r=void 0);if(s=aee(s,e),r){if(Ho&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=cee(t,r,i,e))}o==null&&(o=lee(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function uc(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const hee=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function jB(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=b4||Ho;if(r.nodeType==3)if(o&&(hee.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=uc(pl(r,i,i),n);if(Ho&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=uc(pl(r,i-1,i-1),-1);if(u.top==l.top){let h=uc(pl(r,i,i+1),-1);if(h.top!=l.top)return I0(h,h.left<u.left)}}return l}else{let l=i,u=i,h=n<0?1:-1;return n<0&&!i?(u++,h=-1):n>=0&&i==r.nodeValue.length?(l--,h=1):n<0?l--:u++,I0(uc(pl(r,l,u),1),h<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==ka(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return j3(l.getBoundingClientRect(),!1)}if(s==null&&i<ka(r)){let l=r.childNodes[i];if(l.nodeType==1)return j3(l.getBoundingClientRect(),!0)}return j3(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==ka(r))){let l=r.childNodes[i-1],u=l.nodeType==3?pl(l,ka(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return I0(uc(u,1),!1)}if(s==null&&i<ka(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?pl(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return I0(uc(u,-1),!0)}return I0(uc(r.nodeType==3?pl(r):r,-n),n>=0)}function I0(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function j3(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function HB(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function dee(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return HB(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=jB(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=pl(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let h=l[u];if(h.bottom>h.top+1&&(n=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const fee=/[\u0590-\u08ac]/;function pee(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return!fee.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:HB(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:h,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),y=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{a.collapse(h,d),l&&(l!=h||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),y})}let BS=null,$S=null,LS=!1;function mee(t,e,n){return BS==e&&$S==n?LS:(BS=e,$S=n,LS=n=="up"||n=="down"?dee(t,e,n):pee(t,e,n))}const Xo=0,FS=1,ed=2,Qa=3;class M1{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Xo,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Cs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof GB){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ZB&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Cs(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Cs(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let h=o+l.border;if(e>=h&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,h);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Cs(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let h=a+1;h<this.children.length;h++){let d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Cs(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],g=p+m.size;if(s>p&&o<g)return m.setSelection(e-p-m.border,n-p-m.border,r,i);p=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),h=!1;if((Ho||Xi)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(h=!!(p&&f.nodeValue[p-1]==`
`),h&&p==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:Cs(g)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=f.childNodes[p-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Ho&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||h&&Xi)&&uh(a.node,a.offset,u.anchorNode,u.anchorOffset)&&uh(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!h){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?ed:FS,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Qa:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ed:Qa}r=o}this.dirty=ed}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?ed:FS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class ZB extends M1{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Xo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class gee extends M1{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hh extends M1{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Sa.renderSpec(document,n.type.spec.toDOM(n,r))),new hh(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Qa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Qa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Xo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Xo}}slice(e,n,r){let i=hh.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Wv(s,n,o,r)),e>0&&(s=Wv(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class dh extends M1{constructor(e,n,r,i,s,o,a,l,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,u)}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),h=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:d}=Sa.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let f=h;return h=e$(h,r,n),u?l=new yee(e,n,r,i,h,d||null,f,u,s,o+1):n.isText?new O4(e,n,r,i,h,f,s):new dh(e,n,r,i,h,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fe.empty)}return e}matchesNode(e,n,r){return this.dirty==Xo&&e.eq(this.node)&&Vv(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Oee(this,o&&o.node,e);kee(this.node,this.innerDeco,(u,h,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&l.syncToMarks(h==this.node.childCount?on.none:this.node.child(h).marks,r,e),l.placeWidget(u,e,i)},(u,h,d,f)=>{l.syncToMarks(u.marks,r,e);let p;l.findNodeMatch(u,h,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,h,d,p,e)||l.updateNextNode(u,h,d,e,f)||l.addNode(u,h,d,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ed)&&(o&&this.protectLocalComposition(e,o),KB(this.contentDOM,this.children,e),Ld&&wee(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Mt)||r<n||i>n+this.node.content.size)return null;let s=e.domSelectionRange(),o=_ee(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=See(this.node.content,a,r-n,i-n);return l<0?null:{node:o,pos:l,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new gee(this,s,n,i);e.input.compositionNodes.push(o),this.children=Wv(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Qa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Xo}updateOuterDeco(e){if(Vv(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JB(this.dom,this.nodeDOM,zv(this.outerDeco,this.node,n),zv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function NS(t,e,n,r,i){return e$(r,e,t),new dh(void 0,t,e,n,r,r,r,i,0)}class O4 extends dh{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Qa||this.dirty!=Xo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Xo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Xo,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new O4(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qa)}get domAtom(){return!1}}class GB extends M1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Xo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yee extends dh{constructor(e,n,r,i,s,o,a,l,u,h){super(e,n,r,i,s,o,a,u,h),this.spec=l}update(e,n,r,i){if(this.dirty==Qa)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function KB(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=IS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof hh){let l=r?r.previousSibling:t.lastChild;KB(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=IS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Wf=function(t){t&&(this.nodeName=t)};Wf.prototype=Object.create(null);const zu=[new Wf];function zv(t,e,n){if(t.length==0)return zu;let r=n?zu[0]:new Wf,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(!!o){o.nodeName&&i.push(r=new Wf(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Wf(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function JB(t,e,n,r){if(n==zu&&r==zu)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=zu[0]),i=l}bee(i,a||zu[0],o)}return i}function bee(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function e$(t,e,n){return JB(t,t,zu,zv(e,n,t.nodeType!=1))}function Vv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function IS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Oee{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=vee(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Xo,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=hh.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Qa&&o.dom==o.contentDOM&&(o.dirty=ed),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof dh){let l=this.preMatch.matched.get(a);if(l!=null&&l!=s)return!1;let u=a.dom;if(!(this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Qa&&Vv(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,o),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,s){this.top.children.splice(this.index++,0,dh.create(this.top,e,n,r,i,s)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new ZB(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof hh;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof O4)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xi||Fi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new GB(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function vee(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof hh)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function xee(t,e){return t.type.side-e.type.side}function kee(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let h=t.child(u);r(h,i,e.forChild(s,h),u),s+=h.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){if(o<i.length&&i[o].to==s){let m=i[o++],g;for(;o<i.length&&i[o].to==s;)(g||(g=[m])).push(i[o++]);if(g){g.sort(xee);for(let y=0;y<g.length;y++)n(g[y],u,!!l)}else n(m,u,!!l)}let h,d;if(l)d=-1,h=l,l=null;else if(u<t.childCount)d=u,h=t.child(u++);else break;for(let m=0;m<a.length;m++)a[m].to<=s&&a.splice(m--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let f=s+h.nodeSize;if(h.isText){let m=f;o<i.length&&i[o].from<m&&(m=i[o].from);for(let g=0;g<a.length;g++)a[g].to<m&&(m=a[g].to);m<f&&(l=h.cut(m-s),h=h.cut(0,m-s),f=m,d=-1)}let p=h.isInline&&!h.isLeaf?a.filter(m=>!m.inline):a.slice();r(h,p,e.forChild(s,h),d),s=f}}function wee(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function _ee(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=ka(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function See(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Wv(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,h=a+=l.size;u>=n||h<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),i&&(s.push(i),i=void 0),h>n&&s.push(l.slice(n-u,l.size,r)))}return s}function ow(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(y4(n)){for(l=a;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&gt.isSelectable(h)&&i.parent&&!(h.isInline&&ZJ(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new gt(o==d?a:r.resolve(d))}}else{let h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null;l=r.resolve(h)}if(!u){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=aw(t,l,a,h)}return u}function t$(t){return t.editable?t.hasFocus():r$(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Pl(t,e=!1){let n=t.state.selection;if(n$(t,n),!!t$(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Fi){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&uh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Tee(t);else{let{anchor:r,head:i}=n,s,o;RS&&!(n instanceof Mt)&&(n.$from.parent.inlineContent||(s=QS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=QS(t,n.to))),t.docView.setSelection(r,i,t.root,e),RS&&(s&&zS(s),o&&zS(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Cee(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const RS=Xi||Fi&&JJ<63;function QS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Xi&&i&&i.contentEditable=="false")return H3(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return H3(i);if(s)return H3(s)}}function H3(t){return t.contentEditable="true",Xi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function zS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Cee(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!t$(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Tee(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Cs(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&fs&&Pc<=11&&(r.disabled=!0,r.disabled=!1)}function n$(t,e){if(e instanceof gt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(VS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else VS(t)}function VS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function aw(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Mt.between(e,n,r)}function WS(t){return t.editable&&!t.hasFocus()?!1:r$(t)}function r$(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Dee(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return uh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function qv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&St.findFrom(s,e)}function $u(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function qS(t,e,n){let r=t.state.selection;if(r instanceof Mt){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=qv(t.state,e);return i&&i instanceof gt?$u(t,i):!1}else if(!(Js&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?gt.isSelectable(s)?$u(t,new gt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):b4?$u(t,new Mt(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else{if(r instanceof gt&&r.node.isInline)return $u(t,new Mt(e>0?r.$to:r.$from));{let i=qv(t.state,e);return i?$u(t,i):!1}}}function uy(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function qf(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Z3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Ho&&n.nodeType==1&&r<uy(n)&&qf(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(qf(a))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(i$(n))break;{let a=n.previousSibling;for(;a&&qf(a);)i=n.parentNode,s=Cs(a),a=a.previousSibling;if(a)n=a,r=uy(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Xv(t,n,r):i&&Xv(t,i,s)}function G3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=uy(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(qf(a))s=n,o=++r;else break}else{if(i$(n))break;{let a=n.nextSibling;for(;a&&qf(a);)s=a.parentNode,o=Cs(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=uy(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Xv(t,s,o)}function i$(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Xv(t,e,n){let r=t.domSelection();if(y4(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Pl(t)},50)}function XS(t,e,n){let r=t.state.selection;if(r instanceof Mt&&!r.empty||n.indexOf("s")>-1||Js&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=qv(t.state,e);if(o&&o instanceof gt)return $u(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof ds?St.near(o,e):St.findFrom(o,e);return a?$u(t,a):!1}return!1}function YS(t,e){if(!(t.state.selection instanceof Mt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function US(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Eee(t){if(!Xi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;US(t,r,"true"),setTimeout(()=>US(t,r,"false"),20)}return!1}function Aee(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Mee(t,e){let n=e.keyCode,r=Aee(e);return n==8||Js&&n==72&&r=="c"?YS(t,-1)||Z3(t):n==46||Js&&n==68&&r=="c"?YS(t,1)||G3(t):n==13||n==27?!0:n==37||Js&&n==66&&r=="c"?qS(t,-1,r)||Z3(t):n==39||Js&&n==70&&r=="c"?qS(t,1,r)||G3(t):n==38||Js&&n==80&&r=="c"?XS(t,-1,r)||Z3(t):n==40||Js&&n==78&&r=="c"?Eee(t)||XS(t,1,r)||G3(t):r==(Js?"m":"c")&&(n==66||n==73||n==89||n==90)}function s$(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Sa.fromSchema(t.state.schema),a=h$(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,h,d=0;for(;u&&u.nodeType==1&&(h=u$[u.nodeName.toLowerCase()]);){for(let p=h.length-1;p>=0;p--){let m=a.createElement(h[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function o$(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new He(Fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):He.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:p}=t.state,m=Sa.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=o.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=$ee(n),b4&&Lee(o);let u=o&&o.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let d=+h[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||ch.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||h),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Pee.test(f.parentNode.nodeName)?{ignore:!0}:null}})),h)a=Fee(jS(a,+h[1],+h[2]),h[4]);else if(a=He.maxOpen(Bee(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=jS(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const Pee=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Bee(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&l$(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=c$(o[o.length-1],s.length));let h=a$(a,l);o.push(h),i=i.matchType(h.type),s=l}}),o)return Fe.from(o)}return t}function a$(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Fe.from(t));return t}function l$(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=l$(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Fe.from(a$(n,t,i+1))))}}function c$(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,c$(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Fe.empty,!0);return t.copy(n.append(r))}function Yv(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return i<r-1&&(a=Yv(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,t.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function jS(t,e,n){return e<t.openStart&&(t=new He(Yv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new He(Yv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const u$={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let HS=null;function h$(){return HS||(HS=document.implementation.createHTMLDocument("title"))}function $ee(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=h$().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&u$[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Lee(t){let e=t.querySelectorAll(Fi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Fee(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Fe.from(l.create(r[a+1],i)),s++,o++}return new He(i,s,o)}const Yi={},Ui={},Nee={touchstart:!0,touchmove:!0};class Iee{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ree(t){for(let e in Yi){let n=Yi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{zee(t,r)&&!lw(t,r)&&(t.editable||!(r.type in Ui))&&n(t,r)},Nee[e]?{passive:!0}:void 0)}Xi&&t.dom.addEventListener("input",()=>null),Uv(t)}function Cc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Qee(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Uv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>lw(t,r))})}function lw(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function zee(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Vee(t,e){!lw(t,e)&&Yi[e.type]&&(t.editable||!(e.type in Ui))&&Yi[e.type](t,e)}Ui.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!f$(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Bo&&Fi&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ld&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Bu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Mee(t,n)?n.preventDefault():Cc(t,"key")};Ui.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ui.keypress=(t,e)=>{let n=e;if(f$(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Js&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Mt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function v4(t){return{left:t.clientX,top:t.clientY}}function Wee(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function cw(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function yd(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function qee(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&gt.isSelectable(r)?(yd(t,new gt(n),"pointer"),!0):!1}function Xee(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof gt&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(gt.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(yd(t,gt.create(t.state.doc,i),"pointer"),!0):!1}function Yee(t,e,n,r,i){return cw(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Xee(t,n):qee(t,n))}function Uee(t,e,n,r){return cw(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function jee(t,e,n,r){return cw(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Hee(t,n,r)}function Hee(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(yd(t,Mt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)yd(t,Mt.create(r,a+1,a+1+o.content.size),"pointer");else if(gt.isSelectable(o))yd(t,gt.create(r,a),"pointer");else continue;return!0}}function uw(t){return hy(t)}const d$=Js?"metaKey":"ctrlKey";Yi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=uw(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Wee(n,t.input.lastClick)&&!n[d$]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(v4(n));!o||(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Zee(t,o,n,!!r)):(s=="doubleClick"?Uee:jee)(t,o.pos,o.inside,n)?n.preventDefault():Cc(t,"pointer"))};class Zee{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[d$],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let h=e.state.doc.resolve(n.pos);s=h.parent,o=h.depth?h.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof gt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ho&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(v4(e))),this.updateAllowDefault(e),this.allowDefault||!n?Cc(this.view,"pointer"):Yee(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xi&&this.mightDrag&&!this.mightDrag.node.isAtom||Fi&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(yd(this.view,St.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Cc(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Yi.touchstart=t=>{t.input.lastTouch=Date.now(),uw(t),Cc(t,"pointer")};Yi.touchmove=t=>{t.input.lastTouch=Date.now(),Cc(t,"pointer")};Yi.contextmenu=t=>uw(t);function f$(t,e){return t.composing?!0:Xi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Gee=Bo?5e3:-1;Ui.compositionstart=Ui.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),hy(t,!0),t.markCursor=null;else if(hy(t),Ho&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}p$(t,Gee)};Ui.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,p$(t,20))};function p$(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>hy(t),e))}function m$(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Kee());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Kee(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function hy(t,e=!1){if(!(Bo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),m$(t),e||t.docView&&t.docView.dirty){let n=ow(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Jee(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Fd=fs&&Pc<15||Ld&&eee<604;Yi.copy=Ui.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Fd?null:n.clipboardData,o=r.content(),{dom:a,text:l}=s$(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Jee(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ete(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function tte(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Sp(t,r.value,null,t.input.shiftKey,e):Sp(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function Sp(t,e,n,r,i){let s=o$(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||He.empty)))return!0;if(!s)return!1;let o=ete(s),a=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ui.paste=(t,e)=>{let n=e;if(t.composing&&!Bo)return;let r=Fd?null:n.clipboardData;r&&Sp(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():tte(t,n)};class nte{constructor(e,n){this.slice=e,this.move=n}}const g$=Js?"altKey":"ctrlKey";Yi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(v4(n));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof gt?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(gt.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(gt.create(t.state.doc,u.posBefore)))}}let o=t.state.selection.content(),{dom:a,text:l}=s$(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(Fd?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Fd||n.dataTransfer.setData("text/plain",l),t.dragging=new nte(o,!n[g$])};Yi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ui.dragover=Ui.dragenter=(t,e)=>e.preventDefault();Ui.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(v4(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=o$(t,n.dataTransfer.getData(Fd?"Text":"text/plain"),Fd?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[g$]);if(t.someProp("handleDrop",m=>m(t,n,o||He.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Uk(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;a&&u.deleteSelection();let h=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(h,h,o.content.firstChild):u.replaceRange(h,h,o),u.doc.eq(f))return;let p=u.doc.resolve(h);if(d&&gt.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new gt(p));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,y,b,O)=>m=O),u.setSelection(aw(t,p,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Yi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Pl(t)},20))};Yi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Yi.beforeinput=(t,e)=>{if(Fi&&Bo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Bu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ui)Yi[t]=Ui[t];function Cp(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class hw{constructor(e,n){this.toDOM=e,this.spec=n||Gu,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new $r(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof hw&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Cp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Bc{constructor(e,n){this.attrs=e,this.spec=n||Gu}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new $r(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Bc&&Cp(this.attrs,e.attrs)&&Cp(this.spec,e.spec)}static is(e){return e.type instanceof Bc}destroy(){}}class dw{constructor(e,n){this.attrs=e,this.spec=n||Gu}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new $r(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof dw&&Cp(this.attrs,e.attrs)&&Cp(this.spec,e.spec)}destroy(){}}class $r{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new $r(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new $r(e,e,new hw(n,r))}static inline(e,n,r,i){return new $r(e,n,new Bc(r,i))}static node(e,n,r,i){return new $r(e,n,new dw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bc}}const Yh=[],Gu={};class gn{constructor(e,n){this.local=e.length?e:Yh,this.children=n.length?n:Yh}static create(e,n){return n.length?dy(n,e,0,Gu):Oi}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Oi||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Gu)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?rte(this.children,o||[],e,n,r,i,s):o?new gn(o.sort(Ku),Yh):Oi}add(e,n){return n.length?this==Oi?gn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let u=l+r,h;if(!!(h=b$(n,a,u))){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,h,u+1):i.splice(s,0,l,l+a.nodeSize,dy(h,a,u+1,Gu)),s+=3}});let o=y$(s?O$(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new gn(o.length?this.local.concat(o).sort(Ku):this.local,i||this.children)}remove(e){return e.length==0||this==Oi?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let h=0,d;h<e.length;h++)(d=e[h])&&d.from>a&&d.to<l&&(e[h]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=Oi?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new gn(i,r):Oi}forChild(e,n){if(this==Oi)return this;if(n.isLeaf)return gn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Bc){let u=Math.max(s,l.from)-s,h=Math.min(o,l.to)-s;u<h&&(i||(i=[])).push(l.copy(u,h))}}if(i){let a=new gn(i.sort(Ku),Yh);return r?new bc([a,r]):a}return r||Oi}eq(e){if(this==e)return!0;if(!(e instanceof gn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return fw(this.localsInner(e))}localsInner(e){if(this==Oi)return Yh;if(e.inlineContent||!this.local.some(Bc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bc||n.push(this.local[r]);return n}}gn.empty=new gn([],[]);gn.removeOverlap=fw;const Oi=gn.empty;class bc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Gu));return bc.from(r)}forChild(e,n){if(n.isLeaf)return gn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Oi&&(s instanceof bc?r=r.concat(s.members):r.push(s))}return bc.from(r)}eq(e){if(!(e instanceof bc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(!!s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?fw(r?n:n.sort(Ku)):Yh}static from(e){switch(e.length){case 0:return Oi;case 1:return e[0];default:return new bc(e.every(n=>n instanceof gn)?e:e.reduce((n,r)=>n.concat(r instanceof gn?r:r.members),[]))}}}function rte(t,e,n,r,i,s,o){let a=t.slice();for(let u=0,h=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,m,g)=>{let y=g-m-(p-f);for(let b=0;b<a.length;b+=3){let O=a[b+1];if(O<0||f>O+h-d)continue;let w=a[b]+h-d;p>=w?a[b+1]=f<=w?-2:-1:m>=i&&y&&(a[b]+=y,a[b+1]+=y)}d+=y}),h=n.maps[u].map(h,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let h=n.map(t[u]+s),d=h-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[u+1]+s,-1),p=f-i,{index:m,offset:g}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&g==d&&g+y.nodeSize==p){let b=a[u+2].mapInner(n,y,h+1,t[u]+s+1,o);b!=Oi?(a[u]=d,a[u+1]=p,a[u+2]=b):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=ite(a,t,e,n,i,s,o),h=dy(u,r,0,o);e=h.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<h.children.length;d+=3){let p=h.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,h.children[d],h.children[d+1],h.children[d+2])}}return new gn(e.sort(Ku),a)}function y$(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new $r(i.from+e,i.to+e,i.type))}return n}function ite(t,e,n,r,i,s,o){function a(l,u){for(let h=0;h<l.local.length;h++){let d=l.local[h].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[h].spec)}for(let h=0;h<l.children.length;h+=3)a(l.children[h+2],l.children[h]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function b$(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function O$(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function dy(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let u=b$(t,a,l+n);if(u){s=!0;let h=dy(u,a,n+l+1,r);h!=Oi&&i.push(l,l+a.nodeSize,h)}});let o=y$(s?O$(t):t,-n).sort(Ku);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new gn(o,i):Oi}function Ku(t,e){return t.from-e.from||t.to-e.to}function fw(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),ZS(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),ZS(e,i,r.copy(s.from,r.to)));break}}}return e}function ZS(t,e,n){for(;e<t.length&&Ku(n,t[e])>0;)e++;t.splice(e,0,n)}function K3(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Oi&&e.push(r)}),t.cursorWrapper&&e.push(gn.create(t.state.doc,[t.cursorWrapper.deco])),bc.from(e)}const ste={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ote=fs&&Pc<=11;class ate{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class lte{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ate,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);fs&&Pc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ote&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ste)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!WS(this.view)){if(this.suppressingSelectionUpdates)return Pl(this.view);if(fs&&Pc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&uh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=_p(s))n.add(s);for(let s=e.anchorNode;s;s=_p(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&WS(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let h=0;h<n.length;h++){let d=this.registerMutation(n[h],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Ho&&l.length>1){let h=l.filter(d=>d.nodeName=="BR");if(h.length==2){let d=h[0],f=h[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&y4(r)&&(u=ow(e))&&u.eq(St.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pl(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),cte(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Pl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++)n.push(e.addedNodes[h]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(fs&&Pc<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:d,nextSibling:f}=e.addedNodes[h];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?Cs(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Cs(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let GS=new WeakMap,KS=!1;function cte(t){if(!GS.has(t)&&(GS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ho,KS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),KS=!0}}function ute(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return uh(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}function hte(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,h=l.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(u=[{node:h,offset:l.anchorOffset}],y4(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Fi&&t.input.lastKeyCode===8)for(let y=s;y>i;y--){let b=r.childNodes[y-1],O=b.pmViewDesc;if(b.nodeName=="BR"&&!O){s=y;break}if(!O||O.size)break}let d=t.state.doc,f=t.someProp("domParser")||ch.fromSchema(t.state.schema),p=d.resolve(o),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:dte,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=y),m={anchor:y+o,head:b+o}}return{doc:g,sel:m,from:o,to:a}}function dte(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Xi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Xi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const fte=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pte(t,e,n,r,i){if(e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=ow(t,P);if(M&&!t.state.selection.eq(M)){if(Fi&&Bo&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,Bu(13,"Enter"))))return;let $=t.state.tr.setSelection(M);P=="pointer"?$.setMeta("pointer",!0):P=="key"&&$.scrollIntoView(),t.dispatch($)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(n);e=s.before(o+1),n=t.state.doc.resolve(n).after(o+1);let a=t.state.selection,l=hte(t,e,n),u=t.state.doc,h=u.slice(l.from,l.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=yte(h.content,l.doc.content,l.from,d,f);if((Ld&&t.input.lastIOSEnter>Date.now()-225||Bo)&&i.some(P=>P.nodeType==1&&!fte.test(P.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",P=>P(t,Bu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof Mt&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let P=JS(t,t.state.doc,l.sel);P&&!P.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(P))}return}if(Fi&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let P=p.endB-p.start;l.sel={anchor:l.sel.anchor+P,head:l.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Mt&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),fs&&Pc<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let m=l.doc.resolveNoCache(p.start-l.from),g=l.doc.resolveNoCache(p.endB-l.from),y=u.resolve(p.start),b=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=p.endA,O;if((Ld&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!b&&m.pos<l.doc.content.size&&(O=St.findFrom(l.doc.resolve(m.pos+1),1,!0))&&O.head==g.pos)&&t.someProp("handleKeyDown",P=>P(t,Bu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&gte(u,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",P=>P(t,Bu(8,"Backspace")))){Bo&&Fi&&t.domObserver.suppressSelectionUpdates();return}Fi&&Bo&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Bo&&!b&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,g=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Bu(13,"Enter"))})},20));let w=p.start,D=p.endA,C,T,E;if(b){if(m.pos==g.pos)fs&&Pc<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pl(t),20)),C=t.state.tr.delete(w,D),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(E=mte(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))C=t.state.tr,E.type=="add"?C.addMark(w,D,E.mark):C.removeMark(w,D,E.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let P=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",M=>M(t,w,D,P)))return;C=t.state.tr.insertText(P,w,D)}}if(C||(C=t.state.tr.replace(w,D,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let P=JS(t,C.doc,l.sel);P&&!(Fi&&Bo&&t.composing&&P.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==w||P.head==C.mapping.map(D)-1)||fs&&P.empty&&P.head==w)&&C.setSelection(P)}T&&C.ensureMarks(T),t.dispatch(C.scrollIntoView())}function JS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:aw(t,e.resolve(n.anchor),e.resolve(n.head))}function mte(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=h=>h.mark(a.addToSet(h.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=h=>h.mark(a.removeFromSet(h.marks));else return null;let u=[];for(let h=0;h<e.childCount;h++)u.push(l(e.child(h)));if(Fe.from(u).eq(t))return{mark:a,type:o}}function gte(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||J3(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(J3(s,!0,!0));return!o.parent.isTextblock||o.pos>n||J3(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function J3(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function yte(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}class v${constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Iee,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(i9),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=n9(this),t9(this),this.nodeViews=r9(this),this.docView=NS(this.state.doc,e9(this),K3(this),this.dom,this),this.domObserver=new lte(this,(r,i,s,o)=>pte(this,r,i,s,o)),this.domObserver.start(),Ree(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Uv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(i9),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(m$(this),s=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=r9(this);Ote(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&Uv(this),this.editable=n9(this),t9(this);let a=K3(this),l=e9(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,l,a);(h||!e.selection.eq(r.selection))&&(s=!0);let d=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&ree(this);if(s){this.domObserver.stop();let f=h&&(fs||Fi)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&bte(r.selection,e.selection);if(h){let p=Fi?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=NS(e.doc,l,a,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Dee(this))?Pl(this,f):(n$(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&iee(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof gt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&PS(this,n.getBoundingClientRect(),e)}else PS(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(fs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&see(this.dom),Pl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return uee(this,e)}coordsAtPos(e,n=1){return jB(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return mee(this,n||this.state,e)}pasteHTML(e,n){return Sp(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Sp(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){!this.docView||(Qee(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],K3(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Vee(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Xi&&this.root.nodeType===11&&KJ(this.dom.ownerDocument)==this.dom?ute(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function e9(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[$r.node(0,t.state.doc.content.size,e)]}function t9(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$r.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function n9(t){return!t.someProp("editable",e=>e(t.state)===!1)}function bte(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function r9(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Ote(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function i9(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class Ei{constructor(e,n){this.match=e,this.match=e,this.handler=typeof n=="string"?vte(n):n}}function vte(t){return function(e,n,r,i){let s=t;if(n[1]){let o=n[0].lastIndexOf(n[1]);s+=n[0].slice(o+n[1].length),r+=o;let a=r-i;a>0&&(s=n[0].slice(o-a,o)+s,r=i)}return e.tr.insertText(s,r,i)}}new Ei(/--$/,"\u2014");new Ei(/\.\.\.$/,"\u2026");new Ei(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new Ei(/"$/,"\u201D");new Ei(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new Ei(/'$/,"\u2019");function x0(t,e,n=null,r){return new Ei(t,(i,s,o,a)=>{let l=n instanceof Function?n(s):n,u=i.tr.delete(o,a),h=u.doc.resolve(o),d=h.blockRange(),f=d&&KP(d,e,l);if(!f)return null;u.wrap(d,f);let p=u.doc.resolve(o-1).nodeBefore;return p&&p.type==e&&c4(u.doc,o-1)&&(!r||r(s,p))&&u.join(o-1),u})}function jv(t,e,n=null){return new Ei(t,(r,i,s,o)=>{let a=r.doc.resolve(s),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(s,o).setBlockType(s,s,e,l):null})}const Hc=typeof navigator<"u"?navigator:null,s9=typeof document<"u"?document:null,cu=Hc&&Hc.userAgent||"",Hv=/Edge\/(\d+)/.exec(cu),x$=/MSIE \d/.exec(cu),Zv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cu),x4=!!(x$||Zv||Hv),xte=x$?document.documentMode:Zv?+Zv[1]:Hv?+Hv[1]:0,k$=!x4&&/gecko\/(\d+)/i.test(cu),kte=k$&&+(/Firefox\/(\d+)/.exec(cu)||[0,0])[1],Gv=!x4&&/Chrome\/(\d+)/.exec(cu),wte=!!Gv,_te=Gv?+Gv[1]:0,w$=!x4&&!!Hc&&/Apple Computer/.test(Hc.vendor),_$=w$&&(/Mobile\/\w+/.test(cu)||!!Hc&&Hc.maxTouchPoints>2),Ste=_$||(Hc?/Mac/.test(Hc.platform):!1),Cte=/Android \d/.test(cu),S$=!!s9&&"webkitFontSmoothing"in s9.documentElement.style,Tte=S$?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var td=Object.freeze({__proto__:null,ie:x4,ie_version:xte,gecko:k$,gecko_version:kte,chrome:wte,chrome_version:_te,safari:w$,ios:_$,mac:Ste,android:Cte,webkit:S$,webkit_version:Tte});function e5(t,e,n,r,i,s){if(t.composing)return!1;const o=t.state,a=o.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"\uFFFC")+r;for(let u=0;u<i.length;u++){const h=i[u].match.exec(l),d=h&&h[0]&&i[u].handler(o,h,e-(h[0].length-r.length),n);if(!!d)return t.dispatch(d.setMeta(s,{transform:d,from:e,to:n,text:r})),!0}return!1}const Dte=new pn("MILKDOWN_CUSTOM_INPUTRULES"),Ete=({rules:t})=>{const e=new cn({key:Dte,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return e5(n,r,i,s,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&e5(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?e5(n,i.pos,i.pos,`
`,t,e):!1}}});return e},C$=(t,e,n)=>{const r=t.state,{from:i}=r.selection,{node:s}=t.domAtPos(i),o=s instanceof Text?s.parentElement:s;if(!(o instanceof HTMLElement))throw Nr(o);const a=o.getBoundingClientRect(),l=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw Nr(u);const h=u.getBoundingClientRect(),[d,f]=n(a,l,h);e.style.top=`${d}px`,e.style.left=`${f}px`},pw=(t,e,n)=>{const r=t.state,{from:i,to:s}=r.selection,o=t.coordsAtPos(i),a=t.coordsAtPos(s),l=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw ms();const h=u.getBoundingClientRect(),[d,f]=n(o,a,l,h);e.style.top=`${d}px`,e.style.left=`${f}px`},mw=t=>Object.assign(Object.create(t),t).setTime(Date.now()),Ate=(t,e)=>Array.isArray(t)&&t.includes(e.type)||e.type===t,Lu=(t,e)=>{const n=e.nodes[t];if(!n)throw cj("node",t);return n},Mte=t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},T$=t=>e=>Mte(t)(e.$from),po=(t,e)=>{if(!(t instanceof gt))return;const{node:n,$from:r}=t;if(Ate(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}},gw=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Pte(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Bte=(t,e,n)=>{let r=Pte(t,n);if(!r)return!1;let i=D$(r);if(!i){let o=r.blockRange(),a=o&&l4(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&A$(t,i,e))return!0;if(r.parent.content.size==0&&(Nd(s,"end")||gt.isSelectable(s))){let o=jk(t.doc,r.before(),r.after(),He.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Nd(s,"end")?St.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):gt.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Nd(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const $te=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=D$(r)}let o=s&&s.nodeBefore;return!o||!gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(gt.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function D$(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Lte(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Fte=(t,e,n)=>{let r=Lte(t,n);if(!r)return!1;let i=E$(r);if(!i)return!1;let s=i.nodeAfter;if(A$(t,i,e))return!0;if(r.parent.content.size==0&&(Nd(s,"start")||gt.isSelectable(s))){let o=jk(t.doc,r.before(),r.after(),He.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Nd(s,"start")?St.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):gt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Nte=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=E$(r)}let o=s&&s.nodeAfter;return!o||!gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(gt.create(t.doc,s.pos)).scrollIntoView()),!0)};function E$(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Ite=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function yw(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Rte=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=yw(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(St.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Qte=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ds||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=yw(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Mt.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},zte=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Qf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&l4(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Vte(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof gt&&e.selection.node.isBlock)return!r.parentOffset||!Qf(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=e.tr;(e.selection instanceof Mt||e.selection instanceof ds)&&o.deleteSelection();let a=r.depth==0?null:yw(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,s),u=l?[l]:s&&a?[{type:a}]:void 0,h=Qf(o.doc,o.mapping.map(r.pos),1,u);if(!u&&!h&&Qf(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(u=[{type:a}]),h=!0),h&&(o.split(o.mapping.map(r.pos),1,u),!s&&!r.parentOffset&&r.parent.type!=a)){let d=o.mapping.map(r.before()),f=o.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const Wte=Vte(),qte=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(gt.create(t.doc,i))),!0)},Xte=(t,e)=>(e&&e(t.tr.setSelection(new ds(t.doc))),!0);function Yte(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||c4(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function A$(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Yte(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=Fe.empty;for(let g=s.length-1;g>=0;g--)f=Fe.from(s[g].create(null,f));f=Fe.from(r.copy(f));let p=t.tr.step(new Ti(e.pos-1,d,e.pos,d,new He(f,1,0),s.length,!0)),m=d+2*s.length;c4(p.doc,m)&&p.join(m),n(p.scrollIntoView())}return!0}let l=St.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),h=u&&l4(u);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(u,h).scrollIntoView()),!0;if(a&&Nd(i,"start",!0)&&Nd(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=i,m=1;for(;!p.isTextblock;p=p.firstChild)m++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let g=Fe.empty;for(let b=f.length-1;b>=0;b--)g=Fe.from(f[b].copy(g));let y=t.tr.step(new Ti(e.pos-f.length,e.pos+i.nodeSize,e.pos+m,e.pos+i.nodeSize-m,new He(g,f.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function M$(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Mt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Ute=M$(-1),jte=M$(1);function Qo(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&KP(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function $c(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let h=n.doc.resolve(u),d=h.index();i=h.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function Hte(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:s}=e[r],o=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function k4(t,e=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!Hte(n.doc,o,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let u=0;!a&&u<o.length;u++){let{$from:h,$to:d}=o[u];a=n.doc.rangeHasMark(h.pos,d.pos,t)}for(let u=0;u<o.length;u++){let{$from:h,$to:d}=o[u];if(a)l.removeMark(h.pos,d.pos,t);else{let f=h.pos,p=d.pos,m=h.nodeAfter,g=d.nodeBefore,y=m&&m.isText?/^\s*/.exec(m.text)[0].length:0,b=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;f+y<p&&(f+=y,p-=b),l.addMark(f,p,t.create(e))}}r(l.scrollIntoView())}return!0}}function w4(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let t5=w4(gw,Bte,$te),o9=w4(gw,Fte,Nte);const yl={Enter:w4(Ite,Qte,zte,Wte),"Mod-Enter":Rte,Backspace:t5,"Mod-Backspace":t5,"Shift-Backspace":t5,Delete:o9,"Mod-Delete":o9,"Mod-a":Xte},P$={"Ctrl-h":yl.Backspace,"Alt-Backspace":yl["Mod-Backspace"],"Ctrl-d":yl.Delete,"Ctrl-Alt-Backspace":yl["Mod-Delete"],"Alt-Delete":yl["Mod-Delete"],"Alt-d":yl["Mod-Delete"],"Ctrl-a":Ute,"Ctrl-e":jte};for(let t in yl)P$[t]=yl[t];const Zte=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,B$=Zte?P$:yl;var Rl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Tp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a9=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var Gte=typeof navigator<"u"&&/Mac/.test(navigator.platform),Kte=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Jte=Gte||a9&&+a9[1]<57;for(var oi=0;oi<10;oi++)Rl[48+oi]=Rl[96+oi]=String(oi);for(var oi=1;oi<=24;oi++)Rl[oi+111]="F"+oi;for(var oi=65;oi<=90;oi++)Rl[oi]=String.fromCharCode(oi+32),Tp[oi]=String.fromCharCode(oi);for(var n5 in Rl)Tp.hasOwnProperty(n5)||(Tp[n5]=Rl[n5]);function $$(t){var e=Jte&&(t.ctrlKey||t.altKey||t.metaKey)||Kte&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Tp:Rl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const ene=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function tne(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))ene?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function nne(t){let e=Object.create(null);for(let n in t)e[tne(n)]=t[n];return e}function r5(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Id(t){return new cn({props:{handleKeyDown:bw(t)}})}function bw(t){let e=nne(t);return function(n,r){let i=$$(r),s,o=e[r5(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[r5(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Rl[r.keyCode])&&s!=i){let a=e[r5(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var rne=Object.defineProperty,ine=(t,e,n)=>e in t?rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hc=(t,e,n)=>(ine(t,typeof e!="symbol"?e+"":e,n),n),L$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ut=(t,e,n)=>(L$(t,e,"read from private field"),n?n.call(t):e.get(t)),$i=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zg=(t,e,n,r)=>(L$(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Gg=Wa("ConfigReady"),sne=t=>e=>(e.record(Gg),async n=>(await t(n),n.done(Gg),r=>{r.clearTimer(Gg)})),i5=Bt([],"themeTimer"),Kg=Wa("ThemeEnvironmentReady"),Xf=Wa("ThemeReady"),one=new pn("MILKDOWN_THEME_RESET"),ane=t=>{const e=lH();return t.inject(D3).inject(ju).inject(Er,e).inject(i5,[Gg]).record(Xf).record(Kg),async n=>{await n.waitTimers(i5);const r=aH(n.get(D3));return kP.forEach(i=>{e.inject(i)}),n.set(ju,r),n.done(Kg),n.done(Xf),await n.wait(Bl),n.update(go,i=>i.concat(new cn({key:one,view:()=>(e.runExecutor(),{destroy:()=>{r.flush()}})}))),i=>{i.remove(D3).remove(ju).remove(Er).remove(i5).clearTimer(Xf).clearTimer(Kg)}}},lne=t=>{let e=null;const n=()=>async r=>{await r.wait(Kg);const i=r.get(ju),s=r.get(Er);s.setExecutor(()=>{t==null||t(i,s),e==null||e(i,s),kP.forEach(o=>{s.has(o)||console.warn("Theme key not found: ",o.sliceName)}),s.get(qk,void 0)})};return n.override=r=>(e=r,n),n},Bl=Wa("InitReady"),s5=Bt([],"initTimer"),l9=Bt({},"editor"),Dp=Bt([],"inputRules"),go=Bt([],"prosePlugins"),Rd=Bt([],"remarkPlugins"),Ep=Bt([],"nodeView"),Ap=Bt([],"markView"),Ju=Bt(Nv().use(Av).use($v),"remark"),cne={},o5=Bt(cne,"remarkStringifyOptions"),une=t=>e=>(e.inject(l9,t).inject(go).inject(Rd).inject(Dp).inject(Ep).inject(Ap).inject(o5).inject(Ju,Nv().use(Av).use($v)).inject(s5,[Xf]).record(Bl),async n=>{await n.waitTimers(s5);const r=n.get(o5);return n.set(Ju,Nv().use(Av).use($v,r)),n.done(Bl),i=>{i.remove(l9).remove(go).remove(Rd).remove(Dp).remove(Ep).remove(Ap).remove(o5).remove(Ju).remove(s5).clearTimer(Bl)}}),eh=Wa("schemaReady"),Lr=Bt({},"schema"),a5=Bt([],"schemaTimer"),Lc=Bt([],"nodes"),Fc=Bt([],"marks"),c9=t=>{var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}},hne=t=>(t.inject(Lr).inject(Lc).inject(Fc).inject(a5,[Bl]).record(eh),async e=>{await e.waitTimers(a5);const n=e.get(Ju),r=e.get(Rd).reduce((o,a)=>o.use(a),n);e.set(Ju,r);const i=Object.fromEntries(e.get(Lc).map(([o,a])=>[o,c9(a)])),s=Object.fromEntries(e.get(Fc).map(([o,a])=>[o,c9(a)]));return e.set(Lr,new EH({nodes:i,marks:s})),e.done(eh),o=>{o.remove(Lr).remove(Lc).remove(Fc).remove(a5).clearTimer(eh)}}),Nc=Bt(()=>{},"parser"),l5=Bt([],"parserTimer"),Jg=Wa("ParserReady"),dne=t=>(t.inject(Nc).inject(l5,[eh]).record(Jg),async e=>{await e.waitTimers(l5);const n=e.get(Lc),r=e.get(Fc),i=e.get(Ju),s=e.get(Lr),o=[...n.map(([l,u])=>({id:l,...u})).map(l=>({...l,is:"node"})),...r.map(([l,u])=>({id:l,...u})).map(l=>({...l,is:"mark"}))],a=Object.fromEntries(o.map(({id:l,parseMarkdown:u,is:h})=>[l,{...u,is:h,key:l}]));return e.set(Nc,tZ(s,a,i)),e.done(Jg),l=>{l.remove(Nc).remove(l5).clearTimer(Jg)}}),th=Bt(()=>"","serializer"),c5=Bt([],"serializerTimer"),Yf=Wa("SerializerReady"),fne=t=>(t.inject(th).inject(c5,[eh]).record(Yf),async e=>{await e.waitTimers(c5);const n=e.get(Lc),r=e.get(Fc),i=e.get(Ju),s=e.get(Lr),o=[...n,...r],a=Object.fromEntries(o.map(([l,u])=>[l,u.toMarkdown]));return e.set(th,gZ(s,a,i)),e.done(Yf),l=>{l.remove(th).remove(c5).clearTimer(Yf)}}),e2=Bt("","defaultValue"),ff=Bt({},"editorState"),t2=Bt(t=>t,"stateOptions"),u5=Bt([],"editorStateTimer"),n2=Wa("EditorStateReady"),pne=new pn("MILKDOWN_STATE_TRACKER"),mne=(t,e,n)=>{if(typeof t=="string")return e(t);if(t.type==="html")return ch.fromSchema(n).parse(t.dom);if(t.type==="json")return Ps.fromJSON(n,t.value);throw nj(t)},gne=t=>(t.inject(e2).inject(ff).inject(t2).inject(u5,[Jg,Yf,r2]).record(n2),async e=>{await e.waitTimers(u5);const n=e.get(Lr),r=e.get(Nc),i=e.get(Dp),s=e.get(t2),o=e.get(go),a=e.get(e2),l=mne(a,r,n),u=[...o,new cn({key:pne,state:{init:()=>{},apply:(f,p,m,g)=>{e.set(ff,g)}}}),Ete({rules:i}),Id(B$)];e.set(go,u);const h=s({schema:n,doc:l,plugins:u}),d=Sc.create(h);return e.set(ff,d),e.done(n2),f=>{f.remove(e2).remove(ff).remove(t2).remove(u5).clearTimer(n2)}}),Qn=Bt({},"editorView"),Uf=Bt({},"editorViewOptions"),bd=Bt(null,"root"),h5=Bt([],"editorViewTimer"),Mp=Bt(null,"rootDOM"),jf=Wa("EditorViewReady"),yne=(t,e)=>{const n=document.createElement("div");return n.className="milkdown",t.appendChild(n),e.set(Mp,n),n},bne=t=>{t.classList.add("editor"),t.setAttribute("role","textbox")},One=new pn("MILKDOWN_VIEW_CLEAR"),vne=t=>(t.inject(bd,document.body).inject(Qn).inject(Uf).inject(Mp).inject(h5,[n2]).record(jf),async e=>{await e.wait(Bl);const n=e.get(bd)||document.body,r=typeof n=="string"?document.querySelector(n):n;e.update(go,u=>[new cn({key:One,view:h=>{const d=r?yne(r,e):void 0;return(()=>{if(d&&r){const f=h.dom;r.replaceChild(d,f),d.appendChild(f)}})(),{destroy:()=>{d!=null&&d.parentNode&&(d==null||d.parentNode.replaceChild(h.dom,d)),d==null||d.remove()}}}}),...u]),await e.waitTimers(h5);const i=e.get(ff),s=e.get(Uf),o=Object.fromEntries(e.get(Ep)),a=Object.fromEntries(e.get(Ap)),l=new v$(r,{state:i,nodeViews:o,markViews:a,...s});return bne(l.dom),e.set(Qn,l),e.done(jf),u=>{l==null||l.destroy(),u.remove(bd).remove(Qn).remove(Uf).remove(Mp).remove(h5).clearTimer(jf)}});var pf,mf;class xne{constructor(){$i(this,pf,r4()),$i(this,mf,null),hc(this,"setCtx",e=>{Zg(this,mf,e)})}create(e,n){return e(Ut(this,pf).sliceMap,n)}get(e){return Ut(this,pf).getSlice(e).get()}call(e,n){if(Ut(this,mf)==null)throw uj();const r=this.get(e)(n),i=Ut(this,mf).get(Qn);return r(i.state,i.dispatch,i)}remove(e){return Ut(this,pf).removeSlice(e)}}pf=new WeakMap,mf=new WeakMap;const sn=(t,e)=>[t,e],rn=(t="cmdKey")=>Bt(()=>()=>!1,t),Hn=Bt({},"commands"),d5=Bt([],"commandsTimer"),r2=Wa("CommandsReady"),kne=t=>{const e=new xne;return t.inject(Hn,e).inject(d5,[eh]).record(r2),async n=>(await n.waitTimers(d5),n.done(r2),await n.wait(jf),e.setCtx(n),r=>{r.remove(Hn).remove(d5).clearTimer(r2)})};var hl,gf,i2,yf,bf,ha,Of,s2,Kv,Jv,ex,o2,Uh;const F$=class{constructor(){$i(this,hl,"Idle"),$i(this,gf,[]),$i(this,i2,()=>{}),$i(this,yf,r4()),$i(this,bf,lP()),$i(this,ha,new Map),$i(this,Of,new bj(Ut(this,yf),Ut(this,bf))),$i(this,s2,new xj(Ut(this,yf),Ut(this,bf))),$i(this,Kv,new vj(Ut(this,yf),Ut(this,bf))),$i(this,Jv,()=>{const t=[ane,hne,dne,fne,kne,gne,vne,une(this)],e=sne(async n=>{await Promise.all(Ut(this,gf).map(r=>r(n)))});this.use(t.concat(e))}),$i(this,ex,()=>{[...Ut(this,ha).entries()].map(async([t,e])=>{var n;const r=(n=e.handler)!=null?n:t(Ut(this,s2));Ut(this,ha).set(t,{...e,handler:r})})}),$i(this,o2,(t,e=!1)=>Promise.all([t].flat().map(n=>{const r=Ut(this,ha).get(n),i=r==null?void 0:r.cleanup;if(e&&Ut(this,ha).delete(n),typeof i=="function")return i(Ut(this,Kv))}))),$i(this,Uh,t=>{Zg(this,hl,t),Ut(this,i2).call(this,t)}),hc(this,"use",t=>([t].flat().forEach(e=>{const n=Ut(this,hl)==="Created"?e(Ut(this,s2)):void 0;Ut(this,ha).set(e,{handler:n,cleanup:void 0})}),this)),hc(this,"config",t=>(Ut(this,gf).push(t),this)),hc(this,"onStatusChange",t=>(Zg(this,i2,t),this)),hc(this,"create",async()=>Ut(this,hl)==="OnCreate"?this:(Ut(this,hl)==="Created"&&await this.destroy(),Ut(this,Uh).call(this,"OnCreate"),Ut(this,Jv).call(this),Ut(this,ex).call(this),await Promise.all([...Ut(this,ha).entries()].map(async([t,e])=>{const n=e.handler;if(!n)return;const r=await n(Ut(this,Of));return Ut(this,ha).set(t,{handler:n,cleanup:r}),r})),Ut(this,Uh).call(this,"Created"),this)),hc(this,"remove",async t=>(await Ut(this,o2).call(this,[t].flat(),!0),this)),hc(this,"destroy",async(t=!1)=>Ut(this,hl)==="Destroyed"||Ut(this,hl)==="OnDestroy"?this:(t&&Zg(this,gf,[]),Ut(this,Uh).call(this,"OnDestroy"),await Ut(this,o2).call(this,[...Ut(this,ha).keys()],t),Ut(this,Uh).call(this,"Destroyed"),this)),hc(this,"action",t=>t(Ut(this,Of)))}static make(){return new F$}get ctx(){return Ut(this,Of)}get status(){return Ut(this,hl)}};let wne=F$;hl=new WeakMap,gf=new WeakMap,i2=new WeakMap,yf=new WeakMap,bf=new WeakMap,ha=new WeakMap,Of=new WeakMap,s2=new WeakMap,Kv=new WeakMap,Jv=new WeakMap,ex=new WeakMap,o2=new WeakMap,Uh=new WeakMap;var fy=200,ui=function(){};ui.prototype.append=function(e){return e.length?(e=ui.from(e),!this.length&&e||e.length<fy&&this.leafAppend(e)||this.length<fy&&e.leafPrepend(this)||this.appendInner(e)):this};ui.prototype.prepend=function(e){return e.length?ui.from(e).append(this):this};ui.prototype.appendInner=function(e){return new _ne(this,e)};ui.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ui.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ui.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ui.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ui.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};ui.from=function(e){return e instanceof ui?e:e&&e.length?new N$(e):ui.empty};var N$=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=fy)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=fy)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ui);ui.empty=new N$([]);var _ne=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ui),I$=ui;const Sne=500;class No{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],h=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,h.push(d);return}if(i){h.push(new ma(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new ma(m,void 0,void 0,u.length+h.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new No(this.items.slice(0,r).append(h.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let h=0;h<e.steps.length;h++){let d=e.steps[h].invert(e.docs[h]),f=new ma(e.mapping.maps[h],d,n),p;(p=l&&l.merge(f))&&(f=p,h?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>Tne&&(a=Cne(a,u),o-=u),new No(a.append(s),o)}remapping(e,n){let r=new md;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new No(this.items.append(e.map(n=>new ma(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(s.slice(l+1,p));y&&a++,r.push(new ma(m,g,y))}else r.push(new ma(m))},i);let u=[];for(let f=n;f<o;f++)u.push(new ma(s.maps[f]));let h=this.items.slice(0,i).append(u).append(r),d=new No(h,a);return d.emptyItemCount()>Sne&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let h=o.selection&&o.selection.map(n.slice(r));h&&s++;let d=new ma(u.invert(),l,h),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new No(I$.from(i.reverse()),s)}}No.empty=new No(I$.empty,0);function Cne(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ma{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ma(n.getMap().invert(),n,this.selection)}}}class mc{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const Tne=20;function Dne(t,e,n,r){let i=n.getMeta(Ic),s;if(i)return i.historyState;n.getMeta(Ane)&&(t=new mc(t.done,t.undone,null,0));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Ic))return o.getMeta(Ic).redo?new mc(t.done.addTransform(n,void 0,r,a2(e)),t.undone,u9(n.mapping.maps[n.steps.length-1]),t.prevTime):new mc(t.done,t.undone.addTransform(n,void 0,r,a2(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Ene(n,t.prevRanges)),l=o?f5(t.prevRanges,n.mapping):u9(n.mapping.maps[n.steps.length-1]);return new mc(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,a2(e)),No.empty,l,n.time)}else return(s=n.getMeta("rebased"))?new mc(t.done.rebased(n,s),t.undone.rebased(n,s),f5(t.prevRanges,n.mapping),t.prevTime):new mc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),f5(t.prevRanges,n.mapping),t.prevTime)}function Ene(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function u9(t){let e=[];return t.forEach((n,r,i,s)=>e.push(i,s)),e}function f5(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function R$(t,e,n,r){let i=a2(e),s=Ic.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),u=new mc(r?l:o.remaining,r?o.remaining:l,null,0);n(o.transform.setSelection(a).setMeta(Ic,{redo:r,historyState:u}).scrollIntoView())}let p5=!1,h9=null;function a2(t){let e=t.plugins;if(h9!=e){p5=!1,h9=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){p5=!0;break}}return p5}const Ic=new pn("history"),Ane=new pn("closeHistory");function Q$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new cn({key:Ic,state:{init(){return new mc(No.empty,No.empty,null,0)},apply(e,n,r){return Dne(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Pp:r=="historyRedo"?nh:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const Pp=(t,e)=>{let n=Ic.getState(t);return!n||n.done.eventCount==0?!1:(e&&R$(n,t,e,!1),!0)},nh=(t,e)=>{let n=Ic.getState(t);return!n||n.undone.eventCount==0?!1:(e&&R$(n,t,e,!0),!0)},Mne=({injectGlobal:t})=>t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`,Pne=(t,{css:e})=>{const n=_o(t),r=t.get(yn,"radius"),i=t.get(yn,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 14px;
        padding: 18px 6px 22px;
        border-radius: ${r};
        font-family: ${t.get(_a,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 180px;
            box-sizing: border-box;
            border-radius: ${r};
            margin: 0 18px 18px;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 42px;
            align-items: center;

            ${t.get(ci,void 0)};
            ${t.get(jo,void 0)};

            & > .icon {
                width: 42px;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${i} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 16px;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 16px;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 42px;
            box-sizing: border-box;
            left: 18px;
            padding: 8px 0;
            max-height: 260px;
            width: 180px;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Ba,["y"])}
            ${t.get(ci,void 0)};
            ${t.get(jo,void 0)};
        }
    `},Bne=(t,e)=>{t.set("code-fence",({view:n,editable:r,onSelectLanguage:i,onBlur:s,onFocus:o,languageList:a})=>{const l=document.createElement("div"),u=document.createElement("div"),h=document.createElement("ul"),d=document.createElement("pre"),f=document.createElement("code"),p=document.createElement("div");p.className="code-fence_selector";const m=document.createElement("span");p.appendChild(m);const g=t.get(gr,"downArrow");r()&&g&&p.appendChild(g.dom),f.spellcheck=!1,u.className="code-fence_selector-wrapper",u.contentEditable="false",u.append(p),u.append(h),d.append(f);const y=document.createElement("div");f.append(y),y.style.whiteSpace="inherit",l.append(u,d),l.classList.add("code-fence"),t.onFlush(()=>{const O=Pne(t,e);O&&l.classList.add(O)}),h.className="code-fence_selector-list",h.addEventListener("mousedown",O=>{if(O.preventDefault(),O.stopPropagation(),!r())return;const w=O.target;if(!(w instanceof HTMLLIElement))return;const D=w.dataset.value;D!=null&&i(D)}),p.addEventListener("mousedown",O=>{O.preventDefault(),O.stopPropagation(),r()&&o()});const b=()=>{!r()||h.dataset.fold==="true"||s()};return document.addEventListener("mousedown",b),a.forEach(O=>{const w=document.createElement("li");w.className="code-fence_selector-list-item",w.innerText=O||"--",h.appendChild(w),w.setAttribute("data-value",O)}),{dom:l,contentDOM:y,onUpdate:O=>{l.dataset.language=O.attrs.language,m.innerText=O.attrs.language||"--",h.style.maxHeight="",h.setAttribute("data-fold",O.attrs.fold?"true":"false");const w=n.dom.parentElement;if(!w)throw ms();const D=w.getBoundingClientRect(),C=u.getBoundingClientRect(),T=h.getBoundingClientRect();let E,P;const M=C.top-D.top,$=D.height+D.top-(C.height+C.top);$>=T.height+14?E="bottom":M>=T.height+14?E="top":$>=M?(E="bottom",P=$-14):(E="top",P=M-14);const A=E==="top"?-(P!=null?P:T.height):C.height;h.style.maxHeight=P!==void 0&&P>0?`${P}px`:"",h.style.top=`${A}px`},onDestroy:()=>{l.remove(),document.removeEventListener("mousedown",b)}}})},$ne=(t,{css:e})=>{const n=_o(t);t.set("image",({placeholder:r,isBlock:i,onError:s,onLoad:o})=>{const a=m=>{var g;return(g=t.get(gr,m))==null?void 0:g.dom},l=document.createElement("span");l.classList.add("image-container"),t.onFlush(()=>{const m=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?`
                width: 100%;
                margin: 0 auto;
                `:""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 32px;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 48px;
                    background-color: ${n("background")};
                    border-radius: ${t.get(yn,"radius")};
                    display: inline-flex;
                    gap: 32px;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 14px;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r}';
                        }
                    }
                }
            `;m&&l.classList.add(m)});const u=document.createElement("img");l.append(u);let h=a("image");const d=document.createElement("span");d.classList.add("placeholder"),l.append(h,d);const f=m=>{const g=a(m);l.replaceChild(g,h),h=g},p=m=>{l.classList.add("system","loading"),f("loading");const g=document.createElement("img");g.src=m,g.onerror=()=>{s==null||s(g)},g.onload=()=>{o==null||o(g)}};return{dom:l,onUpdate:m=>{const{src:g,alt:y,title:b,loading:O,failed:w}=m.attrs;if(u.src=g,u.title=b||y,u.alt=y,g.length===0){l.classList.add("system","empty"),f("image");return}if(O){p(g);return}if(w){l.classList.remove("loading","empty"),l.classList.add("system","failed"),f("brokenImage");return}if(g.length>0){l.classList.remove("system","empty","loading");return}l.classList.add("system","empty"),f("image")}}})},Lne=(t,{css:e})=>{const n=_o(t),r=t.get(yn,"radius"),i=t.get(_a,"code"),s=e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${r};
        padding: 16px 32px;
        font-size: 14px;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,o=e`
        display: none;
    `,a=e`
        display: flex;
        justify-content: center;
        padding: 16px 0;
    `;return{codeStyle:s,hideCodeStyle:o,previewPanelStyle:a}},Fne=(t,e)=>{let n=!1,r;return{isEditing:()=>n,innerView:()=>r,openEditor:(i,s)=>{r=new v$(i,{state:Sc.create({doc:s,plugins:[Q$(),Id({...B$,Backspace:w4(gw,a=>{var l;if(!a.selection.empty||r&&r.state.doc.textContent.length>0)return!1;const{dispatch:u,state:h}=t,d=(l=h.schema.nodes.paragraph)==null?void 0:l.create();if(!d)return!1;const f=h.tr.replaceSelectionWith(d);let p=f.selection.from-2;return p<0&&(p=0),u(f.setSelection(Mt.create(f.doc,p))),t.focus(),!0}),"Mod-Enter":(a,l)=>{var u;if(l){const{state:h}=t,{to:d}=h.selection,f=(u=h.schema.nodes.paragraph)==null?void 0:u.createAndFill();if(!f)return!1;const p=h.tr.replaceWith(d,d,f);t.dispatch(p.setSelection(Mt.create(p.doc,d))),t.focus()}return!0}}),Id({"Mod-z":Pp,"Mod-y":nh,"Shift-Mod-z":nh})]}),plugins:[],dispatchTransaction:a=>{if(!r)return;const{state:l,transactions:u}=r.state.applyTransaction(a);if(r.updateState(l),!a.getMeta("fromOutside")){const h=t.state.tr,d=Ts.offset(e()+1);u.forEach(f=>{const{steps:p}=f;p.forEach(m=>{const g=m.map(d);if(!g)throw new Error("step discarded!");h.step(g)})}),h.docChanged&&t.dispatch(h)}}}),r.focus();const{state:o}=r;r.dispatch(o.tr.setSelection(Mt.create(o.doc,0))),n=!0},closeEditor:()=>{r&&r.destroy(),r=void 0,n=!1}}},Nne=(t,e)=>{t.set("inner-editor",({view:n,getPos:r,render:i})=>{const s=Fne(n,r),o=document.createElement("div");o.classList.add("math-block");const a=document.createElement("div"),l=document.createElement("div");let u="",h="",d="";return t.onFlush(()=>{({codeStyle:u,hideCodeStyle:h,previewPanelStyle:d}=Lne(t,e)),u&&h&&a.classList.add(u,h),d&&l.classList.add(d)}),o.append(a),{dom:o,preview:l,editor:a,onUpdate:(f,p)=>{var m;if(p){const b=f.attrs.value||f.textContent||"";a.dataset.value=b,i(b);return}const g=s.innerView();if(g){const b=g.state,O=f.content.findDiffStart(b.doc.content);if(O!=null){const w=f.content.findDiffEnd(b.doc.content);if(w){let{a:D,b:C}=w;const T=O-Math.min(D,C);T>0&&(D+=T,C+=T),g.dispatch(b.tr.replace(O,C,f.slice(O,D)).setMeta("fromOutside",!0))}}}const y=((m=f.content.firstChild)==null?void 0:m.text)||"";a.dataset.value=y,i(y)},onFocus:f=>{!n.editable||(h&&a.classList.remove(h),s.openEditor(a,f),o.classList.add("ProseMirror-selectednode"))},onBlur:()=>{h&&a.classList.add(h),s.closeEditor(),o.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{l.remove(),a.remove(),o.remove()},stopEvent:f=>{const p=s.innerView(),{target:m}=f,g=m&&(p==null?void 0:p.dom.contains(m));return!!(p&&g)}}})},Ine=(t,{css:e},n)=>{const r=_o(t);return e`
        ${t.get(ci,void 0)}
        ${t.get(jo,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${r("surface")};
        border-radius: ${t.get(yn,"radius")};
        font-size: 16px;

        height: 56px;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 16px;
        gap: 16px;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${r("primary")};
            &::placeholder {
                color: ${r("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 36px;
            color: ${r("primary")};
            font-size: 14px;
            padding: 0 8px;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${r("secondary",.12)};
            }
            &.disable {
                color: ${r("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},Rne=(t,e)=>{pw(t,e,(n,r,i,s)=>{const o=t.dom.parentElement;if(!o)throw ms();const a=r.left-n.left;let l=n.left-s.left-(i.width-a)/2;const u=n.bottom-s.top+14+o.scrollTop;l<0&&(l=0);const h=o.clientWidth-(i.width+4);return l>h&&(l=h),[u,l]})},Qne=(t,e)=>{t.set("input-chip",({isBindMode:n,onUpdate:r,buttonText:i,placeholder:s,width:o="400px",calculatePosition:a=Rne})=>{let l=null,u=!1,h="";const d=document.createElement("div");t.onFlush(()=>{const O=Ine(t,e,{width:o});O&&d.classList.add(O)}),d.classList.add("tooltip-input");const f=document.createElement("input");s&&(f.placeholder=s),d.appendChild(f),n||(l=document.createElement("button"),l.innerText=i||"APPLY",d.appendChild(l));const p=()=>{d.classList.add("hide")},m=O=>{d.classList.remove("hide"),a(O,d)},g=O=>{const{target:w}=O;if(w instanceof HTMLInputElement){if(h=w.value,!l){r(h);return}if(!h){l.classList.add("disable"),u=!0;return}l.classList.remove("disable"),u=!1}},y=O=>{u||(O.stopPropagation(),r(h),p())},b=O=>{"key"in O&&O.key==="Enter"&&(r(h),p())};return{dom:d,init:O=>{const w=O.dom.parentElement;if(!w)throw ms();f.addEventListener("input",g),f.addEventListener("keydown",b),l==null||l.addEventListener("mousedown",y),w.appendChild(d),p()},show:m,hide:p,destroy:()=>{f.removeEventListener("input",g),f.removeEventListener("keydown",b),l==null||l.removeEventListener("mousedown",y),d.remove()},update:O=>{h=O,f.value=O}}})},zne=(t,{css:e})=>{const n=_o(t);t.set("task-list-item",({onChange:r,editable:i})=>{const s=p=>{var m;return(m=t.get(gr,p))==null?void 0:m.dom},o=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div");let d=s("unchecked");a.appendChild(d);const f=p=>{const m=s(p);a.replaceChild(m,d),d=m};return a.append(u,l),o.append(a,h),a.contentEditable="false",u.type="checkbox",i()||(u.disabled=!0,a.style.cursor="not-allowed"),u.onchange=p=>{if(p.target instanceof HTMLInputElement){if(!i()){u.checked=!u.checked;return}p.preventDefault(),r(u.checked)}},o.dataset.type="task-item",o.classList.add("task-list-item"),t.onFlush(()=>{const p=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    display: inline-block;
                    width: 24px;
                    height: 24px;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                &[data-checked='true'] {
                    > label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    > label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 8px 0;
                }
            `;p&&o.classList.add(p)}),{dom:o,contentDOM:h,onUpdate:p=>{o.dataset.checked=p.attrs.checked,p.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),f(p.attrs.checked?"checked":"unchecked")}}})},Vne=(t,e)=>{[Qne,$ne,Bne,zne,Nne].forEach(n=>{n(t,e)})},Wne=["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],qne=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],d9={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},dragHandle:{label:"drag handle",icon:"drag_indicator"},text:{label:"text",icon:"title"}},Xne=t=>{const e=d9[t];if(!e)return;const n=document.createElement("span");n.className="icon material-icons material-icons-outlined";const r=d9[t];return r?(n.textContent=r.icon,n.dataset.label=r.label):console.warn(`Icon not found: "${t}", did you forget to add it to the icon mapping?`),{dom:n,label:e.label}},ns={nord0:"#2e3440",nord1:"#3b4252",nord2:"#434c5e",nord3:"#4c566a",nord4:"#d8dee9",nord5:"#e5e9f0",nord6:"#eceff4",nord7:"#8fbcbb",nord8:"#88c0d0",nord9:"#81a1c1",nord10:"#5e81ac",nord11:"#bf616a",nord12:"#d08770",nord13:"#ebcb8b",nord14:"#a3be8c",nord15:"#b48ead"},Yne={shadow:ns.nord1,primary:ns.nord10,secondary:ns.nord9,neutral:ns.nord0,solid:ns.nord3,line:ns.nord4,background:ns.nord6,surface:"#fff"},Une={shadow:ns.nord1,primary:ns.nord10,secondary:ns.nord9,neutral:ns.nord6,solid:ns.nord4,line:ns.nord2,background:"#252932",surface:ns.nord0},jne=(t,e)=>{const{injectGlobal:n,css:r}=e,i=_o(t),s=t.get(yn,"radius"),o=i("neutral",.87),a=i("surface"),l=i("line"),u=i("secondary",.38),h=r`
        .ProseMirror-selectednode {
            outline: ${t.get(yn,"lineWidth")} solid ${l};
        }

        li.ProseMirror-selectednode {
            outline: none;
        }

        li.ProseMirror-selectednode::after {
            ${t.get(ci,void 0)};
        }

        & ::selection {
            background: ${u};
        }
    `,d=r`
        padding: 50px 20px;
        outline: none;
        & > * {
            margin: 30px 0;
        }
    `,f=r`
        p {
            font-size: 16px;
            line-height: 1.5;
            letter-spacing: 0.5px;
        }
    `,p=r`
        blockquote {
            padding-left: 30px;
            line-height: 28px;
            border-left: 4px solid ${i("primary")};
            margin-left: 0;
            margin-right: 0;
            * {
                font-size: 16px;
                line-height: 24px;
            }
        }
    `,m=r`
        h1 {
            font-size: 48px;
            line-height: 1.167;
        }
        h2 {
            font-size: 40px;
            line-height: 1.2;
        }
        h3 {
            font-size: 34px;
            line-height: 1.05;
        }
        h4 {
            font-size: 28px;
            line-height: 1.14;
        }
        h5 {
            font-size: 24px;
            line-height: 1;
        }
        h6 {
            font-size: 20px;
            line-height: 1;
        }
        .heading {
            margin: 40px 0;
            font-weight: 400;
        }
    `,g=r`
        hr {
            height: ${t.get(yn,"lineWidth")};
            background-color: ${l};
            border-width: 0;
        }
    `,y=r`
        ul,
        ol {
            padding: 0;
        }

        .list-item,
        .task-list-item {
            margin-top: 8px;
        }

        .list-item_label,
        .list-item .paragraph {
            margin: 0;
        }

        .list-item {
            display: flex;

            &_body {
                flex: 1;
            }
        }

        .list-item_label {
            display: flex;
            justify-content: center;
            width: 24px;
            height: 24px;
            font-size: 16px;
            line-height: 1.5;
            color: ${i("primary")};
        }

        .list-item[data-list-type='bullet'] {
            & > .list-item_label {
                font-size: 24px;
                line-height: 1;
            }
        }

        li {
            &::marker {
                display: none;
            }
        }

        .task-list-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            &_checkbox {
                margin: 8px 8px 8px 0;
                height: 16px;
            }
            & .paragraph {
                margin: 0;
            }
        }
    `,b=r`
        .code-fence {
            pre {
                font-family: ${t.get(_a,"code")};
                margin: 0 18px;
                ${t.get(Ba,["x"])}

                background-color: ${i("background")};
                color: ${i("neutral")};
                font-size: 14px;
                border-radius: ${s};

                code {
                    line-height: 1.5;
                    font-family: ${t.get(_a,"code")};
                }
            }
        }
    `,O=r`
        .image {
            display: inline-block;
            margin: 0 auto;
            object-fit: contain;
            width: 100%;
            position: relative;
            height: auto;
            text-align: center;
        }
    `,w=r`
        .code-inline {
            background-color: ${i("neutral")};
            color: ${i("background")};
            border-radius: ${s};
            font-weight: 500;
            font-family: ${t.get(_a,"code")};
            padding: 0 3px;
        }

        .strong {
            font-weight: 600;
        }

        .link,
        a {
            color: ${i("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${i("line")};
                box-shadow: 0 3px ${i("line")}, 0 -3px ${i("line")};
            }
        }

        .strike-through {
            text-decoration-color: ${i("secondary")};
        }
    `,D=r`
        .footnote-definition {
            ${t.get(ci,void 0)};
            border-radius: ${t.get(yn,"radius")};
            background-color: ${i("background")};
            padding: 16px;
            display: flex;
            flex-direction: row;
            & > .footnote-definition_content {
                flex: 1;
                width: calc(100% - 16px);
                & > dd {
                    margin-inline-start: 16px;
                }
                & > dt {
                    color: ${i("secondary")};
                    font-weight: 500;
                }
            }
            & > .footnote-definition_anchor {
                width: 16px;
            }
        }
    `,C=r`
        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
        .tableWrapper {
            overflow-x: auto;
            margin: 0;
            ${t.get(Ba,["x"])}
            width: 100%;
            * {
                margin: 0;
                box-sizing: border-box;
                font-size: 16px;
            }
        }
        table {
            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            overflow: auto;
            border-radius: ${t.get(yn,"radius")};
        }
        tr {
            ${t.get(ci,"bottom")};
        }
        td,
        th {
            padding: 0 16px;
            vertical-align: top;
            box-sizing: border-box;
            position: relative;

            min-width: 100px;
            ${t.get(ci,void 0)};
            text-align: left;
            line-height: 3;
            height: 48px;
            vertical-align: middle;
        }
        th {
            background: ${i("background",.5)};
            font-weight: 400;
        }
        .column-resize-handle {
            position: absolute;
            right: -2px;
            top: 0;
            bottom: 0;
            z-index: 20;
            pointer-events: none;
            background: ${i("secondary")};
            width: ${t.get(yn,"lineWidth")};
        }

        .selectedCell {
            &::after {
                z-index: 2;
                position: absolute;
                content: '';
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background: ${i("secondary",.38)};
                pointer-events: none;
            }

            & ::selection {
                background: transparent;
            }
        }
    `;Mne(e),n`
        .milkdown {
            .material-icons-outlined {
                font-size: 24px;
            }

            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;


            color: ${o};
            background: ${a};
            font-family: ${t.get(_a,"typography")};

            ${t.get(jo,void 0)}
            ${t.get(Ba,void 0)}
            ${h};

            .resize-cursor {
                cursor: ew-resize;
                cursor: col-resize;
            }

            .editor {
                ${d};

                ${f};
                ${p};
                ${g};
                ${y};
                ${b};
                ${O};
                ${m};

                ${C};
                ${D};

                ${w};
            }
        }
    `},Hne={typography:Wne,code:qne},Zne={radius:"4px",lineWidth:"1px"},Gne=t=>(e,n)=>{const{css:r}=e,i=t?Une:Yne;n.set(wi,s=>{if(!s)return;const[o,a]=s,l=i[o],u=pH(l);if(u)return`rgba(${u==null?void 0:u.join(", ")}, ${a||1})`}),n.set(yn,s=>{if(s)return Zne[s]}),n.set(_a,s=>{if(s)return Hne[s].join(", ")}),n.set(Ba,([s="y",o="normal"]=["y","normal"])=>{const a=n.get(wi,["secondary",.38]),l=n.get(wi,["secondary",.12]),u=n.get(wi,["secondary"]),h=r({"&::-webkit-scrollbar":{[s==="y"?"width":"height"]:`${o==="thin"?2:12}px`,backgroundColor:"transparent"}});return r`
            scrollbar-width: thin;
            scrollbar-color: ${a} ${l};
            -webkit-overflow-scrolling: touch;

            ${h};

            &::-webkit-scrollbar-track {
                border-radius: 999px;
                background: transparent;
                border: 4px solid transparent;
            }

            &::-webkit-scrollbar-thumb {
                border-radius: 999px;
                background-color: ${a};
                border: ${o==="thin"?0:4}px solid transparent;
                background-clip: content-box;
            }

            &::-webkit-scrollbar-thumb:hover {
                background-color: ${u};
            }
        `}),n.set(jo,()=>{const s=n.get(yn,"lineWidth"),o=a=>n.get(wi,["shadow",a]);return r`
            box-shadow: 0 ${s} ${s} ${o(.14)}, 0 2px ${s} ${o(.12)},
                0 ${s} 3px ${o(.2)};
        `}),n.set(ci,s=>{const o=n.get(yn,"lineWidth"),a=n.get(wi,["line"]);return s?r({[`border${(l=>l.charAt(0).toUpperCase()+l.slice(1))(s)}`]:`${o} solid ${a}`}):r`
                border: ${o} solid ${a};
            `}),n.set(gr,s=>{if(s)return Xne(s)}),n.set(qk,()=>{jne(n,e)}),Vne(n,e)},Ow=(t=!1)=>lne((e,n)=>Gne(t)(e,n));Ow(!0);const Kne=Ow(!1);let z$=!1;var f9;typeof window<"u"&&(z$=Boolean((f9=window.matchMedia)==null?void 0:f9.call(window,"(prefers-color-scheme: dark)").matches));Ow(z$);let Jne=t=>crypto.getRandomValues(new Uint8Array(t)),ere=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),l=i;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},vw=(t,e=21)=>ere(t,e,Jne);var tre=Object.defineProperty,nre=(t,e,n)=>e in t?tre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m5=(t,e,n)=>(nre(t,typeof e!="symbol"?e+"":e,n),n);const V$=Symbol("rendererKey"),rre=t=>{const e=K2(V$,()=>{throw fj()}),{dom:n,loading:r,editor:i}=K2(xw,{}),s=yt(!1);tP(()=>{if(!n.value)return;const o=t(n.value,e);!o||s.value||(r.value=!0,s.value=!0,o.create().then(a=>{i.value=a}).finally(()=>{r.value=!1,s.value=!1}).catch(a=>console.error(a)))}),e4(()=>{var o;(o=i.value)==null||o.destroy()})},W$=b0({name:"MilkdownDomRoot",setup:(t,{slots:e})=>{rre(t.editor);const n=K2(xw,{});return t.editorRef&&(t.editorRef.get=()=>n.editor.value,t.editorRef.dom=()=>n.dom.value),()=>{var r;return Et("div",{ref:n.dom},[(r=e.default)==null?void 0:r.call(e)])}}});W$.props=["editor","editorRef"];const ire=Symbol("nodeMetadata"),q$=b0({name:"MilkdownNodeContainer",setup:({node:t,view:e,getPos:n,decorations:r,ctx:i,as:s},o)=>(fv(ire,{ctx:i,node:t,view:e,getPos:n,decorations:r}),()=>{var a,l;return es(s,{"data-view-container":!0},(l=(a=o.slots).default)==null?void 0:l.call(a))})});q$.props=["ctx","editor","node","view","getPos","decorations","as"];const X$=b0({name:"MilkdownContent",setup:({isInline:t})=>()=>t?Et("span",{"data-view-content":!0},null):Et("div",{"data-view-content":!0},null)});X$.props=["isInline"];const sre=vw("abcedfghicklmn",10),ore=(t,e,n)=>(r,i={})=>s=>(o,a,l,u)=>new are(s,r,t,e,n,i,o,a,l,u);var p9,m9;class are{constructor(e,n,r,i,s,o,a,l,u,h){m5(this,"getPortal",()=>{const f=this.component,p=this.options.as?this.options.as:this.isInlineOrMark?"span":"div";return pv(b0({name:"MilkdownPortal",setup:()=>()=>Et(nU,{key:this.key,to:this.teleportDOM},{default:()=>[Et(q$,{as:p,ctx:this.ctx,node:this.node,view:this.view,getPos:this.getPos,decorations:this.decorations},{default:()=>[Et(f,null,{default:()=>[Et(X$,{isInline:this.isInlineOrMark},null)]})]})]})}))}),m5(this,"selectNode",(p9=this.options)==null?void 0:p9.selectNode),m5(this,"deselectNode",(m9=this.options)==null?void 0:m9.deselectNode),this.ctx=e,this.component=n,this.rootInstance=r,this.addPortal=i,this.removePortalByKey=s,this.options=o,this.view=l,this.getPos=u,this.key=sre(),this.node=yt(a),this.decorations=yt(h);const d=o.as?o.as:this.isInlineOrMark?"span":"div";this.teleportDOM=document.createElement(d),this.renderPortal()}get isInlineOrMark(){return this.node.value instanceof on||this.node.value.isInline}get dom(){return this.teleportDOM.firstElementChild||this.teleportDOM}get contentDOM(){if(!(this.node instanceof Ps&&this.node.isLeaf))return this.teleportDOM.querySelector("[data-view-content]")||this.dom}renderPortal(){if(!this.teleportDOM)return;const e=this.getPortal();this.addPortal(e,this.key);const n=this.rootInstance.value;n&&n.update()}destroy(){var e,n;(n=(e=this.options).destroy)==null||n.call(e),this.teleportDOM.remove(),this.removePortalByKey(this.key)}ignoreMutation(e){return this.options.ignoreMutation?this.options.ignoreMutation(e):!this.dom||!this.contentDOM||this.node instanceof Ps&&(this.node.isLeaf||this.node.isAtom)?!0:!(e.type==="selection"||this.contentDOM===this.dom||this.contentDOM.contains(e.target))}update(e,n,r){return(()=>{var i,s;if(this.options.update){const o=(s=(i=this.options).update)==null?void 0:s.call(i,e,n,r);if(o!=null)return o}return this.node.value.type!==e.type?!1:(e===this.node.value&&this.decorations.value===n||(this.node.value=e,this.decorations.value=n),!0)})()}}function lre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!eU(t)}const xw=Symbol("editorInfoCtxKey"),cre=`
@milkdown/vue:
Passing ref to VueEditor will soon be deprecated, please use:

const { editor, getInstance, getDom, loading } = useEditor(/* creator */);

effect(() => {
    if (!loading) {
        const editor = getInstance();
        const rootDOM = getDom();
    }
})

<VueEditor editor={editor} />
`,ure=`
@milkdown/vue:
Passing editor directly to VueEditor will soon be deprecated, please use:

const { editor } = useEditor(/* creator */);

<VueEditor editor={editor} />
`,Y$=b0({name:"MilkdownVueRoot",setup:t=>{const e=GY([]),n=tU(),r=yt(null);KY(()=>{r.value=n.ctx._}),e4(()=>{r.value=null});const i=pv((f,p)=>{e.push([p,f])}),s=pv(f=>{const p=e.findIndex(m=>m[0]===f);e.splice(p,1)}),o=ore(r,i,s);fv(V$,o);const a=Object.hasOwnProperty.call(t.editor,"getInstance"),{getEditorCallback:l,dom:u,editor:h,loading:d}=a?t.editor.editor:t.editor;return JY(()=>{a&&console.warn(ure),t.editorRef&&console.warn(cre)}),fv(xw,{dom:u,editor:h,loading:d}),()=>{const f=e.map(([p,m])=>Et(m,{key:p},null));return Et(W$,{editorRef:t.editorRef,editor:l.value},lre(f)?f:{default:()=>[f]})}}});Y$.props=["editor","editorRef"];const hre=t=>{const e=yt(null),n=yt(),r=yt(!0),i=yt((...s)=>t(...s));return{loading:r,getInstance:()=>n.value,getDom:()=>e.value,editor:{getEditorCallback:i,dom:e,editor:n,loading:r}}},g9=t=>Object.prototype.hasOwnProperty.call(t,"origin");class Ai extends Array{findThenRun(e,n){const r=this.findIndex(i=>g9(i)&&i.origin===e);return r<0?this:(n(r),this)}configure(e,n){return this.findThenRun(e,r=>{this.splice(r,1,e(n))})}replace(e,n){return this.findThenRun(e,r=>{this.splice(r,1,n)})}remove(e){return this.findThenRun(e,n=>{this.splice(n,1)})}headless(){return this.filter(g9).forEach(e=>{this.configure(e.origin,{headless:!0})}),this}static create(e){return new Ai(...e)}}vw("abcedfghicklmn",10);const dre=t=>{const e=()=>async n=>{await n.wait(Bl);const r=t(n);n.update(Rd,i=>[...i,r]),e.plugin=r};return e},fre=t=>(e,...n)=>{var r;const i=(r=t==null?void 0:t(e,...n))!=null?r:n;return Array.isArray(i)?i.filter(s=>s).join(" "):i},kn=(t,e,n)=>[t,e,n];function kw(t,e){try{const n=t.get(Er),r=t.get(ju);if(!r.css)throw C_();return{getClassName:fre(e==null?void 0:e.className),getStyle:i=>e!=null&&e.headless?"":i(r),themeManager:n}}catch{throw C_()}}const ww=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},_w=(t,e)=>n=>{const r=n,i=s=>e((...o)=>s(t(...o),...o));return r.extend=i,r},_4=(...t)=>{const e=t.length;let n=e;for(;n--;)if(typeof t[n]!="function")throw new TypeError("Expected a function");return(...r)=>{let i=0,s=e?t[i](...r):r[0];for(;++i<e;)s=t[i](s);return s}},k0=Bt({},"optionsPipeCtx"),P1=Bt([],"injectPipeCtx"),Sw=async(t,e)=>{const{pipelineCtx:n,onCleanup:r,pre:i}=t,s=n.get(P1);s&&(s.forEach(o=>i.inject(o)),r(o=>{s.forEach(a=>o.remove(a))})),await e()},Cw=async(t,e)=>{const{ctx:n}=t;await n.wait(Xf),await e()},B1=Bt(void 0,"getRemarkPluginsPipeCtx"),Tw=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t;await n.wait(Bl);const s=r.get(B1);if(s){const o=s(n);n.update(Rd,a=>a.concat(o)),i(()=>{n.update(Rd,a=>a.filter(l=>!o.includes(l)))})}await e()},$1=Bt(void 0,"getSchemaPipeCtx"),L1=Bt({},"Type"),Dw=async(t,e)=>{var n;const{ctx:r,pipelineCtx:i,onCleanup:s}=t,o=i.get($1),a=(n=o==null?void 0:o(t.ctx))!=null?n:{};let l={},u={};if(a.node){l=a.node;const m=Object.entries(a.node);r.update(Lc,g=>[...g,...m]),s(()=>{r.update(Lc,g=>g.filter(y=>!m.includes(y)))})}if(a.mark){u=a.mark;const m=Object.entries(a.mark);r.update(Fc,g=>[...g,...m]),s(()=>{r.update(Fc,g=>g.filter(y=>!m.includes(y)))})}await r.wait(eh);const h=r.get(Lr),d=Object.keys(l).map(m=>[m,h.nodes[m]]),f=Object.keys(u).map(m=>[m,h.marks[m]]),p=Object.fromEntries([...d,...f]);i.set(L1,p),await e()},F1=Bt(void 0,"getCommandsPipeCtx"),Ew=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,s=r.get(F1);if(s){const o=r.get(L1),a=s(o,n);a.forEach(([l,u])=>{n.get(Hn).create(l,u)}),i(()=>{a.forEach(([l])=>{n.get(Hn).remove(l)})})}await e()},N1=Bt(void 0,"getInputRulesPipeCtx"),Aw=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,s=r.get(N1);if(s){const o=r.get(L1),a=s(o,n);n.update(Dp,l=>[...l,...a]),i(()=>{n.update(Dp,l=>l.filter(u=>!a.includes(u)))})}await e()},I1=Bt({},"shortcutsPipeCtx"),Mw=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get(I1),o=n.get(k0),a=(h,d)=>{var f,p;return(p=(f=o==null?void 0:o.keymap)==null?void 0:f[h])!=null?p:d},l=Object.entries(s).flatMap(([h,[d,f,p]])=>{const m=()=>r.get(Hn).call(d,p),g=a(h,f);return Array.isArray(g)?g.map(y=>({key:y,runner:m})):{key:g,runner:m}}).map(h=>[h.key,h.runner]),u=Id(Object.fromEntries(l));r.update(go,h=>h.concat(u)),i(()=>{r.update(go,h=>h.filter(d=>d!==u))}),await e()},R1=Bt(void 0,"getProsePluginsPipeCtx"),Pw=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get(R1);if(s){const o=n.get(L1),a=s(o,r);r.update(go,l=>[...l,...a]),i(()=>{r.update(go,l=>l.filter(u=>!a.includes(u)))})}await e()},Q1=Bt(void 0,"getViewPipeCtx"),Bw=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get(Q1),o=n.get(k0),a=o.view?o.view(r):s==null?void 0:s(r);if(a){const l=Object.entries(a).filter(([h])=>r.get(Lc).findIndex(d=>d[0]===h)!==-1),u=Object.entries(a).filter(([h])=>r.get(Fc).findIndex(d=>d[0]===h)!==-1);r.update(Ep,h=>[...h,...l]),r.update(Ap,h=>[...h,...u]),i(()=>{r.update(Ep,h=>h.filter(d=>!l.includes(d))),r.update(Ap,h=>h.filter(d=>!u.includes(d)))})}await e()},$w=Bt("","idPipeCtx"),Lw=async(t,e)=>{const{pipelineCtx:n}=t;n.inject($w).inject(k0).inject(P1).inject(B1).inject($1).inject(L1).inject(F1).inject(N1).inject(I1).inject(R1).inject(Q1),await e()},pre=t=>(e,n)=>{let r=-1;const i=s=>{if(s<=r)return Promise.reject(new Error("next() called multiple times"));r=s;let o=t[s];if(s===t.length&&(o=n),!o)return Promise.resolve();try{return Promise.resolve(o(e,()=>i(s+1)))}catch(a){return Promise.reject(a)}};return i(0)},Fw=t=>{const e=pre(t),n=r4(),r=lP(),i=new Set,s=new Oj(n,r),o=u=>{i.add(u)},a=async u=>{await Promise.all([...i].map(h=>h(u)))},l=(u,h)=>e({pre:u,ctx:h,pipelineCtx:s,onCleanup:o});return l.runCleanup=a,l},w0=t=>_4(ww,_w(t,w0))(e=>n=>async r=>{const i=Fw([Lw,Cw,async({pipelineCtx:s},o)=>{const a=kw(r,e),l=t(a,e),{id:u,commands:h,remarkPlugins:d,schema:f,inputRules:p,shortcuts:m,prosePlugins:g,view:y,injectSlices:b}=l,O=e==null?void 0:e.view,w=b!=null?b:[],D={...e||{},view:O?C=>({[u]:O(C)}):void 0};s.set(P1,w),s.set($w,u),s.set(k0,D),s.set(B1,d),s.set($1,C=>({mark:{[u]:f(C)}})),h&&s.set(F1,(C,T)=>h(C[u],T)),p&&s.set(N1,(C,T)=>p(C[u],T)),m&&s.set(I1,m),g&&s.set(R1,(C,T)=>g(C[u],T)),y&&s.set(Q1,C=>({[u]:y(C)})),await o()},Sw,Tw,Dw,Ew,Aw,Mw,Pw,Bw]);return await i(n,r),i.runCleanup}),wr=t=>_4(ww,_w(t,wr))(e=>n=>async r=>{const i=Fw([Lw,Cw,async({pipelineCtx:s},o)=>{const a=kw(r,e),l=t(a,e),{id:u,commands:h,remarkPlugins:d,schema:f,inputRules:p,shortcuts:m,prosePlugins:g,view:y,injectSlices:b}=l,O=e==null?void 0:e.view,w=b!=null?b:[],D={...e||{},view:O?C=>({[u]:O(C)}):void 0};s.set(P1,w),s.set($w,u),s.set(k0,D),s.set(B1,d),s.set($1,C=>({node:{[u]:f(C)}})),h&&s.set(F1,(C,T)=>h(C[u],T)),p&&s.set(N1,(C,T)=>p(C[u],T)),m&&s.set(I1,m),g&&s.set(R1,(C,T)=>g(C[u],T)),y&&s.set(Q1,C=>({[u]:y(C)})),await o()},Sw,Tw,Dw,Ew,Aw,Mw,Pw,Bw]);return await i(n,r),i.runCleanup}),Is=t=>_4(ww,_w(t,Is))(e=>n=>async r=>{const i=Fw([Lw,Cw,async({pipelineCtx:s},o)=>{const a=kw(r,e),l=t(a,e),{commands:u,remarkPlugins:h,schema:d,inputRules:f,shortcuts:p,prosePlugins:m,view:g,injectSlices:y}=l,b=y!=null?y:[];s.set(P1,b),s.set(k0,e||{}),s.set(B1,h),d&&s.set($1,d),u&&s.set(F1,u),f&&s.set(N1,f),p&&s.set(I1,p),m&&s.set(R1,m),g&&s.set(Q1,g),await o()},Sw,Tw,Dw,Ew,Aw,Mw,Pw,Bw]);return await i(n,r),i.runCleanup}),mre=()=>t=>{const e=t.get(Qn),{tr:n}=e.state,r=Object.assign(Object.create(n),n).setTime(Date.now());return e.dispatch(r)},Tm=t=>e=>{const n=e.get(Qn),r=e.get(Nc)(t);if(!r)return;const i=n.state.selection.content();return n.dispatch(n.state.tr.replaceSelection(new He(r.content,i.openStart,i.openEnd)).scrollIntoView())},gre=(t,e=!1)=>n=>{const r=n.get(Qn),i=n.get(Nc)(t);if(!i)return;if(!e){const{state:h}=r;return r.dispatch(h.tr.replace(0,h.doc.content.size,new He(i.content,0,0)))}const s=n.get(Lr),o=n.get(t2),a=n.get(go),l=n.get(Er),u=Sc.create({schema:s,doc:i,plugins:a,...o});r.updateState(u),l.flush(n)};var U$={exports:{}},yre=typeof af=="object"&&af&&af.Object===Object&&af,j$=yre,bre=j$,Ore=typeof self=="object"&&self&&self.Object===Object&&self,vre=bre||Ore||Function("return this")(),uu=vre,xre=uu,kre=xre.Symbol,Nw=kre;function wre(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var _re=wre,y9=Nw,H$=Object.prototype,Sre=H$.hasOwnProperty,Cre=H$.toString,R0=y9?y9.toStringTag:void 0;function Tre(t){var e=Sre.call(t,R0),n=t[R0];try{t[R0]=void 0;var r=!0}catch{}var i=Cre.call(t);return r&&(e?t[R0]=n:delete t[R0]),i}var Dre=Tre,Ere=Object.prototype,Are=Ere.toString;function Mre(t){return Are.call(t)}var Pre=Mre,b9=Nw,Bre=Dre,$re=Pre,Lre="[object Null]",Fre="[object Undefined]",O9=b9?b9.toStringTag:void 0;function Nre(t){return t==null?t===void 0?Fre:Lre:O9&&O9 in Object(t)?Bre(t):$re(t)}var z1=Nre;function Ire(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Z$=Ire,Rre=z1,Qre=Z$,zre="[object AsyncFunction]",Vre="[object Function]",Wre="[object GeneratorFunction]",qre="[object Proxy]";function Xre(t){if(!Qre(t))return!1;var e=Rre(t);return e==Vre||e==Wre||e==zre||e==qre}var G$=Xre,Yre=uu,Ure=Yre["__core-js_shared__"],jre=Ure,g5=jre,v9=function(){var t=/[^.]+$/.exec(g5&&g5.keys&&g5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hre(t){return!!v9&&v9 in t}var Zre=Hre,Gre=Function.prototype,Kre=Gre.toString;function Jre(t){if(t!=null){try{return Kre.call(t)}catch{}try{return t+""}catch{}}return""}var K$=Jre,eie=G$,tie=Zre,nie=Z$,rie=K$,iie=/[\\^$.*+?()[\]{}|]/g,sie=/^\[object .+?Constructor\]$/,oie=Function.prototype,aie=Object.prototype,lie=oie.toString,cie=aie.hasOwnProperty,uie=RegExp("^"+lie.call(cie).replace(iie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hie(t){if(!nie(t)||tie(t))return!1;var e=eie(t)?uie:sie;return e.test(rie(t))}var die=hie;function fie(t,e){return t==null?void 0:t[e]}var pie=fie,mie=die,gie=pie;function yie(t,e){var n=gie(t,e);return mie(n)?n:void 0}var V1=yie,bie=V1,Oie=uu,vie=bie(Oie,"DataView"),xie=vie,kie=V1,wie=uu,_ie=kie(wie,"Map"),Sie=_ie,Cie=V1,Tie=uu,Die=Cie(Tie,"Promise"),Eie=Die,Aie=V1,Mie=uu,Pie=Aie(Mie,"Set"),Bie=Pie,$ie=V1,Lie=uu,Fie=$ie(Lie,"WeakMap"),Nie=Fie,tx=xie,nx=Sie,rx=Eie,ix=Bie,sx=Nie,J$=z1,_0=K$,x9="[object Map]",Iie="[object Object]",k9="[object Promise]",w9="[object Set]",_9="[object WeakMap]",S9="[object DataView]",Rie=_0(tx),Qie=_0(nx),zie=_0(rx),Vie=_0(ix),Wie=_0(sx),Eu=J$;(tx&&Eu(new tx(new ArrayBuffer(1)))!=S9||nx&&Eu(new nx)!=x9||rx&&Eu(rx.resolve())!=k9||ix&&Eu(new ix)!=w9||sx&&Eu(new sx)!=_9)&&(Eu=function(t){var e=J$(t),n=e==Iie?t.constructor:void 0,r=n?_0(n):"";if(r)switch(r){case Rie:return S9;case Qie:return x9;case zie:return k9;case Vie:return w9;case Wie:return _9}return e});var qie=Eu,Xie=9007199254740991;function Yie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xie}var eL=Yie,Uie=G$,jie=eL;function Hie(t){return t!=null&&jie(t.length)&&!Uie(t)}var tL=Hie,Zie=Array.isArray,nL=Zie;function Gie(t){return t!=null&&typeof t=="object"}var S4=Gie,Kie=z1,Jie=nL,ese=S4,tse="[object String]";function nse(t){return typeof t=="string"||!Jie(t)&&ese(t)&&Kie(t)==tse}var rse=nse;function ise(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var sse=ise;function ose(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ase=ose;function lse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cse=lse;function use(t){return t.split("")}var hse=use,dse="\\ud800-\\udfff",fse="\\u0300-\\u036f",pse="\\ufe20-\\ufe2f",mse="\\u20d0-\\u20ff",gse=fse+pse+mse,yse="\\ufe0e\\ufe0f",bse="\\u200d",Ose=RegExp("["+bse+dse+gse+yse+"]");function vse(t){return Ose.test(t)}var xse=vse,rL="\\ud800-\\udfff",kse="\\u0300-\\u036f",wse="\\ufe20-\\ufe2f",_se="\\u20d0-\\u20ff",Sse=kse+wse+_se,Cse="\\ufe0e\\ufe0f",Tse="["+rL+"]",ox="["+Sse+"]",ax="\\ud83c[\\udffb-\\udfff]",Dse="(?:"+ox+"|"+ax+")",iL="[^"+rL+"]",sL="(?:\\ud83c[\\udde6-\\uddff]){2}",oL="[\\ud800-\\udbff][\\udc00-\\udfff]",Ese="\\u200d",aL=Dse+"?",lL="["+Cse+"]?",Ase="(?:"+Ese+"(?:"+[iL,sL,oL].join("|")+")"+lL+aL+")*",Mse=lL+aL+Ase,Pse="(?:"+[iL+ox+"?",ox,sL,oL,Tse].join("|")+")",Bse=RegExp(ax+"(?="+ax+")|"+Pse+Mse,"g");function $se(t){return t.match(Bse)||[]}var Lse=$se,Fse=hse,Nse=xse,Ise=Lse;function Rse(t){return Nse(t)?Ise(t):Fse(t)}var Qse=Rse;function zse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vse=zse,Wse=Vse;function qse(t,e){return Wse(e,function(n){return t[n]})}var Xse=qse;function Yse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Use=Yse,jse=z1,Hse=S4,Zse="[object Arguments]";function Gse(t){return Hse(t)&&jse(t)==Zse}var Kse=Gse,C9=Kse,Jse=S4,cL=Object.prototype,eoe=cL.hasOwnProperty,toe=cL.propertyIsEnumerable,noe=C9(function(){return arguments}())?C9:function(t){return Jse(t)&&eoe.call(t,"callee")&&!toe.call(t,"callee")},roe=noe,lx={exports:{}};function ioe(){return!1}var soe=ioe;(function(t,e){var n=uu,r=soe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(lx,lx.exports);var ooe=9007199254740991,aoe=/^(?:0|[1-9]\d*)$/;function loe(t,e){var n=typeof t;return e=e==null?ooe:e,!!e&&(n=="number"||n!="symbol"&&aoe.test(t))&&t>-1&&t%1==0&&t<e}var coe=loe,uoe=z1,hoe=eL,doe=S4,foe="[object Arguments]",poe="[object Array]",moe="[object Boolean]",goe="[object Date]",yoe="[object Error]",boe="[object Function]",Ooe="[object Map]",voe="[object Number]",xoe="[object Object]",koe="[object RegExp]",woe="[object Set]",_oe="[object String]",Soe="[object WeakMap]",Coe="[object ArrayBuffer]",Toe="[object DataView]",Doe="[object Float32Array]",Eoe="[object Float64Array]",Aoe="[object Int8Array]",Moe="[object Int16Array]",Poe="[object Int32Array]",Boe="[object Uint8Array]",$oe="[object Uint8ClampedArray]",Loe="[object Uint16Array]",Foe="[object Uint32Array]",An={};An[Doe]=An[Eoe]=An[Aoe]=An[Moe]=An[Poe]=An[Boe]=An[$oe]=An[Loe]=An[Foe]=!0;An[foe]=An[poe]=An[Coe]=An[moe]=An[Toe]=An[goe]=An[yoe]=An[boe]=An[Ooe]=An[voe]=An[xoe]=An[koe]=An[woe]=An[_oe]=An[Soe]=!1;function Noe(t){return doe(t)&&hoe(t.length)&&!!An[uoe(t)]}var Ioe=Noe;function Roe(t){return function(e){return t(e)}}var Qoe=Roe,cx={exports:{}};(function(t,e){var n=j$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(cx,cx.exports);var zoe=Ioe,Voe=Qoe,T9=cx.exports,D9=T9&&T9.isTypedArray,Woe=D9?Voe(D9):zoe,qoe=Woe,Xoe=Use,Yoe=roe,Uoe=nL,joe=lx.exports,Hoe=coe,Zoe=qoe,Goe=Object.prototype,Koe=Goe.hasOwnProperty;function Joe(t,e){var n=Uoe(t),r=!n&&Yoe(t),i=!n&&!r&&joe(t),s=!n&&!r&&!i&&Zoe(t),o=n||r||i||s,a=o?Xoe(t.length,String):[],l=a.length;for(var u in t)(e||Koe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hoe(u,l)))&&a.push(u);return a}var eae=Joe,tae=Object.prototype;function nae(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tae;return t===n}var rae=nae;function iae(t,e){return function(n){return t(e(n))}}var sae=iae,oae=sae,aae=oae(Object.keys,Object),lae=aae,cae=rae,uae=lae,hae=Object.prototype,dae=hae.hasOwnProperty;function fae(t){if(!cae(t))return uae(t);var e=[];for(var n in Object(t))dae.call(t,n)&&n!="constructor"&&e.push(n);return e}var pae=fae,mae=eae,gae=pae,yae=tL;function bae(t){return yae(t)?mae(t):gae(t)}var Oae=bae,vae=Xse,xae=Oae;function kae(t){return t==null?[]:vae(t,xae(t))}var wae=kae,E9=Nw,_ae=_re,Sae=qie,Cae=tL,Tae=rse,Dae=sse,Eae=ase,Aae=cse,Mae=Qse,Pae=wae,Bae="[object Map]",$ae="[object Set]",y5=E9?E9.iterator:void 0;function Lae(t){if(!t)return[];if(Cae(t))return Tae(t)?Mae(t):_ae(t);if(y5&&t[y5])return Dae(t[y5]());var e=Sae(t),n=e==Bae?Eae:e==$ae?Aae:Pae;return n(t)}var Fae=Lae;const Nae="\u2614",Iae="\u2615",Rae="\u2648",Qae="\u2649",zae="\u2650",Vae="\u2651",Wae="\u2652",qae="\u2653",Xae="\u2693",Yae="\u2705",Uae="\u2728",jae="\u2753",Hae="\u2754",Zae="\u2755",Gae="\u2757",Kae="\u2757",Jae="\u2795",ele="\u2796",tle="\u2797",nle="#\uFE0F\u20E3",rle="*\uFE0F\u20E3",ile="0\uFE0F\u20E3",sle="1\uFE0F\u20E3",ole="2\uFE0F\u20E3",ale="3\uFE0F\u20E3",lle="4\uFE0F\u20E3",cle="5\uFE0F\u20E3",ule="6\uFE0F\u20E3",hle="7\uFE0F\u20E3",dle="8\uFE0F\u20E3",fle="9\uFE0F\u20E3",ple="\xA9\uFE0F",mle="\xAE\uFE0F",gle="\u{1F004}",yle="\u{1F0CF}",ble="\u{1F170}\uFE0F",Ole="\u{1F171}\uFE0F",vle="\u{1F17E}\uFE0F",xle="\u{1F17F}\uFE0F",kle="\u{1F18E}",wle="\u{1F191}",_le="\u{1F192}",Sle="\u{1F193}",Cle="\u{1F194}",Tle="\u{1F196}",Dle="\u{1F197}",Ele="\u{1F198}",Ale="\u{1F199}",Mle="\u{1F19A}",Ple="\u{1F1E8}\u{1F1F3}",Ble="\u{1F1E9}\u{1F1EA}",$le="\u{1F1EA}\u{1F1F8}",Lle="\u{1F1EB}\u{1F1F7}",Fle="\u{1F1EC}\u{1F1E7}",Nle="\u{1F1EC}\u{1F1E7}",Ile="\u{1F1EE}\u{1F1F9}",Rle="\u{1F1EF}\u{1F1F5}",Qle="\u{1F1F0}\u{1F1F7}",zle="\u{1F1F7}\u{1F1FA}",Vle="\u{1F1FA}\u{1F1F8}",Wle="\u{1F201}",qle="\u{1F202}\uFE0F",Xle="\u{1F21A}",Yle="\u{1F22F}",Ule="\u{1F232}",jle="\u{1F233}",Hle="\u{1F234}",Zle="\u{1F235}",Gle="\u{1F236}",Kle="\u{1F237}\uFE0F",Jle="\u{1F238}",ece="\u{1F239}",tce="\u{1F23A}",nce="\u{1F250}",rce="\u{1F251}",ice="\u{1F300}",sce="\u{1F301}",oce="\u{1F302}",ace="\u{1F303}",lce="\u{1F304}",cce="\u{1F305}",uce="\u{1F306}",hce="\u{1F307}",dce="\u{1F308}",fce="\u{1F309}",pce="\u{1F30A}",mce="\u{1F30B}",gce="\u{1F30C}",yce="\u{1F30D}",bce="\u{1F30E}",Oce="\u{1F30F}",vce="\u{1F310}",xce="\u{1F311}",kce="\u{1F312}",wce="\u{1F313}",_ce="\u{1F314}",Sce="\u{1F314}",Cce="\u{1F315}",Tce="\u{1F316}",Dce="\u{1F317}",Ece="\u{1F318}",Ace="\u{1F319}",Mce="\u{1F31A}",Pce="\u{1F31B}",Bce="\u{1F31C}",$ce="\u{1F31D}",Lce="\u{1F31E}",Fce="\u{1F31F}",Nce="\u{1F320}",Ice="\u{1F321}\uFE0F",Rce="\u{1F324}\uFE0F",Qce="\u{1F324}\uFE0F",zce="\u{1F325}\uFE0F",Vce="\u{1F325}\uFE0F",Wce="\u{1F326}\uFE0F",qce="\u{1F326}\uFE0F",Xce="\u{1F327}\uFE0F",Yce="\u{1F328}\uFE0F",Uce="\u{1F329}\uFE0F",jce="\u{1F329}\uFE0F",Hce="\u{1F32A}\uFE0F",Zce="\u{1F32A}\uFE0F",Gce="\u{1F32B}\uFE0F",Kce="\u{1F32C}\uFE0F",Jce="\u{1F32D}",eue="\u{1F32E}",tue="\u{1F32F}",nue="\u{1F330}",rue="\u{1F331}",iue="\u{1F332}",sue="\u{1F333}",oue="\u{1F334}",aue="\u{1F335}",lue="\u{1F336}\uFE0F",cue="\u{1F337}",uue="\u{1F338}",hue="\u{1F339}",due="\u{1F33A}",fue="\u{1F33B}",pue="\u{1F33C}",mue="\u{1F33D}",gue="\u{1F33E}",yue="\u{1F33F}",bue="\u{1F340}",Oue="\u{1F341}",vue="\u{1F342}",xue="\u{1F343}",kue="\u{1F344}",wue="\u{1F345}",_ue="\u{1F346}",Sue="\u{1F347}",Cue="\u{1F348}",Tue="\u{1F349}",Due="\u{1F34A}",Eue="\u{1F34B}",Aue="\u{1F34C}",Mue="\u{1F34D}",Pue="\u{1F34E}",Bue="\u{1F34F}",$ue="\u{1F350}",Lue="\u{1F351}",Fue="\u{1F352}",Nue="\u{1F353}",Iue="\u{1F354}",Rue="\u{1F355}",Que="\u{1F356}",zue="\u{1F357}",Vue="\u{1F358}",Wue="\u{1F359}",que="\u{1F35A}",Xue="\u{1F35B}",Yue="\u{1F35C}",Uue="\u{1F35D}",jue="\u{1F35E}",Hue="\u{1F35F}",Zue="\u{1F360}",Gue="\u{1F361}",Kue="\u{1F362}",Jue="\u{1F363}",ehe="\u{1F364}",the="\u{1F365}",nhe="\u{1F366}",rhe="\u{1F367}",ihe="\u{1F368}",she="\u{1F369}",ohe="\u{1F36A}",ahe="\u{1F36B}",lhe="\u{1F36C}",che="\u{1F36D}",uhe="\u{1F36E}",hhe="\u{1F36F}",dhe="\u{1F370}",fhe="\u{1F371}",phe="\u{1F372}",mhe="\u{1F373}",ghe="\u{1F373}",yhe="\u{1F374}",bhe="\u{1F375}",Ohe="\u{1F376}",vhe="\u{1F377}",xhe="\u{1F378}",khe="\u{1F379}",whe="\u{1F37A}",_he="\u{1F37B}",She="\u{1F37C}",Che="\u{1F37D}\uFE0F",The="\u{1F37E}",Dhe="\u{1F37F}",Ehe="\u{1F380}",Ahe="\u{1F381}",Mhe="\u{1F382}",Phe="\u{1F383}",Bhe="\u{1F384}",$he="\u{1F385}",Lhe="\u{1F386}",Fhe="\u{1F387}",Nhe="\u{1F388}",Ihe="\u{1F389}",Rhe="\u{1F38A}",Qhe="\u{1F38B}",zhe="\u{1F38C}",Vhe="\u{1F38D}",Whe="\u{1F38E}",qhe="\u{1F38F}",Xhe="\u{1F390}",Yhe="\u{1F391}",Uhe="\u{1F392}",jhe="\u{1F393}",Hhe="\u{1F396}\uFE0F",Zhe="\u{1F397}\uFE0F",Ghe="\u{1F399}\uFE0F",Khe="\u{1F39A}\uFE0F",Jhe="\u{1F39B}\uFE0F",ede="\u{1F39E}\uFE0F",tde="\u{1F39F}\uFE0F",nde="\u{1F3A0}",rde="\u{1F3A1}",ide="\u{1F3A2}",sde="\u{1F3A3}",ode="\u{1F3A4}",ade="\u{1F3A5}",lde="\u{1F3A6}",cde="\u{1F3A7}",ude="\u{1F3A8}",hde="\u{1F3A9}",dde="\u{1F3AA}",fde="\u{1F3AB}",pde="\u{1F3AC}",mde="\u{1F3AD}",gde="\u{1F3AE}",yde="\u{1F3AF}",bde="\u{1F3B0}",Ode="\u{1F3B2}",vde="\u{1F3B3}",xde="\u{1F3B4}",kde="\u{1F3B5}",wde="\u{1F3B6}",_de="\u{1F3B7}",Sde="\u{1F3B8}",Cde="\u{1F3B9}",Tde="\u{1F3BA}",Dde="\u{1F3BB}",Ede="\u{1F3BC}",Ade="\u{1F3BD}",Mde="\u{1F3BE}",Pde="\u{1F3BF}",Bde="\u{1F3C0}",$de="\u{1F3C1}",Lde="\u{1F3C2}",Fde="\u{1F3C3}\u200D\u2642\uFE0F",Nde="\u{1F3C3}\u200D\u2642\uFE0F",Ide="\u{1F3C4}\u200D\u2642\uFE0F",Rde="\u{1F3C5}",Qde="\u{1F3C6}",zde="\u{1F3C7}",Vde="\u{1F3C8}",Wde="\u{1F3C9}",qde="\u{1F3CA}\u200D\u2642\uFE0F",Xde="\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",Yde="\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",Ude="\u{1F3CD}\uFE0F",jde="\u{1F3CE}\uFE0F",Hde="\u{1F3CF}",Zde="\u{1F3D0}",Gde="\u{1F3D1}",Kde="\u{1F3D2}",Jde="\u{1F3D3}",e0e="\u{1F3D4}\uFE0F",t0e="\u{1F3D5}\uFE0F",n0e="\u{1F3D6}\uFE0F",r0e="\u{1F3D7}\uFE0F",i0e="\u{1F3D8}\uFE0F",s0e="\u{1F3D9}\uFE0F",o0e="\u{1F3DA}\uFE0F",a0e="\u{1F3DB}\uFE0F",l0e="\u{1F3DC}\uFE0F",c0e="\u{1F3DD}\uFE0F",u0e="\u{1F3DE}\uFE0F",h0e="\u{1F3DF}\uFE0F",d0e="\u{1F3E0}",f0e="\u{1F3E1}",p0e="\u{1F3E2}",m0e="\u{1F3E3}",g0e="\u{1F3E4}",y0e="\u{1F3E5}",b0e="\u{1F3E6}",O0e="\u{1F3E7}",v0e="\u{1F3E8}",x0e="\u{1F3E9}",k0e="\u{1F3EA}",w0e="\u{1F3EB}",_0e="\u{1F3EC}",S0e="\u{1F3ED}",C0e="\u{1F3EE}",T0e="\u{1F3EE}",D0e="\u{1F3EF}",E0e="\u{1F3F0}",A0e="\u{1F3F3}\uFE0F\u200D\u26A7\uFE0F",M0e="\u{1F3F3}\uFE0F",P0e="\u{1F3F4}\u200D\u2620\uFE0F",B0e="\u{1F3F4}",$0e="\u{1F3F5}\uFE0F",L0e="\u{1F3F7}\uFE0F",F0e="\u{1F3F8}",N0e="\u{1F3F9}",I0e="\u{1F3FA}",R0e="\u{1F400}",Q0e="\u{1F401}",z0e="\u{1F402}",V0e="\u{1F403}",W0e="\u{1F404}",q0e="\u{1F405}",X0e="\u{1F406}",Y0e="\u{1F407}",U0e="\u{1F408}\u200D\u2B1B",j0e="\u{1F408}",H0e="\u{1F409}",Z0e="\u{1F40A}",G0e="\u{1F40B}",K0e="\u{1F40C}",J0e="\u{1F40D}",efe="\u{1F40E}",tfe="\u{1F40F}",nfe="\u{1F410}",rfe="\u{1F411}",ife="\u{1F412}",sfe="\u{1F413}",ofe="\u{1F414}",afe="\u{1F415}\u200D\u{1F9BA}",lfe="\u{1F415}",cfe="\u{1F416}",ufe="\u{1F417}",hfe="\u{1F418}",dfe="\u{1F419}",ffe="\u{1F41A}",pfe="\u{1F41B}",mfe="\u{1F41C}",gfe="\u{1F41D}",yfe="\u{1F41D}",bfe="\u{1F41E}",Ofe="\u{1F41E}",vfe="\u{1F41F}",xfe="\u{1F420}",kfe="\u{1F421}",wfe="\u{1F422}",_fe="\u{1F423}",Sfe="\u{1F424}",Cfe="\u{1F425}",Tfe="\u{1F426}",Dfe="\u{1F427}",Efe="\u{1F428}",Afe="\u{1F429}",Mfe="\u{1F42A}",Pfe="\u{1F42B}",Bfe="\u{1F42C}",$fe="\u{1F42C}",Lfe="\u{1F42D}",Ffe="\u{1F42E}",Nfe="\u{1F42F}",Ife="\u{1F430}",Rfe="\u{1F431}",Qfe="\u{1F432}",zfe="\u{1F433}",Vfe="\u{1F434}",Wfe="\u{1F435}",qfe="\u{1F436}",Xfe="\u{1F437}",Yfe="\u{1F438}",Ufe="\u{1F439}",jfe="\u{1F43A}",Hfe="\u{1F43B}\u200D\u2744\uFE0F",Zfe="\u{1F43B}",Gfe="\u{1F43C}",Kfe="\u{1F43D}",Jfe="\u{1F43E}",epe="\u{1F43E}",tpe="\u{1F43F}\uFE0F",npe="\u{1F440}",rpe="\u{1F441}\uFE0F",ipe="\u{1F442}",spe="\u{1F443}",ope="\u{1F444}",ape="\u{1F445}",lpe="\u{1F446}",cpe="\u{1F447}",upe="\u{1F448}",hpe="\u{1F449}",dpe="\u{1F44A}",fpe="\u{1F44A}",ppe="\u{1F44B}",mpe="\u{1F44C}",gpe="\u{1F44D}",ype="\u{1F44E}",bpe="\u{1F44F}",Ope="\u{1F450}",vpe="\u{1F451}",xpe="\u{1F452}",kpe="\u{1F453}",wpe="\u{1F454}",_pe="\u{1F455}",Spe="\u{1F455}",Cpe="\u{1F456}",Tpe="\u{1F457}",Dpe="\u{1F458}",Epe="\u{1F459}",Ape="\u{1F45A}",Mpe="\u{1F45B}",Ppe="\u{1F45C}",Bpe="\u{1F45D}",$pe="\u{1F45E}",Lpe="\u{1F45E}",Fpe="\u{1F45F}",Npe="\u{1F460}",Ipe="\u{1F461}",Rpe="\u{1F462}",Qpe="\u{1F463}",zpe="\u{1F464}",Vpe="\u{1F465}",Wpe="\u{1F466}",qpe="\u{1F467}",Xpe="\u{1F468}\u200D\u{1F37C}",Ype="\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",Upe="\u{1F468}\u200D\u{1F9AF}",jpe="\u{1F468}\u200D\u{1F9B0}",Hpe="\u{1F468}\u200D\u{1F9B1}",Zpe="\u{1F468}\u200D\u{1F9B2}",Gpe="\u{1F468}\u200D\u{1F9B3}",Kpe="\u{1F468}\u200D\u{1F9BC}",Jpe="\u{1F468}\u200D\u{1F9BD}",e1e="\u{1F468}",t1e="\u{1F469}\u200D\u{1F37C}",n1e="\u{1F469}\u200D\u{1F9AF}",r1e="\u{1F469}\u200D\u{1F9B0}",i1e="\u{1F469}\u200D\u{1F9B1}",s1e="\u{1F469}\u200D\u{1F9B2}",o1e="\u{1F469}\u200D\u{1F9B3}",a1e="\u{1F469}\u200D\u{1F9BC}",l1e="\u{1F469}\u200D\u{1F9BD}",c1e="\u{1F469}",u1e="\u{1F46B}",h1e="\u{1F46B}",d1e="\u{1F46B}",f1e="\u{1F46C}",p1e="\u{1F46C}",m1e="\u{1F46D}",g1e="\u{1F46D}",y1e="\u{1F46E}\u200D\u2642\uFE0F",b1e="\u{1F46F}\u200D\u2640\uFE0F",O1e="\u{1F470}\u200D\u2640\uFE0F",v1e="\u{1F470}\u200D\u2642\uFE0F",x1e="\u{1F470}",k1e="\u{1F471}\u200D\u2642\uFE0F",w1e="\u{1F472}",_1e="\u{1F473}\u200D\u2642\uFE0F",S1e="\u{1F474}",C1e="\u{1F475}",T1e="\u{1F476}",D1e="\u{1F477}\u200D\u2642\uFE0F",E1e="\u{1F478}",A1e="\u{1F479}",M1e="\u{1F47A}",P1e="\u{1F47B}",B1e="\u{1F47C}",$1e="\u{1F47D}",L1e="\u{1F47E}",F1e="\u{1F47F}",N1e="\u{1F480}",I1e="\u{1F481}\u200D\u2640\uFE0F",R1e="\u{1F482}\u200D\u2642\uFE0F",Q1e="\u{1F483}",z1e="\u{1F484}",V1e="\u{1F485}",W1e="\u{1F486}\u200D\u2640\uFE0F",q1e="\u{1F487}\u200D\u2640\uFE0F",X1e="\u{1F488}",Y1e="\u{1F489}",U1e="\u{1F48A}",j1e="\u{1F48B}",H1e="\u{1F48C}",Z1e="\u{1F48D}",G1e="\u{1F48E}",K1e="\u{1F48F}",J1e="\u{1F490}",eme="\u{1F491}",tme="\u{1F492}",nme="\u{1F493}",rme="\u{1F494}",ime="\u{1F495}",sme="\u{1F496}",ome="\u{1F497}",ame="\u{1F498}",lme="\u{1F499}",cme="\u{1F49A}",ume="\u{1F49B}",hme="\u{1F49C}",dme="\u{1F49D}",fme="\u{1F49E}",pme="\u{1F49F}",mme="\u{1F4A0}",gme="\u{1F4A1}",yme="\u{1F4A2}",bme="\u{1F4A3}",Ome="\u{1F4A4}",vme="\u{1F4A5}",xme="\u{1F4A5}",kme="\u{1F4A6}",wme="\u{1F4A7}",_me="\u{1F4A8}",Sme="\u{1F4A9}",Cme="\u{1F4A9}",Tme="\u{1F4A9}",Dme="\u{1F4AA}",Eme="\u{1F4AB}",Ame="\u{1F4AC}",Mme="\u{1F4AD}",Pme="\u{1F4AE}",Bme="\u{1F4B0}",$me="\u{1F4B1}",Lme="\u{1F4B2}",Fme="\u{1F4B3}",Nme="\u{1F4B4}",Ime="\u{1F4B5}",Rme="\u{1F4B6}",Qme="\u{1F4B7}",zme="\u{1F4B8}",Vme="\u{1F4B9}",Wme="\u{1F4BA}",qme="\u{1F4BB}",Xme="\u{1F4BC}",Yme="\u{1F4BD}",Ume="\u{1F4BE}",jme="\u{1F4BF}",Hme="\u{1F4C0}",Zme="\u{1F4C1}",Gme="\u{1F4C2}",Kme="\u{1F4C3}",Jme="\u{1F4C4}",ege="\u{1F4C5}",tge="\u{1F4C6}",nge="\u{1F4C7}",rge="\u{1F4C8}",ige="\u{1F4C9}",sge="\u{1F4CA}",oge="\u{1F4CB}",age="\u{1F4CC}",lge="\u{1F4CD}",cge="\u{1F4CE}",uge="\u{1F4CF}",hge="\u{1F4D0}",dge="\u{1F4D1}",fge="\u{1F4D2}",pge="\u{1F4D3}",mge="\u{1F4D4}",gge="\u{1F4D5}",yge="\u{1F4D6}",bge="\u{1F4D6}",Oge="\u{1F4D7}",vge="\u{1F4D8}",xge="\u{1F4D9}",kge="\u{1F4DA}",wge="\u{1F4DB}",_ge="\u{1F4DC}",Sge="\u{1F4DD}",Cge="\u{1F4DD}",Tge="\u{1F4DE}",Dge="\u{1F4DF}",Ege="\u{1F4E0}",Age="\u{1F4E1}",Mge="\u{1F4E2}",Pge="\u{1F4E3}",Bge="\u{1F4E4}",$ge="\u{1F4E5}",Lge="\u{1F4E8}",Fge="\u{1F4E9}",Nge="\u{1F4EA}",Ige="\u{1F4EB}",Rge="\u{1F4EC}",Qge="\u{1F4ED}",zge="\u{1F4EE}",Vge="\u{1F4EF}",Wge="\u{1F4F0}",qge="\u{1F4F1}",Xge="\u{1F4F2}",Yge="\u{1F4F3}",Uge="\u{1F4F4}",jge="\u{1F4F5}",Hge="\u{1F4F6}",Zge="\u{1F4F7}",Gge="\u{1F4F8}",Kge="\u{1F4F9}",Jge="\u{1F4FA}",e2e="\u{1F4FB}",t2e="\u{1F4FC}",n2e="\u{1F4FD}\uFE0F",r2e="\u{1F4FF}",i2e="\u{1F500}",s2e="\u{1F501}",o2e="\u{1F502}",a2e="\u{1F503}",l2e="\u{1F504}",c2e="\u{1F505}",u2e="\u{1F506}",h2e="\u{1F507}",d2e="\u{1F508}",f2e="\u{1F509}",p2e="\u{1F50A}",m2e="\u{1F50B}",g2e="\u{1F50C}",y2e="\u{1F50D}",b2e="\u{1F50E}",O2e="\u{1F50F}",v2e="\u{1F510}",x2e="\u{1F511}",k2e="\u{1F512}",w2e="\u{1F513}",_2e="\u{1F514}",S2e="\u{1F515}",C2e="\u{1F516}",T2e="\u{1F517}",D2e="\u{1F518}",E2e="\u{1F519}",A2e="\u{1F51A}",M2e="\u{1F51B}",P2e="\u{1F51C}",B2e="\u{1F51D}",$2e="\u{1F51E}",L2e="\u{1F51F}",F2e="\u{1F520}",N2e="\u{1F521}",I2e="\u{1F523}",R2e="\u{1F524}",Q2e="\u{1F525}",z2e="\u{1F526}",V2e="\u{1F527}",W2e="\u{1F528}",q2e="\u{1F529}",X2e="\u{1F52A}",Y2e="\u{1F52A}",U2e="\u{1F52B}",j2e="\u{1F52C}",H2e="\u{1F52D}",Z2e="\u{1F52E}",G2e="\u{1F52F}",K2e="\u{1F530}",J2e="\u{1F531}",eye="\u{1F532}",tye="\u{1F533}",nye="\u{1F534}",rye="\u{1F535}",iye="\u{1F536}",sye="\u{1F537}",oye="\u{1F538}",aye="\u{1F539}",lye="\u{1F53A}",cye="\u{1F53B}",uye="\u{1F53C}",hye="\u{1F53D}",dye="\u{1F549}\uFE0F",fye="\u{1F54A}\uFE0F",pye="\u{1F54B}",mye="\u{1F54C}",gye="\u{1F54D}",yye="\u{1F54E}",bye="\u{1F550}",Oye="\u{1F551}",vye="\u{1F552}",xye="\u{1F553}",kye="\u{1F554}",wye="\u{1F555}",_ye="\u{1F556}",Sye="\u{1F557}",Cye="\u{1F558}",Tye="\u{1F559}",Dye="\u{1F55A}",Eye="\u{1F55B}",Aye="\u{1F55C}",Mye="\u{1F55D}",Pye="\u{1F55E}",Bye="\u{1F55F}",$ye="\u{1F560}",Lye="\u{1F561}",Fye="\u{1F562}",Nye="\u{1F563}",Iye="\u{1F564}",Rye="\u{1F565}",Qye="\u{1F566}",zye="\u{1F567}",Vye="\u{1F56F}\uFE0F",Wye="\u{1F570}\uFE0F",qye="\u{1F573}\uFE0F",Xye="\u{1F574}\uFE0F",Yye="\u{1F575}\uFE0F\u200D\u2642\uFE0F",Uye="\u{1F576}\uFE0F",jye="\u{1F577}\uFE0F",Hye="\u{1F578}\uFE0F",Zye="\u{1F579}\uFE0F",Gye="\u{1F57A}",Kye="\u{1F587}\uFE0F",Jye="\u{1F58A}\uFE0F",ebe="\u{1F58B}\uFE0F",tbe="\u{1F58C}\uFE0F",nbe="\u{1F58D}\uFE0F",rbe="\u{1F590}\uFE0F",ibe="\u{1F595}",sbe="\u{1F595}",obe="\u{1F5A4}",abe="\u{1F5A5}\uFE0F",lbe="\u{1F5A8}\uFE0F",cbe="\u{1F5B1}\uFE0F",ube="\u{1F5B2}\uFE0F",hbe="\u{1F5BC}\uFE0F",dbe="\u{1F5C2}\uFE0F",fbe="\u{1F5C3}\uFE0F",pbe="\u{1F5C4}\uFE0F",mbe="\u{1F5D1}\uFE0F",gbe="\u{1F5D2}\uFE0F",ybe="\u{1F5D3}\uFE0F",bbe="\u{1F5DC}\uFE0F",Obe="\u{1F5DD}\uFE0F",vbe="\u{1F5DE}\uFE0F",xbe="\u{1F5E1}\uFE0F",kbe="\u{1F5E3}\uFE0F",wbe="\u{1F5E8}\uFE0F",_be="\u{1F5EF}\uFE0F",Sbe="\u{1F5F3}\uFE0F",Cbe="\u{1F5FA}\uFE0F",Tbe="\u{1F5FB}",Dbe="\u{1F5FC}",Ebe="\u{1F5FD}",Abe="\u{1F5FE}",Mbe="\u{1F5FF}",Pbe="\u{1F600}",Bbe="\u{1F601}",$be="\u{1F602}",Lbe="\u{1F603}",Fbe="\u{1F604}",Nbe="\u{1F605}",Ibe="\u{1F606}",Rbe="\u{1F606}",Qbe="\u{1F607}",zbe="\u{1F608}",Vbe="\u{1F609}",Wbe="\u{1F60A}",qbe="\u{1F60B}",Xbe="\u{1F60C}",Ybe="\u{1F60D}",Ube="\u{1F60E}",jbe="\u{1F60F}",Hbe="\u{1F610}",Zbe="\u{1F611}",Gbe="\u{1F612}",Kbe="\u{1F613}",Jbe="\u{1F614}",e4e="\u{1F615}",t4e="\u{1F616}",n4e="\u{1F617}",r4e="\u{1F618}",i4e="\u{1F619}",s4e="\u{1F61A}",o4e="\u{1F61B}",a4e="\u{1F61C}",l4e="\u{1F61D}",c4e="\u{1F61E}",u4e="\u{1F61F}",h4e="\u{1F620}",d4e="\u{1F621}",f4e="\u{1F622}",p4e="\u{1F623}",m4e="\u{1F624}",g4e="\u{1F625}",y4e="\u{1F626}",b4e="\u{1F627}",O4e="\u{1F628}",v4e="\u{1F629}",x4e="\u{1F62A}",k4e="\u{1F62B}",w4e="\u{1F62C}",_4e="\u{1F62D}",S4e="\u{1F62E}\u200D\u{1F4A8}",C4e="\u{1F62E}",T4e="\u{1F62F}",D4e="\u{1F630}",E4e="\u{1F631}",A4e="\u{1F632}",M4e="\u{1F633}",P4e="\u{1F634}",B4e="\u{1F635}\u200D\u{1F4AB}",$4e="\u{1F635}",L4e="\u{1F636}\u200D\u{1F32B}\uFE0F",F4e="\u{1F636}",N4e="\u{1F637}",I4e="\u{1F638}",R4e="\u{1F639}",Q4e="\u{1F63A}",z4e="\u{1F63B}",V4e="\u{1F63C}",W4e="\u{1F63D}",q4e="\u{1F63E}",X4e="\u{1F63F}",Y4e="\u{1F640}",U4e="\u{1F641}",j4e="\u{1F642}",H4e="\u{1F643}",Z4e="\u{1F644}",G4e="\u{1F645}\u200D\u2640\uFE0F",K4e="\u{1F646}\u200D\u2640\uFE0F",J4e="\u{1F647}\u200D\u2642\uFE0F",e3e="\u{1F648}",t3e="\u{1F649}",n3e="\u{1F64A}",r3e="\u{1F64B}\u200D\u2640\uFE0F",i3e="\u{1F64C}",s3e="\u{1F64D}\u200D\u2640\uFE0F",o3e="\u{1F64E}\u200D\u2640\uFE0F",a3e="\u{1F64F}",l3e="\u{1F680}",c3e="\u{1F681}",u3e="\u{1F682}",h3e="\u{1F683}",d3e="\u{1F684}",f3e="\u{1F685}",p3e="\u{1F686}",m3e="\u{1F687}",g3e="\u{1F688}",y3e="\u{1F689}",b3e="\u{1F68A}",O3e="\u{1F68B}",v3e="\u{1F68C}",x3e="\u{1F68D}",k3e="\u{1F68E}",w3e="\u{1F68F}",_3e="\u{1F690}",S3e="\u{1F691}",C3e="\u{1F692}",T3e="\u{1F693}",D3e="\u{1F694}",E3e="\u{1F695}",A3e="\u{1F696}",M3e="\u{1F697}",P3e="\u{1F697}",B3e="\u{1F698}",$3e="\u{1F699}",L3e="\u{1F69A}",F3e="\u{1F69B}",N3e="\u{1F69C}",I3e="\u{1F69D}",R3e="\u{1F69E}",Q3e="\u{1F69F}",z3e="\u{1F6A0}",V3e="\u{1F6A1}",W3e="\u{1F6A2}",q3e="\u{1F6A3}\u200D\u2642\uFE0F",X3e="\u{1F6A4}",Y3e="\u{1F6A5}",U3e="\u{1F6A6}",j3e="\u{1F6A7}",H3e="\u{1F6A8}",Z3e="\u{1F6A9}",G3e="\u{1F6AA}",K3e="\u{1F6AB}",J3e="\u{1F6AC}",e5e="\u{1F6AD}",t5e="\u{1F6AE}",n5e="\u{1F6AF}",r5e="\u{1F6B0}",i5e="\u{1F6B2}",s5e="\u{1F6B3}",o5e="\u{1F6B4}\u200D\u2642\uFE0F",a5e="\u{1F6B5}\u200D\u2642\uFE0F",l5e="\u{1F6B6}\u200D\u2642\uFE0F",c5e="\u{1F6B7}",u5e="\u{1F6B8}",h5e="\u{1F6B9}",d5e="\u{1F6BA}",f5e="\u{1F6BB}",p5e="\u{1F6BC}",m5e="\u{1F6BD}",g5e="\u{1F6BE}",y5e="\u{1F6BF}",b5e="\u{1F6C0}",O5e="\u{1F6C1}",v5e="\u{1F6C2}",x5e="\u{1F6C3}",k5e="\u{1F6C4}",w5e="\u{1F6C5}",_5e="\u{1F6CB}\uFE0F",S5e="\u{1F6CC}",C5e="\u{1F6CD}\uFE0F",T5e="\u{1F6CE}\uFE0F",D5e="\u{1F6CF}\uFE0F",E5e="\u{1F6D0}",A5e="\u{1F6D1}",M5e="\u{1F6D2}",P5e="\u{1F6D5}",B5e="\u{1F6D6}",$5e="\u{1F6D7}",L5e="\u{1F6E0}\uFE0F",F5e="\u{1F6E1}\uFE0F",N5e="\u{1F6E2}\uFE0F",I5e="\u{1F6E3}\uFE0F",R5e="\u{1F6E4}\uFE0F",Q5e="\u{1F6E5}\uFE0F",z5e="\u{1F6E9}\uFE0F",V5e="\u{1F6EB}",W5e="\u{1F6EC}",q5e="\u{1F6F0}\uFE0F",X5e="\u{1F6F3}\uFE0F",Y5e="\u{1F6F4}",U5e="\u{1F6F5}",j5e="\u{1F6F6}",H5e="\u{1F6F7}",Z5e="\u{1F6F8}",G5e="\u{1F6F9}",K5e="\u{1F6FA}",J5e="\u{1F6FB}",eOe="\u{1F6FC}",tOe="\u{1F7E0}",nOe="\u{1F7E1}",rOe="\u{1F7E2}",iOe="\u{1F7E3}",sOe="\u{1F7E4}",oOe="\u{1F7E5}",aOe="\u{1F7E6}",lOe="\u{1F7E7}",cOe="\u{1F7E8}",uOe="\u{1F7E9}",hOe="\u{1F7EA}",dOe="\u{1F7EB}",fOe="\u{1F90C}",pOe="\u{1F90D}",mOe="\u{1F90E}",gOe="\u{1F90F}",yOe="\u{1F910}",bOe="\u{1F911}",OOe="\u{1F912}",vOe="\u{1F913}",xOe="\u{1F914}",kOe="\u{1F915}",wOe="\u{1F916}",_Oe="\u{1F917}",SOe="\u{1F918}",COe="\u{1F918}",TOe="\u{1F919}",DOe="\u{1F91A}",EOe="\u{1F91D}",AOe="\u{1F91E}",MOe="\u{1F91E}",POe="\u{1F91F}",BOe="\u{1F920}",$Oe="\u{1F921}",LOe="\u{1F922}",FOe="\u{1F923}",NOe="\u{1F924}",IOe="\u{1F925}",ROe="\u{1F926}",QOe="\u{1F927}",zOe="\u{1F928}",VOe="\u{1F928}",WOe="\u{1F929}",qOe="\u{1F92A}",XOe="\u{1F92A}",YOe="\u{1F92B}",UOe="\u{1F92B}",jOe="\u{1F92C}",HOe="\u{1F92C}",ZOe="\u{1F92D}",GOe="\u{1F92D}",KOe="\u{1F92E}",JOe="\u{1F92E}",eve="\u{1F92F}",tve="\u{1F92F}",nve="\u{1F930}",rve="\u{1F932}",ive="\u{1F933}",sve="\u{1F934}",ove="\u{1F935}\u200D\u2640\uFE0F",ave="\u{1F935}\u200D\u2642\uFE0F",lve="\u{1F935}",cve="\u{1F936}",uve="\u{1F936}",hve="\u{1F937}",dve="\u{1F938}",fve="\u{1F939}",pve="\u{1F93A}",mve="\u{1F93C}",gve="\u{1F93D}",yve="\u{1F93E}",bve="\u{1F93F}",Ove="\u{1F940}",vve="\u{1F941}",xve="\u{1F942}",kve="\u{1F943}",wve="\u{1F944}",_ve="\u{1F945}",Sve="\u{1F947}",Cve="\u{1F948}",Tve="\u{1F949}",Dve="\u{1F94A}",Eve="\u{1F94B}",Ave="\u{1F94C}",Mve="\u{1F94D}",Pve="\u{1F94E}",Bve="\u{1F94F}",$ve="\u{1F950}",Lve="\u{1F951}",Fve="\u{1F952}",Nve="\u{1F953}",Ive="\u{1F954}",Rve="\u{1F955}",Qve="\u{1F956}",zve="\u{1F957}",Vve="\u{1F958}",Wve="\u{1F959}",qve="\u{1F95A}",Xve="\u{1F95B}",Yve="\u{1F95C}",Uve="\u{1F95D}",jve="\u{1F95E}",Hve="\u{1F95F}",Zve="\u{1F960}",Gve="\u{1F961}",Kve="\u{1F962}",Jve="\u{1F963}",exe="\u{1F964}",txe="\u{1F965}",nxe="\u{1F966}",rxe="\u{1F967}",ixe="\u{1F968}",sxe="\u{1F969}",oxe="\u{1F96A}",axe="\u{1F96B}",lxe="\u{1F96C}",cxe="\u{1F96D}",uxe="\u{1F96E}",hxe="\u{1F96F}",dxe="\u{1F970}",fxe="\u{1F971}",pxe="\u{1F972}",mxe="\u{1F973}",gxe="\u{1F974}",yxe="\u{1F975}",bxe="\u{1F976}",Oxe="\u{1F977}",vxe="\u{1F978}",xxe="\u{1F97A}",kxe="\u{1F97B}",wxe="\u{1F97C}",_xe="\u{1F97D}",Sxe="\u{1F97E}",Cxe="\u{1F97F}",Txe="\u{1F980}",Dxe="\u{1F981}",Exe="\u{1F982}",Axe="\u{1F983}",Mxe="\u{1F984}",Pxe="\u{1F985}",Bxe="\u{1F986}",$xe="\u{1F987}",Lxe="\u{1F988}",Fxe="\u{1F989}",Nxe="\u{1F98A}",Ixe="\u{1F98B}",Rxe="\u{1F98C}",Qxe="\u{1F98D}",zxe="\u{1F98E}",Vxe="\u{1F98F}",Wxe="\u{1F990}",qxe="\u{1F991}",Xxe="\u{1F992}",Yxe="\u{1F993}",Uxe="\u{1F994}",jxe="\u{1F995}",Hxe="\u{1F997}",Zxe="\u{1F998}",Gxe="\u{1F999}",Kxe="\u{1F99A}",Jxe="\u{1F99B}",e6e="\u{1F99C}",t6e="\u{1F99D}",n6e="\u{1F99E}",r6e="\u{1F99F}",i6e="\u{1F9A0}",s6e="\u{1F9A1}",o6e="\u{1F9A2}",a6e="\u{1F9A3}",l6e="\u{1F9A4}",c6e="\u{1F9A5}",u6e="\u{1F9A6}",h6e="\u{1F9A7}",d6e="\u{1F9A8}",f6e="\u{1F9A9}",p6e="\u{1F9AA}",m6e="\u{1F9AB}",g6e="\u{1F9AC}",y6e="\u{1F9AD}",b6e="\u{1F9AE}",O6e="\u{1F9AF}",v6e="\u{1F9B4}",x6e="\u{1F9B5}",k6e="\u{1F9B6}",w6e="\u{1F9B7}",_6e="\u{1F9B8}\u200D\u2640\uFE0F",S6e="\u{1F9B8}\u200D\u2642\uFE0F",C6e="\u{1F9B8}",T6e="\u{1F9B9}\u200D\u2640\uFE0F",D6e="\u{1F9B9}\u200D\u2642\uFE0F",E6e="\u{1F9B9}",A6e="\u{1F9BA}",M6e="\u{1F9BB}",P6e="\u{1F9BC}",B6e="\u{1F9BD}",$6e="\u{1F9BE}",L6e="\u{1F9BF}",F6e="\u{1F9C0}",N6e="\u{1F9C1}",I6e="\u{1F9C2}",R6e="\u{1F9C3}",Q6e="\u{1F9C4}",z6e="\u{1F9C5}",V6e="\u{1F9C6}",W6e="\u{1F9C7}",q6e="\u{1F9C8}",X6e="\u{1F9C9}",Y6e="\u{1F9CA}",U6e="\u{1F9CB}",j6e="\u{1F9CD}\u200D\u2640\uFE0F",H6e="\u{1F9CD}\u200D\u2642\uFE0F",Z6e="\u{1F9CD}",G6e="\u{1F9CE}\u200D\u2640\uFE0F",K6e="\u{1F9CE}\u200D\u2642\uFE0F",J6e="\u{1F9CE}",eke="\u{1F9CF}\u200D\u2640\uFE0F",tke="\u{1F9CF}\u200D\u2642\uFE0F",nke="\u{1F9CF}",rke="\u{1F9D0}",ike="\u{1F9D1}\u200D\u{1F33E}",ske="\u{1F9D1}\u200D\u{1F373}",oke="\u{1F9D1}\u200D\u{1F37C}",ake="\u{1F9D1}\u200D\u{1F384}",lke="\u{1F9D1}\u200D\u{1F393}",cke="\u{1F9D1}\u200D\u{1F3A4}",uke="\u{1F9D1}\u200D\u{1F3A8}",hke="\u{1F9D1}\u200D\u{1F3EB}",dke="\u{1F9D1}\u200D\u{1F3ED}",fke="\u{1F9D1}\u200D\u{1F4BB}",pke="\u{1F9D1}\u200D\u{1F4BC}",mke="\u{1F9D1}\u200D\u{1F527}",gke="\u{1F9D1}\u200D\u{1F52C}",yke="\u{1F9D1}\u200D\u{1F680}",bke="\u{1F9D1}\u200D\u{1F692}",Oke="\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",vke="\u{1F9D1}\u200D\u{1F9AF}",xke="\u{1F9D1}\u200D\u{1F9B0}",kke="\u{1F9D1}\u200D\u{1F9B1}",wke="\u{1F9D1}\u200D\u{1F9B2}",_ke="\u{1F9D1}\u200D\u{1F9B3}",Ske="\u{1F9D1}\u200D\u{1F9BC}",Cke="\u{1F9D1}\u200D\u{1F9BD}",Tke="\u{1F9D1}\u200D\u2695\uFE0F",Dke="\u{1F9D1}\u200D\u2696\uFE0F",Eke="\u{1F9D1}\u200D\u2708\uFE0F",Ake="\u{1F9D1}",Mke="\u{1F9D2}",Pke="\u{1F9D3}",Bke="\u{1F9D4}\u200D\u2640\uFE0F",$ke="\u{1F9D4}\u200D\u2642\uFE0F",Lke="\u{1F9D4}",Fke="\u{1F9D5}",Nke="\u{1F9D6}\u200D\u2640\uFE0F",Ike="\u{1F9D6}\u200D\u2642\uFE0F",Rke="\u{1F9D6}\u200D\u2642\uFE0F",Qke="\u{1F9D7}\u200D\u2640\uFE0F",zke="\u{1F9D7}\u200D\u2640\uFE0F",Vke="\u{1F9D7}\u200D\u2642\uFE0F",Wke="\u{1F9D8}\u200D\u2640\uFE0F",qke="\u{1F9D8}\u200D\u2640\uFE0F",Xke="\u{1F9D8}\u200D\u2642\uFE0F",Yke="\u{1F9D9}\u200D\u2640\uFE0F",Uke="\u{1F9D9}\u200D\u2640\uFE0F",jke="\u{1F9D9}\u200D\u2642\uFE0F",Hke="\u{1F9DA}\u200D\u2640\uFE0F",Zke="\u{1F9DA}\u200D\u2640\uFE0F",Gke="\u{1F9DA}\u200D\u2642\uFE0F",Kke="\u{1F9DB}\u200D\u2640\uFE0F",Jke="\u{1F9DB}\u200D\u2640\uFE0F",ewe="\u{1F9DB}\u200D\u2642\uFE0F",twe="\u{1F9DC}\u200D\u2640\uFE0F",nwe="\u{1F9DC}\u200D\u2642\uFE0F",rwe="\u{1F9DC}\u200D\u2642\uFE0F",iwe="\u{1F9DD}\u200D\u2640\uFE0F",swe="\u{1F9DD}\u200D\u2642\uFE0F",owe="\u{1F9DD}\u200D\u2642\uFE0F",awe="\u{1F9DE}\u200D\u2640\uFE0F",lwe="\u{1F9DE}\u200D\u2642\uFE0F",cwe="\u{1F9DE}\u200D\u2642\uFE0F",uwe="\u{1F9DF}\u200D\u2640\uFE0F",hwe="\u{1F9DF}\u200D\u2642\uFE0F",dwe="\u{1F9DF}\u200D\u2642\uFE0F",fwe="\u{1F9E0}",pwe="\u{1F9E1}",mwe="\u{1F9E2}",gwe="\u{1F9E3}",ywe="\u{1F9E4}",bwe="\u{1F9E5}",Owe="\u{1F9E6}",vwe="\u{1F9E7}",xwe="\u{1F9E8}",kwe="\u{1F9E9}",wwe="\u{1F9EA}",_we="\u{1F9EB}",Swe="\u{1F9EC}",Cwe="\u{1F9ED}",Twe="\u{1F9EE}",Dwe="\u{1F9EF}",Ewe="\u{1F9F0}",Awe="\u{1F9F1}",Mwe="\u{1F9F2}",Pwe="\u{1F9F3}",Bwe="\u{1F9F4}",$we="\u{1F9F5}",Lwe="\u{1F9F6}",Fwe="\u{1F9F7}",Nwe="\u{1F9F8}",Iwe="\u{1F9F9}",Rwe="\u{1F9FA}",Qwe="\u{1F9FB}",zwe="\u{1F9FC}",Vwe="\u{1F9FD}",Wwe="\u{1F9FE}",qwe="\u{1F9FF}",Xwe="\u{1FA70}",Ywe="\u{1FA72}",Uwe="\u{1FA73}",jwe="\u{1FA74}",Hwe="\u{1FA78}",Zwe="\u{1FA79}",Gwe="\u{1FA7A}",Kwe="\u{1FA81}",Jwe="\u{1FA82}",e8e="\u{1FA83}",t8e="\u{1FA84}",n8e="\u{1FA85}",r8e="\u{1FA86}",i8e="\u{1FA90}",s8e="\u{1FA91}",o8e="\u{1FA92}",a8e="\u{1FA93}",l8e="\u{1FA94}",c8e="\u{1FA95}",u8e="\u{1FA96}",h8e="\u{1FA97}",d8e="\u{1FA98}",f8e="\u{1FA99}",p8e="\u{1FA9A}",m8e="\u{1FA9B}",g8e="\u{1FA9C}",y8e="\u{1FA9D}",b8e="\u{1FA9E}",O8e="\u{1FA9F}",v8e="\u{1FAA0}",x8e="\u{1FAA1}",k8e="\u{1FAA2}",w8e="\u{1FAA3}",_8e="\u{1FAA4}",S8e="\u{1FAA5}",C8e="\u{1FAA6}",T8e="\u{1FAA7}",D8e="\u{1FAA8}",E8e="\u{1FAB0}",A8e="\u{1FAB1}",M8e="\u{1FAB2}",P8e="\u{1FAB3}",B8e="\u{1FAB4}",$8e="\u{1FAB5}",L8e="\u{1FAB6}",F8e="\u{1FAC0}",N8e="\u{1FAC1}",I8e="\u{1FAC2}",R8e="\u{1FAD0}",Q8e="\u{1FAD1}",z8e="\u{1FAD2}",V8e="\u{1FAD3}",W8e="\u{1FAD4}",q8e="\u{1FAD5}",X8e="\u{1FAD6}",Y8e="\u203C\uFE0F",U8e="\u2049\uFE0F",j8e="\u2122\uFE0F",H8e="\u2139\uFE0F",Z8e="\u2194\uFE0F",G8e="\u2195\uFE0F",K8e="\u2196\uFE0F",J8e="\u2197\uFE0F",e7e="\u2198\uFE0F",t7e="\u2199\uFE0F",n7e="\u21A9\uFE0F",r7e="\u21AA\uFE0F",i7e="\u231A",s7e="\u231B",o7e="\u2328\uFE0F",a7e="\u23CF\uFE0F",l7e="\u23E9",c7e="\u23EA",u7e="\u23EB",h7e="\u23EC",d7e="\u23ED\uFE0F",f7e="\u23EE\uFE0F",p7e="\u23EF\uFE0F",m7e="\u23F0",g7e="\u23F1\uFE0F",y7e="\u23F2\uFE0F",b7e="\u23F3",O7e="\u23F8\uFE0F",v7e="\u23F9\uFE0F",x7e="\u23FA\uFE0F",k7e="\u24C2\uFE0F",w7e="\u25AA\uFE0F",_7e="\u25AB\uFE0F",S7e="\u25B6\uFE0F",C7e="\u25C0\uFE0F",T7e="\u25FB\uFE0F",D7e="\u25FC\uFE0F",E7e="\u25FD",A7e="\u25FE",M7e="\u2600\uFE0F",P7e="\u2601\uFE0F",B7e="\u2602\uFE0F",$7e="\u2603\uFE0F",L7e="\u2604\uFE0F",F7e="\u260E\uFE0F",N7e="\u260E\uFE0F",I7e="\u2611\uFE0F",R7e="\u2618\uFE0F",Q7e="\u261D\uFE0F",z7e="\u2620\uFE0F",V7e="\u2622\uFE0F",W7e="\u2623\uFE0F",q7e="\u2626\uFE0F",X7e="\u262A\uFE0F",Y7e="\u262E\uFE0F",U7e="\u262F\uFE0F",j7e="\u2638\uFE0F",H7e="\u2639\uFE0F",Z7e="\u263A\uFE0F",G7e="\u2640\uFE0F",K7e="\u2642\uFE0F",J7e="\u264A",e_e="\u264B",t_e="\u264C",n_e="\u264D",r_e="\u264E",i_e="\u264F",s_e="\u265F\uFE0F",o_e="\u2660\uFE0F",a_e="\u2663\uFE0F",l_e="\u2665\uFE0F",c_e="\u2666\uFE0F",u_e="\u2668\uFE0F",h_e="\u267B\uFE0F",d_e="\u267E\uFE0F",f_e="\u267F",p_e="\u2692\uFE0F",m_e="\u2694\uFE0F",g_e="\u2695\uFE0F",y_e="\u2695\uFE0F",b_e="\u2696\uFE0F",O_e="\u2697\uFE0F",v_e="\u2699\uFE0F",x_e="\u269B\uFE0F",k_e="\u269C\uFE0F",w_e="\u26A0\uFE0F",__e="\u26A1",S_e="\u26A7\uFE0F",C_e="\u26AA",T_e="\u26AB",D_e="\u26B0\uFE0F",E_e="\u26B1\uFE0F",A_e="\u26BD",M_e="\u26BE",P_e="\u26C4",B_e="\u26C5",$_e="\u26C8\uFE0F",L_e="\u26CE",F_e="\u26CF\uFE0F",N_e="\u26D1\uFE0F",I_e="\u26D3\uFE0F",R_e="\u26D4",Q_e="\u26E9\uFE0F",z_e="\u26EA",V_e="\u26F0\uFE0F",W_e="\u26F1\uFE0F",q_e="\u26F2",X_e="\u26F3",Y_e="\u26F4\uFE0F",U_e="\u26F5",j_e="\u26F5",H_e="\u26F7\uFE0F",Z_e="\u26F8\uFE0F",G_e="\u26F9\uFE0F\u200D\u2642\uFE0F",K_e="\u26FA",J_e="\u26FD",eSe="\u2702\uFE0F",tSe="\u2708\uFE0F",nSe="\u2709\uFE0F",rSe="\u2709\uFE0F",iSe="\u270A",sSe="\u270B",oSe="\u270B",aSe="\u270C\uFE0F",lSe="\u270D\uFE0F",cSe="\u270F\uFE0F",uSe="\u2712\uFE0F",hSe="\u2714\uFE0F",dSe="\u2716\uFE0F",fSe="\u271D\uFE0F",pSe="\u2721\uFE0F",mSe="\u2733\uFE0F",gSe="\u2734\uFE0F",ySe="\u2744\uFE0F",bSe="\u2747\uFE0F",OSe="\u274C",vSe="\u274E",xSe="\u2763\uFE0F",kSe="\u2764\uFE0F\u200D\u{1F525}",wSe="\u2764\uFE0F\u200D\u{1FA79}",_Se="\u2764\uFE0F",SSe="\u27A1\uFE0F",CSe="\u27B0",TSe="\u27BF",DSe="\u2934\uFE0F",ESe="\u2935\uFE0F",ASe="\u2B05\uFE0F",MSe="\u2B06\uFE0F",PSe="\u2B07\uFE0F",BSe="\u2B1B",$Se="\u2B1C",LSe="\u2B50",FSe="\u2B55",NSe="\u3030\uFE0F",ISe="\u303D\uFE0F",RSe="\u3297\uFE0F",QSe="\u3299\uFE0F",zSe={100:"\u{1F4AF}",1234:"\u{1F522}",umbrella_with_rain_drops:Nae,coffee:Iae,aries:Rae,taurus:Qae,sagittarius:zae,capricorn:Vae,aquarius:Wae,pisces:qae,anchor:Xae,white_check_mark:Yae,sparkles:Uae,question:jae,grey_question:Hae,grey_exclamation:Zae,exclamation:Gae,heavy_exclamation_mark:Kae,heavy_plus_sign:Jae,heavy_minus_sign:ele,heavy_division_sign:tle,hash:nle,keycap_star:rle,zero:ile,one:sle,two:ole,three:ale,four:lle,five:cle,six:ule,seven:hle,eight:dle,nine:fle,copyright:ple,registered:mle,mahjong:gle,black_joker:yle,a:ble,b:Ole,o2:vle,parking:xle,ab:kle,cl:wle,cool:_le,free:Sle,id:Cle,new:"\u{1F195}",ng:Tle,ok:Dle,sos:Ele,up:Ale,vs:Mle,"flag-ac":"\u{1F1E6}\u{1F1E8}","flag-ad":"\u{1F1E6}\u{1F1E9}","flag-ae":"\u{1F1E6}\u{1F1EA}","flag-af":"\u{1F1E6}\u{1F1EB}","flag-ag":"\u{1F1E6}\u{1F1EC}","flag-ai":"\u{1F1E6}\u{1F1EE}","flag-al":"\u{1F1E6}\u{1F1F1}","flag-am":"\u{1F1E6}\u{1F1F2}","flag-ao":"\u{1F1E6}\u{1F1F4}","flag-aq":"\u{1F1E6}\u{1F1F6}","flag-ar":"\u{1F1E6}\u{1F1F7}","flag-as":"\u{1F1E6}\u{1F1F8}","flag-at":"\u{1F1E6}\u{1F1F9}","flag-au":"\u{1F1E6}\u{1F1FA}","flag-aw":"\u{1F1E6}\u{1F1FC}","flag-ax":"\u{1F1E6}\u{1F1FD}","flag-az":"\u{1F1E6}\u{1F1FF}","flag-ba":"\u{1F1E7}\u{1F1E6}","flag-bb":"\u{1F1E7}\u{1F1E7}","flag-bd":"\u{1F1E7}\u{1F1E9}","flag-be":"\u{1F1E7}\u{1F1EA}","flag-bf":"\u{1F1E7}\u{1F1EB}","flag-bg":"\u{1F1E7}\u{1F1EC}","flag-bh":"\u{1F1E7}\u{1F1ED}","flag-bi":"\u{1F1E7}\u{1F1EE}","flag-bj":"\u{1F1E7}\u{1F1EF}","flag-bl":"\u{1F1E7}\u{1F1F1}","flag-bm":"\u{1F1E7}\u{1F1F2}","flag-bn":"\u{1F1E7}\u{1F1F3}","flag-bo":"\u{1F1E7}\u{1F1F4}","flag-bq":"\u{1F1E7}\u{1F1F6}","flag-br":"\u{1F1E7}\u{1F1F7}","flag-bs":"\u{1F1E7}\u{1F1F8}","flag-bt":"\u{1F1E7}\u{1F1F9}","flag-bv":"\u{1F1E7}\u{1F1FB}","flag-bw":"\u{1F1E7}\u{1F1FC}","flag-by":"\u{1F1E7}\u{1F1FE}","flag-bz":"\u{1F1E7}\u{1F1FF}","flag-ca":"\u{1F1E8}\u{1F1E6}","flag-cc":"\u{1F1E8}\u{1F1E8}","flag-cd":"\u{1F1E8}\u{1F1E9}","flag-cf":"\u{1F1E8}\u{1F1EB}","flag-cg":"\u{1F1E8}\u{1F1EC}","flag-ch":"\u{1F1E8}\u{1F1ED}","flag-ci":"\u{1F1E8}\u{1F1EE}","flag-ck":"\u{1F1E8}\u{1F1F0}","flag-cl":"\u{1F1E8}\u{1F1F1}","flag-cm":"\u{1F1E8}\u{1F1F2}",cn:Ple,"flag-cn":"\u{1F1E8}\u{1F1F3}","flag-co":"\u{1F1E8}\u{1F1F4}","flag-cp":"\u{1F1E8}\u{1F1F5}","flag-cr":"\u{1F1E8}\u{1F1F7}","flag-cu":"\u{1F1E8}\u{1F1FA}","flag-cv":"\u{1F1E8}\u{1F1FB}","flag-cw":"\u{1F1E8}\u{1F1FC}","flag-cx":"\u{1F1E8}\u{1F1FD}","flag-cy":"\u{1F1E8}\u{1F1FE}","flag-cz":"\u{1F1E8}\u{1F1FF}",de:Ble,"flag-de":"\u{1F1E9}\u{1F1EA}","flag-dg":"\u{1F1E9}\u{1F1EC}","flag-dj":"\u{1F1E9}\u{1F1EF}","flag-dk":"\u{1F1E9}\u{1F1F0}","flag-dm":"\u{1F1E9}\u{1F1F2}","flag-do":"\u{1F1E9}\u{1F1F4}","flag-dz":"\u{1F1E9}\u{1F1FF}","flag-ea":"\u{1F1EA}\u{1F1E6}","flag-ec":"\u{1F1EA}\u{1F1E8}","flag-ee":"\u{1F1EA}\u{1F1EA}","flag-eg":"\u{1F1EA}\u{1F1EC}","flag-eh":"\u{1F1EA}\u{1F1ED}","flag-er":"\u{1F1EA}\u{1F1F7}",es:$le,"flag-es":"\u{1F1EA}\u{1F1F8}","flag-et":"\u{1F1EA}\u{1F1F9}","flag-eu":"\u{1F1EA}\u{1F1FA}","flag-fi":"\u{1F1EB}\u{1F1EE}","flag-fj":"\u{1F1EB}\u{1F1EF}","flag-fk":"\u{1F1EB}\u{1F1F0}","flag-fm":"\u{1F1EB}\u{1F1F2}","flag-fo":"\u{1F1EB}\u{1F1F4}",fr:Lle,"flag-fr":"\u{1F1EB}\u{1F1F7}","flag-ga":"\u{1F1EC}\u{1F1E6}",gb:Fle,uk:Nle,"flag-gb":"\u{1F1EC}\u{1F1E7}","flag-gd":"\u{1F1EC}\u{1F1E9}","flag-ge":"\u{1F1EC}\u{1F1EA}","flag-gf":"\u{1F1EC}\u{1F1EB}","flag-gg":"\u{1F1EC}\u{1F1EC}","flag-gh":"\u{1F1EC}\u{1F1ED}","flag-gi":"\u{1F1EC}\u{1F1EE}","flag-gl":"\u{1F1EC}\u{1F1F1}","flag-gm":"\u{1F1EC}\u{1F1F2}","flag-gn":"\u{1F1EC}\u{1F1F3}","flag-gp":"\u{1F1EC}\u{1F1F5}","flag-gq":"\u{1F1EC}\u{1F1F6}","flag-gr":"\u{1F1EC}\u{1F1F7}","flag-gs":"\u{1F1EC}\u{1F1F8}","flag-gt":"\u{1F1EC}\u{1F1F9}","flag-gu":"\u{1F1EC}\u{1F1FA}","flag-gw":"\u{1F1EC}\u{1F1FC}","flag-gy":"\u{1F1EC}\u{1F1FE}","flag-hk":"\u{1F1ED}\u{1F1F0}","flag-hm":"\u{1F1ED}\u{1F1F2}","flag-hn":"\u{1F1ED}\u{1F1F3}","flag-hr":"\u{1F1ED}\u{1F1F7}","flag-ht":"\u{1F1ED}\u{1F1F9}","flag-hu":"\u{1F1ED}\u{1F1FA}","flag-ic":"\u{1F1EE}\u{1F1E8}","flag-id":"\u{1F1EE}\u{1F1E9}","flag-ie":"\u{1F1EE}\u{1F1EA}","flag-il":"\u{1F1EE}\u{1F1F1}","flag-im":"\u{1F1EE}\u{1F1F2}","flag-in":"\u{1F1EE}\u{1F1F3}","flag-io":"\u{1F1EE}\u{1F1F4}","flag-iq":"\u{1F1EE}\u{1F1F6}","flag-ir":"\u{1F1EE}\u{1F1F7}","flag-is":"\u{1F1EE}\u{1F1F8}",it:Ile,"flag-it":"\u{1F1EE}\u{1F1F9}","flag-je":"\u{1F1EF}\u{1F1EA}","flag-jm":"\u{1F1EF}\u{1F1F2}","flag-jo":"\u{1F1EF}\u{1F1F4}",jp:Rle,"flag-jp":"\u{1F1EF}\u{1F1F5}","flag-ke":"\u{1F1F0}\u{1F1EA}","flag-kg":"\u{1F1F0}\u{1F1EC}","flag-kh":"\u{1F1F0}\u{1F1ED}","flag-ki":"\u{1F1F0}\u{1F1EE}","flag-km":"\u{1F1F0}\u{1F1F2}","flag-kn":"\u{1F1F0}\u{1F1F3}","flag-kp":"\u{1F1F0}\u{1F1F5}",kr:Qle,"flag-kr":"\u{1F1F0}\u{1F1F7}","flag-kw":"\u{1F1F0}\u{1F1FC}","flag-ky":"\u{1F1F0}\u{1F1FE}","flag-kz":"\u{1F1F0}\u{1F1FF}","flag-la":"\u{1F1F1}\u{1F1E6}","flag-lb":"\u{1F1F1}\u{1F1E7}","flag-lc":"\u{1F1F1}\u{1F1E8}","flag-li":"\u{1F1F1}\u{1F1EE}","flag-lk":"\u{1F1F1}\u{1F1F0}","flag-lr":"\u{1F1F1}\u{1F1F7}","flag-ls":"\u{1F1F1}\u{1F1F8}","flag-lt":"\u{1F1F1}\u{1F1F9}","flag-lu":"\u{1F1F1}\u{1F1FA}","flag-lv":"\u{1F1F1}\u{1F1FB}","flag-ly":"\u{1F1F1}\u{1F1FE}","flag-ma":"\u{1F1F2}\u{1F1E6}","flag-mc":"\u{1F1F2}\u{1F1E8}","flag-md":"\u{1F1F2}\u{1F1E9}","flag-me":"\u{1F1F2}\u{1F1EA}","flag-mf":"\u{1F1F2}\u{1F1EB}","flag-mg":"\u{1F1F2}\u{1F1EC}","flag-mh":"\u{1F1F2}\u{1F1ED}","flag-mk":"\u{1F1F2}\u{1F1F0}","flag-ml":"\u{1F1F2}\u{1F1F1}","flag-mm":"\u{1F1F2}\u{1F1F2}","flag-mn":"\u{1F1F2}\u{1F1F3}","flag-mo":"\u{1F1F2}\u{1F1F4}","flag-mp":"\u{1F1F2}\u{1F1F5}","flag-mq":"\u{1F1F2}\u{1F1F6}","flag-mr":"\u{1F1F2}\u{1F1F7}","flag-ms":"\u{1F1F2}\u{1F1F8}","flag-mt":"\u{1F1F2}\u{1F1F9}","flag-mu":"\u{1F1F2}\u{1F1FA}","flag-mv":"\u{1F1F2}\u{1F1FB}","flag-mw":"\u{1F1F2}\u{1F1FC}","flag-mx":"\u{1F1F2}\u{1F1FD}","flag-my":"\u{1F1F2}\u{1F1FE}","flag-mz":"\u{1F1F2}\u{1F1FF}","flag-na":"\u{1F1F3}\u{1F1E6}","flag-nc":"\u{1F1F3}\u{1F1E8}","flag-ne":"\u{1F1F3}\u{1F1EA}","flag-nf":"\u{1F1F3}\u{1F1EB}","flag-ng":"\u{1F1F3}\u{1F1EC}","flag-ni":"\u{1F1F3}\u{1F1EE}","flag-nl":"\u{1F1F3}\u{1F1F1}","flag-no":"\u{1F1F3}\u{1F1F4}","flag-np":"\u{1F1F3}\u{1F1F5}","flag-nr":"\u{1F1F3}\u{1F1F7}","flag-nu":"\u{1F1F3}\u{1F1FA}","flag-nz":"\u{1F1F3}\u{1F1FF}","flag-om":"\u{1F1F4}\u{1F1F2}","flag-pa":"\u{1F1F5}\u{1F1E6}","flag-pe":"\u{1F1F5}\u{1F1EA}","flag-pf":"\u{1F1F5}\u{1F1EB}","flag-pg":"\u{1F1F5}\u{1F1EC}","flag-ph":"\u{1F1F5}\u{1F1ED}","flag-pk":"\u{1F1F5}\u{1F1F0}","flag-pl":"\u{1F1F5}\u{1F1F1}","flag-pm":"\u{1F1F5}\u{1F1F2}","flag-pn":"\u{1F1F5}\u{1F1F3}","flag-pr":"\u{1F1F5}\u{1F1F7}","flag-ps":"\u{1F1F5}\u{1F1F8}","flag-pt":"\u{1F1F5}\u{1F1F9}","flag-pw":"\u{1F1F5}\u{1F1FC}","flag-py":"\u{1F1F5}\u{1F1FE}","flag-qa":"\u{1F1F6}\u{1F1E6}","flag-re":"\u{1F1F7}\u{1F1EA}","flag-ro":"\u{1F1F7}\u{1F1F4}","flag-rs":"\u{1F1F7}\u{1F1F8}",ru:zle,"flag-ru":"\u{1F1F7}\u{1F1FA}","flag-rw":"\u{1F1F7}\u{1F1FC}","flag-sa":"\u{1F1F8}\u{1F1E6}","flag-sb":"\u{1F1F8}\u{1F1E7}","flag-sc":"\u{1F1F8}\u{1F1E8}","flag-sd":"\u{1F1F8}\u{1F1E9}","flag-se":"\u{1F1F8}\u{1F1EA}","flag-sg":"\u{1F1F8}\u{1F1EC}","flag-sh":"\u{1F1F8}\u{1F1ED}","flag-si":"\u{1F1F8}\u{1F1EE}","flag-sj":"\u{1F1F8}\u{1F1EF}","flag-sk":"\u{1F1F8}\u{1F1F0}","flag-sl":"\u{1F1F8}\u{1F1F1}","flag-sm":"\u{1F1F8}\u{1F1F2}","flag-sn":"\u{1F1F8}\u{1F1F3}","flag-so":"\u{1F1F8}\u{1F1F4}","flag-sr":"\u{1F1F8}\u{1F1F7}","flag-ss":"\u{1F1F8}\u{1F1F8}","flag-st":"\u{1F1F8}\u{1F1F9}","flag-sv":"\u{1F1F8}\u{1F1FB}","flag-sx":"\u{1F1F8}\u{1F1FD}","flag-sy":"\u{1F1F8}\u{1F1FE}","flag-sz":"\u{1F1F8}\u{1F1FF}","flag-ta":"\u{1F1F9}\u{1F1E6}","flag-tc":"\u{1F1F9}\u{1F1E8}","flag-td":"\u{1F1F9}\u{1F1E9}","flag-tf":"\u{1F1F9}\u{1F1EB}","flag-tg":"\u{1F1F9}\u{1F1EC}","flag-th":"\u{1F1F9}\u{1F1ED}","flag-tj":"\u{1F1F9}\u{1F1EF}","flag-tk":"\u{1F1F9}\u{1F1F0}","flag-tl":"\u{1F1F9}\u{1F1F1}","flag-tm":"\u{1F1F9}\u{1F1F2}","flag-tn":"\u{1F1F9}\u{1F1F3}","flag-to":"\u{1F1F9}\u{1F1F4}","flag-tr":"\u{1F1F9}\u{1F1F7}","flag-tt":"\u{1F1F9}\u{1F1F9}","flag-tv":"\u{1F1F9}\u{1F1FB}","flag-tw":"\u{1F1F9}\u{1F1FC}","flag-tz":"\u{1F1F9}\u{1F1FF}","flag-ua":"\u{1F1FA}\u{1F1E6}","flag-ug":"\u{1F1FA}\u{1F1EC}","flag-um":"\u{1F1FA}\u{1F1F2}","flag-un":"\u{1F1FA}\u{1F1F3}",us:Vle,"flag-us":"\u{1F1FA}\u{1F1F8}","flag-uy":"\u{1F1FA}\u{1F1FE}","flag-uz":"\u{1F1FA}\u{1F1FF}","flag-va":"\u{1F1FB}\u{1F1E6}","flag-vc":"\u{1F1FB}\u{1F1E8}","flag-ve":"\u{1F1FB}\u{1F1EA}","flag-vg":"\u{1F1FB}\u{1F1EC}","flag-vi":"\u{1F1FB}\u{1F1EE}","flag-vn":"\u{1F1FB}\u{1F1F3}","flag-vu":"\u{1F1FB}\u{1F1FA}","flag-wf":"\u{1F1FC}\u{1F1EB}","flag-ws":"\u{1F1FC}\u{1F1F8}","flag-xk":"\u{1F1FD}\u{1F1F0}","flag-ye":"\u{1F1FE}\u{1F1EA}","flag-yt":"\u{1F1FE}\u{1F1F9}","flag-za":"\u{1F1FF}\u{1F1E6}","flag-zm":"\u{1F1FF}\u{1F1F2}","flag-zw":"\u{1F1FF}\u{1F1FC}",koko:Wle,sa:qle,u7121:Xle,u6307:Yle,u7981:Ule,u7a7a:jle,u5408:Hle,u6e80:Zle,u6709:Gle,u6708:Kle,u7533:Jle,u5272:ece,u55b6:tce,ideograph_advantage:nce,accept:rce,cyclone:ice,foggy:sce,closed_umbrella:oce,night_with_stars:ace,sunrise_over_mountains:lce,sunrise:cce,city_sunset:uce,city_sunrise:hce,rainbow:dce,bridge_at_night:fce,ocean:pce,volcano:mce,milky_way:gce,earth_africa:yce,earth_americas:bce,earth_asia:Oce,globe_with_meridians:vce,new_moon:xce,waxing_crescent_moon:kce,first_quarter_moon:wce,moon:_ce,waxing_gibbous_moon:Sce,full_moon:Cce,waning_gibbous_moon:Tce,last_quarter_moon:Dce,waning_crescent_moon:Ece,crescent_moon:Ace,new_moon_with_face:Mce,first_quarter_moon_with_face:Pce,last_quarter_moon_with_face:Bce,full_moon_with_face:$ce,sun_with_face:Lce,star2:Fce,stars:Nce,thermometer:Ice,mostly_sunny:Rce,sun_small_cloud:Qce,barely_sunny:zce,sun_behind_cloud:Vce,partly_sunny_rain:Wce,sun_behind_rain_cloud:qce,rain_cloud:Xce,snow_cloud:Yce,lightning:Uce,lightning_cloud:jce,tornado:Hce,tornado_cloud:Zce,fog:Gce,wind_blowing_face:Kce,hotdog:Jce,taco:eue,burrito:tue,chestnut:nue,seedling:rue,evergreen_tree:iue,deciduous_tree:sue,palm_tree:oue,cactus:aue,hot_pepper:lue,tulip:cue,cherry_blossom:uue,rose:hue,hibiscus:due,sunflower:fue,blossom:pue,corn:mue,ear_of_rice:gue,herb:yue,four_leaf_clover:bue,maple_leaf:Oue,fallen_leaf:vue,leaves:xue,mushroom:kue,tomato:wue,eggplant:_ue,grapes:Sue,melon:Cue,watermelon:Tue,tangerine:Due,lemon:Eue,banana:Aue,pineapple:Mue,apple:Pue,green_apple:Bue,pear:$ue,peach:Lue,cherries:Fue,strawberry:Nue,hamburger:Iue,pizza:Rue,meat_on_bone:Que,poultry_leg:zue,rice_cracker:Vue,rice_ball:Wue,rice:que,curry:Xue,ramen:Yue,spaghetti:Uue,bread:jue,fries:Hue,sweet_potato:Zue,dango:Gue,oden:Kue,sushi:Jue,fried_shrimp:ehe,fish_cake:the,icecream:nhe,shaved_ice:rhe,ice_cream:ihe,doughnut:she,cookie:ohe,chocolate_bar:ahe,candy:lhe,lollipop:che,custard:uhe,honey_pot:hhe,cake:dhe,bento:fhe,stew:phe,fried_egg:mhe,cooking:ghe,fork_and_knife:yhe,tea:bhe,sake:Ohe,wine_glass:vhe,cocktail:xhe,tropical_drink:khe,beer:whe,beers:_he,baby_bottle:She,knife_fork_plate:Che,champagne:The,popcorn:Dhe,ribbon:Ehe,gift:Ahe,birthday:Mhe,jack_o_lantern:Phe,christmas_tree:Bhe,santa:$he,fireworks:Lhe,sparkler:Fhe,balloon:Nhe,tada:Ihe,confetti_ball:Rhe,tanabata_tree:Qhe,crossed_flags:zhe,bamboo:Vhe,dolls:Whe,flags:qhe,wind_chime:Xhe,rice_scene:Yhe,school_satchel:Uhe,mortar_board:jhe,medal:Hhe,reminder_ribbon:Zhe,studio_microphone:Ghe,level_slider:Khe,control_knobs:Jhe,film_frames:ede,admission_tickets:tde,carousel_horse:nde,ferris_wheel:rde,roller_coaster:ide,fishing_pole_and_fish:sde,microphone:ode,movie_camera:ade,cinema:lde,headphones:cde,art:ude,tophat:hde,circus_tent:dde,ticket:fde,clapper:pde,performing_arts:mde,video_game:gde,dart:yde,slot_machine:bde,"8ball":"\u{1F3B1}",game_die:Ode,bowling:vde,flower_playing_cards:xde,musical_note:kde,notes:wde,saxophone:_de,guitar:Sde,musical_keyboard:Cde,trumpet:Tde,violin:Dde,musical_score:Ede,running_shirt_with_sash:Ade,tennis:Mde,ski:Pde,basketball:Bde,checkered_flag:$de,snowboarder:Lde,"woman-running":"\u{1F3C3}\u200D\u2640\uFE0F","man-running":"\u{1F3C3}\u200D\u2642\uFE0F",runner:Fde,running:Nde,"woman-surfing":"\u{1F3C4}\u200D\u2640\uFE0F","man-surfing":"\u{1F3C4}\u200D\u2642\uFE0F",surfer:Ide,sports_medal:Rde,trophy:Qde,horse_racing:zde,football:Vde,rugby_football:Wde,"woman-swimming":"\u{1F3CA}\u200D\u2640\uFE0F","man-swimming":"\u{1F3CA}\u200D\u2642\uFE0F",swimmer:qde,"woman-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F","man-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",weight_lifter:Xde,"woman-golfing":"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F","man-golfing":"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",golfer:Yde,racing_motorcycle:Ude,racing_car:jde,cricket_bat_and_ball:Hde,volleyball:Zde,field_hockey_stick_and_ball:Gde,ice_hockey_stick_and_puck:Kde,table_tennis_paddle_and_ball:Jde,snow_capped_mountain:e0e,camping:t0e,beach_with_umbrella:n0e,building_construction:r0e,house_buildings:i0e,cityscape:s0e,derelict_house_building:o0e,classical_building:a0e,desert:l0e,desert_island:c0e,national_park:u0e,stadium:h0e,house:d0e,house_with_garden:f0e,office:p0e,post_office:m0e,european_post_office:g0e,hospital:y0e,bank:b0e,atm:O0e,hotel:v0e,love_hotel:x0e,convenience_store:k0e,school:w0e,department_store:_0e,factory:S0e,izakaya_lantern:C0e,lantern:T0e,japanese_castle:D0e,european_castle:E0e,"rainbow-flag":"\u{1F3F3}\uFE0F\u200D\u{1F308}",transgender_flag:A0e,waving_white_flag:M0e,pirate_flag:P0e,"flag-england":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}","flag-scotland":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}","flag-wales":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",waving_black_flag:B0e,rosette:$0e,label:L0e,badminton_racquet_and_shuttlecock:F0e,bow_and_arrow:N0e,amphora:I0e,"skin-tone-2":"\u{1F3FB}","skin-tone-3":"\u{1F3FC}","skin-tone-4":"\u{1F3FD}","skin-tone-5":"\u{1F3FE}","skin-tone-6":"\u{1F3FF}",rat:R0e,mouse2:Q0e,ox:z0e,water_buffalo:V0e,cow2:W0e,tiger2:q0e,leopard:X0e,rabbit2:Y0e,black_cat:U0e,cat2:j0e,dragon:H0e,crocodile:Z0e,whale2:G0e,snail:K0e,snake:J0e,racehorse:efe,ram:tfe,goat:nfe,sheep:rfe,monkey:ife,rooster:sfe,chicken:ofe,service_dog:afe,dog2:lfe,pig2:cfe,boar:ufe,elephant:hfe,octopus:dfe,shell:ffe,bug:pfe,ant:mfe,bee:gfe,honeybee:yfe,ladybug:bfe,lady_beetle:Ofe,fish:vfe,tropical_fish:xfe,blowfish:kfe,turtle:wfe,hatching_chick:_fe,baby_chick:Sfe,hatched_chick:Cfe,bird:Tfe,penguin:Dfe,koala:Efe,poodle:Afe,dromedary_camel:Mfe,camel:Pfe,dolphin:Bfe,flipper:$fe,mouse:Lfe,cow:Ffe,tiger:Nfe,rabbit:Ife,cat:Rfe,dragon_face:Qfe,whale:zfe,horse:Vfe,monkey_face:Wfe,dog:qfe,pig:Xfe,frog:Yfe,hamster:Ufe,wolf:jfe,polar_bear:Hfe,bear:Zfe,panda_face:Gfe,pig_nose:Kfe,feet:Jfe,paw_prints:epe,chipmunk:tpe,eyes:npe,"eye-in-speech-bubble":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F",eye:rpe,ear:ipe,nose:spe,lips:ope,tongue:ape,point_up_2:lpe,point_down:cpe,point_left:upe,point_right:hpe,facepunch:dpe,punch:fpe,wave:ppe,ok_hand:mpe,"+1":"\u{1F44D}",thumbsup:gpe,"-1":"\u{1F44E}",thumbsdown:ype,clap:bpe,open_hands:Ope,crown:vpe,womans_hat:xpe,eyeglasses:kpe,necktie:wpe,shirt:_pe,tshirt:Spe,jeans:Cpe,dress:Tpe,kimono:Dpe,bikini:Epe,womans_clothes:Ape,purse:Mpe,handbag:Ppe,pouch:Bpe,mans_shoe:$pe,shoe:Lpe,athletic_shoe:Fpe,high_heel:Npe,sandal:Ipe,boot:Rpe,footprints:Qpe,bust_in_silhouette:zpe,busts_in_silhouette:Vpe,boy:Wpe,girl:qpe,"male-farmer":"\u{1F468}\u200D\u{1F33E}","male-cook":"\u{1F468}\u200D\u{1F373}",man_feeding_baby:Xpe,"male-student":"\u{1F468}\u200D\u{1F393}","male-singer":"\u{1F468}\u200D\u{1F3A4}","male-artist":"\u{1F468}\u200D\u{1F3A8}","male-teacher":"\u{1F468}\u200D\u{1F3EB}","male-factory-worker":"\u{1F468}\u200D\u{1F3ED}","man-boy-boy":"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-boy":"\u{1F468}\u200D\u{1F466}","man-girl-boy":"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-girl-girl":"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-girl":"\u{1F468}\u200D\u{1F467}","man-man-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}","man-man-boy-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-man-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}","man-man-girl-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-man-girl-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-woman-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",family:Ype,"man-woman-boy-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","man-woman-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}","man-woman-girl-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","man-woman-girl-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","male-technologist":"\u{1F468}\u200D\u{1F4BB}","male-office-worker":"\u{1F468}\u200D\u{1F4BC}","male-mechanic":"\u{1F468}\u200D\u{1F527}","male-scientist":"\u{1F468}\u200D\u{1F52C}","male-astronaut":"\u{1F468}\u200D\u{1F680}","male-firefighter":"\u{1F468}\u200D\u{1F692}",man_with_probing_cane:Upe,red_haired_man:jpe,curly_haired_man:Hpe,bald_man:Zpe,white_haired_man:Gpe,man_in_motorized_wheelchair:Kpe,man_in_manual_wheelchair:Jpe,"male-doctor":"\u{1F468}\u200D\u2695\uFE0F","male-judge":"\u{1F468}\u200D\u2696\uFE0F","male-pilot":"\u{1F468}\u200D\u2708\uFE0F","man-heart-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}","man-kiss-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",man:e1e,"female-farmer":"\u{1F469}\u200D\u{1F33E}","female-cook":"\u{1F469}\u200D\u{1F373}",woman_feeding_baby:t1e,"female-student":"\u{1F469}\u200D\u{1F393}","female-singer":"\u{1F469}\u200D\u{1F3A4}","female-artist":"\u{1F469}\u200D\u{1F3A8}","female-teacher":"\u{1F469}\u200D\u{1F3EB}","female-factory-worker":"\u{1F469}\u200D\u{1F3ED}","woman-boy-boy":"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-boy":"\u{1F469}\u200D\u{1F466}","woman-girl-boy":"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-girl-girl":"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","woman-girl":"\u{1F469}\u200D\u{1F467}","woman-woman-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}","woman-woman-boy-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-woman-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}","woman-woman-girl-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-woman-girl-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","female-technologist":"\u{1F469}\u200D\u{1F4BB}","female-office-worker":"\u{1F469}\u200D\u{1F4BC}","female-mechanic":"\u{1F469}\u200D\u{1F527}","female-scientist":"\u{1F469}\u200D\u{1F52C}","female-astronaut":"\u{1F469}\u200D\u{1F680}","female-firefighter":"\u{1F469}\u200D\u{1F692}",woman_with_probing_cane:n1e,red_haired_woman:r1e,curly_haired_woman:i1e,bald_woman:s1e,white_haired_woman:o1e,woman_in_motorized_wheelchair:a1e,woman_in_manual_wheelchair:l1e,"female-doctor":"\u{1F469}\u200D\u2695\uFE0F","female-judge":"\u{1F469}\u200D\u2696\uFE0F","female-pilot":"\u{1F469}\u200D\u2708\uFE0F","woman-heart-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}","woman-heart-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}","woman-kiss-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}","woman-kiss-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",woman:c1e,man_and_woman_holding_hands:u1e,woman_and_man_holding_hands:h1e,couple:d1e,two_men_holding_hands:f1e,men_holding_hands:p1e,two_women_holding_hands:m1e,women_holding_hands:g1e,"female-police-officer":"\u{1F46E}\u200D\u2640\uFE0F","male-police-officer":"\u{1F46E}\u200D\u2642\uFE0F",cop:y1e,"women-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F","woman-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F",dancers:b1e,"men-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F","man-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F",woman_with_veil:O1e,man_with_veil:v1e,bride_with_veil:x1e,"blond-haired-woman":"\u{1F471}\u200D\u2640\uFE0F","blond-haired-man":"\u{1F471}\u200D\u2642\uFE0F",person_with_blond_hair:k1e,man_with_gua_pi_mao:w1e,"woman-wearing-turban":"\u{1F473}\u200D\u2640\uFE0F","man-wearing-turban":"\u{1F473}\u200D\u2642\uFE0F",man_with_turban:_1e,older_man:S1e,older_woman:C1e,baby:T1e,"female-construction-worker":"\u{1F477}\u200D\u2640\uFE0F","male-construction-worker":"\u{1F477}\u200D\u2642\uFE0F",construction_worker:D1e,princess:E1e,japanese_ogre:A1e,japanese_goblin:M1e,ghost:P1e,angel:B1e,alien:$1e,space_invader:L1e,imp:F1e,skull:N1e,"woman-tipping-hand":"\u{1F481}\u200D\u2640\uFE0F",information_desk_person:I1e,"man-tipping-hand":"\u{1F481}\u200D\u2642\uFE0F","female-guard":"\u{1F482}\u200D\u2640\uFE0F","male-guard":"\u{1F482}\u200D\u2642\uFE0F",guardsman:R1e,dancer:Q1e,lipstick:z1e,nail_care:V1e,"woman-getting-massage":"\u{1F486}\u200D\u2640\uFE0F",massage:W1e,"man-getting-massage":"\u{1F486}\u200D\u2642\uFE0F","woman-getting-haircut":"\u{1F487}\u200D\u2640\uFE0F",haircut:q1e,"man-getting-haircut":"\u{1F487}\u200D\u2642\uFE0F",barber:X1e,syringe:Y1e,pill:U1e,kiss:j1e,love_letter:H1e,ring:Z1e,gem:G1e,couplekiss:K1e,bouquet:J1e,couple_with_heart:eme,wedding:tme,heartbeat:nme,broken_heart:rme,two_hearts:ime,sparkling_heart:sme,heartpulse:ome,cupid:ame,blue_heart:lme,green_heart:cme,yellow_heart:ume,purple_heart:hme,gift_heart:dme,revolving_hearts:fme,heart_decoration:pme,diamond_shape_with_a_dot_inside:mme,bulb:gme,anger:yme,bomb:bme,zzz:Ome,boom:vme,collision:xme,sweat_drops:kme,droplet:wme,dash:_me,hankey:Sme,poop:Cme,shit:Tme,muscle:Dme,dizzy:Eme,speech_balloon:Ame,thought_balloon:Mme,white_flower:Pme,moneybag:Bme,currency_exchange:$me,heavy_dollar_sign:Lme,credit_card:Fme,yen:Nme,dollar:Ime,euro:Rme,pound:Qme,money_with_wings:zme,chart:Vme,seat:Wme,computer:qme,briefcase:Xme,minidisc:Yme,floppy_disk:Ume,cd:jme,dvd:Hme,file_folder:Zme,open_file_folder:Gme,page_with_curl:Kme,page_facing_up:Jme,date:ege,calendar:tge,card_index:nge,chart_with_upwards_trend:rge,chart_with_downwards_trend:ige,bar_chart:sge,clipboard:oge,pushpin:age,round_pushpin:lge,paperclip:cge,straight_ruler:uge,triangular_ruler:hge,bookmark_tabs:dge,ledger:fge,notebook:pge,notebook_with_decorative_cover:mge,closed_book:gge,book:yge,open_book:bge,green_book:Oge,blue_book:vge,orange_book:xge,books:kge,name_badge:wge,scroll:_ge,memo:Sge,pencil:Cge,telephone_receiver:Tge,pager:Dge,fax:Ege,satellite_antenna:Age,loudspeaker:Mge,mega:Pge,outbox_tray:Bge,inbox_tray:$ge,package:"\u{1F4E6}","e-mail":"\u{1F4E7}",incoming_envelope:Lge,envelope_with_arrow:Fge,mailbox_closed:Nge,mailbox:Ige,mailbox_with_mail:Rge,mailbox_with_no_mail:Qge,postbox:zge,postal_horn:Vge,newspaper:Wge,iphone:qge,calling:Xge,vibration_mode:Yge,mobile_phone_off:Uge,no_mobile_phones:jge,signal_strength:Hge,camera:Zge,camera_with_flash:Gge,video_camera:Kge,tv:Jge,radio:e2e,vhs:t2e,film_projector:n2e,prayer_beads:r2e,twisted_rightwards_arrows:i2e,repeat:s2e,repeat_one:o2e,arrows_clockwise:a2e,arrows_counterclockwise:l2e,low_brightness:c2e,high_brightness:u2e,mute:h2e,speaker:d2e,sound:f2e,loud_sound:p2e,battery:m2e,electric_plug:g2e,mag:y2e,mag_right:b2e,lock_with_ink_pen:O2e,closed_lock_with_key:v2e,key:x2e,lock:k2e,unlock:w2e,bell:_2e,no_bell:S2e,bookmark:C2e,link:T2e,radio_button:D2e,back:E2e,end:A2e,on:M2e,soon:P2e,top:B2e,underage:$2e,keycap_ten:L2e,capital_abcd:F2e,abcd:N2e,symbols:I2e,abc:R2e,fire:Q2e,flashlight:z2e,wrench:V2e,hammer:W2e,nut_and_bolt:q2e,hocho:X2e,knife:Y2e,gun:U2e,microscope:j2e,telescope:H2e,crystal_ball:Z2e,six_pointed_star:G2e,beginner:K2e,trident:J2e,black_square_button:eye,white_square_button:tye,red_circle:nye,large_blue_circle:rye,large_orange_diamond:iye,large_blue_diamond:sye,small_orange_diamond:oye,small_blue_diamond:aye,small_red_triangle:lye,small_red_triangle_down:cye,arrow_up_small:uye,arrow_down_small:hye,om_symbol:dye,dove_of_peace:fye,kaaba:pye,mosque:mye,synagogue:gye,menorah_with_nine_branches:yye,clock1:bye,clock2:Oye,clock3:vye,clock4:xye,clock5:kye,clock6:wye,clock7:_ye,clock8:Sye,clock9:Cye,clock10:Tye,clock11:Dye,clock12:Eye,clock130:Aye,clock230:Mye,clock330:Pye,clock430:Bye,clock530:$ye,clock630:Lye,clock730:Fye,clock830:Nye,clock930:Iye,clock1030:Rye,clock1130:Qye,clock1230:zye,candle:Vye,mantelpiece_clock:Wye,hole:qye,man_in_business_suit_levitating:Xye,"female-detective":"\u{1F575}\uFE0F\u200D\u2640\uFE0F","male-detective":"\u{1F575}\uFE0F\u200D\u2642\uFE0F",sleuth_or_spy:Yye,dark_sunglasses:Uye,spider:jye,spider_web:Hye,joystick:Zye,man_dancing:Gye,linked_paperclips:Kye,lower_left_ballpoint_pen:Jye,lower_left_fountain_pen:ebe,lower_left_paintbrush:tbe,lower_left_crayon:nbe,raised_hand_with_fingers_splayed:rbe,middle_finger:ibe,reversed_hand_with_middle_finger_extended:sbe,"spock-hand":"\u{1F596}",black_heart:obe,desktop_computer:abe,printer:lbe,three_button_mouse:cbe,trackball:ube,frame_with_picture:hbe,card_index_dividers:dbe,card_file_box:fbe,file_cabinet:pbe,wastebasket:mbe,spiral_note_pad:gbe,spiral_calendar_pad:ybe,compression:bbe,old_key:Obe,rolled_up_newspaper:vbe,dagger_knife:xbe,speaking_head_in_silhouette:kbe,left_speech_bubble:wbe,right_anger_bubble:_be,ballot_box_with_ballot:Sbe,world_map:Cbe,mount_fuji:Tbe,tokyo_tower:Dbe,statue_of_liberty:Ebe,japan:Abe,moyai:Mbe,grinning:Pbe,grin:Bbe,joy:$be,smiley:Lbe,smile:Fbe,sweat_smile:Nbe,laughing:Ibe,satisfied:Rbe,innocent:Qbe,smiling_imp:zbe,wink:Vbe,blush:Wbe,yum:qbe,relieved:Xbe,heart_eyes:Ybe,sunglasses:Ube,smirk:jbe,neutral_face:Hbe,expressionless:Zbe,unamused:Gbe,sweat:Kbe,pensive:Jbe,confused:e4e,confounded:t4e,kissing:n4e,kissing_heart:r4e,kissing_smiling_eyes:i4e,kissing_closed_eyes:s4e,stuck_out_tongue:o4e,stuck_out_tongue_winking_eye:a4e,stuck_out_tongue_closed_eyes:l4e,disappointed:c4e,worried:u4e,angry:h4e,rage:d4e,cry:f4e,persevere:p4e,triumph:m4e,disappointed_relieved:g4e,frowning:y4e,anguished:b4e,fearful:O4e,weary:v4e,sleepy:x4e,tired_face:k4e,grimacing:w4e,sob:_4e,face_exhaling:S4e,open_mouth:C4e,hushed:T4e,cold_sweat:D4e,scream:E4e,astonished:A4e,flushed:M4e,sleeping:P4e,face_with_spiral_eyes:B4e,dizzy_face:$4e,face_in_clouds:L4e,no_mouth:F4e,mask:N4e,smile_cat:I4e,joy_cat:R4e,smiley_cat:Q4e,heart_eyes_cat:z4e,smirk_cat:V4e,kissing_cat:W4e,pouting_cat:q4e,crying_cat_face:X4e,scream_cat:Y4e,slightly_frowning_face:U4e,slightly_smiling_face:j4e,upside_down_face:H4e,face_with_rolling_eyes:Z4e,"woman-gesturing-no":"\u{1F645}\u200D\u2640\uFE0F",no_good:G4e,"man-gesturing-no":"\u{1F645}\u200D\u2642\uFE0F","woman-gesturing-ok":"\u{1F646}\u200D\u2640\uFE0F",ok_woman:K4e,"man-gesturing-ok":"\u{1F646}\u200D\u2642\uFE0F","woman-bowing":"\u{1F647}\u200D\u2640\uFE0F","man-bowing":"\u{1F647}\u200D\u2642\uFE0F",bow:J4e,see_no_evil:e3e,hear_no_evil:t3e,speak_no_evil:n3e,"woman-raising-hand":"\u{1F64B}\u200D\u2640\uFE0F",raising_hand:r3e,"man-raising-hand":"\u{1F64B}\u200D\u2642\uFE0F",raised_hands:i3e,"woman-frowning":"\u{1F64D}\u200D\u2640\uFE0F",person_frowning:s3e,"man-frowning":"\u{1F64D}\u200D\u2642\uFE0F","woman-pouting":"\u{1F64E}\u200D\u2640\uFE0F",person_with_pouting_face:o3e,"man-pouting":"\u{1F64E}\u200D\u2642\uFE0F",pray:a3e,rocket:l3e,helicopter:c3e,steam_locomotive:u3e,railway_car:h3e,bullettrain_side:d3e,bullettrain_front:f3e,train2:p3e,metro:m3e,light_rail:g3e,station:y3e,tram:b3e,train:O3e,bus:v3e,oncoming_bus:x3e,trolleybus:k3e,busstop:w3e,minibus:_3e,ambulance:S3e,fire_engine:C3e,police_car:T3e,oncoming_police_car:D3e,taxi:E3e,oncoming_taxi:A3e,car:M3e,red_car:P3e,oncoming_automobile:B3e,blue_car:$3e,truck:L3e,articulated_lorry:F3e,tractor:N3e,monorail:I3e,mountain_railway:R3e,suspension_railway:Q3e,mountain_cableway:z3e,aerial_tramway:V3e,ship:W3e,"woman-rowing-boat":"\u{1F6A3}\u200D\u2640\uFE0F","man-rowing-boat":"\u{1F6A3}\u200D\u2642\uFE0F",rowboat:q3e,speedboat:X3e,traffic_light:Y3e,vertical_traffic_light:U3e,construction:j3e,rotating_light:H3e,triangular_flag_on_post:Z3e,door:G3e,no_entry_sign:K3e,smoking:J3e,no_smoking:e5e,put_litter_in_its_place:t5e,do_not_litter:n5e,potable_water:r5e,"non-potable_water":"\u{1F6B1}",bike:i5e,no_bicycles:s5e,"woman-biking":"\u{1F6B4}\u200D\u2640\uFE0F","man-biking":"\u{1F6B4}\u200D\u2642\uFE0F",bicyclist:o5e,"woman-mountain-biking":"\u{1F6B5}\u200D\u2640\uFE0F","man-mountain-biking":"\u{1F6B5}\u200D\u2642\uFE0F",mountain_bicyclist:a5e,"woman-walking":"\u{1F6B6}\u200D\u2640\uFE0F","man-walking":"\u{1F6B6}\u200D\u2642\uFE0F",walking:l5e,no_pedestrians:c5e,children_crossing:u5e,mens:h5e,womens:d5e,restroom:f5e,baby_symbol:p5e,toilet:m5e,wc:g5e,shower:y5e,bath:b5e,bathtub:O5e,passport_control:v5e,customs:x5e,baggage_claim:k5e,left_luggage:w5e,couch_and_lamp:_5e,sleeping_accommodation:S5e,shopping_bags:C5e,bellhop_bell:T5e,bed:D5e,place_of_worship:E5e,octagonal_sign:A5e,shopping_trolley:M5e,hindu_temple:P5e,hut:B5e,elevator:$5e,hammer_and_wrench:L5e,shield:F5e,oil_drum:N5e,motorway:I5e,railway_track:R5e,motor_boat:Q5e,small_airplane:z5e,airplane_departure:V5e,airplane_arriving:W5e,satellite:q5e,passenger_ship:X5e,scooter:Y5e,motor_scooter:U5e,canoe:j5e,sled:H5e,flying_saucer:Z5e,skateboard:G5e,auto_rickshaw:K5e,pickup_truck:J5e,roller_skate:eOe,large_orange_circle:tOe,large_yellow_circle:nOe,large_green_circle:rOe,large_purple_circle:iOe,large_brown_circle:sOe,large_red_square:oOe,large_blue_square:aOe,large_orange_square:lOe,large_yellow_square:cOe,large_green_square:uOe,large_purple_square:hOe,large_brown_square:dOe,pinched_fingers:fOe,white_heart:pOe,brown_heart:mOe,pinching_hand:gOe,zipper_mouth_face:yOe,money_mouth_face:bOe,face_with_thermometer:OOe,nerd_face:vOe,thinking_face:xOe,face_with_head_bandage:kOe,robot_face:wOe,hugging_face:_Oe,the_horns:SOe,sign_of_the_horns:COe,call_me_hand:TOe,raised_back_of_hand:DOe,"left-facing_fist":"\u{1F91B}","right-facing_fist":"\u{1F91C}",handshake:EOe,crossed_fingers:AOe,hand_with_index_and_middle_fingers_crossed:MOe,i_love_you_hand_sign:POe,face_with_cowboy_hat:BOe,clown_face:$Oe,nauseated_face:LOe,rolling_on_the_floor_laughing:FOe,drooling_face:NOe,lying_face:IOe,"woman-facepalming":"\u{1F926}\u200D\u2640\uFE0F","man-facepalming":"\u{1F926}\u200D\u2642\uFE0F",face_palm:ROe,sneezing_face:QOe,face_with_raised_eyebrow:zOe,face_with_one_eyebrow_raised:VOe,"star-struck":"\u{1F929}",grinning_face_with_star_eyes:WOe,zany_face:qOe,grinning_face_with_one_large_and_one_small_eye:XOe,shushing_face:YOe,face_with_finger_covering_closed_lips:UOe,face_with_symbols_on_mouth:jOe,serious_face_with_symbols_covering_mouth:HOe,face_with_hand_over_mouth:ZOe,smiling_face_with_smiling_eyes_and_hand_covering_mouth:GOe,face_vomiting:KOe,face_with_open_mouth_vomiting:JOe,exploding_head:eve,shocked_face_with_exploding_head:tve,pregnant_woman:nve,"breast-feeding":"\u{1F931}",palms_up_together:rve,selfie:ive,prince:sve,woman_in_tuxedo:ove,man_in_tuxedo:ave,person_in_tuxedo:lve,mrs_claus:cve,mother_christmas:uve,"woman-shrugging":"\u{1F937}\u200D\u2640\uFE0F","man-shrugging":"\u{1F937}\u200D\u2642\uFE0F",shrug:hve,"woman-cartwheeling":"\u{1F938}\u200D\u2640\uFE0F","man-cartwheeling":"\u{1F938}\u200D\u2642\uFE0F",person_doing_cartwheel:dve,"woman-juggling":"\u{1F939}\u200D\u2640\uFE0F","man-juggling":"\u{1F939}\u200D\u2642\uFE0F",juggling:fve,fencer:pve,"woman-wrestling":"\u{1F93C}\u200D\u2640\uFE0F","man-wrestling":"\u{1F93C}\u200D\u2642\uFE0F",wrestlers:mve,"woman-playing-water-polo":"\u{1F93D}\u200D\u2640\uFE0F","man-playing-water-polo":"\u{1F93D}\u200D\u2642\uFE0F",water_polo:gve,"woman-playing-handball":"\u{1F93E}\u200D\u2640\uFE0F","man-playing-handball":"\u{1F93E}\u200D\u2642\uFE0F",handball:yve,diving_mask:bve,wilted_flower:Ove,drum_with_drumsticks:vve,clinking_glasses:xve,tumbler_glass:kve,spoon:wve,goal_net:_ve,first_place_medal:Sve,second_place_medal:Cve,third_place_medal:Tve,boxing_glove:Dve,martial_arts_uniform:Eve,curling_stone:Ave,lacrosse:Mve,softball:Pve,flying_disc:Bve,croissant:$ve,avocado:Lve,cucumber:Fve,bacon:Nve,potato:Ive,carrot:Rve,baguette_bread:Qve,green_salad:zve,shallow_pan_of_food:Vve,stuffed_flatbread:Wve,egg:qve,glass_of_milk:Xve,peanuts:Yve,kiwifruit:Uve,pancakes:jve,dumpling:Hve,fortune_cookie:Zve,takeout_box:Gve,chopsticks:Kve,bowl_with_spoon:Jve,cup_with_straw:exe,coconut:txe,broccoli:nxe,pie:rxe,pretzel:ixe,cut_of_meat:sxe,sandwich:oxe,canned_food:axe,leafy_green:lxe,mango:cxe,moon_cake:uxe,bagel:hxe,smiling_face_with_3_hearts:dxe,yawning_face:fxe,smiling_face_with_tear:pxe,partying_face:mxe,woozy_face:gxe,hot_face:yxe,cold_face:bxe,ninja:Oxe,disguised_face:vxe,pleading_face:xxe,sari:kxe,lab_coat:wxe,goggles:_xe,hiking_boot:Sxe,womans_flat_shoe:Cxe,crab:Txe,lion_face:Dxe,scorpion:Exe,turkey:Axe,unicorn_face:Mxe,eagle:Pxe,duck:Bxe,bat:$xe,shark:Lxe,owl:Fxe,fox_face:Nxe,butterfly:Ixe,deer:Rxe,gorilla:Qxe,lizard:zxe,rhinoceros:Vxe,shrimp:Wxe,squid:qxe,giraffe_face:Xxe,zebra_face:Yxe,hedgehog:Uxe,sauropod:jxe,"t-rex":"\u{1F996}",cricket:Hxe,kangaroo:Zxe,llama:Gxe,peacock:Kxe,hippopotamus:Jxe,parrot:e6e,raccoon:t6e,lobster:n6e,mosquito:r6e,microbe:i6e,badger:s6e,swan:o6e,mammoth:a6e,dodo:l6e,sloth:c6e,otter:u6e,orangutan:h6e,skunk:d6e,flamingo:f6e,oyster:p6e,beaver:m6e,bison:g6e,seal:y6e,guide_dog:b6e,probing_cane:O6e,bone:v6e,leg:x6e,foot:k6e,tooth:w6e,female_superhero:_6e,male_superhero:S6e,superhero:C6e,female_supervillain:T6e,male_supervillain:D6e,supervillain:E6e,safety_vest:A6e,ear_with_hearing_aid:M6e,motorized_wheelchair:P6e,manual_wheelchair:B6e,mechanical_arm:$6e,mechanical_leg:L6e,cheese_wedge:F6e,cupcake:N6e,salt:I6e,beverage_box:R6e,garlic:Q6e,onion:z6e,falafel:V6e,waffle:W6e,butter:q6e,mate_drink:X6e,ice_cube:Y6e,bubble_tea:U6e,woman_standing:j6e,man_standing:H6e,standing_person:Z6e,woman_kneeling:G6e,man_kneeling:K6e,kneeling_person:J6e,deaf_woman:eke,deaf_man:tke,deaf_person:nke,face_with_monocle:rke,farmer:ike,cook:ske,person_feeding_baby:oke,mx_claus:ake,student:lke,singer:cke,artist:uke,teacher:hke,factory_worker:dke,technologist:fke,office_worker:pke,mechanic:mke,scientist:gke,astronaut:yke,firefighter:bke,people_holding_hands:Oke,person_with_probing_cane:vke,red_haired_person:xke,curly_haired_person:kke,bald_person:wke,white_haired_person:_ke,person_in_motorized_wheelchair:Ske,person_in_manual_wheelchair:Cke,health_worker:Tke,judge:Dke,pilot:Eke,adult:Ake,child:Mke,older_adult:Pke,woman_with_beard:Bke,man_with_beard:$ke,bearded_person:Lke,person_with_headscarf:Fke,woman_in_steamy_room:Nke,man_in_steamy_room:Ike,person_in_steamy_room:Rke,woman_climbing:Qke,person_climbing:zke,man_climbing:Vke,woman_in_lotus_position:Wke,person_in_lotus_position:qke,man_in_lotus_position:Xke,female_mage:Yke,mage:Uke,male_mage:jke,female_fairy:Hke,fairy:Zke,male_fairy:Gke,female_vampire:Kke,vampire:Jke,male_vampire:ewe,mermaid:twe,merman:nwe,merperson:rwe,female_elf:iwe,male_elf:swe,elf:owe,female_genie:awe,male_genie:lwe,genie:cwe,female_zombie:uwe,male_zombie:hwe,zombie:dwe,brain:fwe,orange_heart:pwe,billed_cap:mwe,scarf:gwe,gloves:ywe,coat:bwe,socks:Owe,red_envelope:vwe,firecracker:xwe,jigsaw:kwe,test_tube:wwe,petri_dish:_we,dna:Swe,compass:Cwe,abacus:Twe,fire_extinguisher:Dwe,toolbox:Ewe,bricks:Awe,magnet:Mwe,luggage:Pwe,lotion_bottle:Bwe,thread:$we,yarn:Lwe,safety_pin:Fwe,teddy_bear:Nwe,broom:Iwe,basket:Rwe,roll_of_paper:Qwe,soap:zwe,sponge:Vwe,receipt:Wwe,nazar_amulet:qwe,ballet_shoes:Xwe,"one-piece_swimsuit":"\u{1FA71}",briefs:Ywe,shorts:Uwe,thong_sandal:jwe,drop_of_blood:Hwe,adhesive_bandage:Zwe,stethoscope:Gwe,"yo-yo":"\u{1FA80}",kite:Kwe,parachute:Jwe,boomerang:e8e,magic_wand:t8e,pinata:n8e,nesting_dolls:r8e,ringed_planet:i8e,chair:s8e,razor:o8e,axe:a8e,diya_lamp:l8e,banjo:c8e,military_helmet:u8e,accordion:h8e,long_drum:d8e,coin:f8e,carpentry_saw:p8e,screwdriver:m8e,ladder:g8e,hook:y8e,mirror:b8e,window:O8e,plunger:v8e,sewing_needle:x8e,knot:k8e,bucket:w8e,mouse_trap:_8e,toothbrush:S8e,headstone:C8e,placard:T8e,rock:D8e,fly:E8e,worm:A8e,beetle:M8e,cockroach:P8e,potted_plant:B8e,wood:$8e,feather:L8e,anatomical_heart:F8e,lungs:N8e,people_hugging:I8e,blueberries:R8e,bell_pepper:Q8e,olive:z8e,flatbread:V8e,tamale:W8e,fondue:q8e,teapot:X8e,bangbang:Y8e,interrobang:U8e,tm:j8e,information_source:H8e,left_right_arrow:Z8e,arrow_up_down:G8e,arrow_upper_left:K8e,arrow_upper_right:J8e,arrow_lower_right:e7e,arrow_lower_left:t7e,leftwards_arrow_with_hook:n7e,arrow_right_hook:r7e,watch:i7e,hourglass:s7e,keyboard:o7e,eject:a7e,fast_forward:l7e,rewind:c7e,arrow_double_up:u7e,arrow_double_down:h7e,black_right_pointing_double_triangle_with_vertical_bar:d7e,black_left_pointing_double_triangle_with_vertical_bar:f7e,black_right_pointing_triangle_with_double_vertical_bar:p7e,alarm_clock:m7e,stopwatch:g7e,timer_clock:y7e,hourglass_flowing_sand:b7e,double_vertical_bar:O7e,black_square_for_stop:v7e,black_circle_for_record:x7e,m:k7e,black_small_square:w7e,white_small_square:_7e,arrow_forward:S7e,arrow_backward:C7e,white_medium_square:T7e,black_medium_square:D7e,white_medium_small_square:E7e,black_medium_small_square:A7e,sunny:M7e,cloud:P7e,umbrella:B7e,snowman:$7e,comet:L7e,phone:F7e,telephone:N7e,ballot_box_with_check:I7e,shamrock:R7e,point_up:Q7e,skull_and_crossbones:z7e,radioactive_sign:V7e,biohazard_sign:W7e,orthodox_cross:q7e,star_and_crescent:X7e,peace_symbol:Y7e,yin_yang:U7e,wheel_of_dharma:j7e,white_frowning_face:H7e,relaxed:Z7e,female_sign:G7e,male_sign:K7e,gemini:J7e,cancer:e_e,leo:t_e,virgo:n_e,libra:r_e,scorpius:i_e,chess_pawn:s_e,spades:o_e,clubs:a_e,hearts:l_e,diamonds:c_e,hotsprings:u_e,recycle:h_e,infinity:d_e,wheelchair:f_e,hammer_and_pick:p_e,crossed_swords:m_e,medical_symbol:g_e,staff_of_aesculapius:y_e,scales:b_e,alembic:O_e,gear:v_e,atom_symbol:x_e,fleur_de_lis:k_e,warning:w_e,zap:__e,transgender_symbol:S_e,white_circle:C_e,black_circle:T_e,coffin:D_e,funeral_urn:E_e,soccer:A_e,baseball:M_e,snowman_without_snow:P_e,partly_sunny:B_e,thunder_cloud_and_rain:$_e,ophiuchus:L_e,pick:F_e,helmet_with_white_cross:N_e,chains:I_e,no_entry:R_e,shinto_shrine:Q_e,church:z_e,mountain:V_e,umbrella_on_ground:W_e,fountain:q_e,golf:X_e,ferry:Y_e,boat:U_e,sailboat:j_e,skier:H_e,ice_skate:Z_e,"woman-bouncing-ball":"\u26F9\uFE0F\u200D\u2640\uFE0F","man-bouncing-ball":"\u26F9\uFE0F\u200D\u2642\uFE0F",person_with_ball:G_e,tent:K_e,fuelpump:J_e,scissors:eSe,airplane:tSe,email:nSe,envelope:rSe,fist:iSe,hand:sSe,raised_hand:oSe,v:aSe,writing_hand:lSe,pencil2:cSe,black_nib:uSe,heavy_check_mark:hSe,heavy_multiplication_x:dSe,latin_cross:fSe,star_of_david:pSe,eight_spoked_asterisk:mSe,eight_pointed_black_star:gSe,snowflake:ySe,sparkle:bSe,x:OSe,negative_squared_cross_mark:vSe,heavy_heart_exclamation_mark_ornament:xSe,heart_on_fire:kSe,mending_heart:wSe,heart:_Se,arrow_right:SSe,curly_loop:CSe,loop:TSe,arrow_heading_up:DSe,arrow_heading_down:ESe,arrow_left:ASe,arrow_up:MSe,arrow_down:PSe,black_large_square:BSe,white_large_square:$Se,star:LSe,o:FSe,wavy_dash:NSe,part_alternation_mark:ISe,congratulations:RSe,secret:QSe};var uL=Fae,Ql=zSe,VSe=/:([a-zA-Z0-9_\-\+]+):/g,WSe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Qd(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),Qd(t)):(t=t.substr(e+1),Qd(t)):t}function hL(t){return typeof t=="string"&&t.length>0?":"+t+":":t}function qSe(t){return typeof t=="string"&&t[0]!==":"?hL(t):t}var XSe=String.fromCharCode(65039),YSe=new RegExp(XSe,"g");function zd(t){return t.replace(YSe,"")}var Iw=Object.keys(Ql).reduce(function(t,e){return t[zd(Ql[e])]=e,t},{}),vn={emoji:Ql};vn._get=function(e){return Iw[zd(e)]?e:Ql.hasOwnProperty(e)?Ql[e]:qSe(e)};vn.get=function(e){return e=Qd(e),vn._get(e)};vn.find=function(e){return vn.findByName(e)||vn.findByCode(e)};vn.findByName=function(e){var n=Qd(e),r=Ql[n];return r?{emoji:r,key:n}:void 0};vn.findByCode=function(e){var n=zd(e),r=Iw[n];return r?{emoji:Ql[r],key:r}:void 0};vn.hasEmoji=function(e){return vn.hasEmojiByName(e)||vn.hasEmojiByCode(e)};vn.hasEmojiByName=function(e){var n=vn.findByName(e);return!!n&&n.key===Qd(e)};vn.hasEmojiByCode=function(e){var n=vn.findByCode(e);return!!n&&zd(n.emoji)===zd(e)};vn.which=function(e,n){var r=zd(e),i=Iw[r];return n?hL(i):i};vn.emojify=function(e,n,r){return e?e.split(VSe).map(function(s,o){if(o%2===0)return s;var a=vn._get(s),l=a.indexOf(":")>-1;return l&&typeof n=="function"?n(s):!l&&typeof r=="function"?r(a,s):a}).join(""):""};vn.random=function(){var e=Object.keys(Ql),n=Math.floor(Math.random()*e.length),r=e[n],i=vn._get(r);return{key:r,emoji:i}};vn.search=function(e){var n=Object.keys(Ql),r=Qd(e),i=n.filter(function(s){return s.toString().indexOf(r)===0});return i.map(function(s){return{key:s,emoji:vn._get(s)}})};vn.unemojify=function(e){if(!e)return"";var n=uL(e);return n.map(function(r){return vn.which(r,!0)||r}).join("")};vn.replace=function(e,n,r){if(!e)return"";var i=typeof n=="function"?n:function(){return n},s=uL(e),o=s.map(function(a,l){var u=vn.findByCode(a);return u&&r&&s[l+1]===" "&&(s[l+1]=""),u?i(u):a}).join("");return r?o.replace(WSe,""):o};vn.strip=function(e){return vn.replace(e,"",!0)};var USe=vn;(function(t){t.exports=USe})(U$);const Hf=rU(U$.exports),A9=[{name:"angry",emoji:"\u{1F620}",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"\u{1F60A}",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"\u{1F494}",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"\u{1F615}",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"\u{1F622}",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"\u{1F626}",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"\u2764\uFE0F",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"\u{1F47F}",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"\u{1F607}",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"\u{1F602}",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"\u{1F617}",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"\u{1F606}",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"\u{1F468}",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"\u{1F610}",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"\u{1F636}",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"\u{1F62E}",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"\u{1F621}",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"\u{1F604}",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"\u{1F603}",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"\u{1F608}",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"\u{1F62D}",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"\u{1F61B}",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"\u{1F61D}",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"\u{1F61C}",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"\u{1F60E}",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"\u{1F613}",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"\u{1F605}",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"\u{1F612}",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"\u{1F609}",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}];function jSe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const HSe={}.hasOwnProperty,dL=function(t,e,n,r){let i,s;typeof e=="string"||e instanceof RegExp?(s=[[e,n]],i=r):(s=e,i=n),i||(i={});const o=p4(i.ignore||[]),a=ZSe(s);let l=-1;for(;++l<a.length;)SB(t,"text",u);return t;function u(d,f){let p=-1,m;for(;++p<f.length;){const g=f[p];if(o(g,m?m.children.indexOf(g):void 0,m))return;m=g}if(m)return h(d,f)}function h(d,f){const p=f[f.length-1],m=a[l][0],g=a[l][1];let y=0;const b=p.children.indexOf(d);let O=!1,w=[];m.lastIndex=0;let D=m.exec(d.value);for(;D;){const C=D.index,T={index:D.index,input:D.input,stack:[...f,d]};let E=g(...D,T);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E!==!1&&(y!==C&&w.push({type:"text",value:d.value.slice(y,C)}),Array.isArray(E)?w.push(...E):E&&w.push(E),y=C+D[0].length,O=!0),!m.global)break;D=m.exec(d.value)}return O?(y<d.value.length&&w.push({type:"text",value:d.value.slice(y)}),p.children.splice(b,1,...w)):w=[d],b+w.length}};function ZSe(t){const e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([M9(t[n][0]),P9(t[n][1])])}else{let n;for(n in t)HSe.call(t,n)&&e.push([M9(n),P9(t[n])])}return e}function M9(t){return typeof t=="string"?new RegExp(jSe(t),"g"):t}function P9(t){return typeof t=="function"?t:()=>t}const GSe=/:\+1:|:-1:|:[\w-]+:/g,KSe=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,B9=/_/g,JSe=/(?:_|-(?!1))/g,e9e={padSpaceAfter:!1,emoticon:!1,accessible:!1};function t9e(t){const e=Object.assign({},e9e,t),n=!!e.padSpaceAfter,r=!!e.emoticon,i=!!e.accessible;function s(u,h){return{type:"text",meta:null,value:u,data:{hName:"span",hProperties:{role:"img",ariaLabel:h},hChildren:[{type:"text",value:u}]}}}function o(u){const h=A9.find(y=>y.emoticons.includes(u)),d=A9.find(y=>y.emoticons.includes(u.slice(0,-1))),f=h||d;if(!f)return!1;const p=!h&&d?u.slice(-1):"",m=n?" ":"",g=f.emoji+m+p;return i?s(g,f.name+" emoticon"):g}function a(u){let h=Hf.get(u);if(u.endsWith("_man:")&&h===u){const d="man-"+u.slice(1,-5).replace(B9,"-"),f=Hf.get(d);f!==d&&(h=f)}else if(u.endsWith("_woman:")&&h===u){const d="woman-"+u.slice(1,-7).replace(B9,"-"),f=Hf.get(d);f!==d&&(h=f)}if(h===u)return!1;if(n&&(h=h+" "),i){const d=u.slice(1,-1).replace(JSe," ")+" emoji";return s(h,d)}return h}function l(u){const h=[[GSe,a]];r&&h.push([KSe,o]),dL(u,h)}return l}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var n9e=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:O,toCodePoint:T},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:w,replace:D,test:C},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i=String.fromCharCode(8205),s=/[&<>'"]/g,o=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function l(E,P){return document.createTextNode(P?E.replace(r,""):E)}function u(E){return E.replace(s,g)}function h(E,P){return"".concat(P.base,P.size,"/",E,P.ext)}function d(E,P){for(var M=E.childNodes,$=M.length,A,_;$--;)A=M[$],_=A.nodeType,_===3?P.push(A):_===1&&!("ownerSVGElement"in A)&&!o.test(A.nodeName.toLowerCase())&&d(A,P);return P}function f(E){return T(E.indexOf(i)<0?E.replace(r,""):E)}function p(E,P){for(var M=d(E,[]),$=M.length,A,_,L,v,q,x,X,de,H,G,F,B,ae;$--;){for(L=!1,v=document.createDocumentFragment(),q=M[$],x=q.nodeValue,de=0;X=n.exec(x);){if(H=X.index,H!==de&&v.appendChild(l(x.slice(de,H),!0)),F=X[0],B=f(F),de=H+F.length,ae=P.callback(B,P),B&&ae){G=new Image,G.onerror=P.onerror,G.setAttribute("draggable","false"),A=P.attributes(F,B);for(_ in A)A.hasOwnProperty(_)&&_.indexOf("on")!==0&&!G.hasAttribute(_)&&G.setAttribute(_,A[_]);G.className=P.className,G.alt=F,G.src=ae,L=!0,v.appendChild(G)}G||v.appendChild(l(F,!1)),G=null}L&&(de<x.length&&v.appendChild(l(x.slice(de),!0)),q.parentNode.replaceChild(v,q))}return E}function m(E,P){return D(E,function(M){var $=M,A=f(M),_=P.callback(A,P),L,v;if(A&&_){$="<img ".concat('class="',P.className,'" ','draggable="false" ','alt="',M,'"',' src="',_,'"'),L=P.attributes(M,A);for(v in L)L.hasOwnProperty(v)&&v.indexOf("on")!==0&&$.indexOf(" "+v+"=")===-1&&($=$.concat(" ",v,'="',u(L[v]),'"'));$=$.concat("/>")}return $})}function g(E){return e[E]}function y(){return null}function b(E){return typeof E=="number"?E+"x"+E:E}function O(E){var P=typeof E=="string"?parseInt(E,16):E;return P<65536?a(P):(P-=65536,a(55296+(P>>10),56320+(P&1023)))}function w(E,P){return(!P||typeof P=="function")&&(P={callback:P}),(typeof E=="string"?m:p)(E,{callback:P.callback||h,attributes:typeof P.attributes=="function"?P.attributes:y,base:typeof P.base=="string"?P.base:t.base,ext:P.ext||t.ext,size:P.folder||b(P.size||t.size),className:P.className||t.className,onerror:P.onerror||t.onerror})}function D(E,P){return String(E).replace(n,P)}function C(E){n.lastIndex=0;var P=n.test(E);return n.lastIndex=0,P}function T(E,P){for(var M=[],$=0,A=0,_=0;_<E.length;)$=E.charCodeAt(_++),A?(M.push((65536+(A-55296<<10)+($-56320)).toString(16)),A=0):55296<=$&&$<=56319?A=$:M.push($.toString(16));return M.join(P||"-")}}();const r9e=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,i9e=/:\+1|:-1|:[\w-]+/,s9e=/:\+1:|:-1:|:[\w-]+:/,o9e=/(:([^:\s]+):)$/,a9e=t=>({title:t}),Rw=(t,e)=>n9e.parse(t,{attributes:a9e,...e}),l9e=(t,e,n,r,i,s)=>{if(t.composing)return!1;const{state:o}=t,a=o.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=(a.parent.textBetween(Math.max(0,a.parentOffset-10),a.parentOffset,void 0,"\uFFFC")+r).toLowerCase();if(s9e.test(l))return!1;const u=i9e.exec(l);if(u&&u[0]&&l.endsWith(u[0])){const h=u[0];return i(e-(h.length-r.length),n),s(h),!0}return!1},c9e=(t,e,n,r,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach(({emoji:s,key:o},a)=>{const l=document.createElement("div");l.className="milkdown-emoji-filter_item";const u=document.createElement("span");u.innerHTML=Rw(s,i),u.className="milkdown-emoji-filter_item-emoji";const h=document.createElement("span");h.textContent=`:${o}:`,h.className="milkdown-emoji-filter_item-key",l.appendChild(u),l.appendChild(h),e.appendChild(l),a===0&&r(l);const d=p=>{const{target:m}=p;m instanceof HTMLElement&&r(m)},f=p=>{p.preventDefault(),n()};l.addEventListener("mouseenter",d),l.addEventListener("mousedown",f)})},u9e=(t,{css:e,cx:n})=>{const r=t.get(ci,void 0),i=t.get(jo,void 0),s=t.get(Ba,void 0),o=t.get(yn,"radius"),a=t.get(_a,"typography"),l=(h,d=1)=>t.get(wi,[h,d]),u=e`
        min-height: 36px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${o};
        position: absolute;
        background: ${l("surface")};

        &.hide {
            display: none;
        }

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 8px;
            height: 36px;
            padding: 0 14px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 14px;
            &.active {
                background: ${l("secondary",.12)};
                color: ${l("primary")};
            }
        }

        .emoji {
            height: 14px;
            width: 14px;
            margin: 0 1px 0 1.5px;
            vertical-align: -1.5px;
        }
    `;return n(r,i,s,u)},h9e=new pn("MILKDOWN_EMOJI_FILTER"),d9e=(t,e,n)=>{let r=!1,i=0,s="",o=null;const a=()=>{r=!1,i=0,s="",o=null},l=u=>{o&&o.classList.remove("active"),u&&u.classList.add("active"),o=u};return new cn({key:h9e,props:{handleKeyDown(u,h){return["Delete","Backspace"].includes(h.key)?(s=s.slice(0,-1),s.length<=1&&a(),!1):!(!r||!["ArrowUp","ArrowDown","Enter"].includes(h.key))},handleTextInput(u,h,d,f){return r=l9e(u,h,d,f,p=>{i=p},p=>{s=p}),r||a(),!1}},view:u=>{const{parentNode:h}=u.dom;if(!h)throw ms();const d=document.createElement("div");d.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush(()=>{const g=d.className.split(" ").filter(b=>["hide","milkdown-emoji-filter"].includes(b));d.className=g.join(" ");const y=t.getStyle(b=>u9e(t.themeManager,b));y&&y.split(" ").forEach(b=>d.classList.add(b))});const f=()=>{var g;if(!o)return;const{tr:y}=u.state,b=u.state.schema.node("emoji",{html:(g=o.firstElementChild)==null?void 0:g.innerHTML});u.dispatch(y.delete(i,i+s.length).insert(i,b)),a(),d.classList.add("hide")};h.appendChild(d);const p=g=>{if(!r||!(g instanceof KeyboardEvent))return;const{key:y}=g;if(y==="Enter"){f();return}if(["ArrowDown","ArrowUp"].includes(y)){const b=y==="ArrowDown"?(o==null?void 0:o.nextElementSibling)||d.firstElementChild:(o==null?void 0:o.previousElementSibling)||d.lastElementChild;if(!b)return;l(b)}},m=g=>{!r||(g.stopPropagation(),a(),d.classList.add("hide"))};return h.addEventListener("keydown",p),h.addEventListener("mousedown",m),{update:g=>{const{selection:y}=g.state;if(y.from-y.to!==0||!r)return a(),d.classList.add("hide"),null;const b=Hf.search(s).slice(0,e),{node:O}=g.domAtPos(i);return b.length===0||!O?(d.classList.add("hide"),null):(d.style.maxHeight="",d.classList.remove("hide"),c9e(b,d,f,l,n),C$(g,d,(w,D,C)=>{const T=d.parentElement;if(!T)throw ms();const E=g.coordsAtPos(i);let P=E.left-C.left;P<0&&(P=0);let M,$;const A=E.top-C.top,_=C.height+C.top-E.bottom;_>=D.height+28?M="bottom":A>=D.height+28?M="top":_>=A?(M="bottom",$=_-28):(M="top",$=A-28),(A<0||_<0)&&($=C.height-(E.bottom-E.top)-28,$>D.height&&($=void 0));const L=M==="top"?E.top-C.top-($!=null?$:D.height)-14+T.scrollTop:E.bottom-C.top+14+T.scrollTop;d.style.maxHeight=$!==void 0&&$>0?`${$}px`:"";const v=T.clientWidth-(d.offsetWidth+4);return P>v&&(P=v),[L,P]}),null)},destroy:()=>{h.removeEventListener("keydown",p),h.removeEventListener("mousedown",m),d.remove()}}}})},$9=r9e(),f9e=t=>!!t.children,p9e=t=>!!t.value;function m9e(t,e){return n(t,0,null)[0];function n(r,i,s){if(f9e(r)){const o=[];for(let a=0,l=r.children.length;a<l;a++){const u=r.children[a];if(u){const h=n(u,a,r);if(h)for(let d=0,f=h.length;d<f;d++){const p=h[d];p&&o.push(p)}}}r.children=o}return e(r,i,s)}}const g9e=t=>()=>{function e(n){m9e(n,r=>{if(!p9e(r))return[r];const i=r.value,s=[];let o,a=i;for(;o=$9.exec(a);){const{index:l}=o,u=o[0];u&&(l>0&&s.push({...r,value:a.slice(0,l)}),s.push({...r,value:Rw(u,t),type:"emoji"}),a=a.slice(l+u.length)),$9.lastIndex=0}return a.length&&s.push({...r,value:a}),s})}return e},y9e=wr((t,e)=>{const n=()=>t.getStyle(({css:r})=>r`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 1px 0 1.5px;
                    vertical-align: -1.5px;
                }
            `);return{id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Nr(r);return{html:r.innerHTML}}}],toDOM:r=>{const i=document.createElement("span");return i.classList.add("emoji-wrapper"),i.dataset.type="emoji",t.themeManager.onFlush(()=>{const s=n();s&&i.classList.add(s)}),i.innerHTML=r.attrs.html,{dom:i}},parseMarkdown:{match:({type:r})=>r==="emoji",runner:(r,i,s)=>{r.addNode(s,{html:i.value})}},toMarkdown:{match:r=>r.type.name==="emoji",runner:(r,i)=>{const s=document.createElement("span");s.innerHTML=i.attrs.html;const o=s.querySelector("img"),a=o==null?void 0:o.title;s.remove(),r.addNode("text",void 0,a)}}}),inputRules:r=>[new Ei(o9e,(i,s,o,a)=>{const l=s[0];if(!l)return null;const u=Hf.get(l);if(!u||l.includes(u))return null;const h=Rw(u,e==null?void 0:e.twemojiOptions);return i.tr.setMeta("emoji",!0).replaceRangeWith(o,a,r.create({html:h})).scrollIntoView()})],remarkPlugins:()=>[t9e,g9e(e==null?void 0:e.twemojiOptions)],prosePlugins:()=>{var r;return[d9e(t,(r=e==null?void 0:e.maxListSize)!=null?r:6,e==null?void 0:e.twemojiOptions)]}}}),b9e=Ai.create([y9e()]),O9e=rn("Undo"),v9e=rn("Redo"),x9e=Is(()=>({commands:()=>[sn(O9e,()=>Pp),sn(v9e,()=>nh)],prosePlugins:()=>[Q$(),Id({"Mod-z":Pp,"Mod-y":nh,"Shift-Mod-z":nh})]})),k9e=Ai.create([x9e()]),fL=(t,e)=>{if(!e)return!1;const{from:n,to:r}=t.selection;return t.doc.rangeHasMark(n,n===r?r+1:r,e)},w9e=t=>{const{selection:e}=t;return e instanceof Mt?!!t.doc.textBetween(e.from,e.to):!1},_9e=t=>Boolean(T$(e=>!!e.type.spec.code)(t.selection)),S9e=(t,e)=>!w9e(t)||_9e(t)||fL(t,e),Q0=(t,e,n,r)=>({icon:t,onClick:e,isHidden:()=>i=>S9e(i.state,r),isActive:()=>i=>fL(i.state,n),canAddToDOM:()=>i=>!!n&&!!i.state.schema.marks[n.name]}),C9e=t=>{const e=t.get(Lr).marks;return[Q0("bold","ToggleBold",e.strong),Q0("italic","ToggleItalic",e.em),Q0("strikeThrough","ToggleStrikeThrough",e.strike_through),Q0("code","ToggleInlineCode",e.code_inline),Q0("link","ToggleLink",e.link)]},T9e=(t,e=C9e)=>{const n=({icon:r,onClick:i,isHidden:s,isActive:o,canAddToDOM:a})=>{var l;return{$:typeof r=="function"?r(t):(l=t.get(Er).get(gr,r))==null?void 0:l.dom,command:typeof i=="string"?()=>t.get(Hn).call(i):i(t),disable:s(t),active:o(t),enable:a(t)}};return e(t).map(n)},D9e=(t,e,n)=>{t.classList.remove("hide"),pw(e,t,(r,i,s,o)=>{const a=t.parentElement;if(!a)throw ms();const l=i.left-r.left;let u=r.left-o.left-(s.width-l)/2,h=r.top-o.top-s.height-14+a.scrollTop;u<0&&(u=0);const d=a.clientWidth-(s.width+4);return u>d&&(u=d),(h<a.scrollTop||n&&o.bottom-r.bottom>s.height)&&(h=r.bottom-o.top+14+a.scrollTop),[h,u]})},E9e=(t,{css:e})=>{const n=(i,s=1)=>t.get(wi,[i,s]),r=t.get(yn,"lineWidth");return e`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${t.get(yn,"radius")};
        z-index: 2;

        ${t.get(ci,void 0)}
        ${t.get(jo,void 0)}

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.active {
                color: ${n("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${r});
                width: ${r};
                bottom: 0;
                background: ${n("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `},A9e=(t,e,n)=>{const r=document.createElement("div");return e.themeManager.onFlush(()=>{const i=e.getStyle(s=>E9e(e.themeManager,s))||"";i&&r.classList.add(i)}),r.classList.add(e.getClassName({},n)),{dom:r,render:i=>{var s;t.filter(o=>o.enable(i)&&o.$!=null).forEach(({$:o})=>r.appendChild(o)),(s=i.dom.parentNode)==null||s.appendChild(r)}}},M9e=(t,e)=>Object.values(t).filter(n=>n.enable(e)&&n.$!=null).every(({$:n})=>n.classList.contains("hide")),P9e=(t,e)=>(t.filter(n=>n.enable(e)&&n.$!=null).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}if(n.$.classList.remove("hide"),n.active(e)){n.$.classList.add("active");return}n.$.classList.remove("active")}),M9e(t,e)),L9=(t,e,n,r)=>{const{dom:i,render:s}=A9e(t,e,r),o=l=>{const u=t.find(({$:h})=>l.target instanceof Element&&h.contains(l.target));!u||(l.stopPropagation(),l.preventDefault(),u.command())},a=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",o),{destroy:()=>{i.removeEventListener("mousedown",o),i.remove()},hide:a,update:l=>{if(P9e(t,l)){a();return}D9e(i,l,n)},render:s}},B9e=(t,e,n,r)=>{let i=L9(t,e,n,r),s=!1;const o=()=>{i.hide()},a=(l,u)=>{const{state:h}=l;if(!l.editable||s){o();return}(u==null?void 0:u.doc.eq(h.doc))&&u.selection.eq(h.selection)||i.update(l)};return{recreate:l=>{i=L9(t,e,n,r),i.render(l),a(l)},update:a,destroy:()=>{i.destroy()},render:l=>{i.render(l),a(l)},setHide:l=>{s=l}}},$9e=new pn("MILKDOWN_TOOLTIP"),L9e=Is((t,e)=>({id:"tooltip",prosePlugins:(n,r)=>{var i;const s=B9e(T9e(r,e==null?void 0:e.items),t,(i=e==null?void 0:e.bottom)!=null?i:!1,"tooltip");return[new cn({key:$9e,props:{handleClick:o=>(s.setHide(!1),s.update(o),!1),handleDOMEvents:{mousedown:()=>(s.setHide(!1),!1)}},view:o=>(s.recreate(o),{update:s.update,destroy:s.destroy})})]}})),F9e=Ai.create([L9e()]);function pL(t){return function(e,n){let{$from:r,$to:i,node:s}=e.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(i))return!1;let o=r.node(-1);if(o.type!=t)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let h=Fe.empty,d=r.index(-1)?1:r.index(-2)?2:3;for(let y=r.depth-d;y>=r.depth-3;y--)h=Fe.from(r.node(y).copy(h));let f=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;h=h.append(Fe.from(t.createAndFill()));let p=r.before(r.depth-(d-1)),m=e.tr.replace(p,r.after(-f),new He(h,4-d,0)),g=-1;m.doc.nodesBetween(p,m.doc.content.size,(y,b)=>{if(g>-1)return!1;y.isTextblock&&y.content.size==0&&(g=b+1)}),g>-1&&m.setSelection(St.near(m.doc.resolve(g))),n(m.scrollIntoView())}return!0}let a=i.pos==r.end()?o.contentMatchAt(0).defaultType:null,l=e.tr.delete(r.pos,i.pos),u=a?[null,{type:a}]:void 0;return Qf(l.doc,r.pos,2,u)?(n&&n(l.split(r.pos,2,u).scrollIntoView()),!0):!1}}function Qw(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?N9e(e,n,t,s):I9e(e,n,s):!0:!1}}function N9e(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Ti(s-1,o,s,o,new He(Fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new AP(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=l4(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return c4(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function I9e(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),h=s.index(-1);if(!u.canReplace(h+(a?0:1),h+1,o.content.append(l?Fe.empty:Fe.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Ti(d-(a?1:0),f+(l?1:0),d+1,f-1,new He((a?Fe.empty:Fe.from(i.copy(Fe.empty))).append(l?Fe.empty:Fe.from(i.copy(Fe.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function zw(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,h=Fe.from(u?t.create():null),d=new He(Fe.from(t.create(null,Fe.from(a.type.create(null,h)))),u?3:1,0),f=s.start,p=s.end;n(e.tr.step(new Ti(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}var R9e=Object.defineProperty,Q9e=(t,e,n)=>e in t?R9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z9e=(t,e,n)=>(Q9e(t,typeof e!="symbol"?e+"":e,n),n);const Dm=(t,e)=>{if(!e)return!1;const{from:n,$from:r,to:i,empty:s}=t.selection;return s?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},mL=rn("SelectParent"),gL=[[{type:"button",icon:"undo",key:"Undo",disabled:t=>!Pp(t.state)},{type:"button",icon:"redo",key:"Redo",disabled:t=>!nh(t.state)}],[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:t=>{const{state:e}=t,n=e.schema.nodes.heading;if(!n)return!0;const r=i=>$c(n,{level:i})(e);return!(t.state.selection instanceof Mt)||!(r(1)||r(2)||r(3))},onSelect:t=>Number(t)?["TurnIntoHeading",Number(t)]:["TurnIntoText",null]}],[{type:"button",icon:"bold",key:"ToggleBold",active:t=>Dm(t.state,t.state.schema.marks.strong),disabled:t=>!t.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:t=>Dm(t.state,t.state.schema.marks.em),disabled:t=>!t.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:t=>Dm(t.state,t.state.schema.marks.strike_through),disabled:t=>!t.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.bullet_list;return n?!Qo(n)(e):!0}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.ordered_list;return n?!Qo(n)(e):!0}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.task_list_item;return n?!Qo(n)(e):!0}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return n?!Qw(n)(e):!0}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return n?!zw(n)(e):!0}}],[{type:"button",icon:"link",key:"ToggleLink",active:t=>Dm(t.state,t.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:mL}]],V9e=(t,e,n)=>{const r=document.createElement("button");r.setAttribute("type","button"),t.themeManager.onFlush(()=>{r.className="button";const s=t.getStyle(({css:o})=>{const a=_o(t.themeManager);return o`
                border: 0;
                box-sizing: unset;
                width: 28px;
                height: 28px;
                padding: 4px;
                margin: 8px;
                flex-shrink: 0;
                font-size: 14px;

                display: flex;
                justify-content: center;
                align-items: center;

                background-color: ${a("surface")};
                color: ${a("solid")};
                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;

                cursor: pointer;

                &.active,
                &:hover {
                    background-color: ${a("secondary",.12)};
                    color: ${a("primary")};
                }

                &:disabled {
                    display: none;
                }

                .material-icons-outlined {
                    font-size: 24px;
                }
            `});s&&r.classList.add(s)});const i=t.themeManager.get(gr,e.icon);if(i){const{label:s,dom:o}=i;s&&(r.setAttribute("aria-label",s),r.setAttribute("title",s)),r.appendChild(o)}else r.setAttribute("aria-label",e.icon),r.setAttribute("title",e.icon),r.textContent=e.icon;return r.addEventListener("mousedown",s=>{s.preventDefault(),s.stopPropagation(),n.get(Hn).call(e.key,e.options)}),r},W9e=t=>{const e=document.createElement("div");e.classList.add("divider");const{themeManager:n}=t;return n.onFlush(()=>{const r=t.getStyle(({css:i})=>i`
                flex-shrink: 0;
                width: ${n.get(yn,"lineWidth")};
                background-color: ${n.get(wi,["line"])};
                margin: 12px 16px;
                min-height: 24px;
            `);r&&e.classList.add(r)}),e},q9e=(t,e,n,r)=>{var i;const s=document.createElement("div");s.classList.add("menu-selector-wrapper","fold");const o=document.createElement("button"),a=document.createElement("div");o.setAttribute("type","button"),o.classList.add("menu-selector","fold"),o.addEventListener("mousedown",d=>{var f;d.preventDefault(),d.stopPropagation(),s.classList.toggle("fold");const p=s.getBoundingClientRect();a.style.left=`${p.left-(((f=r.dom.parentElement)==null?void 0:f.getBoundingClientRect().left)||0)}px`;const m=t.themeManager.get(yn,"lineWidth");a.style.top=`calc(${`${p.height}px`} + ${m} * 2)`}),r.dom.addEventListener("click",()=>{s.classList.add("fold")});const l=document.createElement("span");l.classList.add("menu-selector-value"),l.textContent=e.text;const u=(i=t.themeManager.get(gr,"downArrow"))==null?void 0:i.dom;s.appendChild(o),o.appendChild(l),u&&(u.setAttribute("aria-hidden","true"),o.appendChild(u)),a.classList.add("menu-selector-list"),e.options.forEach(d=>{const f=document.createElement("button");f.setAttribute("type","button"),f.dataset.id=d.id,f.textContent=d.text,f.classList.add("menu-selector-list-item"),a.appendChild(f)}),a.addEventListener("mousedown",d=>{const{target:f}=d;if(f instanceof HTMLButtonElement&&f.dataset.id){const p=e.onSelect(f.dataset.id,r),[m,g]=p;n.get(Hn).call(m,g),s.classList.add("fold")}}),s.appendChild(a);const{themeManager:h}=t;return h.onFlush(()=>{const d=t.getStyle(({css:f})=>{const p=(m,g=1)=>h.get(wi,[m,g]);return f`
                flex-shrink: 0;
                font-weight: 500;
                font-size: 14px;

                ${h.get(ci,"right")}
                ${h.get(ci,"left")}

                .menu-selector {
                    border: 0;
                    box-sizing: unset;
                    cursor: pointer;
                    font: inherit;
                    text-align: left;
                    justify-content: space-between;
                    align-items: center;
                    color: ${p("neutral",.87)};
                    display: flex;
                    padding: 4px;
                    margin: 8px;
                    height: 28px;
                    background: ${p("secondary",.12)};
                    width: 160px;

                    &:disabled {
                        display: none;
                    }
                }

                .menu-selector-value {
                    flex: 1;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                .menu-selector-list {
                    width: 184px;
                    position: absolute;
                    background: ${p("surface")};
                    ${h.get(ci,void 0)}
                    ${h.get(jo,void 0)}
                    border-bottom-left-radius: ${h.get(yn,"radius")};
                    border-bottom-right-radius: ${h.get(yn,"radius")};
                    z-index: 3;
                }

                .menu-selector-list-item {
                    background-color: transparent;
                    border: 0;
                    cursor: pointer;
                    display: block;
                    font: inherit;
                    text-align: left;
                    padding: 12px 16px;
                    line-height: 28px;
                    width: 100%;
                    color: ${p("neutral",.87)};

                    &:hover {
                        background: ${p("secondary",.12)};
                        color: ${p("primary")};
                    }
                }

                &.fold {
                    border-color: transparent;

                    .menu-selector {
                        background: unset;
                    }

                    .menu-selector-list {
                        display: none;
                    }
                }
            `});d&&s.classList.add(d)}),s};class X9e{constructor(e,n,r,i,s){z9e(this,"config"),this.utils=n,this.ctx=r,this.config=e.map(o=>o.map(a=>({...a,$:this.$create(a,s)}))).map((o,a)=>{if(a===e.length-1)return o;const l={type:"divider",group:o.map(u=>u.$)};return[...o,{...l,$:this.$create(l,s)}]}).flat(),this.config.forEach(o=>i.appendChild(o.$))}update(e){this.config.forEach(n=>{if(n.type==="button"){n.active&&(n.active(e)?n.$.classList.add("active"):n.$.classList.remove("active")),n.disabled&&(n.disabled(e)?n.$.setAttribute("disabled","true"):n.$.removeAttribute("disabled"));return}if(n.type==="select"&&n.disabled){const r=n.disabled(e),i=n.$.children[0];i&&(r?(n.$.classList.add("disabled"),i.setAttribute("disabled","true")):(n.$.classList.remove("disabled"),i.removeAttribute("disabled")))}n.type==="divider"&&(n.group.every(r=>r.getAttribute("disabled")||r.classList.contains("disabled"))?n.$.classList.add("disabled"):n.$.classList.remove("disabled"))})}$create(e,n){const{utils:r,ctx:i}=this;switch(e.type){case"button":return V9e(r,e,i);case"select":return q9e(r,e,i,n);case"divider":default:return W9e(r)}}}const Y9e=({menu:t,menuWrapper:e,milkdownDOM:n,editorRoot:r})=>{r.appendChild(n),e.remove(),t.remove()},U9e=({menu:t,menuWrapper:e,milkdownDOM:n})=>{e.insertBefore(t,n)},yL=t=>t?typeof t=="string"?document.querySelector(t)||document.body:t:document.body,j9e=(t,e)=>{let n=null;n=document.createElement("div"),n.classList.add("milkdown-menu-wrapper");const r=t.get(bd),i=e.dom,s=yL(r),o=i.parentElement;if(!o)throw ms();return s.replaceChild(n,o),n.appendChild(o),n},H9e=(t,e,n,r,i=U9e)=>{if(!r)throw pj();const s=document.createElement("div");s.classList.add("milkdown-menu");const o=e.dom,{themeManager:a}=t;a.onFlush(()=>{const d=t.getStyle(()=>a.get(Ba,["y"]));d&&o.classList.add(d);const f=t.getStyle(({css:m})=>m`
                position: relative;
            `);r&&f&&r.classList.add(f);const p=t.getStyle(({css:m})=>{const g=a.get(ci,void 0),y=a.get(Ba,["x","thin"]);return m`
                font-family: ${a.get(_a,"typography")};
                box-sizing: border-box;
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: scroll;
                ${g};
                ${y};
                overflow-y: hidden;
                background: ${a.get(wi,["surface"])};
                transition: background-color 0.4s ease-in-out;

                -webkit-overflow-scrolling: auto;

                .disabled {
                    display: none;
                }
            `});p&&p.split(" ").forEach(m=>s.classList.add(m))});const l=n.get(bd),u=yL(l),h=o.parentElement;if(!h)throw ms();return i({menu:s,menuWrapper:r,editorDOM:o,editorRoot:u,milkdownDOM:h}),[s,()=>(Y9e({menu:s,menuWrapper:r,editorDOM:o,editorRoot:u,milkdownDOM:h}),h)]},Z9e=new pn("MILKDOWN_MENU"),bL=Is((t,e)=>{const n=e==null?void 0:e.domHandler;let r=null,i=null,s=null,o=null;const a=(l,u)=>{const h=e!=null&&e.config?typeof e.config=="function"?e.config(l):e.config:gL;if(u.editable){if(s||(s=j9e(l,u),l.set(Mp,s)),!i){const[d,f]=H9e(t,u,l,s,n);i=d,r=()=>{const p=f();s=null,i=null,o=null,r=null,l.set(Mp,p)}}o||(o=new X9e(h,t,l,i,u))}};return{commands:()=>[sn(mL,()=>qte)],prosePlugins:(l,u)=>[new cn({key:Z9e,view:h=>(a(u,h),h.editable&&(o==null||o.update(h)),{update:d=>{a(u,h),h.editable?o==null||o.update(d):r==null||r()},destroy:()=>{r==null||r()}})})]}}),G9e=Ai.create([bL()]),F9={}.hasOwnProperty;function K9e(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return E1(t,"definition",r=>{const i=N9(r.identifier);i&&!F9.call(e,i)&&(e[i]=r)}),n;function n(r){const i=N9(r);return i&&F9.call(e,i)?e[i]:null}}function N9(t){return String(t||"").toUpperCase()}function J9e(){return t=>{const e=K9e(t);E1(t,(n,r,i)=>{if(n.type==="definition"&&i!==null&&typeof r=="number")return i.children.splice(r,1),[Bv,r];if(n.type==="imageReference"||n.type==="linkReference"){const s=e(n.identifier);if(s&&i!==null&&typeof r=="number"){const o=n.type==="imageReference"?{type:"image",url:s.url,title:s.title,alt:n.alt}:{type:"link",url:s.url,title:s.title,children:n.children};return i.children[r]=o,[Bv,r]}}})}}const yr={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},I9="code_inline",R9=rn("ToggleInlineCode"),eCe=w0(t=>({id:I9,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===I9,runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}),commands:e=>[sn(R9,()=>(n,r)=>{const{selection:i,tr:s}=n;if(i.empty)return!1;const{from:o,to:a}=i;return n.doc.rangeHasMark(o,a,e)?(r==null||r(s.removeMark(o,a,e)),!0):(Object.keys(n.schema.marks).filter(l=>l!==e.name).map(l=>n.schema.marks[l]).forEach(l=>{s.removeMark(o,a,l)}),r==null||r(s.addMark(o,a,e.create())),!0)})],shortcuts:{[yr.CodeInline]:kn(R9,"Mod-e")}})),b5="em",Q9=rn("ToggleItalic"),tCe=w0(t=>({id:b5,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",{class:t.getClassName(e.attrs,b5)}],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===b5,runner:(e,n)=>{e.withMark(n,"emphasis")}}}),commands:e=>[sn(Q9,()=>k4(e))],shortcuts:{[yr.Em]:kn(Q9,"Mod-i")}})),nCe=new pn("MILKDOWN_LINK_INPUT"),rCe=rn("ToggleLink"),z9=rn("ModifyLink"),Em="link",iCe=w0((t,e)=>({id:Em,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Nr(n);return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM:n=>["a",{...n.attrs,class:t.getClassName(n.attrs,Em)}],parseMarkdown:{match:n=>n.type==="link",runner:(n,r,i)=>{const s=r.url,o=r.title;n.openMark(i,{href:s,title:o}),n.next(r.children),n.closeMark(i)}},toMarkdown:{match:n=>n.type.name===Em,runner:(n,r)=>{n.withMark(r,"link",void 0,{title:r.attrs.title,url:r.attrs.href})}}}),commands:n=>[sn(rCe,(r="")=>k4(n,{href:r})),sn(z9,(r="")=>(i,s)=>{var o;if(!s)return!1;const{marks:a}=i.schema;let l,u=-1;const{selection:h}=i,{from:d,to:f}=h;if(i.doc.nodesBetween(d,d===f?f+1:f,(O,w)=>{var D;if((D=a.link)!=null&&D.isInSet(O.marks))return l=O,u=w,!1}),!l)return!1;const p=l.marks.find(({type:O})=>O===n);if(!p)return!1;const m=u,g=u+l.nodeSize,{tr:y}=i,b=(o=a.link)==null?void 0:o.create({...p.attrs,href:r});return b?(s(y.removeMark(m,g,p).addMark(m,g,b).setSelection(new Mt(y.selection.$anchor)).scrollIntoView()),!0):!1})],prosePlugins:(n,r)=>{let i=!1;return[new cn({key:nCe,view:s=>{var o,a,l;const u=t.themeManager.get("input-chip",{placeholder:(a=(o=e==null?void 0:e.input)==null?void 0:o.placeholder)!=null?a:"Input Web Link",buttonText:(l=e==null?void 0:e.input)==null?void 0:l.buttonText,onUpdate:p=>{r.get(Hn).call(z9,p)},calculatePosition:(p,m)=>{pw(p,m,(g,y,b,O)=>{const w=p.dom.parentElement;if(!w)throw ms();const D=y.left-g.left;let C=g.left-O.left-(b.width-D)/2,T=g.bottom-O.top+14+w.scrollTop;i&&(T=g.top-O.top-b.height-14+w.scrollTop),C<0&&(C=0);const E=w.clientWidth-(b.width+4);return C>E&&(C=E),[T,C]})}});if(!u)return{};const h=p=>{var m;const{selection:g,doc:y}=p.state,{from:b,to:O}=g;if(!p.hasFocus())return!1;if(g instanceof Mt&&O<y.content.size&&b<y.content.size&&y.rangeHasMark(b,b===O?O+1:O,n)){let w=g.empty;if(((m=e==null?void 0:e.input)==null?void 0:m.displayWhenSelected)&&!w&&y.nodesBetween(b,b===O?O+1:O,(D,C)=>{if(D.marks.some(T=>T.type===n&&b>=C&&O<=C+D.nodeSize))return w=!0,!1}),w)return i=!1,!0}if(g instanceof gt){const{node:w}=g;if(w.type.name==="image"&&w.marks.findIndex(D=>D.type.name===Em)>-1)return i=!0,!0}return!1},d=p=>{const{selection:m}=p.state;let g;const{from:y,to:b}=m;if(p.state.doc.nodesBetween(y,y===b?b+1:b,w=>{if(n.isInSet(w.marks))return g=w,!1}),!g)return;const O=g.marks.find(w=>w.type===n);return O?O.attrs.href:void 0},f=p=>{!p.editable||(h(p)?(u.show(p),u.update(d(p))):u.hide())};return u.init(s),f(s),{update:(p,m)=>{(m==null?void 0:m.doc.eq(p.state.doc))&&m.selection.eq(p.state.selection)||requestAnimationFrame(()=>{f(p)})},destroy:()=>{u.destroy()}}}})]}})),O5="strong",V9=rn("ToggleBold"),sCe=w0(t=>({id:O5,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,O5)}],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===O5,runner:(e,n)=>{e.withMark(n,"strong")}}}),commands:e=>[sn(V9,()=>k4(e))],shortcuts:{[yr.Bold]:kn(V9,"Mod-b")}})),oCe=[eCe(),tCe(),sCe(),iCe()],Am="blockquote",W9=rn("WrapInBlockquote"),aCe=wr(t=>({id:Am,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,Am)},0],parseMarkdown:{match:({type:e})=>e===Am,runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===Am,runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}),inputRules:e=>[x0(/^\s*>\s$/,e)],commands:e=>[sn(W9,()=>Qo(e))],shortcuts:{[yr.Blockquote]:kn(W9,"Mod-Shift-b")}})),q9=rn("WrapInBulletList"),lCe=wr(t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Nr(n);return{spread:n.dataset.spread}}}],toDOM:n=>["ul",{"data-spread":n.attrs.spread,class:t.getClassName(n.attrs,"bullet-list")},0],parseMarkdown:{match:({type:n,ordered:r})=>n==="list"&&!r,runner:(n,r,i)=>{const s=r.spread!=null?`${r.spread}`:"false";n.openNode(i,{spread:s}).next(r.children).closeNode()}},toMarkdown:{match:n=>n.type.name===e,runner:(n,r)=>{n.openNode("list",void 0,{ordered:!1,spread:r.attrs.spread==="true"}).next(r.content).closeNode()}}}),inputRules:n=>[x0(/^\s*([-+*])\s$/,n)],commands:n=>[sn(q9,()=>Qo(n))],shortcuts:{[yr.BulletList]:kn(q9,"Mod-Alt-8")}}}),cCe=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],uCe=/^```(?<language>[a-z]*)?[\s\n]$/,hCe=/^~~~(?<language>[a-z]*)?[\s\n]$/,X9=rn("TurnIntoCodeFence"),v5="fence",dCe=wr((t,e)=>{const n=(e==null?void 0:e.languageList)||cCe;return{id:v5,schema:r=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:i=>{var s;if(!(i instanceof HTMLElement))throw Nr(i);return{language:(s=i.querySelector("pre"))==null?void 0:s.dataset.language}},getContent:(i,s)=>{var o,a;if(!(i instanceof HTMLElement))throw Nr(i);const l=(a=(o=i.querySelector("pre"))==null?void 0:o.textContent)!=null?a:"";if(!l)return Fe.empty;const u=s.text(l);return Fe.from(u)}},{tag:"pre",preserveWhitespace:"full",getAttrs:i=>{if(!(i instanceof HTMLElement))throw Nr(i);return{language:i.dataset.language}}}],toDOM:i=>{const s=document.createElement("select");return n.forEach(o=>{const a=document.createElement("option");a.value=o,a.innerText=o||"--",o===i.attrs.language&&(a.selected=!0),s.appendChild(a)}),s.onchange=o=>{const a=o.target;if(!(a instanceof HTMLSelectElement))return;const l=r.get(Qn);if(!l.editable){a.value=i.attrs.language;return}const{top:u,left:h}=a.getBoundingClientRect(),d=l.posAtCoords({top:u,left:h});if(!d)return;const{tr:f}=l.state;l.dispatch(f.setNodeMarkup(d.inside,void 0,{...i.attrs,language:a.value}))},["div",{class:"code-fence-container"},s,["pre",{"data-language":i.attrs.language,class:t.getClassName(i.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:i})=>i==="code",runner:(i,s,o)=>{const a=s.lang,l=s.value;i.openNode(o,{language:a}),l&&i.addText(l),i.closeNode()}},toMarkdown:{match:i=>i.type.name===v5,runner:(i,s)=>{var o;i.addNode("code",void 0,((o=s.content.firstChild)==null?void 0:o.text)||"",{lang:s.attrs.language})}}}),inputRules:r=>[jv(uCe,r,i=>{const[s,o]=i;if(s)return{language:o}}),jv(hCe,r,i=>{const[s,o]=i;if(s)return{language:o}})],commands:r=>[sn(X9,()=>$c(r))],shortcuts:{[yr.CodeFence]:kn(X9,"Mod-Alt-c")},view:()=>(r,i,s)=>{let o=r;const a=g=>{const{tr:y}=i.state;i.dispatch(y.setNodeMarkup(s(),void 0,{fold:!0,language:g}))},l=()=>{const{tr:g}=i.state;i.dispatch(g.setNodeMarkup(s(),void 0,{...o.attrs,fold:!0}))},u=()=>{const{tr:g}=i.state;i.dispatch(g.setNodeMarkup(s(),void 0,{...o.attrs,fold:!1}))},h=t.themeManager.get("code-fence",{view:i,onBlur:l,onFocus:u,onSelectLanguage:a,editable:()=>i.editable,languageList:n});if(!h)return{};const{dom:d,contentDOM:f,onUpdate:p,onDestroy:m}=h;return p(o),{dom:d,contentDOM:f,update:g=>g.type.name!==v5?!1:(o=g,p(o),!0),destroy:m}}}}),fCe=wr(()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})})),Y9=rn("InsertHardbreak"),pCe=new pn("MILKDOWN_HARDBREAK_FILTER"),mCe=wr((t,e)=>{var n;const r=(n=e==null?void 0:e.notIn)!=null?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:i=>["br",{class:t.getClassName(i.attrs,"hardbreak")}],parseMarkdown:{match:({type:i})=>i==="break",runner:(i,s,o)=>{i.addNode(o)}},toMarkdown:{match:i=>i.type.name==="hardbreak",runner:i=>{i.addNode("break")}}}),commands:i=>[sn(Y9,()=>(s,o)=>{var a;const{selection:l,tr:u}=s;if(l.empty){const h=l.$from.node();if(h.childCount>0&&((a=h.lastChild)==null?void 0:a.type.name)==="hardbreak")return o==null||o(u.replaceRangeWith(l.to-1,l.to,s.schema.node("paragraph")).setSelection(St.near(u.doc.resolve(l.to))).scrollIntoView()),!0}return o==null||o(u.setMeta("hardbreak",!0).replaceSelectionWith(i.create()).scrollIntoView()),!0})],shortcuts:{[yr.HardBreak]:kn(Y9,"Shift-Enter")},prosePlugins:i=>[new cn({key:pCe,filterTransaction:(s,o)=>{const a=s.getMeta("hardbreak"),[l]=s.steps;if(a&&l){const{from:u}=l,h=o.doc.resolve(u);let d=h.depth,f=!0;for(;d>0;)r.includes(h.node(d).type.name)&&(f=!1),d--;return f}return!0}}),new cn({key:new pn("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(s,o,a)=>{if(!s.length)return;const[l]=s;if(!l)return;const[u]=l.steps;if(l.getMeta("hardbreak")){if(!(u instanceof _i))return;const{from:h}=u;return a.tr.setNodeMarkup(h,i,void 0,[])}if(u instanceof _l){let h=a.tr;const{from:d,to:f}=u;return a.doc.nodesBetween(d,f,(p,m)=>{p.type===i&&(h=h.setNodeMarkup(m,i,void 0,[]))}),h}}})]}}),U9=Array(6).fill(0).map((t,e)=>e+1),Ou=rn("TurnIntoHeading"),j9=rn("DowngradeHeading"),x5=new pn("MILKDOWN_HEADING_ID"),gCe=new pn("MILKDOWN_HEADING_HASH"),yCe=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),bCe=(t,e,n)=>{let r=!1;const i=(s,o)=>{const a=s.tr.setMeta("addToHistory",!1);let l=!1;s.doc.descendants((u,h)=>{if(u.type===e&&!r){if(u.textContent.trim().length===0)return;const d=u.attrs,f=n(u);d.id!==f&&(l=!0,a.setMeta(x5,!0).setNodeMarkup(h,void 0,{...d,id:f}))}}),l&&o(a)};return new cn({key:x5,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const s=t.get(Qn);return setTimeout(()=>{i(s.state,o=>s.dispatch(o))},0),!1}}},appendTransaction:(s,o,a)=>{let l=null;return s.every(u=>!u.getMeta(x5))&&s.some(u=>u.docChanged)&&i(a,u=>{l=u}),l},view:s=>{const o=s.state.doc;let a=s.state.tr.setMeta("addToHistory",!1);return o.descendants((l,u)=>{l.type.name==="heading"&&l.attrs.level&&(l.attrs.id||(a=a.setNodeMarkup(u,void 0,{...l.attrs,id:n(l)})))}),s.dispatch(a),{}}})},OCe=(t,e,n)=>new cn({key:gCe,state:{init:()=>gn.empty,apply:r=>{var i;const s=t.get(Qn);if(!((i=s.hasFocus)!=null&&i.call(s))||!s.editable)return gn.empty;const{$from:o}=r.selection,a=o.node();if(a.type!==e)return gn.empty;const l=a.attrs.level,u=f=>Array(f).fill(0).map(p=>"#").join(""),h=document.createElement("span");h.textContent=u(l),h.contentEditable="false",n.themeManager.onFlush(()=>{const f=n.getStyle(({css:p})=>{const m=_o(n.themeManager);return p`
                            margin-right: 4px;
                            color: ${m("primary")};
                        `});f&&(h.className=f)});const d=$r.widget(o.before()+1,h,{side:-1});return gn.create(r.doc,[d])}},props:{handleDOMEvents:{focus:r=>{const i=mw(r.state.tr);return r.dispatch(i),!1}},decorations(r){return this.getState(r)}}}),vCe=wr((t,e)=>{var n,r;const i="heading",s=(n=e==null?void 0:e.getId)!=null?n:yCe,o=(r=e==null?void 0:e.displayHashtag)!=null?r:!0;return{id:i,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:U9.map(a=>({tag:`h${a}`,getAttrs:l=>{if(!(l instanceof HTMLElement))throw Nr(l);return{level:a,id:l.id}}})),toDOM:a=>[`h${a.attrs.level}`,{id:a.attrs.id||s(a),class:t.getClassName(a.attrs,`heading h${a.attrs.level}`)},0],parseMarkdown:{match:({type:a})=>a===i,runner:(a,l,u)=>{const h=l.depth;a.openNode(u,{level:h}),a.next(l.children),a.closeNode()}},toMarkdown:{match:a=>a.type.name===i,runner:(a,l)=>{var u;if(a.openNode("heading",void 0,{depth:l.attrs.level}),l.childCount>=1&&((u=l.lastChild)==null?void 0:u.type.name)==="hardbreak"){const h=[];l.content.forEach((d,f,p)=>{p!==l.childCount-1&&h.push(d)}),a.next(Fe.fromArray(h))}else a.next(l.content);a.closeNode()}}}),inputRules:(a,l)=>U9.map(u=>jv(new RegExp(`^(#{1,${u}})\\s$`),a,()=>{const h=l.get(Qn),{$from:d}=h.state.selection,f=d.node();if(f.type.name==="heading"){let p=Number(f.attrs.level)+Number(u);return p>6&&(p=6),{level:p}}return{level:u}})),commands:(a,l)=>[sn(Ou,(u=1)=>u<1?$c(u===0&&l.get(Lr).nodes.paragraph||a):$c(u===0&&l.get(Lr).nodes.paragraph||a,{level:u})),sn(j9,()=>(u,h,d)=>{const{$from:f}=u.selection,p=f.node();if(p.type!==a||!u.selection.empty||f.parentOffset!==0)return!1;const m=p.attrs.level-1;return m?(h==null||h(u.tr.setNodeMarkup(u.selection.$from.before(),void 0,{...p.attrs,level:m})),!0):$c(l.get(Lr).nodes.paragraph||a)(u,h,d)})],shortcuts:{[yr.H1]:kn(Ou,"Mod-Alt-1",1),[yr.H2]:kn(Ou,"Mod-Alt-2",2),[yr.H3]:kn(Ou,"Mod-Alt-3",3),[yr.H4]:kn(Ou,"Mod-Alt-4",4),[yr.H5]:kn(Ou,"Mod-Alt-5",5),[yr.H6]:kn(Ou,"Mod-Alt-6",6),[yr.DowngradeHeading]:kn(j9,["Backspace","Delete"])},prosePlugins:(a,l)=>{const u=[bCe(l,a,s)];return o&&u.push(OCe(l,a,t)),u}}}),k5="hr",xCe=rn("InsertHr"),kCe=wr(t=>({id:k5,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,k5)}],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name===k5,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new Ei(/^(?:---|___\s|\*\*\*\s)$/,(n,r,i,s)=>{const{tr:o}=n;return r[0]&&o.replaceWith(i-1,s,e.create()),o})],commands:(e,n)=>[sn(xCe,()=>(r,i)=>{if(!i)return!0;const s=n.get(Lr).node("paragraph"),{tr:o,selection:a}=r,{from:l}=a,u=e.create();if(!u)return!0;const h=o.replaceSelectionWith(u).insert(l,s),d=St.findFrom(h.doc.resolve(l),1,!0);return d&&i(h.setSelection(d).scrollIntoView()),!0})]})),H9=rn("ModifyImage"),wCe=rn("InsertImage"),Mm="image",_Ce=new pn("MILKDOWN_IMAGE_INPUT"),SCe=wr((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Nr(n);return{src:n.getAttribute("src")||"",alt:n.getAttribute("alt")||"",title:n.getAttribute("title")||n.getAttribute("alt")||""}}}],toDOM:n=>["img",{...n.attrs,class:t.getClassName(n.attrs,Mm)}],parseMarkdown:{match:({type:n})=>n===Mm,runner:(n,r,i)=>{const s=r.url,o=r.alt,a=r.title;n.addNode(i,{src:s,alt:o,title:a})}},toMarkdown:{match:n=>n.type.name===Mm,runner:(n,r)=>{n.addNode("image",void 0,void 0,{title:r.attrs.title,url:r.attrs.src,alt:r.attrs.alt})}}}),commands:n=>[sn(wCe,(r="")=>(i,s)=>{if(!s)return!0;const{tr:o}=i,a=n.create({src:r});if(!a)return!0;const l=o.replaceSelectionWith(a);return s(l.scrollIntoView()),!0}),sn(H9,(r="")=>(i,s)=>{const o=po(i.selection,n);if(!o)return!1;const{tr:a}=i;return s==null||s(a.setNodeMarkup(o.pos,void 0,{...o.node.attrs,loading:!0,src:r}).scrollIntoView()),!0})],inputRules:n=>[new Ei(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(r,i,s,o)=>{const[a,l,u="",h]=i,{tr:d}=r;return a&&d.replaceWith(s,o,n.create({src:u,alt:l,title:h})),d})],view:()=>n=>{var r,i;let s=n;const o=(r=e==null?void 0:e.placeholder)!=null?r:"Add an Image",a=(i=e==null?void 0:e.isBlock)!=null?i:!1,l=t.themeManager.get("image",{placeholder:o,isBlock:a});if(!l)return{};const{dom:u,onUpdate:h}=l;return h(s),{dom:u,update:d=>d.type.name!==Mm?!1:(s=d,h(s),!0),selectNode:()=>{u.classList.add("ProseMirror-selectednode")},deselectNode:()=>{u.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new cn({key:_Ce,view:i=>{var s,o,a;const l=t.themeManager.get("input-chip",{placeholder:(o=(s=e==null?void 0:e.input)==null?void 0:s.placeholder)!=null?o:"Input Image Link",buttonText:(a=e==null?void 0:e.input)==null?void 0:a.buttonText,onUpdate:f=>{r.get(Hn).call(H9,f)}});if(!l)return{};const u=f=>Boolean(f.hasFocus()&&n&&po(f.state.selection,n)),h=f=>{const p=po(f.state.selection,n);return p?p.node.attrs.src:void 0},d=f=>{!f.editable||(u(f)?(l.show(f),l.update(h(f))):l.hide())};return l.init(i),d(i),{update:(f,p)=>{(p==null?void 0:p.doc.eq(f.state.doc))&&p.selection.eq(f.state.selection)||d(f)},destroy:()=>{l.destroy()}}}})]})),Z9="list_item",G9=rn("SplitListItem"),K9=rn("SinkListItem"),J9=rn("LiftListItem"),CCe=new pn("MILKDOWN_KEEP_LIST_ORDER"),TCe=t=>{const e=(n,r)=>{const i=Lu("ordered_list",n.schema);let s=n.tr;n.doc.descendants((o,a,l,u)=>{if(o.type===t&&(l==null?void 0:l.type)===i){let h=!1;const d={...o.attrs};o.attrs.listType!=="ordered"&&(d.listType="ordered",h=!0);const f=l==null?void 0:l.maybeChild(0);f&&f.type===t&&f.attrs.listType==="ordered"&&(d.label=`${u+1}.`,h=!0),o.attrs.label==="\u2022"&&(d.label=`${u+1}.`,h=!0),h&&(s=s.setNodeMarkup(a,void 0,d))}}),r(s)};return new cn({key:CCe,appendTransaction:(n,r,i)=>{let s=null;return n.some(o=>o.docChanged)&&e(i,o=>{s=o}),s}})},DCe=wr(t=>({id:Z9,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"\u2022"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Nr(e);return{label:e.dataset.label,listType:e.dataset["list-type"],spread:e.dataset.spread}},contentElement:e=>{if(!(e instanceof HTMLElement))throw Nr(e);return e.querySelector(".list-item_body")||e}},{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item"),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},["div",{class:t.getClassName(e.attrs,"list-item_label")},e.attrs.label],["div",{class:t.getClassName(e.attrs,"list-item_body")},0]],parseMarkdown:{match:({type:e,checked:n})=>e==="listItem"&&n===null,runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"\u2022",s=n.label!=null?"ordered":"bullet",o=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:s,spread:o}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===Z9,runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[x0(/^\s*([-+*])\s$/,e)],commands:e=>[sn(G9,()=>pL(e)),sn(K9,()=>zw(e)),sn(J9,()=>Qw(e))],shortcuts:{[yr.NextListItem]:kn(G9,"Enter"),[yr.SinkListItem]:kn(K9,"Mod-]"),[yr.LiftListItem]:kn(J9,"Mod-[")},prosePlugins:e=>[TCe(e)]})),eC=rn("WrapInOrderedList"),tC="ordered_list",ECe=wr(t=>({id:tC,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Nr(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"ordered-list")},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===tC,runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[x0(/^(\d+)\.\s$/,e,n=>({order:Number(n[1])}),(n,r)=>r.childCount+r.attrs.order===Number(n[1]))],commands:e=>[sn(eC,()=>Qo(e))],shortcuts:{[yr.OrderedList]:kn(eC,"Mod-Alt-7")}})),nC=rn("TurnIntoText"),rC="paragraph",ACe=wr(t=>({id:rC,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,rC)},0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{var r;if(e.openNode("paragraph"),n.childCount>=1&&((r=n.lastChild)==null?void 0:r.type.name)==="hardbreak"){const i=[];n.content.forEach((s,o,a)=>{a!==n.childCount-1&&i.push(s)}),e.next(Fe.fromArray(i))}else e.next(n.content);e.closeNode()}}}),commands:e=>[sn(nC,()=>$c(e))],shortcuts:{[yr.Text]:kn(nC,"Mod-Alt-0")}})),MCe=wr(()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})})),PCe=[fCe(),ACe(),mCe(),aCe(),dCe(),lCe(),ECe(),DCe(),vCe(),kCe(),SCe(),MCe()],BCe=()=>{function t(e){E1(e,"list",n=>{var r;if(n.ordered){const i=(r=n.start)!=null?r:1;n.children.forEach((s,o)=>{s.label=o+i})}})}return t},$Ce=t=>!!t.children,LCe=t=>t.type==="html";function FCe(t,e){return n(t,0,null)[0];function n(r,i,s){if($Ce(r)){const o=[];for(let a=0,l=r.children.length;a<l;a++){const u=r.children[a];if(u){const h=n(u,a,r);if(h)for(let d=0,f=h.length;d<f;d++){const p=h[d];p&&o.push(p)}}}r.children=o}return e(r,i,s)}}const NCe=()=>{function t(e){FCe(e,n=>LCe(n)?[]:[n])}return t},ICe=new pn("MILKDOWN_INLINE_NODES_CURSOR"),RCe=()=>{let t=!1;const e=new cn({key:ICe,state:{init(){return!1},apply(n){if(!n.selection.empty)return!1;const r=n.selection.$from,i=r.nodeBefore,s=r.nodeAfter;return!!(i&&s&&i.isInline&&!i.isText&&s.isInline&&!s.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>t?(t=!1,requestAnimationFrame(()=>{if(e.getState(n.state)){const i=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i))}}),!0):!1,compositionstart:n=>(e.getState(n.state)&&(t=!0),!1),beforeinput:(n,r)=>{if(e.getState(n.state)&&r instanceof InputEvent&&r.data&&!t){const i=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i)),!0}return!1}},decorations(n){if(e.getState(n)){const r=n.selection.$from.pos,i=document.createElement("span"),s=$r.widget(r,i,{side:-1}),o=document.createElement("span"),a=$r.widget(r,o);return setTimeout(()=>{i.contentEditable="true",o.contentEditable="true"}),gn.create(n.doc,[s,a])}return gn.empty}}});return e},w5=/\[(?<span>((www|https:\/\/|http:\/\/)[^\s\]]+))]\((?<url>[^\s\]]+)\)/,QCe=t=>new RegExp(`\\\\(?=[^\\w\\s${t}\\\\]|_)`,"g"),zCe=t=>{let e=t,n=e.match(w5);for(;n&&n.groups;){const{span:r}=n.groups;e=e.replace(w5,r),n=e.match(w5)}return e},VCe=(t,e,n)=>{const r=t.split(""),i=r[e];return r[e]&&r[n]&&(r[e]=r[n],r[n]=i),r.join("").toString()},WCe=t=>e=>e.replace(QCe(t),""),qCe=t=>e=>{const n=e.indexOf(t.hole),r=e.charAt(n-1),i=e.charAt(n+1),s=/[^\w]|_/;return i?r&&s.test(r)&&s.test(i)?t.punctuation:t.char:t.punctuation},XCe=(t,e,n)=>{let r=e,i=!1;return t.descendants(s=>{var o;if(i)return!1;if(s.isText){const a=(o=s.text)==null?void 0:o.indexOf(n);if(a!=null&&a>=0)return i=!0,r+=a,!1}r+=s.nodeSize}),r},YCe={placeholderConfig:{hole:"\u2205",punctuation:"\u2042",char:"\u2234"},globalNodes:["footnote_definition"],shouldSyncNode:({prevNode:t,nextNode:e})=>t.inlineContent&&e&&t.type===e.type&&!t.eq(e),movePlaceholder:(t,e)=>{const n=["*","_"];let r=e.indexOf(t);for(;n.includes(e[r-1]||"")&&n.includes(e[r+1]||"");)e=VCe(e,r,r+1),r=r+1;return e}},W1=Bt(YCe,"inlineSyncConfig"),UCe=t=>{const{selection:e}=t,{$from:n}=e;return n.node()},jCe=(t,e,n,r)=>{const i=t.get(th),s=e.schema.topNodeType.create(void 0,[n,...r]);return i(s)},HCe=(t,e)=>{const n=t.get(W1),r=n.placeholderConfig.hole,[i="",...s]=e.split(`

`),o=u=>n.movePlaceholder(r,u);let a=_4(WCe(r),o,zCe)(i);const l=qCe(n.placeholderConfig)(a);return a=a.replace(r,l),a=[a,...s].join(`

`),[a,l]},ZCe=(t,e)=>{const n=t.get(Nc)(e);return n?n.firstChild:null},GCe=(t,e)=>{const{globalNodes:n}=t.get(W1),r=[];return e.doc.descendants(i=>{if(n.includes(i.type.name)||n.includes(i.type))return r.push(i),!1}),r},KCe=t=>t.split(`

`)[0]||"",OL=(t,e)=>{try{const n=GCe(t,e),r=UCe(e),i=jCe(t,e,r,n),[s,o]=HCe(t,i),a=ZCe(t,s);return!a||r.type!==a.type?null:(a.attrs={...r.attrs},a.descendants(l=>{var u;const h=l.marks.find(d=>d.type.name==="link");h&&((u=l.text)==null?void 0:u.includes(o))&&h.attrs.href.includes(o)&&(h.attrs.href=h.attrs.href.replace(o,""))}),{text:KCe(s),prevNode:r,nextNode:a,placeholder:o})}catch{return null}},JCe=(t,e,n,r,i)=>{const{placeholderConfig:s}=t.get(W1),o=s.hole;let a=n.tr.setMeta(e,!0).insertText(o,n.selection.from);const l=n.apply(a),u=OL(t,l);if(!u)return;const{$from:h}=l.selection,d=h.before(),f=h.after(),p=XCe(u.nextNode,d,u.placeholder);a=a.replaceWith(d,f,u.nextNode).setNodeMarkup(d,void 0,i).delete(p+1,p+2),a=a.setSelection(Mt.near(a.doc.resolve(p+1))),r(a)},_5=new pn("MILKDOWN_INLINE_SYNC"),eTe=t=>{let e=null;return new cn({key:_5,state:{init:()=>null,apply:(n,r,i,s)=>{var o;const a=t.get(Qn);if(!((o=a.hasFocus)!=null&&o.call(a))||!a.editable||!n.docChanged||n.getMeta(_5))return null;const l=OL(t,s);if(!l)return null;e&&(cancelAnimationFrame(e),e=null);const{prevNode:u,nextNode:h,text:d}=l,{shouldSyncNode:f}=t.get(W1);return f({prevNode:u,nextNode:h,ctx:t,tr:n,text:d})&&(e=requestAnimationFrame(()=>{e=null;const{dispatch:p,state:m}=t.get(Qn);JCe(t,_5,m,p,u.attrs)})),null}}})},tTe=[Is(()=>({injectSlices:[W1],prosePlugins:(t,e)=>[RCe(),eTe(e)],remarkPlugins:()=>[J9e,NCe,BCe]}))()],nTe=Ai.create([...PCe,...oCe]),vL=Ai.create([...tTe,...nTe]);var rTe=Object.defineProperty,iTe=(t,e,n)=>e in t?rTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ia=(t,e,n)=>(iTe(t,typeof e!="symbol"?e+"":e,n),n);class xL{constructor(){ia(this,"beforeMountedListeners",[]),ia(this,"mountedListeners",[]),ia(this,"updatedListeners",[]),ia(this,"markdownUpdatedListeners",[]),ia(this,"blurListeners",[]),ia(this,"focusListeners",[]),ia(this,"destroyListeners",[]),ia(this,"beforeMount",e=>(this.beforeMountedListeners.push(e),this)),ia(this,"mounted",e=>(this.mountedListeners.push(e),this)),ia(this,"updated",e=>(this.updatedListeners.push(e),this))}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const ux=Bt(new xL,"listener"),sTe=new pn("MILKDOWN_LISTENER"),oTe=t=>(t.inject(ux,new xL),async e=>{await e.wait(Bl);const n=e.get(ux),{listeners:r}=n;r.beforeMounted.forEach(l=>l(e)),await e.wait(Yf);const i=e.get(th);let s=null,o=null;const a=new cn({key:sTe,view:()=>({destroy:()=>{r.destroy.forEach(l=>l(e))}}),props:{handleDOMEvents:{focus:()=>(r.focus.forEach(l=>l(e)),!1),blur:()=>(r.blur.forEach(l=>l(e)),!1)}},state:{init:()=>{},apply:l=>{if(!l.docChanged)return;const{doc:u}=l;if(r.updated.length>0&&(s==null||!s.eq(u))&&r.updated.forEach(h=>{h(e,u,s)}),r.markdownUpdated.length>0&&(s==null||!s.eq(u))){const h=i(l.doc);(o==null||o!==h)&&(r.markdownUpdated.forEach(d=>{d(e,h,o)}),o=h)}s=u}}});e.update(go,l=>l.concat(a)),await e.wait(jf),r.mounted.forEach(l=>l(e))}),aTe={tokenize:dTe,partial:!0},kL={tokenize:fTe,partial:!0},wL={tokenize:pTe,partial:!0},Od={tokenize:gTe,partial:!0},_L={tokenize:mTe,partial:!0},SL={tokenize:uTe,previous:DL},CL={tokenize:hTe,previous:Ww},Zl={tokenize:cTe,previous:EL},qa={},lTe={text:qa};let vu=48;for(;vu<123;)qa[vu]=Zl,vu++,vu===58?vu=65:vu===91&&(vu=97);qa[43]=Zl;qa[45]=Zl;qa[46]=Zl;qa[95]=Zl;qa[72]=[Zl,CL];qa[104]=[Zl,CL];qa[87]=[Zl,SL];qa[119]=[Zl,SL];function cTe(t,e,n){const r=this;let i,s;return o;function o(p){return!iC(p)||!EL(r.previous)||qw(r.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(p))}function a(p){return iC(p)?(t.consume(p),a):p===64?(t.consume(p),l):n(p)}function l(p){return p===46?t.check(Od,f,u)(p):p===45||p===95?t.check(Od,n,h)(p):Es(p)?(!s&&ly(p)&&(s=!0),t.consume(p),l):f(p)}function u(p){return t.consume(p),i=!0,s=void 0,l}function h(p){return t.consume(p),d}function d(p){return p===46?t.check(Od,n,u)(p):l(p)}function f(p){return i&&!s?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):n(p)}}function uTe(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!DL(r.previous)||qw(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(aTe,t.attempt(kL,t.attempt(wL,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function hTe(t,e,n){const r=this;return i;function i(m){return m!==72&&m!==104||!Ww(r.previous)||qw(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(m),s)}function s(m){return m===84||m===116?(t.consume(m),o):n(m)}function o(m){return m===84||m===116?(t.consume(m),a):n(m)}function a(m){return m===80||m===112?(t.consume(m),l):n(m)}function l(m){return m===83||m===115?(t.consume(m),u):u(m)}function u(m){return m===58?(t.consume(m),h):n(m)}function h(m){return m===47?(t.consume(m),d):n(m)}function d(m){return m===47?(t.consume(m),f):n(m)}function f(m){return m===null||wp(m)||h4(m)||d4(m)?n(m):t.attempt(kL,t.attempt(wL,p),n)(m)}function p(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function dTe(t,e,n){return r;function r(l){return t.consume(l),i}function i(l){return l===87||l===119?(t.consume(l),s):n(l)}function s(l){return l===87||l===119?(t.consume(l),o):n(l)}function o(l){return l===46?(t.consume(l),a):n(l)}function a(l){return l===null||lt(l)?n(l):e(l)}}function fTe(t,e,n){let r,i;return s;function s(l){return l===38?t.check(_L,a,o)(l):l===46||l===95?t.check(Od,a,o)(l):l===null||wp(l)||h4(l)||l!==45&&d4(l)?a(l):(t.consume(l),s)}function o(l){return l===46?(i=r,r=void 0,t.consume(l),s):(l===95&&(r=!0),t.consume(l),s)}function a(l){return!i&&!r?e(l):n(l)}}function pTe(t,e){let n=0;return r;function r(o){return o===38?t.check(_L,e,i)(o):(o===40&&n++,o===41?t.check(Od,s,i)(o):Vw(o)?e(o):TL(o)?t.check(Od,e,i)(o):(t.consume(o),r))}function i(o){return t.consume(o),r}function s(o){return n--,n<0?e(o):i(o)}}function mTe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return ro(o)?(t.consume(o),i):o===59?(t.consume(o),s):n(o)}function s(o){return Vw(o)?e(o):n(o)}}function gTe(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return TL(s)?(t.consume(s),i):Vw(s)?e(s):n(s)}}function TL(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function Vw(t){return t===null||t===60||kr(t)}function iC(t){return t===43||t===45||t===46||t===95||Es(t)}function DL(t){return t===null||t===40||t===42||t===95||t===126||kr(t)}function Ww(t){return t===null||!ro(t)}function EL(t){return t!==47&&Ww(t)}function qw(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const yTe={tokenize:STe,partial:!0};function bTe(){return{document:{[91]:{tokenize:kTe,continuation:{tokenize:wTe},exit:_Te}},text:{[91]:{tokenize:xTe},[93]:{add:"after",tokenize:OTe,resolveTo:vTe}}}}function OTe(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=qo(r.sliceSerialize({start:o.end,end:r.now()}));return u.charCodeAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function vTe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function xTe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){let p;return f===null||f===91||s++>999?n(f):f===93?o?(t.exit("chunkString"),p=t.exit("gfmFootnoteCallString"),i.includes(qo(r.sliceSerialize(p)))?d(f):n(f)):n(f):(t.consume(f),kr(f)||(o=!0),f===92?h:u)}function h(f){return f===91||f===92||f===93?(t.consume(f),s++,u):u(f)}function d(f){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}}function kTe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),h):n(g)}function h(g){let y;return g===null||g===91||o>999?n(g):g===93?a?(y=t.exit("gfmFootnoteDefinitionLabelString"),s=qo(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p):n(g):lt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),o++,h):(t.enter("chunkString").contentType="string",d(g))}function d(g){return g===null||lt(g)||g===91||g===93||o>999?(t.exit("chunkString"),h(g)):(kr(g)||(a=!0),o++,t.consume(g),g===92?f:d)}function f(g){return g===91||g===92||g===93?(t.consume(g),o++,d):d(g)}function p(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),tn(t,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return i.includes(s)||i.push(s),e(g)}}function wTe(t,e,n){return t.check(D1,e,t.attempt(yTe,e,n))}function _Te(t){t.exit("gfmFootnoteDefinition")}function STe(t,e,n){const r=this;return tn(t,i,"gfmFootnoteDefinitionIndent",4+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function CTe(t={}){let e=t.singleTilde;const n={tokenize:i,resolveAll:r};return e==null&&(e=!0),{text:{[126]:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(s,o){let a=-1;for(;++a<s.length;)if(s[a][0]==="enter"&&s[a][1].type==="strikethroughSequenceTemporary"&&s[a][1]._close){let l=a;for(;l--;)if(s[l][0]==="exit"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._open&&s[a][1].end.offset-s[a][1].start.offset===s[l][1].end.offset-s[l][1].start.offset){s[a][1].type="strikethroughSequence",s[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[l][1].start),end:Object.assign({},s[a][1].end)},h={type:"strikethroughText",start:Object.assign({},s[l][1].end),end:Object.assign({},s[a][1].start)},d=[["enter",u,o],["enter",s[l][1],o],["exit",s[l][1],o],["enter",h,o]];Bs(d,d.length,0,f4(o.parser.constructs.insideSpan.null,s.slice(l+1,a),o)),Bs(d,d.length,0,[["exit",h,o],["enter",s[a][1],o],["exit",s[a][1],o],["exit",u,o]]),Bs(s,l-1,a-l+3,d),a=l+d.length-2;break}}for(a=-1;++a<s.length;)s[a][1].type==="strikethroughSequenceTemporary"&&(s[a][1].type="data");return s}function i(s,o,a){const l=this.previous,u=this.events;let h=0;return d;function d(p){return l===126&&u[u.length-1][1].type!=="characterEscape"?a(p):(s.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const m=cy(l);if(p===126)return h>1?a(p):(s.consume(p),h++,f);if(h<2&&!e)return a(p);const g=s.exit("strikethroughSequenceTemporary"),y=cy(p);return g._open=!y||y===2&&Boolean(m),g._close=!m||m===2&&Boolean(y),o(p)}}}const TTe={flow:{null:{tokenize:ETe,resolve:DTe}}},sC={tokenize:ATe,partial:!0};function DTe(t,e){let n=-1,r,i,s,o,a,l,u;for(;++n<t.length;){const h=t[n][1];if(s&&(h.type==="temporaryTableCellContent"&&(o=o||n,a=n),(h.type==="tableCellDivider"||h.type==="tableRow")&&a)){const d={type:"tableContent",start:t[o][1].start,end:t[a][1].end},f={type:"chunkText",start:d.start,end:d.end,contentType:"text"};t.splice(o,a-o+1,["enter",d,e],["enter",f,e],["exit",f,e],["exit",d,e]),n-=a-o-3,o=void 0,a=void 0}if(t[n][0]==="exit"&&l!==void 0&&l+(u?0:1)<n&&(h.type==="tableCellDivider"||h.type==="tableRow"&&(l+3<n||t[l][1].type!=="whitespace"))){const d={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:t[l][1].start,end:t[n][1].end};t.splice(n+(h.type==="tableCellDivider"?1:0),0,["exit",d,e]),t.splice(l,0,["enter",d,e]),n+=2,l=n+1,u=!0}h.type==="tableRow"&&(s=t[n][0]==="enter",s&&(l=n+1,u=!1)),h.type==="tableDelimiterRow"&&(i=t[n][0]==="enter",i&&(l=n+1,u=!1)),h.type==="tableHead"&&(r=t[n][0]==="enter")}return t}function ETe(t,e,n){const r=this,i=[];let s=0,o,a;return l;function l(x){return t.enter("table")._align=i,t.enter("tableHead"),t.enter("tableRow"),x===124?u(x):(s++,t.enter("temporaryTableCellContent"),f(x))}function u(x){return t.enter("tableCellDivider"),t.consume(x),t.exit("tableCellDivider"),o=!0,h}function h(x){return x===null||lt(x)?m(x):xn(x)?(t.enter("whitespace"),t.consume(x),d):(o&&(o=void 0,s++),x===124?u(x):(t.enter("temporaryTableCellContent"),f(x)))}function d(x){return xn(x)?(t.consume(x),d):(t.exit("whitespace"),h(x))}function f(x){return x===null||x===124||kr(x)?(t.exit("temporaryTableCellContent"),h(x)):(t.consume(x),x===92?p:f)}function p(x){return x===92||x===124?(t.consume(x),f):f(x)}function m(x){if(x===null)return n(x);t.exit("tableRow"),t.exit("tableHead");const X=r.interrupt;return r.interrupt=!0,t.attempt({tokenize:q,partial:!0},function(de){return r.interrupt=X,t.enter("tableDelimiterRow"),g(de)},function(de){return r.interrupt=X,n(de)})(x)}function g(x){return x===null||lt(x)?D(x):xn(x)?(t.enter("whitespace"),t.consume(x),y):x===45?(t.enter("tableDelimiterFiller"),t.consume(x),a=!0,i.push("none"),b):x===58?(t.enter("tableDelimiterAlignment"),t.consume(x),t.exit("tableDelimiterAlignment"),i.push("left"),O):x===124?(t.enter("tableCellDivider"),t.consume(x),t.exit("tableCellDivider"),g):n(x)}function y(x){return xn(x)?(t.consume(x),y):(t.exit("whitespace"),g(x))}function b(x){return x===45?(t.consume(x),b):(t.exit("tableDelimiterFiller"),x===58?(t.enter("tableDelimiterAlignment"),t.consume(x),t.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",w):g(x))}function O(x){return x===45?(t.enter("tableDelimiterFiller"),t.consume(x),a=!0,b):n(x)}function w(x){return x===null||lt(x)?D(x):xn(x)?(t.enter("whitespace"),t.consume(x),y):x===124?(t.enter("tableCellDivider"),t.consume(x),t.exit("tableCellDivider"),g):n(x)}function D(x){return t.exit("tableDelimiterRow"),!a||s!==i.length?n(x):x===null?C(x):t.check(sC,C,t.attempt({tokenize:q,partial:!0},tn(t,T,"linePrefix",4),C))(x)}function C(x){return t.exit("table"),e(x)}function T(x){return t.enter("tableBody"),E(x)}function E(x){return t.enter("tableRow"),x===124?P(x):(t.enter("temporaryTableCellContent"),A(x))}function P(x){return t.enter("tableCellDivider"),t.consume(x),t.exit("tableCellDivider"),M}function M(x){return x===null||lt(x)?L(x):xn(x)?(t.enter("whitespace"),t.consume(x),$):x===124?P(x):(t.enter("temporaryTableCellContent"),A(x))}function $(x){return xn(x)?(t.consume(x),$):(t.exit("whitespace"),M(x))}function A(x){return x===null||x===124||kr(x)?(t.exit("temporaryTableCellContent"),M(x)):(t.consume(x),x===92?_:A)}function _(x){return x===92||x===124?(t.consume(x),A):A(x)}function L(x){return t.exit("tableRow"),x===null?v(x):t.check(sC,v,t.attempt({tokenize:q,partial:!0},tn(t,E,"linePrefix",4),v))(x)}function v(x){return t.exit("tableBody"),C(x)}function q(x,X,de){return H;function H(F){return x.enter("lineEnding"),x.consume(F),x.exit("lineEnding"),tn(x,G,"linePrefix")}function G(F){if(r.parser.lazy[r.now().line]||F===null||lt(F))return de(F);const B=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&B&&B[1].type==="linePrefix"&&B[2].sliceSerialize(B[1],!0).length>=4?de(F):(r._gfmTableDynamicInterruptHack=!0,x.check(r.parser.constructs.flow,function(ae){return r._gfmTableDynamicInterruptHack=!1,de(ae)},function(ae){return r._gfmTableDynamicInterruptHack=!1,X(ae)})(F))}}}function ATe(t,e,n){let r=0;return i;function i(o){return t.enter("check"),t.consume(o),s}function s(o){return o===-1||o===32?(t.consume(o),r++,r===4?e:s):o===null||kr(o)?e(o):n(o)}}const MTe={tokenize:BTe},PTe={text:{[91]:MTe}};function BTe(t,e,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),s)}function s(a){return kr(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:$Te},e,n)):n(a)}}function $Te(t,e,n){const r=this;return tn(t,i,"whitespace");function i(s){const o=r.events[r.events.length-1];return(o&&o[1].type==="whitespace"||lt(s))&&s!==null?e(s):n(s)}}function LTe(t){return lB([lTe,bTe(),CTe(t),TTe,PTe])}function oC(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const S5="phrasing",C5=["autolink","link","image","label"],FTe={transforms:[WTe],enter:{literalAutolink:ITe,literalAutolinkEmail:T5,literalAutolinkHttp:T5,literalAutolinkWww:T5},exit:{literalAutolink:VTe,literalAutolinkEmail:zTe,literalAutolinkHttp:RTe,literalAutolinkWww:QTe}},NTe={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:S5,notInConstruct:C5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:S5,notInConstruct:C5},{character:":",before:"[ps]",after:"\\/",inConstruct:S5,notInConstruct:C5}]};function ITe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function T5(t){this.config.enter.autolinkProtocol.call(this,t)}function RTe(t){this.config.exit.autolinkProtocol.call(this,t)}function QTe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function zTe(t){this.config.exit.autolinkEmail.call(this,t)}function VTe(t){this.exit(t)}function WTe(t){dL(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qTe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,XTe]],{ignore:["link","linkReference"]})}function qTe(t,e,n,r,i){let s="";if(!AL(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!YTe(n)))return!1;const o=UTe(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function XTe(t,e,n,r){return!AL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function YTe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function UTe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=oC(t,"(");let s=oC(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function AL(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||h4(n)||d4(n))&&(!e||n!==47)}ML.peek=iDe;function jTe(){return{enter:{gfmFootnoteDefinition:ZTe,gfmFootnoteDefinitionLabelString:GTe,gfmFootnoteCall:eDe,gfmFootnoteCallString:tDe},exit:{gfmFootnoteDefinition:JTe,gfmFootnoteDefinitionLabelString:KTe,gfmFootnoteCall:rDe,gfmFootnoteCallString:nDe}}}function HTe(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:sDe,footnoteReference:ML}}}function ZTe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function GTe(){this.buffer()}function KTe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=qo(this.sliceSerialize(t)).toLowerCase()}function JTe(t){this.exit(t)}function eDe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function tDe(){this.buffer()}function nDe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=qo(this.sliceSerialize(t)).toLowerCase()}function rDe(t){this.exit(t)}function ML(t,e,n,r){const i=v0(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(g4(n,rw(t),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function iDe(){return"["}function sDe(t,e,n,r){const i=v0(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(g4(n,rw(t),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(IB(NB(t,n,i.current()),oDe)),o(),s}function oDe(t,e,n){return e===0?t:(n?"":"    ")+t}const aDe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];PL.peek=dDe;const lDe={canContainEols:["delete"],enter:{strikethrough:uDe},exit:{strikethrough:hDe}},cDe={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aDe}],handlers:{delete:PL}};function uDe(t){this.enter({type:"delete",children:[]},t)}function hDe(t){this.exit(t)}function PL(t,e,n,r){const i=v0(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=iw(t,n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function dDe(){return"~"}function fDe(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||mDe,i=[],s=[],o=[],a=[];let l=0,u=-1;for(;++u<t.length;){const m=[],g=[];let y=-1;for(t[u].length>l&&(l=t[u].length);++y<t[u].length;){const b=pDe(t[u][y]);if(e.alignDelimiters!==!1){const O=r(b);g[y]=O,(a[y]===void 0||O>a[y])&&(a[y]=O)}m.push(b)}s[u]=m,o[u]=g}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<l;)i[h]=aC(n[h]);else{const m=aC(n);for(;++h<l;)i[h]=m}h=-1;const d=[],f=[];for(;++h<l;){const m=i[h];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let b=e.alignDelimiters===!1?1:Math.max(1,a[h]-g.length-y.length);const O=g+"-".repeat(b)+y;e.alignDelimiters!==!1&&(b=g.length+b+y.length,b>a[h]&&(a[h]=b),f[h]=b),d[h]=O}s.splice(1,0,d),o.splice(1,0,f),u=-1;const p=[];for(;++u<s.length;){const m=s[u],g=o[u];h=-1;const y=[];for(;++h<l;){const b=m[h]||"";let O="",w="";if(e.alignDelimiters!==!1){const D=a[h]-(g[h]||0),C=i[h];C===114?O=" ".repeat(D):C===99?D%2?(O=" ".repeat(D/2+.5),w=" ".repeat(D/2-.5)):(O=" ".repeat(D/2),w=O):w=" ".repeat(D)}e.delimiterStart!==!1&&!h&&y.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&b==="")&&(e.delimiterStart!==!1||h)&&y.push(" "),e.alignDelimiters!==!1&&y.push(O),y.push(b),e.alignDelimiters!==!1&&y.push(w),e.padding!==!1&&y.push(" "),(e.delimiterEnd!==!1||h!==l-1)&&y.push("|")}p.push(e.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function pDe(t){return t==null?"":String(t)}function mDe(t){return t.length}function aC(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const gDe={enter:{table:yDe,tableData:lC,tableHeader:lC,tableRow:ODe},exit:{codeText:vDe,table:bDe,tableData:D5,tableHeader:D5,tableRow:D5}};function yDe(t){const e=t._align;this.enter({type:"table",align:e.map(n=>n==="none"?null:n),children:[]},t),this.setData("inTable",!0)}function bDe(t){this.exit(t),this.setData("inTable")}function ODe(t){this.enter({type:"tableRow",children:[]},t)}function D5(t){this.exit(t)}function lC(t){this.enter({type:"tableCell",children:[]},t)}function vDe(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,xDe));const n=this.stack[this.stack.length-1];n.value=e,this.exit(t)}function xDe(t,e){return e==="|"?e:t}function kDe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:f}};function o(p,m,g,y){return u(h(p,g,y),p.align)}function a(p,m,g,y){const b=d(p,g,y),O=u([b]);return O.slice(0,O.indexOf(`
`))}function l(p,m,g,y){const b=g.enter("tableCell"),O=g.enter("phrasing"),w=iw(p,g,{...y,before:s,after:s});return O(),b(),w}function u(p,m){return fDe(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function h(p,m,g){const y=p.children;let b=-1;const O=[],w=m.enter("table");for(;++b<y.length;)O[b]=d(y[b],m,g);return w(),O}function d(p,m,g){const y=p.children;let b=-1;const O=[],w=m.enter("tableRow");for(;++b<y.length;)O[b]=l(y[b],p,m,g);return w(),O}function f(p,m,g){let y=tw(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}const wDe={exit:{taskListCheckValueChecked:cC,taskListCheckValueUnchecked:cC,paragraph:SDe}},_De={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:CDe}};function cC(t){const e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function SDe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function CDe(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=v0(r);s&&a.move(o);let l=LB(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function TDe(){return[FTe,jTe(),lDe,gDe,wDe]}function DDe(t){return{extensions:[NTe,HTe(),cDe,kDe(t),_De]}}function EDe(t={}){const e=this.data();n("micromarkExtensions",LTe(t)),n("fromMarkdownExtensions",TDe()),n("toMarkdownExtensions",DDe(t));function n(r,i){(e[r]?e[r]:e[r]=[]).push(i)}}var ADe=Object.defineProperty,MDe=(t,e,n)=>e in t?ADe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e,n)=>(MDe(t,typeof e!="symbol"?e+"":e,n),n);const BL=t=>`footnote-ref-${t}`,$L=t=>`footnote-def-${t}`,PDe=new pn("MILKDOWN_FOOTNOTE_DEF_INPUT"),uC=rn("ModifyFootnoteDef"),BDe=wr(t=>{const e="footnote_definition",n="footnoteDefinition";return{id:e,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:i=>{if(!(i instanceof HTMLElement))throw Nr(i);return{label:i.dataset.label}},contentElement:"dd"}],toDOM:i=>{const s=i.attrs.label,o=t.getClassName(i.attrs,"footnote-definition"),a=document.createElement("dt");a.textContent=`[${s}]:`,a.onclick=()=>{const u=r.get(Qn),h=gt.create(u.state.doc,u.state.selection.from-2);u.dispatch(u.state.tr.setSelection(h))};const l=document.createElement("a");return l.href=`#${BL(s)}`,l.contentEditable="false",l.textContent="\u21A9",l.onmousedown=u=>{u.preventDefault()},["div",{class:o,"data-label":s,"data-type":e,id:$L(s)},["div",{class:"footnote-definition_content"},a,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:({type:i})=>i===n,runner:(i,s,o)=>{i.openNode(o,{label:s.label}).next(s.children).closeNode()}},toMarkdown:{match:i=>i.type.name===e,runner:(i,s)=>{i.openNode(n,void 0,{label:s.attrs.label,identifier:s.attrs.label}).next(s.content).closeNode()}}}),commands:r=>[sn(uC,(i="")=>(s,o)=>{const a=po(s.selection,r);if(!a)return!1;const{tr:l}=s,u=l.setNodeMarkup(a.pos,void 0,{...a.node.attrs,label:i});return o==null||o(u.setSelection(gt.create(u.doc,a.pos))),!0})],inputRules:r=>[x0(/(?:\[\^)([^:]+)(?::)$/,r,i=>{var s;return{label:(s=i[1])!=null?s:"footnote"}},()=>!1)],prosePlugins:(r,i)=>[new cn({key:PDe,view:s=>{const o=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:h=>{i.get(Hn).call(uC,h)},isBindMode:!0});if(!o)return{};const a=h=>Boolean(r&&po(h.state.selection,r)),l=h=>{const d=po(h.state.selection,r);return d?d.node.attrs.label:void 0},u=h=>{!h.editable||(a(h)?(o.show(h),o.update(l(h))):o.hide())};return o.init(s),u(s),{update:(h,d)=>{(d==null?void 0:d.doc.eq(h.state.doc))&&d.selection.eq(h.state.selection)||u(h)},destroy:()=>{o.destroy()}}}})]}}),hC=rn("ModifyFootnoteRef"),$De=new pn("MILKDOWN_FOOTNOTE_REF_INPUT"),LDe=wr(t=>{const e="footnote_reference";return{id:e,schema:n=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Nr(r);return{label:r.dataset.label}}}],toDOM:r=>{const i=r.attrs.label,s=document.createElement("a"),o=`#${$L(i)}`;return s.href=o,s.textContent=`[${i}]`,s.onclick=a=>{n.get(Qn).editable&&a.preventDefault()},s.ondblclick=()=>{n.get(Qn).editable&&(window.location.href=o)},["sup",{"data-label":i,"data-type":e,id:BL(i)},s]},parseMarkdown:{match:({type:r})=>r==="footnoteReference",runner:(r,i,s)=>{r.addNode(s,{label:i.label})}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.addNode("footnoteReference",void 0,void 0,{label:i.attrs.label,identifier:i.attrs.label})}}}),commands:n=>[sn(hC,(r="")=>(i,s)=>{const o=po(i.selection,n);if(!o)return!1;const{tr:a}=i,l=a.setNodeMarkup(o.pos,void 0,{...o.node.attrs,label:r});return s==null||s(l.setSelection(gt.create(l.doc,o.pos))),!0})],inputRules:n=>[new Ei(/(?:\[\^)([^\]]+)(?:\])$/,(r,i,s,o)=>{const a=r.doc.resolve(s),l=a.index(),u=r.doc.resolve(o);if(!a.parent.canReplaceWith(l,u.index(),n))return null;const h=i[1];return r.tr.replaceRangeWith(s,o,n.create({label:h}))})],prosePlugins:(n,r)=>{const i=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:l=>{r.get(Hn).call(hC,l)},isBindMode:!0});if(!i)return[];const s=l=>Boolean(n&&po(l.state.selection,n)),o=l=>{const u=po(l.state.selection,n);return u?u.node.attrs.label:void 0},a=l=>{!l.editable||(s(l)?(i.show(l),i.update(o(l))):i.hide())};return[new cn({key:$De,view:l=>(i.init(l),a(l),{update:(u,h)=>{(h==null?void 0:h.doc.eq(u.state.doc))&&h.selection.eq(u.state.selection)||a(u)},destroy:()=>{i.destroy()}})})]}}}),LL=new WeakMap,FDe=t=>LL.get(t),NDe=(t,e)=>(LL.set(t,e),e);class dC{constructor(e,n,r,i){Vu(this,"tableStart"),Vu(this,"map"),Vu(this,"table"),this.left=e,this.top=n,this.right=r,this.bottom=i}}class wn{constructor(e,n,r,i){this.width=e,this.height=n,this.map=r,this.problems=i,this.width=e,this.height=n,this.map=r,this.problems=i}findCell(e){for(let n=0;n<this.map.length;n++){const r=this.map[n];if(r!=e)continue;const i=n%this.width,s=n/this.width|0;let o=i+1,a=s+1;for(let l=1;o<this.width&&this.map[n+l]==r;l++)o++;for(let l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return new dC(i,s,o,a)}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,n,r){const{left:i,right:s,top:o,bottom:a}=this.findCell(e);return n=="horiz"?(r<0?i==0:s==this.width)?void 0:this.map[o*this.width+(r<0?i-1:s)]:(r<0?o==0:a==this.height)?void 0:this.map[i+this.width*(r<0?o-1:a)]}rectBetween(e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(e),{left:a,right:l,top:u,bottom:h}=this.findCell(n);return new dC(Math.min(r,a),Math.min(s,u),Math.max(i,l),Math.max(o,h))}cellsInRect(e){const n=[],r={};for(let i=e.top;i<e.bottom;i++)for(let s=e.left;s<e.right;s++){const o=i*this.width+s,a=this.map[o];r[a]||(r[a]=!0,(s!=e.left||!s||this.map[o-1]!=a)&&(i!=e.top||!i||this.map[o-this.width]!=a)&&n.push(a))}return n}positionAt(e,n,r){for(let i=0,s=0;;i++){const o=s+r.child(i).nodeSize;if(i==e){let a=n+e*this.width;const l=(e+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?o-1:this.map[a]}s=o}}static get(e){return FDe(e)||NDe(e,IDe(e))}}function IDe(t){if(t.type.spec.tableRole!="table")throw new RangeError(`Not a table node: ${t.type.name}`);const e=RDe(t),n=t.childCount,r=[],i=[];let s=0,o;for(let u=0,h=e*n;u<h;u++)r[u]=0;for(let u=0,h=0;u<n;u++){const d=t.child(u);h++;for(let m=0;;m++){for(;s<r.length&&r[s]!=0;)s++;if(m==d.childCount)break;const g=d.child(m),{colspan:y,rowspan:b,colwidth:O}=g.attrs;for(let w=0;w<b;w++){if(w+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:h,n:b-w});break}const D=s+w*e;for(let C=0;C<y;C++){r[D+C]==0?r[D+C]=h:(o||(o=[])).push({type:"collision",row:u,pos:h,n:y-C});const T=O&&O[C];if(T){const E=(D+C)%e*2,P=i[E];P==null||P!=T&&i[E+1]==1?(i[E]=T,i[E+1]=1):P==T&&i[E+1]++}}}s+=y,h+=g.nodeSize}const f=(u+1)*e;let p=0;for(;s<f;)r[s++]==0&&p++;p&&(o||(o=[])).push({type:"missing",row:u,n:p}),h++}const a=new wn(e,n,r,o);let l=!1;for(let u=0;!l&&u<i.length;u+=2)i[u]!=null&&i[u+1]<n&&(l=!0);return l&&QDe(a,i,t),a}function RDe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function QDe(t,e,n){t.problems||(t.problems=[]);for(let r=0,i={};r<t.map.length;r++){const s=t.map[r];if(i[s])continue;i[s]=!0;const o=n.nodeAt(s);let a=null;for(let l=0;l<o.attrs.colspan;l++){const u=(r+l)%t.width,h=e[u*2];h!=null&&(!o.attrs.colwidth||o.attrs.colwidth[l]!=h)&&((a||(a=zDe(o.attrs)))[l]=h)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function zDe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}class an extends St{constructor(e,n=e){const r=e.node(-1),i=wn.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(h=>h!=n.pos-s);l.unshift(n.pos-s);const u=l.map(h=>{const d=r.nodeAt(h),f=h+s+1;return new iB(a.resolve(f),a.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n,this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(hx(r)&&hx(i)&&Yw(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?an.rowSelection(r,i):s&&this.isColSelection()?an.colSelection(r,i):new an(r,i)}return Mt.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=wn.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let h=l*n.width+i.left,d=i.left;d<i.right;d++,h++){const f=n.map[h];if(!s[f]){s[f]=!0;const p=n.findCell(f);let m=e.nodeAt(f);const g=i.left-p.left,y=p.right-i.right;if(g>0||y>0){let b=m.attrs;g>0&&(b=fh(b,0,g)),y>0&&(b=fh(b,b.colspan-y,y)),p.left<i.left?m=m.type.createAndFill(b):m=m.type.create(b,m.content)}if(p.top<i.top||p.bottom>i.bottom){const b=Fs(m.attrs,"rowspan",Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top));p.top<i.top?m=m.type.createAndFill(b):m=m.type.create(b,m.content)}u.push(m)}}o.push(e.child(l).copy(Fe.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new He(Fe.from(a),1,1)}replace(e,n=He.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],u=e.mapping.slice(r);e.replace(u.map(a.pos),u.map(l.pos),o?He.empty:n)}const s=St.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new He(Fe.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=wn.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=wn.get(e.node(-1)),i=e.start(-1),s=r.findCell(e.pos-i),o=r.findCell(n.pos-i),a=e.node(0);if(s.top<=o.top){if(s.top>0){const l=r.map[s.left];e=a.resolve(i+l)}if(o.bottom<r.height){const l=r.map[r.width*(r.height-1)+o.right-1];n=a.resolve(i+l)}}else{if(o.top>0){const l=r.map[s.left];n=a.resolve(i+l)}if(s.bottom<r.height){const l=r.map[r.width*(r.height-1)+s.right-1];e=a.resolve(i+l)}}return new an(e,n)}isRowSelection(){const e=wn.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,o)==e.width}eq(e){return e instanceof an&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=wn.get(e.node(-1)),i=e.start(-1),s=r.findCell(e.pos-i),o=r.findCell(n.pos-i),a=e.node(0);if(s.left<=o.left){if(s.left>0){const l=r.map[s.top*r.width];e=a.resolve(i+l)}if(o.right<r.width){const l=r.map[r.width*(o.top+1)-1];n=a.resolve(i+l)}}else{if(o.left>0){const l=r.map[o.top*r.width];n=a.resolve(i+l)}if(s.right<r.width){const l=r.map[r.width*(s.top+1)-1];e=a.resolve(i+l)}}return new an(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new an(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new an(e.resolve(n),e.resolve(r))}getBookmark(){return new Xw(this.$anchorCell.pos,this.$headCell.pos)}}an.prototype.visible=!1;St.jsonID("cell",an);class Xw{constructor(e,n){this.anchor=e,this.head=n,this.anchor=e,this.head=n}map(e){return new Xw(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Yw(n,r)?new an(n,r):St.near(r,1)}}function VDe(t){if(!(t.selection instanceof an))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push($r.node(r,r+n.nodeSize,{class:"selectedCell"}))}),gn.create(t.doc,e)}function WDe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function qDe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function XDe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof gt&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=an.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=an.rowSelection(a,a)}else if(!n){const a=wn.get(r.node),l=r.from+1,u=a.map[a.width*a.height-1],h=l+u;s=an.create(i,l+1,h)}}else r instanceof Mt&&WDe(r)?s=Mt.create(i,r.from):r instanceof Mt&&qDe(r)&&(s=Mt.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}function fC(t,e){const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(t.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in e){const a=e[o].getFromDOM,l=a&&a(t);l!=null&&(s[o]=l)}return s}function pC(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function YDe(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const i in e)n[i]={default:e[i].default};const r=n;return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:r,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:i=>fC(i,e)}],toDOM(i){return["td",pC(i,e),0]}},table_header:{content:t.cellContent,attrs:r,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:i=>fC(i,e)}],toDOM(i){return["th",pC(i,e),0]}}}}function yo(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r==null?void 0:r.spec.tableRole;i&&(e[i]=r)}}return e}const Pm=YDe({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}});function q1(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1))}function hx(t){return t.parent.type.spec.tableRole=="row"?t.nodeAfter:null}function UDe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Yw(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function FL(t,e,n){const r=t.start(-1),i=wn.get(t.node(-1)).nextCell(t.pos-r,e,n);return i==null?null:t.node(0).resolve(r+i)}function Fs(t,e,n){const r={};for(const i in t)r[i]=t[i];return r[e]=n,r}function fh(t,e,n=1){const r=Fs(t,"colspan",t.colspan-n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice(),i.splice(e,n),i.some(s=>s>0)||(r.colwidth=null)}return r}function bo(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function C4(t){const e=t.selection;return e instanceof an?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:q1(e.$head)||jDe(e.$head)}function jDe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function HDe(t,e,n=1){const r=Fs(t,"colspan",t.colspan+n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice();for(let s=0;s<n;s++)i.splice(e,0,0)}return r}function ZDe(t,e,n){const r=yo(e.type.schema).header_cell;for(let i=0;i<t.height;i++){const s=t.map[n+i*t.width];if(e.nodeAt(s).type!=r)return!1}return!0}const GDe=t=>(e,n)=>{if(!bo(e))return!1;const{$head:r}=e.selection,i=r.after(),s=e.tr.replaceWith(i,i,t.createAndFill());return s.setSelection(St.near(s.doc.resolve(i),1)),n==null||n(s.scrollIntoView()),!0};function Vd(t){const e=t.selection,n=C4(t),r=n.node(-1),i=n.start(-1),s=wn.get(r);let o;return e instanceof an?o=s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o=s.findCell(n.pos-i),o.tableStart=i,o.map=s,o.table=r,o}function NL(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let s=i>0?-1:0;ZDe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],u=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,HDe(u.attrs,i-e.colCount(l))),o+=u.attrs.rowspan-1}else{const l=e.map[a+s],u=s==null?yo(r.type.schema).cell:r.nodeAt(l).type,h=e.positionAt(o,i,r);t.insert(t.mapping.map(n+h),u.createAndFill())}}return t}const KDe=(t,e)=>{if(!bo(t))return!1;if(e){const n=Vd(t);e(NL(t.tr,n,n.left))}return!0},JDe=(t,e)=>{if(!bo(t))return!1;if(e){const n=Vd(t);e(NL(t.tr,n,n.right))}return!0};function eEe(t,{map:e,table:n,tableStart:r},i){e=e,n=n,r=r;const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],u=n.nodeAt(l);if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,fh(u.attrs,i-e.colCount(l)));else{const h=t.mapping.slice(s).map(r+l);t.delete(h,h+u.nodeSize)}o+=u.attrs.rowspan}}const tEe=(t,e)=>{if(!bo(t))return!1;if(e){const n=Vd(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;eEe(r,n,i),i!=n.left;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=wn.get(n.table);e(r)}return!0};function nEe(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let s=0;for(let l=0;l<i;l++)s+=r.child(l).nodeSize;const o=s+r.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+n,o+n);for(let l=0,u=i*e.width;l<e.width;l++,u++){const h=e.map[u];if(i>0&&h==e.map[u-e.width]){const d=r.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(a).map(h+n),null,Fs(d,"rowspan",d.rowspan-1)),l+=d.colspan-1}else if(i<e.width&&h==e.map[u+e.width]){const d=r.nodeAt(h),f=d.type.create(Fs(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),p=e.positionAt(i+1,l,r);t.insert(t.mapping.slice(a).map(n+p),f),l+=d.attrs.colspan-1}}}const rEe=(t,e)=>{if(!bo(t))return!1;if(e){const n=Vd(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;nEe(r,n,i),i!=n.top;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=wn.get(n.table);e(r)}return!0};function E5(t,e){return(n,r)=>{if(!bo(n))return!1;const i=C4(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof an?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,Fs(o.attrs,t,e))}):s.setNodeMarkup(i.pos,null,Fs(i.nodeAfter.attrs,t,e)),r(s)}return!0}}function iEe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r);if(s.childCount)return i-1-s.lastChild.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}}function mC(t){return(e,n)=>{if(!bo(e))return!1;const r=iEe(C4(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Mt.between(i,UDe(i))).scrollIntoView())}return!0}}const sEe=(t,e)=>{const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},T4=t=>T$(e=>e.type.spec.tableRole==="table")(t),oEe=t=>e=>{const n=T4(e);if(!n)return;const r=wn.get(n.node);if(!(t<0||t>=r.width))return r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height}).map(i=>{const s=n.node.nodeAt(i);if(!s)return;const o=i+n.start;return{pos:o,start:o+1,node:s}}).filter(i=>i!=null)},aEe=t=>e=>{const n=T4(e);if(!n)return;const r=wn.get(n.node);if(!(t<0||t>=r.height))return r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1}).map(i=>{const s=n.node.nodeAt(i);if(!s)return;const o=i+n.start;return{pos:o,start:o+1,node:s}}).filter(i=>i!=null)},A5=(t,e=3,n=3)=>{const{cell:r,header_cell:i,row:s,table:o}=yo(t),a=Array(n).fill(0).map(()=>r.createAndFill(null)),l=Array(n).fill(0).map(()=>i.createAndFill(null)),u=Array(e).fill(0).map((h,d)=>s.create(null,d===0?l:a));return o.create(null,u)},gC=t=>e=>n=>{const r=T4(n.selection),i=t==="row";if(r){const s=wn.get(r.node);if(e>=0&&e<(i?s.height:s.width)){const o=s.positionAt(i?e:s.height-1,i?s.width-1:e,r.node),a=n.doc.resolve(r.start+o),l=i?an.rowSelection:an.colSelection,u=s.positionAt(i?e:0,i?0:e,r.node),h=n.doc.resolve(r.start+u);return mw(n.setSelection(l(a,h)))}}return n},lEe=t=>{const e=T4(t);if(!e)return;const n=wn.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(r=>{const i=e.node.nodeAt(r),s=r+e.start;return{pos:s,start:s+1,node:i}})},cEe=t=>{const e=lEe(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=t.doc.resolve(r.pos);return mw(t.setSelection(new an(i,n)))}}return t};function yC(t,{map:e,tableStart:n,table:r},i){const s=Array(i).fill(0).reduce((u,h,d)=>u+r.child(d).nodeSize,n),{cell:o,row:a}=yo(r.type.schema),l=Array(e.width).fill(0).map((u,h)=>{const d=r.nodeAt(e.map[h]);return o.createAndFill({alignment:d==null?void 0:d.attrs.alignment})});return t.insert(s,a.create(null,l)),t}const sa=t=>t.state.selection,uEe=t=>{const e=wn.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),r=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n));for(let s=0,o=r.length;s<o;s++)if(!i.includes(r[s]))return!1;return!0},hEe=(t,e)=>{Object.values(t).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}n.$.classList.remove("hide")})},dEe=t=>{var e,n,r,i,s,o,a,l;return{[0]:{$:(e=t.get(Er).get(gr,"leftArrow"))==null?void 0:e.dom,command:()=>KDe,disable:u=>!sa(u).isColSelection()},[1]:{$:(n=t.get(Er).get(gr,"rightArrow"))==null?void 0:n.dom,command:()=>JDe,disable:u=>!sa(u).isColSelection()},[2]:{$:(r=t.get(Er).get(gr,"upArrow"))==null?void 0:r.dom,command:()=>(u,h)=>{if(!bo(u))return!1;if(h){const d=Vd(u);h(yC(u.tr,d,d.top))}return!0},disable:u=>!sa(u).isRowSelection()||sa(u).$head.parent.type.name==="table_header"},[3]:{$:(i=t.get(Er).get(gr,"downArrow"))==null?void 0:i.dom,command:()=>(u,h)=>{if(!bo(u))return!1;if(h){const d=Vd(u);h(yC(u.tr,d,d.bottom))}return!0},disable:u=>!sa(u).isRowSelection()},[4]:{$:(s=t.get(Er).get(gr,"alignLeft"))==null?void 0:s.dom,command:()=>E5("alignment","left"),disable:u=>!sa(u).isColSelection()},[5]:{$:(o=t.get(Er).get(gr,"alignCenter"))==null?void 0:o.dom,command:()=>E5("alignment","center"),disable:u=>!sa(u).isColSelection()},[6]:{$:(a=t.get(Er).get(gr,"alignRight"))==null?void 0:a.dom,command:()=>E5("alignment","right"),disable:u=>!sa(u).isColSelection()},[7]:{$:(l=t.get(Er).get(gr,"delete"))==null?void 0:l.dom,command:(u,h)=>{const d=sa(h),f=d.isColSelection(),p=d.isRowSelection();return f&&p?sEe:f?tEe:rEe},disable:u=>{const h=sa(u);return h.isRowSelection()?h.isColSelection()?!1:uEe(h):!1}}}},fEe=(t,e)=>{const{selection:n}=t.state,r=n.isColSelection(),i=n.isRowSelection();C$(t,e,(s,o,a)=>{const l=e.parentElement;if(!l)throw ms();let u=i?s.left-a.left-o.width/2-8:s.left-a.left+(s.width-o.width)/2,h=s.top-a.top-o.height-(r?14:0)-14+l.scrollTop;u<0&&(u=0);const d=l.clientWidth-(o.width+4);return u>d&&(u=d),h<l.scrollTop&&(h=s.top-a.top+14+l.scrollTop),[h,u]})};var zo=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(zo||{});const pEe=(t,{css:e,injectGlobal:n})=>{const r=_o(t),i=t.get(yn,"radius"),s=t.get(yn,"lineWidth");return n`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 32px) !important;
                    margin: 16px 0 16px 16px !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${r("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${r("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: -14px;
                        top: 0;
                        bottom: 0;
                        width: 8px;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: -14px;
                        height: 8px;
                    }

                    .milkdown-cell-point {
                        left: -18px;
                        top: -18px;
                        width: 16px;
                        height: 16px;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(ci,void 0)};
        ${t.get(jo,void 0)};

        overflow: hidden;
        background: ${r("surface")};

        .icon {
            position: relative;
            color: ${r("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${r("secondary",.12)};
            }

            &.active {
                color: ${r("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${s};
                bottom: 0;
                background: ${r("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `},mEe=t=>{switch(t){case zo.Left:return"milkdown-cell-left";case zo.Top:return"milkdown-cell-top";case zo.Point:default:return"milkdown-cell-point"}};function M5(t,e,n,r=0){return $r.widget(e.pos+1,i=>{var s;const o=document.createElement("div");return o.classList.add(mEe(n)),n===zo.Point&&o.appendChild((s=t.get(Er).get(gr,"select"))==null?void 0:s.dom),o.addEventListener("mousedown",a=>{if(i)switch(a.preventDefault(),n){case zo.Point:{i.dispatch(cEe(i.state.tr));return}case zo.Left:{i.dispatch(gC("row")(r)(i.state.tr));return}case zo.Top:i.dispatch(gC("col")(r)(i.state.tr))}}),o})}const gEe=(t,e)=>new cn({key:new pn("MILKDOWN_TABLE_OP"),props:{decorations:n=>{if(!t.get(Qn).editable)return null;const r=[],i=oEe(0)(n.selection);if(!i)return null;const s=aEe(0)(n.selection);if(!s)return null;const[o]=i;return r.push(M5(t,o,zo.Point)),i.forEach((a,l)=>{r.push(M5(t,a,zo.Left,l))}),s.forEach((a,l)=>{r.push(M5(t,a,zo.Top,l))}),gn.create(n.doc,r)}},view:n=>{var r;const i=Object.fromEntries(Object.entries(dEe(t)).filter(([,l])=>l.$!=null)),s=document.createElement("div");e.themeManager.onFlush(()=>{const l=e.getStyle(u=>pEe(e.themeManager,u));l&&s.classList.add(l)}),s.classList.add("table-tooltip","hide"),Object.values(i).forEach(({$:l})=>s.appendChild(l)),(r=n.dom.parentNode)==null||r.appendChild(s);const o=l=>{!n||(l.stopPropagation(),l.preventDefault(),Object.values(i).forEach(({$:u,command:h})=>{u.contains(l.target)&&h(l,n)(n.state,n.dispatch,n)}))},a=()=>{s.classList.add("hide")};return s.addEventListener("mousedown",o),{update:(l,u)=>{const h=l.state;if(!((u==null?void 0:u.doc.eq(h.doc))&&u.selection.eq(h.selection))){if(!(h.selection instanceof an)||!l.editable){a();return}if(hEe(i,l),Object.values(i).every(({$:d})=>d.classList.contains("hide"))){a();return}s.classList.remove("hide"),fEe(l,s)}},destroy:()=>{s.removeEventListener("mousedown",o),s.remove()}}}}),yEe=t=>t.type.name==="paragraph"&&t.nodeSize===2,bEe=t=>t.type.name==="paragraph",OEe=new pn("plugin_autoInsertZeroSpace"),vEe=()=>new cn({key:OEe,props:{handleDOMEvents:{compositionstart(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:s}=i;return td.safari&&bo(e)&&i.empty&&yEe(s.parent)&&n(r.insertText("\u2060",s.start())),!1},compositionend(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:s}=i;return td.safari&&bo(e)&&i.empty&&bEe(s.parent)&&s.parent.textContent.startsWith("\u2060")&&n(r.delete(s.start(),s.start()+1)),!1}}}});class xEe{constructor(e,n){Vu(this,"dom"),Vu(this,"contentDOM"),Vu(this,"table"),Vu(this,"colgroup"),this.node=e,this.cellMinWidth=n,this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),dx(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,dx(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}}function dx(t,e,n,r,i,s){var o;let a=0,l=!0,u=e.firstChild;const h=t.firstChild;for(let d=0,f=0;d<h.childCount;d++){const{colspan:p,colwidth:m}=h.child(d).attrs;for(let g=0;g<p;g++,f++){const y=i==f?s:m&&m[g],b=y?`${y}px`:"";a+=y||r,y||(l=!1),u?(u.style.width!=b&&(u.style.width=b),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=b}}for(;u;){const d=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=d}l?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}const io=new pn("tableColumnResizing");function kEe({handleWidth:t=5,cellMinWidth:e=25,View:n=xEe,lastColumnResizable:r=!0}={}){return new cn({key:io,state:{init(i,s){return this.spec.props.nodeViews[yo(s.schema).table.name]=o=>new n(o,e),new Zf(-1,!1)},apply(i,s){return s.apply(i)}},props:{attributes(i){return io.getState(i).activeHandle>-1?{class:"resize-cursor"}:void 0},handleDOMEvents:{mousemove(i,s){!i.editable||wEe(i,s,t,r)},mouseleave(i){!i.editable||_Ee(i)},mousedown(i,s){!i.editable||SEe(i,s,e)}},decorations(i){const s=io.getState(i);return s.activeHandle>-1?MEe(i,s.activeHandle):null},nodeViews:{}}})}class Zf{constructor(e,n){this.activeHandle=e,this.dragging=n,this.activeHandle=e,this.dragging=n}apply(e){let n=this;const r=e.getMeta(io);if(r&&r.setHandle!=null)return new Zf(r.setHandle,null);if(r&&r.setDragging!==void 0)return new Zf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);hx(e.doc.resolve(i))||(i=0),n=new Zf(i,n.dragging)}return n}}function wEe(t,e,n,r){const i=io.getState(t.state);if(!i.dragging){const s=TEe(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();l-e.clientX<=n||e.clientX===Math.floor(a)?o=bC(t,e,"right"):e.clientX-a<=n&&(o=bC(t,e,"left"))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),u=wn.get(l),h=a.start(-1);if(u.colCount(a.pos-h)+a.nodeAfter.attrs.colspan-1==u.width-1)return}IL(t,o)}}}function _Ee(t){const e=io.getState(t.state);e.activeHandle>-1&&!e.dragging&&IL(t,-1)}function SEe(t,e,n){const r=io.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),s=CEe(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(io,{setDragging:{startX:e.clientX,startWidth:s}}));function o(l){window.removeEventListener("mouseup",o),window.removeEventListener("mousemove",a);const u=io.getState(t.state);u.dragging&&(DEe(t,u.activeHandle,OC(u.dragging,l,n)),t.dispatch(t.state.tr.setMeta(io,{setDragging:null})))}function a(l){if(!l.which)return o(l);const u=io.getState(t.state),h=OC(u.dragging,l,n);EEe(t,u.activeHandle,h,n)}return window.addEventListener("mouseup",o),window.addEventListener("mousemove",a),e.preventDefault(),!0}function CEe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(o-=r[l],a--);return o/a}function TEe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function bC(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,s=q1(t.state.doc.resolve(i));if(!s)return-1;if(n=="right")return s.pos;const o=wn.get(s.node(-1)),a=s.start(-1),l=o.map.indexOf(s.pos-a);return l%o.width==0?-1:a+o.map[l-1]}function OC(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function IL(t,e){t.dispatch(t.state.tr.setMeta(io,{setHandle:e}))}function DEe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=wn.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<s.height;u++){const h=u*s.width+a;if(u&&s.map[h]==s.map[h-s.width])continue;const d=s.map[h],{attrs:f}=i.nodeAt(d),p=f.colspan==1?0:a-s.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;const m=f.colwidth?f.colwidth.slice():AEe(f.colspan);m[p]=n,l.setNodeMarkup(o+d,null,Fs(f,"colwidth",m))}l.docChanged&&t.dispatch(l)}function EEe(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=wn.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l.nodeName!="TABLE";)l=l.parentNode;dx(s,l.firstChild,l,r,a,n)}function AEe(t){const e=[];for(let n=0;n<t;n++)e.push(0);return e}function MEe(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1),s=wn.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan;for(let l=0;l<s.height;l++){const u=a+l*s.width-1;if((a==s.width||s.map[u]!=s.map[u+1])&&(l==0||s.map[u-1]!=s.map[u-1-s.width])){const h=s.map[u],d=o+h+i.nodeAt(h).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push($r.widget(d,f))}}return gn.create(t.doc,n)}function PEe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;const i=e.firstChild,s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const h=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(h||d)&&(u=fx(yo(o).row,new He(u,h,d)).content),a.push(u)}else if(s=="cell"||s=="header_cell")a.push(n||r?fx(yo(o).row,new He(e,n,r)).content:e);else return null;return BEe(o,a)}function BEe(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let u=i;u<i+a;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Fe.empty),n[i]<r){const s=yo(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append(Fe.from(o))}return{height:e.length,width:r,rows:e}}function fx(t,e){const n=t.createAndFill();return new rB(n).replace(0,n.content.size,e).doc}function $Ee({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let h=s[a]||0,d=0;h<r;d++){let f=l.child(d%l.childCount);h+f.attrs.colspan>r&&(f=f.type.create(fh(f.attrs,f.attrs.colspan,h+f.attrs.colspan-r),f.content)),u.push(f),h+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}o.push(Fe.from(u))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],u=n[a%e];for(let h=0;h<u.childCount;h++){let d=u.child(h);o+d.attrs.rowspan>i&&(d=d.type.create(Fs(d.attrs,"rowspan",Math.max(1,i-d.attrs.rowspan)),d.content)),l.push(d)}s.push(Fe.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function LEe(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=yo(a);let u,h;if(i>e.width)for(let d=0,f=0;d<e.height;d++){const p=n.child(d);f+=p.nodeSize;const m=[];let g;p.lastChild==null||p.lastChild.type==l.cell?g=u||(u=l.cell.createAndFill()):g=h||(h=l.header_cell.createAndFill());for(let y=e.width;y<i;y++)m.push(g);t.insert(t.mapping.slice(o).map(f-1+r),m)}if(s>e.height){const d=[];for(let m=0,g=(e.height-1)*e.width;m<Math.max(e.width,i);m++){const y=m>=e.width?!1:n.nodeAt(e.map[g+m]).type==l.header_cell;d.push(y?h||(h=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const f=l.row.create(null,Fe.from(d)),p=[];for(let m=e.height;m<s;m++)p.push(f);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(u||h)}function vC(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let u=i;u<s;u++){const h=o*e.width+u,d=e.map[h];if(e.map[h-e.width]==d){l=!0;const f=n.nodeAt(d),{top:p,left:m}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,Fs(f.attrs,"rowspan",o-p)),t.insert(t.mapping.slice(a).map(e.positionAt(o,m,n)),f.type.createAndFill(Fs(f.attrs,"rowspan",p+f.attrs.rowspan-o))),u+=f.attrs.colspan-1}}return l}function xC(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let u=i;u<s;u++){const h=u*e.width+o,d=e.map[h];if(e.map[h-1]==d){l=!0;const f=n.nodeAt(d),p=e.colCount(d),m=t.mapping.slice(a).map(d+r);t.setNodeMarkup(m,null,fh(f.attrs,o-p,f.attrs.colspan-(o-p))),t.insert(m+f.nodeSize,f.type.createAndFill(fh(f.attrs,0,o-p))),u+=f.attrs.rowspan-1}}return l}function kC(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc,o=wn.get(s);const{top:a,left:l}=r,u=l+i.width,h=a+i.height,d=t.tr;let f=0;function p(){s=n?d.doc.nodeAt(n-1):d.doc,o=wn.get(s),f=d.mapping.maps.length}LEe(d,o,s,n,u,h,f)&&p(),vC(d,o,s,n,l,u,a,f)&&p(),vC(d,o,s,n,l,u,h,f)&&p(),xC(d,o,s,n,a,h,l,f)&&p(),xC(d,o,s,n,a,h,u,f)&&p();for(let m=a;m<h;m++){const g=o.positionAt(m,l,s),y=o.positionAt(m,u,s);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(y+n),new He(i.rows[m-a],0,0))}p(),d.setSelection(new an(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(h-1,u-1,s)))),e(d)}const FEe=new pn("fix-tables");function RL(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let u=a,h=Math.min(i,o+3);u<h;u++)if(t.child(u)==l){a=u+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?RL(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function NEe(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=IEe(t,i,s,n))};return e?e.doc!=t.doc&&RL(e.doc,t.doc,0,r):t.doc.descendants(r),n}function IEe(t,e,n,r){const i=wn.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const h=e.nodeAt(u.pos);for(let d=0;d<h.attrs.rowspan;d++)s[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,fh(h.attrs,h.attrs.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const h=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Fs(h.attrs,"rowspan",h.attrs.rowspan-u.n))}else if(u.type=="colwidth mismatch"){const h=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Fs(h.attrs,"colwidth",u.colwidth))}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,u=n+1;l<i.height;l++){const h=e.child(l),d=u+h.nodeSize,f=s[l];if(f>0){let p="cell";h.firstChild&&(p=h.firstChild.type.spec.tableRole);const m=[];for(let y=0;y<f;y++)m.push(yo(t.schema)[p].createAndFill());const g=(l==0||o==l-1)&&a==l?u+1:d-1;r.insert(r.mapping.map(g),m)}u=d}return r.setMeta(FEe,{fixTables:!0})}const Oc=new pn("selectingCells");function wC(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function P5(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?q1(t.state.doc.resolve(n.pos)):null}function REe(t,e){const n=e;if(n.ctrlKey||n.metaKey)return;const r=wC(t,n.target);let i;if(n.shiftKey&&t.state.selection instanceof an)s(t.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&(i=q1(t.state.selection.$anchor))!=null&&P5(t,n).pos!=i.pos)s(i,n),n.preventDefault();else if(!r)return;function s(l,u){let h=P5(t,u);const d=Oc.getState(t.state)==null;if(!h||!Yw(l,h))if(d)h=l;else return;const f=new an(l,h);if(d||!t.state.selection.eq(f)){const p=t.state.tr.setSelection(f);d&&p.setMeta(Oc,l.pos),t.dispatch(p)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),Oc.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Oc,-1))}function a(l){const u=Oc.getState(t.state);let h;if(u!=null)h=t.state.doc.resolve(u);else if(wC(t,l.target)!=r&&(h=P5(t,n),!h))return o();h&&s(h,l)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function QEe(t,e){const n=t.state.doc,r=q1(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new an(r))),!0):!1}function l2(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function QL(t,e,n){if(!(t.state.selection instanceof Mt))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?o:null}}return null}function Bm(t,e){return(n,r,i)=>{const s=n.selection;if(s instanceof an)return l2(n,r,St.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=QL(i,t,e);if(o==null)return!1;if(t=="horiz")return l2(n,r,St.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=FL(a,t,e);let u;return l?u=St.near(l,1):e<0?u=St.near(n.doc.resolve(a.before(-1)),-1):u=St.near(n.doc.resolve(a.after(-1)),1),l2(n,r,u)}}}function $m(t,e){return(n,r,i)=>{let s=n.selection;if(!(s instanceof an)){const a=QL(i,t,e);if(a==null)return!1;s=new an(n.doc.resolve(a))}const o=FL(s.$headCell,t,e);return o?l2(n,r,new an(s.$anchorCell,o)):!1}}function Lm(t,e){const n=t.selection;if(!(n instanceof an))return!1;if(e){const r=t.tr,i=yo(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new He(i,0,0))}),r.docChanged&&e(r)}return!0}const zEe=bw({ArrowLeft:Bm("horiz",-1),ArrowRight:Bm("horiz",1),ArrowUp:Bm("vert",-1),ArrowDown:Bm("vert",1),"Shift-ArrowLeft":$m("horiz",-1),"Shift-ArrowRight":$m("horiz",1),"Shift-ArrowUp":$m("vert",-1),"Shift-ArrowDown":$m("vert",1),Backspace:Lm,"Mod-Backspace":Lm,Delete:Lm,"Mod-Delete":Lm});function VEe(t,e,n){if(!bo(t.state))return!1;let r=PEe(n);const i=t.state.selection;if(i instanceof an){r||(r={width:1,height:1,rows:[Fe.from(fx(yo(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=wn.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=$Ee(r,a.right-a.left,a.bottom-a.top),kC(t.state,t.dispatch,o,a,r),!0}else if(r){const s=C4(t.state),o=s.start(-1);return kC(t.state,t.dispatch,o,wn.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function WEe({allowTableNodeSelection:t=!1}={}){return new cn({key:Oc,state:{init(){return null},apply(e,n){const r=e.getMeta(Oc);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:VDe,handleDOMEvents:{mousedown:REe},createSelectionBetween(e){return Oc.getState(e.state)!=null?e.state.selection:null},handleTripleClick:QEe,handleKeyDown:zEe,handlePaste:VEe},appendTransaction(e,n,r){return XDe(r,NEe(r,n),t)}})}const c2={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},_C=rn("PrevCell"),SC=rn("NextCell"),CC=rn("BreakTable"),qEe=rn("InsertTable"),XEe=Is(t=>({schema:()=>({node:{table:{...Pm.table,parseMarkdown:{match:e=>e.type==="table",runner:(e,n,r)=>{const i=n.align,s=n.children.map((o,a)=>({...o,align:i,isHeader:a===0}));e.openNode(r),e.next(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table",runner:(e,n)=>{var r;const i=(r=n.content.firstChild)==null?void 0:r.content;if(!i)return;const s=[];i.forEach(o=>{s.push(o.attrs.alignment)}),e.openNode("table",void 0,{align:s}),e.next(n.content),e.closeNode()}}},table_row:{...Pm.table_row,parseMarkdown:{match:e=>e.type==="tableRow",runner:(e,n,r)=>{const i=n.align,s=n.children.map((o,a)=>({...o,align:i[a],isHeader:n.isHeader}));e.openNode(r),e.next(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_row",runner:(e,n)=>{e.openNode("tableRow"),e.next(n.content),e.closeNode()}}},table_cell:{...Pm.table_cell,parseMarkdown:{match:e=>e.type==="tableCell"&&!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}).openNode(e.schema.nodes.paragraph).next(n.children).closeNode().closeNode()}},toMarkdown:{match:e=>e.type.name==="table_cell",runner:(e,n)=>{e.openNode("tableCell").next(n.content).closeNode()}}},table_header:{...Pm.table_header,parseMarkdown:{match:e=>e.type==="tableCell"&&!!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}),e.openNode(e.schema.nodes.paragraph),e.next(n.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header",runner:(e,n)=>{e.openNode("tableCell"),e.next(n.content),e.closeNode()}}}}}),inputRules:(e,n)=>[new Ei(/^\|\|\s$/,(r,i,s,o)=>{const a=r.doc.resolve(s);if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.table))return null;const l=A5(n.get(Lr)),u=r.tr.replaceRangeWith(s,o,l).scrollIntoView();return u.setSelection(Mt.create(u.doc,s+3))}),new Ei(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(r,i,s,o)=>{var a,l;const u=r.doc.resolve(s);if(!u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),e.table))return null;const h=A5(n.get(Lr),Number((a=i.groups)==null?void 0:a.row),Number((l=i.groups)==null?void 0:l.col)),d=r.tr.replaceRangeWith(s,o,h).scrollIntoView();return d.setSelection(Mt.create(d.doc,s+3))})],commands:(e,n)=>[sn(_C,()=>mC(-1)),sn(SC,()=>mC(1)),sn(CC,()=>GDe(n.get(Lr).nodes.paragraph)),sn(qEe,()=>(r,i)=>{const{selection:s,tr:o}=r,{from:a}=s,l=A5(n.get(Lr)),u=o.replaceSelectionWith(l),h=St.findFrom(u.doc.resolve(a),1,!0);return h&&(i==null||i(u.setSelection(h))),!0})],shortcuts:{[c2.NextCell]:kn(SC,"Mod-]"),[c2.PrevCell]:kn(_C,"Mod-["),[c2.ExitTable]:kn(CC,"Mod-Enter")},prosePlugins:(e,n)=>[gEe(n,t),vEe(),kEe(),WEe()]})),vf={...yr,...c2,StrikeThrough:"StrikeThrough",TaskList:"TaskList"},TC=rn("ToggleStrikeThrough"),DC="strike_through",YEe=w0(t=>({id:DC,schema:()=>({inclusive:!1,parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:e=>e.type==="delete",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===DC,runner:(e,n)=>{e.withMark(n,"delete")}}}),commands:e=>[sn(TC,()=>k4(e))],shortcuts:{[vf.StrikeThrough]:kn(TC,"Mod-Alt-x")}})),EC=rn("SplitTaskListItem"),AC=rn("SinkTaskListItem"),MC=rn("LiftTaskListItem"),PC=rn("TurnIntoTaskList"),UEe=wr(t=>{const e="task_list_item";return{id:e,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Nr(r);return{checked:r.dataset.checked==="true"}}}],toDOM:r=>{const i=document.createElement("input");return i.type="checkbox",i.checked=r.attrs.checked,i.className=t.getClassName(r.attrs,"task-list-item_checkbox"),i.onchange=s=>{const o=s.target;if(!(o instanceof HTMLInputElement))return;const a=n.get(Qn);if(!a.editable){i.checked=!i.checked;return}const{top:l,left:u}=o.getBoundingClientRect(),h=a.posAtCoords({top:l,left:u});if(!h)return;const{tr:d}=a.state;a.dispatch(d.setNodeMarkup(h.inside,void 0,{checked:o.checked}))},["li",{"data-type":"task-item","data-checked":r.attrs.checked?"true":"false",class:t.getClassName(r.attrs,"task-list-item")},i,["span",{class:t.getClassName(r.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:r,checked:i})=>r==="listItem"&&i!==null,runner:(r,i,s)=>{r.openNode(s,{checked:i.checked}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.openNode("listItem",void 0,{checked:i.attrs.checked}),r.next(i.content),r.closeNode()}}}),inputRules:n=>[x0(/^\s*(\[([ |x])\])\s$/,n,r=>({checked:r[r.length-1]==="x"}))],commands:n=>[sn(EC,()=>pL(n)),sn(AC,()=>zw(n)),sn(MC,()=>Qw(n)),sn(PC,()=>Qo(n))],shortcuts:{[vf.NextListItem]:kn(EC,"Enter"),[vf.SinkListItem]:kn(AC,"Mod-]"),[vf.LiftListItem]:kn(MC,"Mod-["),[vf.TaskList]:kn(PC,"Mod-Alt-9")},view:()=>(n,r,i)=>{let s=n;const o=t.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:h=>{const{tr:d}=r.state;r.dispatch(d.setNodeMarkup(i(),void 0,{checked:h}))}});if(!o)return{};const{dom:a,contentDOM:l,onUpdate:u}=o;return u(s),{dom:a,contentDOM:l,update:h=>h.type.name!==e?!1:(s=h,u(s),!0)}}}}),jEe=Ai.create([...vL,dre(()=>EDe),XEe(),YEe(),UEe(),LDe(),BDe()]),HEe={tokenize:GEe,concrete:!0},ZEe={tokenize:KEe,partial:!0};function GEe(t,e,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return a;function a(y){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(y)}function l(y){return y===36?(t.consume(y),o++,l):(t.exit("mathFlowFenceSequence"),o<2?n(y):tn(t,u,"whitespace")(y))}function u(y){return y===null||lt(y)?d(y):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||lt(y)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(y)):y===36?n(y):(t.consume(y),h)}function d(y){return t.exit("mathFlowFence"),r.interrupt?e(y):f(y)}function f(y){return y===null?m(y):lt(y)?t.attempt(ZEe,t.attempt({tokenize:g,partial:!0},m,s?tn(t,f,"linePrefix",s+1):f),m)(y):(t.enter("mathFlowValue"),p(y))}function p(y){return y===null||lt(y)?(t.exit("mathFlowValue"),f(y)):(t.consume(y),p)}function m(y){return t.exit("mathFlow"),e(y)}function g(y,b,O){let w=0;return tn(y,D,"linePrefix",4);function D(E){return y.enter("mathFlowFence"),y.enter("mathFlowFenceSequence"),C(E)}function C(E){return E===36?(y.consume(E),w++,C):w<o?O(E):(y.exit("mathFlowFenceSequence"),tn(y,T,"whitespace")(E))}function T(E){return E===null||lt(E)?(y.exit("mathFlowFence"),b(E)):O(E)}}}function KEe(t,e,n){const r=this;return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function JEe(t={}){let e=t.singleDollarTextMath;return e==null&&(e=!0),{tokenize:n,resolve:eAe,previous:tAe};function n(r,i,s){let o=0,a,l;return u;function u(m){return r.enter("mathText"),r.enter("mathTextSequence"),h(m)}function h(m){return m===36?(r.consume(m),o++,h):o<2&&!e?s(m):(r.exit("mathTextSequence"),d(m))}function d(m){return m===null?s(m):m===36?(l=r.enter("mathTextSequence"),a=0,p(m)):m===32?(r.enter("space"),r.consume(m),r.exit("space"),d):lt(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),d):(r.enter("mathTextData"),f(m))}function f(m){return m===null||m===32||m===36||lt(m)?(r.exit("mathTextData"),d(m)):(r.consume(m),f)}function p(m){return m===36?(r.consume(m),a++,p):a===o?(r.exit("mathTextSequence"),r.exit("mathText"),i(m)):(l.type="mathTextData",f(m))}}}function eAe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function tAe(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function nAe(t){return{flow:{[36]:HEe},text:{[36]:JEe(t)}}}function rAe(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:a,mathText:o,mathTextData:a}};function t(l){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),u=this.stack[this.stack.length-1];u.meta=l}function r(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.exit(l);h.value=u,h.data.hChildren[0].value=u,this.setData("mathFlowInside")}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},l),this.buffer()}function o(l){const u=this.resume(),h=this.exit(l);h.value=u,h.data.hChildren[0].value=u}function a(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function iAe(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,o,a,l){const u=s.value||"",h=v0(l),d="$".repeat(Math.max(wB(u,"$")+1,2)),f=a.enter("mathFlow");let p=h.move(d);if(s.meta){const m=a.enter("mathFlowMeta");p+=h.move(g4(a,s.meta,{before:p,after:`
`,encode:["$"],...h.current()})),m()}return p+=h.move(`
`),u&&(p+=h.move(u+`
`)),p+=h.move(d),f(),p}function r(s,o,a){let l=s.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const h="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<a.unsafe.length;){const f=a.unsafe[d],p=ew(f);let m;if(!!f.atBreak)for(;m=p.exec(l);){let g=m.index;l.codePointAt(g)===10&&l.codePointAt(g-1)===13&&g--,l=l.slice(0,g)+" "+l.slice(m.index+1)}}return h+l+h}function i(){return"$"}}function sAe(t={}){const e=this.data();n("micromarkExtensions",nAe(t)),n("fromMarkdownExtensions",rAe()),n("toMarkdownExtensions",iAe(t));function n(r,i){(e[r]?e[r]:e[r]=[]).push(i)}}class _s{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new _s(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class ao{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new ao(n,_s.range(this,e))}}class Xe{constructor(e,n){this.position=void 0;var r="KaTeX parse error: "+e,i,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start;var a=s.end;i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&\u0332"),u;i>15?u="\u2026"+o.slice(i-15,i):u=o.slice(0,i);var h;a+15<o.length?h=o.slice(a,a+15)+"\u2026":h=o.slice(a),r+=u+l+h}var d=new Error(r);return d.name="ParseError",d.__proto__=Xe.prototype,d.position=i,d}}Xe.prototype.__proto__=Error.prototype;var oAe=function(e,n){return e.indexOf(n)!==-1},aAe=function(e,n){return e===void 0?n:e},lAe=/([A-Z])/g,cAe=function(e){return e.replace(lAe,"-$1").toLowerCase()},uAe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},hAe=/[&><"']/g;function dAe(t){return String(t).replace(hAe,e=>uAe[e])}var zL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},fAe=function(e){var n=zL(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},pAe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},mAe=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},Ct={contains:oAe,deflt:aAe,escape:dAe,hyphenate:cAe,getBaseElem:zL,isCharacterBox:fAe,protocolFromUrl:mAe},u2={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function gAe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Uw{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in u2)if(u2.hasOwnProperty(n)){var r=u2[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:gAe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Xe("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=Ct.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(n)}}class sc{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Oa[yAe[this.id]]}sub(){return Oa[bAe[this.id]]}fracNum(){return Oa[OAe[this.id]]}fracDen(){return Oa[vAe[this.id]]}cramp(){return Oa[xAe[this.id]]}text(){return Oa[kAe[this.id]]}isTight(){return this.size>=2}}var jw=0,py=1,vd=2,$l=3,Bp=4,lo=5,Wd=6,Ii=7,Oa=[new sc(jw,0,!1),new sc(py,0,!0),new sc(vd,1,!1),new sc($l,1,!0),new sc(Bp,2,!1),new sc(lo,2,!0),new sc(Wd,3,!1),new sc(Ii,3,!0)],yAe=[Bp,lo,Bp,lo,Wd,Ii,Wd,Ii],bAe=[lo,lo,lo,lo,Ii,Ii,Ii,Ii],OAe=[vd,$l,Bp,lo,Wd,Ii,Wd,Ii],vAe=[$l,$l,lo,lo,Ii,Ii,Ii,Ii],xAe=[py,py,$l,$l,lo,lo,Ii,Ii],kAe=[jw,py,vd,$l,vd,$l,vd,$l],bt={DISPLAY:Oa[jw],TEXT:Oa[vd],SCRIPT:Oa[Bp],SCRIPTSCRIPT:Oa[Wd]},px=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function wAe(t){for(var e=0;e<px.length;e++)for(var n=px[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var h2=[];px.forEach(t=>t.blocks.forEach(e=>h2.push(...e)));function VL(t){for(var e=0;e<h2.length;e+=2)if(t>=h2[e]&&t<=h2[e+1])return!0;return!1}var Nh=80,_Ae=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},SAe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},CAe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},TAe=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},DAe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},EAe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},AAe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},MAe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=_Ae(n,Nh);break;case"sqrtSize1":i=SAe(n,Nh);break;case"sqrtSize2":i=CAe(n,Nh);break;case"sqrtSize3":i=TAe(n,Nh);break;case"sqrtSize4":i=DAe(n,Nh);break;case"sqrtTall":i=AAe(n,Nh,r)}return i},PAe=function(e,n){switch(e){case"\u239C":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"\u2223":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"\u2225":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"\u239F":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"\u23A2":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"\u23A5":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"\u23AA":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"\u23D0":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"\u2016":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},BC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},BAe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class X1{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ct.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Ta={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Fm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},$C={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function $Ae(t,e){Ta[t]=e}function Hw(t,e,n){if(!Ta[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Ta[e][r];if(!i&&t[0]in $C&&(r=$C[t[0]].charCodeAt(0),i=Ta[e][r]),!i&&n==="text"&&VL(r)&&(i=Ta[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var B5={};function LAe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!B5[e]){var n=B5[e]={cssEmPerMu:Fm.quad[e]/18};for(var r in Fm)Fm.hasOwnProperty(r)&&(n[r]=Fm[r][e])}return B5[e]}var FAe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],LC=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],FC=function(e,n){return n.size<2?e:FAe[e-1][n.size-1]};class bl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||bl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=LC[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new bl(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:FC(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:LC[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=FC(bl.BASESIZE,e);return this.size===n&&this.textSize===bl.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==bl.BASESIZE?["sizing","reset-size"+this.size,"size"+bl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=LAe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}bl.BASESIZE=6;var mx={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},NAe={ex:!0,em:!0,mu:!0},WL=function(e){return typeof e!="string"&&(e=e.unit),e in mx||e in NAe||e==="ex"},Zn=function(e,n){var r;if(e.unit in mx)r=mx[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Xe("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},je=function(e){return+e.toFixed(4)+"em"},Zc=function(e){return e.filter(n=>n).join(" ")},qL=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},XL=function(e){var n=document.createElement(e);n.className=Zc(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},YL=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ct.escape(Zc(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ct.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+Ct.escape(this.attributes[s])+'"');n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+e+">",n};class Y1{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,qL.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ct.contains(this.classes,e)}toNode(){return XL.call(this,"span")}toMarkup(){return YL.call(this,"span")}}class Zw{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,qL.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ct.contains(this.classes,e)}toNode(){return XL.call(this,"a")}toMarkup(){return YL.call(this,"a")}}class IAe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Ct.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ct.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ct.escape(n)+'"'),e+="'/>",e}}var RAe={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class Oo{constructor(e,n,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var u=wAe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=RAe[this.text])}hasClass(e){return Ct.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=je(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Zc(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ct.escape(Zc(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ct.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ct.escape(r)+'"');var s=Ct.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class zl{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Gc{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",BC[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+BC[this.pathName]+"'/>"}}class gx{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function NC(t){if(t instanceof Oo)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function QAe(t){if(t instanceof Y1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var zAe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},VAe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Dn={math:{},text:{}};function k(t,e,n,r,i,s){Dn[t][i]={font:e,group:n,replace:r},s&&r&&(Dn[t][r]=Dn[t][i])}var S="math",Re="text",N="main",U="ams",Wn="accent-token",it="bin",Zi="close",S0="inner",xt="mathord",_r="op-token",Rs="open",D4="punct",j="rel",Gl="spacing",le="textord";k(S,N,j,"\u2261","\\equiv",!0);k(S,N,j,"\u227A","\\prec",!0);k(S,N,j,"\u227B","\\succ",!0);k(S,N,j,"\u223C","\\sim",!0);k(S,N,j,"\u22A5","\\perp");k(S,N,j,"\u2AAF","\\preceq",!0);k(S,N,j,"\u2AB0","\\succeq",!0);k(S,N,j,"\u2243","\\simeq",!0);k(S,N,j,"\u2223","\\mid",!0);k(S,N,j,"\u226A","\\ll",!0);k(S,N,j,"\u226B","\\gg",!0);k(S,N,j,"\u224D","\\asymp",!0);k(S,N,j,"\u2225","\\parallel");k(S,N,j,"\u22C8","\\bowtie",!0);k(S,N,j,"\u2323","\\smile",!0);k(S,N,j,"\u2291","\\sqsubseteq",!0);k(S,N,j,"\u2292","\\sqsupseteq",!0);k(S,N,j,"\u2250","\\doteq",!0);k(S,N,j,"\u2322","\\frown",!0);k(S,N,j,"\u220B","\\ni",!0);k(S,N,j,"\u221D","\\propto",!0);k(S,N,j,"\u22A2","\\vdash",!0);k(S,N,j,"\u22A3","\\dashv",!0);k(S,N,j,"\u220B","\\owns");k(S,N,D4,".","\\ldotp");k(S,N,D4,"\u22C5","\\cdotp");k(S,N,le,"#","\\#");k(Re,N,le,"#","\\#");k(S,N,le,"&","\\&");k(Re,N,le,"&","\\&");k(S,N,le,"\u2135","\\aleph",!0);k(S,N,le,"\u2200","\\forall",!0);k(S,N,le,"\u210F","\\hbar",!0);k(S,N,le,"\u2203","\\exists",!0);k(S,N,le,"\u2207","\\nabla",!0);k(S,N,le,"\u266D","\\flat",!0);k(S,N,le,"\u2113","\\ell",!0);k(S,N,le,"\u266E","\\natural",!0);k(S,N,le,"\u2663","\\clubsuit",!0);k(S,N,le,"\u2118","\\wp",!0);k(S,N,le,"\u266F","\\sharp",!0);k(S,N,le,"\u2662","\\diamondsuit",!0);k(S,N,le,"\u211C","\\Re",!0);k(S,N,le,"\u2661","\\heartsuit",!0);k(S,N,le,"\u2111","\\Im",!0);k(S,N,le,"\u2660","\\spadesuit",!0);k(S,N,le,"\xA7","\\S",!0);k(Re,N,le,"\xA7","\\S");k(S,N,le,"\xB6","\\P",!0);k(Re,N,le,"\xB6","\\P");k(S,N,le,"\u2020","\\dag");k(Re,N,le,"\u2020","\\dag");k(Re,N,le,"\u2020","\\textdagger");k(S,N,le,"\u2021","\\ddag");k(Re,N,le,"\u2021","\\ddag");k(Re,N,le,"\u2021","\\textdaggerdbl");k(S,N,Zi,"\u23B1","\\rmoustache",!0);k(S,N,Rs,"\u23B0","\\lmoustache",!0);k(S,N,Zi,"\u27EF","\\rgroup",!0);k(S,N,Rs,"\u27EE","\\lgroup",!0);k(S,N,it,"\u2213","\\mp",!0);k(S,N,it,"\u2296","\\ominus",!0);k(S,N,it,"\u228E","\\uplus",!0);k(S,N,it,"\u2293","\\sqcap",!0);k(S,N,it,"\u2217","\\ast");k(S,N,it,"\u2294","\\sqcup",!0);k(S,N,it,"\u25EF","\\bigcirc",!0);k(S,N,it,"\u2219","\\bullet",!0);k(S,N,it,"\u2021","\\ddagger");k(S,N,it,"\u2240","\\wr",!0);k(S,N,it,"\u2A3F","\\amalg");k(S,N,it,"&","\\And");k(S,N,j,"\u27F5","\\longleftarrow",!0);k(S,N,j,"\u21D0","\\Leftarrow",!0);k(S,N,j,"\u27F8","\\Longleftarrow",!0);k(S,N,j,"\u27F6","\\longrightarrow",!0);k(S,N,j,"\u21D2","\\Rightarrow",!0);k(S,N,j,"\u27F9","\\Longrightarrow",!0);k(S,N,j,"\u2194","\\leftrightarrow",!0);k(S,N,j,"\u27F7","\\longleftrightarrow",!0);k(S,N,j,"\u21D4","\\Leftrightarrow",!0);k(S,N,j,"\u27FA","\\Longleftrightarrow",!0);k(S,N,j,"\u21A6","\\mapsto",!0);k(S,N,j,"\u27FC","\\longmapsto",!0);k(S,N,j,"\u2197","\\nearrow",!0);k(S,N,j,"\u21A9","\\hookleftarrow",!0);k(S,N,j,"\u21AA","\\hookrightarrow",!0);k(S,N,j,"\u2198","\\searrow",!0);k(S,N,j,"\u21BC","\\leftharpoonup",!0);k(S,N,j,"\u21C0","\\rightharpoonup",!0);k(S,N,j,"\u2199","\\swarrow",!0);k(S,N,j,"\u21BD","\\leftharpoondown",!0);k(S,N,j,"\u21C1","\\rightharpoondown",!0);k(S,N,j,"\u2196","\\nwarrow",!0);k(S,N,j,"\u21CC","\\rightleftharpoons",!0);k(S,U,j,"\u226E","\\nless",!0);k(S,U,j,"\uE010","\\@nleqslant");k(S,U,j,"\uE011","\\@nleqq");k(S,U,j,"\u2A87","\\lneq",!0);k(S,U,j,"\u2268","\\lneqq",!0);k(S,U,j,"\uE00C","\\@lvertneqq");k(S,U,j,"\u22E6","\\lnsim",!0);k(S,U,j,"\u2A89","\\lnapprox",!0);k(S,U,j,"\u2280","\\nprec",!0);k(S,U,j,"\u22E0","\\npreceq",!0);k(S,U,j,"\u22E8","\\precnsim",!0);k(S,U,j,"\u2AB9","\\precnapprox",!0);k(S,U,j,"\u2241","\\nsim",!0);k(S,U,j,"\uE006","\\@nshortmid");k(S,U,j,"\u2224","\\nmid",!0);k(S,U,j,"\u22AC","\\nvdash",!0);k(S,U,j,"\u22AD","\\nvDash",!0);k(S,U,j,"\u22EA","\\ntriangleleft");k(S,U,j,"\u22EC","\\ntrianglelefteq",!0);k(S,U,j,"\u228A","\\subsetneq",!0);k(S,U,j,"\uE01A","\\@varsubsetneq");k(S,U,j,"\u2ACB","\\subsetneqq",!0);k(S,U,j,"\uE017","\\@varsubsetneqq");k(S,U,j,"\u226F","\\ngtr",!0);k(S,U,j,"\uE00F","\\@ngeqslant");k(S,U,j,"\uE00E","\\@ngeqq");k(S,U,j,"\u2A88","\\gneq",!0);k(S,U,j,"\u2269","\\gneqq",!0);k(S,U,j,"\uE00D","\\@gvertneqq");k(S,U,j,"\u22E7","\\gnsim",!0);k(S,U,j,"\u2A8A","\\gnapprox",!0);k(S,U,j,"\u2281","\\nsucc",!0);k(S,U,j,"\u22E1","\\nsucceq",!0);k(S,U,j,"\u22E9","\\succnsim",!0);k(S,U,j,"\u2ABA","\\succnapprox",!0);k(S,U,j,"\u2246","\\ncong",!0);k(S,U,j,"\uE007","\\@nshortparallel");k(S,U,j,"\u2226","\\nparallel",!0);k(S,U,j,"\u22AF","\\nVDash",!0);k(S,U,j,"\u22EB","\\ntriangleright");k(S,U,j,"\u22ED","\\ntrianglerighteq",!0);k(S,U,j,"\uE018","\\@nsupseteqq");k(S,U,j,"\u228B","\\supsetneq",!0);k(S,U,j,"\uE01B","\\@varsupsetneq");k(S,U,j,"\u2ACC","\\supsetneqq",!0);k(S,U,j,"\uE019","\\@varsupsetneqq");k(S,U,j,"\u22AE","\\nVdash",!0);k(S,U,j,"\u2AB5","\\precneqq",!0);k(S,U,j,"\u2AB6","\\succneqq",!0);k(S,U,j,"\uE016","\\@nsubseteqq");k(S,U,it,"\u22B4","\\unlhd");k(S,U,it,"\u22B5","\\unrhd");k(S,U,j,"\u219A","\\nleftarrow",!0);k(S,U,j,"\u219B","\\nrightarrow",!0);k(S,U,j,"\u21CD","\\nLeftarrow",!0);k(S,U,j,"\u21CF","\\nRightarrow",!0);k(S,U,j,"\u21AE","\\nleftrightarrow",!0);k(S,U,j,"\u21CE","\\nLeftrightarrow",!0);k(S,U,j,"\u25B3","\\vartriangle");k(S,U,le,"\u210F","\\hslash");k(S,U,le,"\u25BD","\\triangledown");k(S,U,le,"\u25CA","\\lozenge");k(S,U,le,"\u24C8","\\circledS");k(S,U,le,"\xAE","\\circledR");k(Re,U,le,"\xAE","\\circledR");k(S,U,le,"\u2221","\\measuredangle",!0);k(S,U,le,"\u2204","\\nexists");k(S,U,le,"\u2127","\\mho");k(S,U,le,"\u2132","\\Finv",!0);k(S,U,le,"\u2141","\\Game",!0);k(S,U,le,"\u2035","\\backprime");k(S,U,le,"\u25B2","\\blacktriangle");k(S,U,le,"\u25BC","\\blacktriangledown");k(S,U,le,"\u25A0","\\blacksquare");k(S,U,le,"\u29EB","\\blacklozenge");k(S,U,le,"\u2605","\\bigstar");k(S,U,le,"\u2222","\\sphericalangle",!0);k(S,U,le,"\u2201","\\complement",!0);k(S,U,le,"\xF0","\\eth",!0);k(Re,N,le,"\xF0","\xF0");k(S,U,le,"\u2571","\\diagup");k(S,U,le,"\u2572","\\diagdown");k(S,U,le,"\u25A1","\\square");k(S,U,le,"\u25A1","\\Box");k(S,U,le,"\u25CA","\\Diamond");k(S,U,le,"\xA5","\\yen",!0);k(Re,U,le,"\xA5","\\yen",!0);k(S,U,le,"\u2713","\\checkmark",!0);k(Re,U,le,"\u2713","\\checkmark");k(S,U,le,"\u2136","\\beth",!0);k(S,U,le,"\u2138","\\daleth",!0);k(S,U,le,"\u2137","\\gimel",!0);k(S,U,le,"\u03DD","\\digamma",!0);k(S,U,le,"\u03F0","\\varkappa");k(S,U,Rs,"\u250C","\\@ulcorner",!0);k(S,U,Zi,"\u2510","\\@urcorner",!0);k(S,U,Rs,"\u2514","\\@llcorner",!0);k(S,U,Zi,"\u2518","\\@lrcorner",!0);k(S,U,j,"\u2266","\\leqq",!0);k(S,U,j,"\u2A7D","\\leqslant",!0);k(S,U,j,"\u2A95","\\eqslantless",!0);k(S,U,j,"\u2272","\\lesssim",!0);k(S,U,j,"\u2A85","\\lessapprox",!0);k(S,U,j,"\u224A","\\approxeq",!0);k(S,U,it,"\u22D6","\\lessdot");k(S,U,j,"\u22D8","\\lll",!0);k(S,U,j,"\u2276","\\lessgtr",!0);k(S,U,j,"\u22DA","\\lesseqgtr",!0);k(S,U,j,"\u2A8B","\\lesseqqgtr",!0);k(S,U,j,"\u2251","\\doteqdot");k(S,U,j,"\u2253","\\risingdotseq",!0);k(S,U,j,"\u2252","\\fallingdotseq",!0);k(S,U,j,"\u223D","\\backsim",!0);k(S,U,j,"\u22CD","\\backsimeq",!0);k(S,U,j,"\u2AC5","\\subseteqq",!0);k(S,U,j,"\u22D0","\\Subset",!0);k(S,U,j,"\u228F","\\sqsubset",!0);k(S,U,j,"\u227C","\\preccurlyeq",!0);k(S,U,j,"\u22DE","\\curlyeqprec",!0);k(S,U,j,"\u227E","\\precsim",!0);k(S,U,j,"\u2AB7","\\precapprox",!0);k(S,U,j,"\u22B2","\\vartriangleleft");k(S,U,j,"\u22B4","\\trianglelefteq");k(S,U,j,"\u22A8","\\vDash",!0);k(S,U,j,"\u22AA","\\Vvdash",!0);k(S,U,j,"\u2323","\\smallsmile");k(S,U,j,"\u2322","\\smallfrown");k(S,U,j,"\u224F","\\bumpeq",!0);k(S,U,j,"\u224E","\\Bumpeq",!0);k(S,U,j,"\u2267","\\geqq",!0);k(S,U,j,"\u2A7E","\\geqslant",!0);k(S,U,j,"\u2A96","\\eqslantgtr",!0);k(S,U,j,"\u2273","\\gtrsim",!0);k(S,U,j,"\u2A86","\\gtrapprox",!0);k(S,U,it,"\u22D7","\\gtrdot");k(S,U,j,"\u22D9","\\ggg",!0);k(S,U,j,"\u2277","\\gtrless",!0);k(S,U,j,"\u22DB","\\gtreqless",!0);k(S,U,j,"\u2A8C","\\gtreqqless",!0);k(S,U,j,"\u2256","\\eqcirc",!0);k(S,U,j,"\u2257","\\circeq",!0);k(S,U,j,"\u225C","\\triangleq",!0);k(S,U,j,"\u223C","\\thicksim");k(S,U,j,"\u2248","\\thickapprox");k(S,U,j,"\u2AC6","\\supseteqq",!0);k(S,U,j,"\u22D1","\\Supset",!0);k(S,U,j,"\u2290","\\sqsupset",!0);k(S,U,j,"\u227D","\\succcurlyeq",!0);k(S,U,j,"\u22DF","\\curlyeqsucc",!0);k(S,U,j,"\u227F","\\succsim",!0);k(S,U,j,"\u2AB8","\\succapprox",!0);k(S,U,j,"\u22B3","\\vartriangleright");k(S,U,j,"\u22B5","\\trianglerighteq");k(S,U,j,"\u22A9","\\Vdash",!0);k(S,U,j,"\u2223","\\shortmid");k(S,U,j,"\u2225","\\shortparallel");k(S,U,j,"\u226C","\\between",!0);k(S,U,j,"\u22D4","\\pitchfork",!0);k(S,U,j,"\u221D","\\varpropto");k(S,U,j,"\u25C0","\\blacktriangleleft");k(S,U,j,"\u2234","\\therefore",!0);k(S,U,j,"\u220D","\\backepsilon");k(S,U,j,"\u25B6","\\blacktriangleright");k(S,U,j,"\u2235","\\because",!0);k(S,U,j,"\u22D8","\\llless");k(S,U,j,"\u22D9","\\gggtr");k(S,U,it,"\u22B2","\\lhd");k(S,U,it,"\u22B3","\\rhd");k(S,U,j,"\u2242","\\eqsim",!0);k(S,N,j,"\u22C8","\\Join");k(S,U,j,"\u2251","\\Doteq",!0);k(S,U,it,"\u2214","\\dotplus",!0);k(S,U,it,"\u2216","\\smallsetminus");k(S,U,it,"\u22D2","\\Cap",!0);k(S,U,it,"\u22D3","\\Cup",!0);k(S,U,it,"\u2A5E","\\doublebarwedge",!0);k(S,U,it,"\u229F","\\boxminus",!0);k(S,U,it,"\u229E","\\boxplus",!0);k(S,U,it,"\u22C7","\\divideontimes",!0);k(S,U,it,"\u22C9","\\ltimes",!0);k(S,U,it,"\u22CA","\\rtimes",!0);k(S,U,it,"\u22CB","\\leftthreetimes",!0);k(S,U,it,"\u22CC","\\rightthreetimes",!0);k(S,U,it,"\u22CF","\\curlywedge",!0);k(S,U,it,"\u22CE","\\curlyvee",!0);k(S,U,it,"\u229D","\\circleddash",!0);k(S,U,it,"\u229B","\\circledast",!0);k(S,U,it,"\u22C5","\\centerdot");k(S,U,it,"\u22BA","\\intercal",!0);k(S,U,it,"\u22D2","\\doublecap");k(S,U,it,"\u22D3","\\doublecup");k(S,U,it,"\u22A0","\\boxtimes",!0);k(S,U,j,"\u21E2","\\dashrightarrow",!0);k(S,U,j,"\u21E0","\\dashleftarrow",!0);k(S,U,j,"\u21C7","\\leftleftarrows",!0);k(S,U,j,"\u21C6","\\leftrightarrows",!0);k(S,U,j,"\u21DA","\\Lleftarrow",!0);k(S,U,j,"\u219E","\\twoheadleftarrow",!0);k(S,U,j,"\u21A2","\\leftarrowtail",!0);k(S,U,j,"\u21AB","\\looparrowleft",!0);k(S,U,j,"\u21CB","\\leftrightharpoons",!0);k(S,U,j,"\u21B6","\\curvearrowleft",!0);k(S,U,j,"\u21BA","\\circlearrowleft",!0);k(S,U,j,"\u21B0","\\Lsh",!0);k(S,U,j,"\u21C8","\\upuparrows",!0);k(S,U,j,"\u21BF","\\upharpoonleft",!0);k(S,U,j,"\u21C3","\\downharpoonleft",!0);k(S,N,j,"\u22B6","\\origof",!0);k(S,N,j,"\u22B7","\\imageof",!0);k(S,U,j,"\u22B8","\\multimap",!0);k(S,U,j,"\u21AD","\\leftrightsquigarrow",!0);k(S,U,j,"\u21C9","\\rightrightarrows",!0);k(S,U,j,"\u21C4","\\rightleftarrows",!0);k(S,U,j,"\u21A0","\\twoheadrightarrow",!0);k(S,U,j,"\u21A3","\\rightarrowtail",!0);k(S,U,j,"\u21AC","\\looparrowright",!0);k(S,U,j,"\u21B7","\\curvearrowright",!0);k(S,U,j,"\u21BB","\\circlearrowright",!0);k(S,U,j,"\u21B1","\\Rsh",!0);k(S,U,j,"\u21CA","\\downdownarrows",!0);k(S,U,j,"\u21BE","\\upharpoonright",!0);k(S,U,j,"\u21C2","\\downharpoonright",!0);k(S,U,j,"\u21DD","\\rightsquigarrow",!0);k(S,U,j,"\u21DD","\\leadsto");k(S,U,j,"\u21DB","\\Rrightarrow",!0);k(S,U,j,"\u21BE","\\restriction");k(S,N,le,"\u2018","`");k(S,N,le,"$","\\$");k(Re,N,le,"$","\\$");k(Re,N,le,"$","\\textdollar");k(S,N,le,"%","\\%");k(Re,N,le,"%","\\%");k(S,N,le,"_","\\_");k(Re,N,le,"_","\\_");k(Re,N,le,"_","\\textunderscore");k(S,N,le,"\u2220","\\angle",!0);k(S,N,le,"\u221E","\\infty",!0);k(S,N,le,"\u2032","\\prime");k(S,N,le,"\u25B3","\\triangle");k(S,N,le,"\u0393","\\Gamma",!0);k(S,N,le,"\u0394","\\Delta",!0);k(S,N,le,"\u0398","\\Theta",!0);k(S,N,le,"\u039B","\\Lambda",!0);k(S,N,le,"\u039E","\\Xi",!0);k(S,N,le,"\u03A0","\\Pi",!0);k(S,N,le,"\u03A3","\\Sigma",!0);k(S,N,le,"\u03A5","\\Upsilon",!0);k(S,N,le,"\u03A6","\\Phi",!0);k(S,N,le,"\u03A8","\\Psi",!0);k(S,N,le,"\u03A9","\\Omega",!0);k(S,N,le,"A","\u0391");k(S,N,le,"B","\u0392");k(S,N,le,"E","\u0395");k(S,N,le,"Z","\u0396");k(S,N,le,"H","\u0397");k(S,N,le,"I","\u0399");k(S,N,le,"K","\u039A");k(S,N,le,"M","\u039C");k(S,N,le,"N","\u039D");k(S,N,le,"O","\u039F");k(S,N,le,"P","\u03A1");k(S,N,le,"T","\u03A4");k(S,N,le,"X","\u03A7");k(S,N,le,"\xAC","\\neg",!0);k(S,N,le,"\xAC","\\lnot");k(S,N,le,"\u22A4","\\top");k(S,N,le,"\u22A5","\\bot");k(S,N,le,"\u2205","\\emptyset");k(S,U,le,"\u2205","\\varnothing");k(S,N,xt,"\u03B1","\\alpha",!0);k(S,N,xt,"\u03B2","\\beta",!0);k(S,N,xt,"\u03B3","\\gamma",!0);k(S,N,xt,"\u03B4","\\delta",!0);k(S,N,xt,"\u03F5","\\epsilon",!0);k(S,N,xt,"\u03B6","\\zeta",!0);k(S,N,xt,"\u03B7","\\eta",!0);k(S,N,xt,"\u03B8","\\theta",!0);k(S,N,xt,"\u03B9","\\iota",!0);k(S,N,xt,"\u03BA","\\kappa",!0);k(S,N,xt,"\u03BB","\\lambda",!0);k(S,N,xt,"\u03BC","\\mu",!0);k(S,N,xt,"\u03BD","\\nu",!0);k(S,N,xt,"\u03BE","\\xi",!0);k(S,N,xt,"\u03BF","\\omicron",!0);k(S,N,xt,"\u03C0","\\pi",!0);k(S,N,xt,"\u03C1","\\rho",!0);k(S,N,xt,"\u03C3","\\sigma",!0);k(S,N,xt,"\u03C4","\\tau",!0);k(S,N,xt,"\u03C5","\\upsilon",!0);k(S,N,xt,"\u03D5","\\phi",!0);k(S,N,xt,"\u03C7","\\chi",!0);k(S,N,xt,"\u03C8","\\psi",!0);k(S,N,xt,"\u03C9","\\omega",!0);k(S,N,xt,"\u03B5","\\varepsilon",!0);k(S,N,xt,"\u03D1","\\vartheta",!0);k(S,N,xt,"\u03D6","\\varpi",!0);k(S,N,xt,"\u03F1","\\varrho",!0);k(S,N,xt,"\u03C2","\\varsigma",!0);k(S,N,xt,"\u03C6","\\varphi",!0);k(S,N,it,"\u2217","*",!0);k(S,N,it,"+","+");k(S,N,it,"\u2212","-",!0);k(S,N,it,"\u22C5","\\cdot",!0);k(S,N,it,"\u2218","\\circ",!0);k(S,N,it,"\xF7","\\div",!0);k(S,N,it,"\xB1","\\pm",!0);k(S,N,it,"\xD7","\\times",!0);k(S,N,it,"\u2229","\\cap",!0);k(S,N,it,"\u222A","\\cup",!0);k(S,N,it,"\u2216","\\setminus",!0);k(S,N,it,"\u2227","\\land");k(S,N,it,"\u2228","\\lor");k(S,N,it,"\u2227","\\wedge",!0);k(S,N,it,"\u2228","\\vee",!0);k(S,N,le,"\u221A","\\surd");k(S,N,Rs,"\u27E8","\\langle",!0);k(S,N,Rs,"\u2223","\\lvert");k(S,N,Rs,"\u2225","\\lVert");k(S,N,Zi,"?","?");k(S,N,Zi,"!","!");k(S,N,Zi,"\u27E9","\\rangle",!0);k(S,N,Zi,"\u2223","\\rvert");k(S,N,Zi,"\u2225","\\rVert");k(S,N,j,"=","=");k(S,N,j,":",":");k(S,N,j,"\u2248","\\approx",!0);k(S,N,j,"\u2245","\\cong",!0);k(S,N,j,"\u2265","\\ge");k(S,N,j,"\u2265","\\geq",!0);k(S,N,j,"\u2190","\\gets");k(S,N,j,">","\\gt",!0);k(S,N,j,"\u2208","\\in",!0);k(S,N,j,"\uE020","\\@not");k(S,N,j,"\u2282","\\subset",!0);k(S,N,j,"\u2283","\\supset",!0);k(S,N,j,"\u2286","\\subseteq",!0);k(S,N,j,"\u2287","\\supseteq",!0);k(S,U,j,"\u2288","\\nsubseteq",!0);k(S,U,j,"\u2289","\\nsupseteq",!0);k(S,N,j,"\u22A8","\\models");k(S,N,j,"\u2190","\\leftarrow",!0);k(S,N,j,"\u2264","\\le");k(S,N,j,"\u2264","\\leq",!0);k(S,N,j,"<","\\lt",!0);k(S,N,j,"\u2192","\\rightarrow",!0);k(S,N,j,"\u2192","\\to");k(S,U,j,"\u2271","\\ngeq",!0);k(S,U,j,"\u2270","\\nleq",!0);k(S,N,Gl,"\xA0","\\ ");k(S,N,Gl,"\xA0","\\space");k(S,N,Gl,"\xA0","\\nobreakspace");k(Re,N,Gl,"\xA0","\\ ");k(Re,N,Gl,"\xA0"," ");k(Re,N,Gl,"\xA0","\\space");k(Re,N,Gl,"\xA0","\\nobreakspace");k(S,N,Gl,null,"\\nobreak");k(S,N,Gl,null,"\\allowbreak");k(S,N,D4,",",",");k(S,N,D4,";",";");k(S,U,it,"\u22BC","\\barwedge",!0);k(S,U,it,"\u22BB","\\veebar",!0);k(S,N,it,"\u2299","\\odot",!0);k(S,N,it,"\u2295","\\oplus",!0);k(S,N,it,"\u2297","\\otimes",!0);k(S,N,le,"\u2202","\\partial",!0);k(S,N,it,"\u2298","\\oslash",!0);k(S,U,it,"\u229A","\\circledcirc",!0);k(S,U,it,"\u22A1","\\boxdot",!0);k(S,N,it,"\u25B3","\\bigtriangleup");k(S,N,it,"\u25BD","\\bigtriangledown");k(S,N,it,"\u2020","\\dagger");k(S,N,it,"\u22C4","\\diamond");k(S,N,it,"\u22C6","\\star");k(S,N,it,"\u25C3","\\triangleleft");k(S,N,it,"\u25B9","\\triangleright");k(S,N,Rs,"{","\\{");k(Re,N,le,"{","\\{");k(Re,N,le,"{","\\textbraceleft");k(S,N,Zi,"}","\\}");k(Re,N,le,"}","\\}");k(Re,N,le,"}","\\textbraceright");k(S,N,Rs,"{","\\lbrace");k(S,N,Zi,"}","\\rbrace");k(S,N,Rs,"[","\\lbrack",!0);k(Re,N,le,"[","\\lbrack",!0);k(S,N,Zi,"]","\\rbrack",!0);k(Re,N,le,"]","\\rbrack",!0);k(S,N,Rs,"(","\\lparen",!0);k(S,N,Zi,")","\\rparen",!0);k(Re,N,le,"<","\\textless",!0);k(Re,N,le,">","\\textgreater",!0);k(S,N,Rs,"\u230A","\\lfloor",!0);k(S,N,Zi,"\u230B","\\rfloor",!0);k(S,N,Rs,"\u2308","\\lceil",!0);k(S,N,Zi,"\u2309","\\rceil",!0);k(S,N,le,"\\","\\backslash");k(S,N,le,"\u2223","|");k(S,N,le,"\u2223","\\vert");k(Re,N,le,"|","\\textbar",!0);k(S,N,le,"\u2225","\\|");k(S,N,le,"\u2225","\\Vert");k(Re,N,le,"\u2225","\\textbardbl");k(Re,N,le,"~","\\textasciitilde");k(Re,N,le,"\\","\\textbackslash");k(Re,N,le,"^","\\textasciicircum");k(S,N,j,"\u2191","\\uparrow",!0);k(S,N,j,"\u21D1","\\Uparrow",!0);k(S,N,j,"\u2193","\\downarrow",!0);k(S,N,j,"\u21D3","\\Downarrow",!0);k(S,N,j,"\u2195","\\updownarrow",!0);k(S,N,j,"\u21D5","\\Updownarrow",!0);k(S,N,_r,"\u2210","\\coprod");k(S,N,_r,"\u22C1","\\bigvee");k(S,N,_r,"\u22C0","\\bigwedge");k(S,N,_r,"\u2A04","\\biguplus");k(S,N,_r,"\u22C2","\\bigcap");k(S,N,_r,"\u22C3","\\bigcup");k(S,N,_r,"\u222B","\\int");k(S,N,_r,"\u222B","\\intop");k(S,N,_r,"\u222C","\\iint");k(S,N,_r,"\u222D","\\iiint");k(S,N,_r,"\u220F","\\prod");k(S,N,_r,"\u2211","\\sum");k(S,N,_r,"\u2A02","\\bigotimes");k(S,N,_r,"\u2A01","\\bigoplus");k(S,N,_r,"\u2A00","\\bigodot");k(S,N,_r,"\u222E","\\oint");k(S,N,_r,"\u222F","\\oiint");k(S,N,_r,"\u2230","\\oiiint");k(S,N,_r,"\u2A06","\\bigsqcup");k(S,N,_r,"\u222B","\\smallint");k(Re,N,S0,"\u2026","\\textellipsis");k(S,N,S0,"\u2026","\\mathellipsis");k(Re,N,S0,"\u2026","\\ldots",!0);k(S,N,S0,"\u2026","\\ldots",!0);k(S,N,S0,"\u22EF","\\@cdots",!0);k(S,N,S0,"\u22F1","\\ddots",!0);k(S,N,le,"\u22EE","\\varvdots");k(S,N,Wn,"\u02CA","\\acute");k(S,N,Wn,"\u02CB","\\grave");k(S,N,Wn,"\xA8","\\ddot");k(S,N,Wn,"~","\\tilde");k(S,N,Wn,"\u02C9","\\bar");k(S,N,Wn,"\u02D8","\\breve");k(S,N,Wn,"\u02C7","\\check");k(S,N,Wn,"^","\\hat");k(S,N,Wn,"\u20D7","\\vec");k(S,N,Wn,"\u02D9","\\dot");k(S,N,Wn,"\u02DA","\\mathring");k(S,N,xt,"\uE131","\\@imath");k(S,N,xt,"\uE237","\\@jmath");k(S,N,le,"\u0131","\u0131");k(S,N,le,"\u0237","\u0237");k(Re,N,le,"\u0131","\\i",!0);k(Re,N,le,"\u0237","\\j",!0);k(Re,N,le,"\xDF","\\ss",!0);k(Re,N,le,"\xE6","\\ae",!0);k(Re,N,le,"\u0153","\\oe",!0);k(Re,N,le,"\xF8","\\o",!0);k(Re,N,le,"\xC6","\\AE",!0);k(Re,N,le,"\u0152","\\OE",!0);k(Re,N,le,"\xD8","\\O",!0);k(Re,N,Wn,"\u02CA","\\'");k(Re,N,Wn,"\u02CB","\\`");k(Re,N,Wn,"\u02C6","\\^");k(Re,N,Wn,"\u02DC","\\~");k(Re,N,Wn,"\u02C9","\\=");k(Re,N,Wn,"\u02D8","\\u");k(Re,N,Wn,"\u02D9","\\.");k(Re,N,Wn,"\xB8","\\c");k(Re,N,Wn,"\u02DA","\\r");k(Re,N,Wn,"\u02C7","\\v");k(Re,N,Wn,"\xA8",'\\"');k(Re,N,Wn,"\u02DD","\\H");k(Re,N,Wn,"\u25EF","\\textcircled");var UL={"--":!0,"---":!0,"``":!0,"''":!0};k(Re,N,le,"\u2013","--",!0);k(Re,N,le,"\u2013","\\textendash");k(Re,N,le,"\u2014","---",!0);k(Re,N,le,"\u2014","\\textemdash");k(Re,N,le,"\u2018","`",!0);k(Re,N,le,"\u2018","\\textquoteleft");k(Re,N,le,"\u2019","'",!0);k(Re,N,le,"\u2019","\\textquoteright");k(Re,N,le,"\u201C","``",!0);k(Re,N,le,"\u201C","\\textquotedblleft");k(Re,N,le,"\u201D","''",!0);k(Re,N,le,"\u201D","\\textquotedblright");k(S,N,le,"\xB0","\\degree",!0);k(Re,N,le,"\xB0","\\degree");k(Re,N,le,"\xB0","\\textdegree",!0);k(S,N,le,"\xA3","\\pounds");k(S,N,le,"\xA3","\\mathsterling",!0);k(Re,N,le,"\xA3","\\pounds");k(Re,N,le,"\xA3","\\textsterling",!0);k(S,U,le,"\u2720","\\maltese");k(Re,U,le,"\u2720","\\maltese");var IC='0123456789/@."';for(var $5=0;$5<IC.length;$5++){var RC=IC.charAt($5);k(S,N,le,RC,RC)}var QC='0123456789!@*()-=+";:?/.,';for(var L5=0;L5<QC.length;L5++){var zC=QC.charAt(L5);k(Re,N,le,zC,zC)}var my="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var F5=0;F5<my.length;F5++){var Nm=my.charAt(F5);k(S,N,xt,Nm,Nm),k(Re,N,le,Nm,Nm)}k(S,U,le,"C","\u2102");k(Re,U,le,"C","\u2102");k(S,U,le,"H","\u210D");k(Re,U,le,"H","\u210D");k(S,U,le,"N","\u2115");k(Re,U,le,"N","\u2115");k(S,U,le,"P","\u2119");k(Re,U,le,"P","\u2119");k(S,U,le,"Q","\u211A");k(Re,U,le,"Q","\u211A");k(S,U,le,"R","\u211D");k(Re,U,le,"R","\u211D");k(S,U,le,"Z","\u2124");k(Re,U,le,"Z","\u2124");k(S,N,xt,"h","\u210E");k(Re,N,xt,"h","\u210E");var It="";for(var Ki=0;Ki<my.length;Ki++){var pr=my.charAt(Ki);It=String.fromCharCode(55349,56320+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56372+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56424+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56580+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56736+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56788+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56840+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56944+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),Ki<26&&(It=String.fromCharCode(55349,56632+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It),It=String.fromCharCode(55349,56476+Ki),k(S,N,xt,pr,It),k(Re,N,le,pr,It))}It=String.fromCharCode(55349,56668);k(S,N,xt,"k",It);k(Re,N,le,"k",It);for(var xu=0;xu<10;xu++){var oc=xu.toString();It=String.fromCharCode(55349,57294+xu),k(S,N,xt,oc,It),k(Re,N,le,oc,It),It=String.fromCharCode(55349,57314+xu),k(S,N,xt,oc,It),k(Re,N,le,oc,It),It=String.fromCharCode(55349,57324+xu),k(S,N,xt,oc,It),k(Re,N,le,oc,It),It=String.fromCharCode(55349,57334+xu),k(S,N,xt,oc,It),k(Re,N,le,oc,It)}var yx="\xD0\xDE\xFE";for(var N5=0;N5<yx.length;N5++){var Im=yx.charAt(N5);k(S,N,xt,Im,Im),k(Re,N,le,Im,Im)}var Rm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],VC=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],WAe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Rm[a][2],Rm[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[VC[l][2],VC[l][o]]}else{if(s===120485||s===120486)return[Rm[0][2],Rm[0][o]];if(120486<s&&s<120782)return["",""];throw new Xe("Unsupported character: "+e)}},E4=function(e,n,r){return Dn[r][e]&&Dn[r][e].replace&&(e=Dn[r][e].replace),{value:e,metrics:Hw(e,n,r)}},Po=function(e,n,r,i,s){var o=E4(e,n,r),a=o.metrics;e=o.value;var l;if(a){var u=a.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Oo(e,a.height,a.depth,u,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Oo(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},qAe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&E4(e,"Main-Bold",n).metrics?Po(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Dn[n][e].font==="main"?Po(e,"Main-Regular",n,r,i):Po(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},XAe=function(e,n,r,i,s){return s!=="textord"&&E4(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},YAe=function(e,n,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily;if(s.charCodeAt(0)===55349){var[u,h]=WAe(s,i);return Po(s,u,i,n,o.concat(h))}else if(l){var d,f;if(l==="boldsymbol"){var p=XAe(s,i,n,o,r);d=p.fontName,f=[p.fontClass]}else a?(d=ZL[l].fontName,f=[l]):(d=Qm(l,n.fontWeight,n.fontShape),f=[l,n.fontWeight,n.fontShape]);if(E4(s,d,i).metrics)return Po(s,d,i,n,o.concat(f));if(UL.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var m=[],g=0;g<s.length;g++)m.push(Po(s[g],d,i,n,o.concat(f)));return HL(m)}}if(r==="mathord")return Po(s,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var y=Dn[i][s]&&Dn[i][s].font;if(y==="ams"){var b=Qm("amsrm",n.fontWeight,n.fontShape);return Po(s,b,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(y==="main"||!y){var O=Qm("textrm",n.fontWeight,n.fontShape);return Po(s,O,i,n,o.concat(n.fontWeight,n.fontShape))}else{var w=Qm(y,n.fontWeight,n.fontShape);return Po(s,w,i,n,o.concat(w,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},UAe=(t,e)=>{if(Zc(t.classes)!==Zc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},jAe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Oo&&r instanceof Oo&&UAe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},Gw=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},ts=function(e,n,r,i){var s=new Y1(e,n,r,i);return Gw(s),s},jL=(t,e,n,r)=>new Y1(t,e,n,r),HAe=function(e,n,r){var i=ts([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=je(i.height),i.maxFontSize=1,i},ZAe=function(e,n,r,i){var s=new Zw(e,n,r,i);return Gw(s),s},HL=function(e){var n=new X1(e);return Gw(n),n},GAe=function(e,n){return e instanceof X1?ts([],[e],n):e},KAe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,o=1;o<n.length;o++){var a=-n[o].shift-s-n[o].elem.depth,l=a-(n[o-1].elem.height+n[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(n[o])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var f=e.children[d];h-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},JAe=function(e,n){for(var{children:r,depth:i}=KAe(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=ts(["pstrut"],[]);u.style.height=je(s);for(var h=[],d=i,f=i,p=i,m=0;m<r.length;m++){var g=r[m];if(g.type==="kern")p+=g.size;else{var y=g.elem,b=g.wrapperClasses||[],O=g.wrapperStyle||{},w=ts(b,[u,y],void 0,O);w.style.top=je(-s-p-y.depth),g.marginLeft&&(w.style.marginLeft=g.marginLeft),g.marginRight&&(w.style.marginRight=g.marginRight),h.push(w),p+=y.height+y.depth}d=Math.min(d,p),f=Math.max(f,p)}var D=ts(["vlist"],h);D.style.height=je(f);var C;if(d<0){var T=ts([],[]),E=ts(["vlist"],[T]);E.style.height=je(-d);var P=ts(["vlist-s"],[new Oo("\u200B")]);C=[ts(["vlist-r"],[D,P]),ts(["vlist-r"],[E])]}else C=[ts(["vlist-r"],[D])];var M=ts(["vlist-t"],C);return C.length===2&&M.classes.push("vlist-t2"),M.height=f,M.depth=-d,M},eMe=(t,e)=>{var n=ts(["mspace"],[],e),r=Zn(t,e);return n.style.marginRight=je(r),n},Qm=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},ZL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},GL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},tMe=function(e,n){var[r,i,s]=GL[e],o=new Gc(r),a=new zl([o],{width:je(i),height:je(s),style:"width:"+je(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=jL(["overlay"],[a],n);return l.height=s,l.style.height=je(s),l.style.width=je(i),l},fe={fontMap:ZL,makeSymbol:Po,mathsym:qAe,makeSpan:ts,makeSvgSpan:jL,makeLineSpan:HAe,makeAnchor:ZAe,makeFragment:HL,wrapFragment:GAe,makeVList:JAe,makeOrd:YAe,makeGlue:eMe,staticSvg:tMe,svgData:GL,tryCombineChars:jAe},Yn={number:3,unit:"mu"},ku={number:4,unit:"mu"},sl={number:5,unit:"mu"},nMe={mord:{mop:Yn,mbin:ku,mrel:sl,minner:Yn},mop:{mord:Yn,mop:Yn,mrel:sl,minner:Yn},mbin:{mord:ku,mop:ku,mopen:ku,minner:ku},mrel:{mord:sl,mop:sl,mopen:sl,minner:sl},mopen:{},mclose:{mop:Yn,mbin:ku,mrel:sl,minner:Yn},mpunct:{mord:Yn,mop:Yn,mrel:sl,mopen:Yn,mclose:Yn,mpunct:Yn,minner:Yn},minner:{mord:Yn,mop:Yn,mbin:ku,mrel:sl,mopen:Yn,mpunct:Yn,minner:Yn}},rMe={mord:{mop:Yn},mop:{mord:Yn,mop:Yn},mbin:{},mrel:{},mopen:{},mclose:{mop:Yn},mpunct:{},minner:{mop:Yn}},KL={},gy={},yy={};function nt(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)KL[n[l]]=a;e&&(s&&(gy[e]=s),o&&(yy[e]=o))}function Th(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;nt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var by=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},cr=function(e){return e.type==="ordgroup"?e.body:[e]},Vl=fe.makeSpan,iMe=["leftmost","mbin","mopen","mrel","mop","mpunct"],sMe=["rightmost","mrel","mclose","mpunct"],oMe={display:bt.DISPLAY,text:bt.TEXT,script:bt.SCRIPT,scriptscript:bt.SCRIPTSCRIPT},aMe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Rr=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=ln(e[o],n);if(a instanceof X1){var l=a.children;s.push(...l)}else s.push(a)}if(fe.tryCombineChars(s),!r)return s;var u=n;if(e.length===1){var h=e[0];h.type==="sizing"?u=n.havingSize(h.size):h.type==="styling"&&(u=n.havingStyle(oMe[h.style]))}var d=Vl([i[0]||"leftmost"],[],n),f=Vl([i[1]||"rightmost"],[],n),p=r==="root";return WC(s,(m,g)=>{var y=g.classes[0],b=m.classes[0];y==="mbin"&&Ct.contains(sMe,b)?g.classes[0]="mord":b==="mbin"&&Ct.contains(iMe,y)&&(m.classes[0]="mord")},{node:d},f,p),WC(s,(m,g)=>{var y=bx(g),b=bx(m),O=y&&b?m.hasClass("mtight")?rMe[y][b]:nMe[y][b]:null;if(O)return fe.makeGlue(O,u)},{node:d},f,p),s},WC=function t(e,n,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=JL(a);if(l){t(l.children,n,r,null,s);continue}var u=!a.hasClass("mspace");if(u){var h=n(a,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),o++))}u?r.node=a:s&&a.hasClass("newline")&&(r.node=Vl(["leftmost"])),r.insertAfter=(d=>f=>{e.splice(d+1,0,f),o++})(o)}i&&e.pop()},JL=function(e){return e instanceof X1||e instanceof Zw||e instanceof Y1&&e.hasClass("enclosing")?e:null},lMe=function t(e,n){var r=JL(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},bx=function(e,n){return e?(n&&(e=lMe(e,n)),aMe[e.classes[0]]||null):null},$p=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Vl(n.concat(r))},ln=function(e,n,r){if(!e)return Vl();if(gy[e.type]){var i=gy[e.type](e,n);if(r&&n.size!==r.size){i=Vl(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Xe("Got group of unknown type: '"+e.type+"'")};function zm(t,e){var n=Vl(["base"],t,e),r=Vl(["strut"]);return r.style.height=je(n.height+n.depth),n.depth&&(r.style.verticalAlign=je(-n.depth)),n.children.unshift(r),n}function Ox(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Rr(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(zm(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(zm(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(zm(o,e));var u;n?(u=zm(Rr(n,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var h=Vl(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=je(h.height+h.depth),h.depth&&(d.style.verticalAlign=je(-h.depth))}return h}function eF(t){return new X1(t)}class so{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Zc(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ct.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ct.escape(Zc(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Gf{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ct.escape(this.toText())}toText(){return this.text}}class cMe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",je(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+je(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var We={MathNode:so,TextNode:Gf,SpaceNode:cMe,newDocumentFragment:eF},vo=function(e,n,r){return Dn[n][e]&&Dn[n][e].replace&&e.charCodeAt(0)!==55349&&!(UL.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Dn[n][e].replace),new We.TextNode(e)},Kw=function(e){return e.length===1?e[0]:new We.MathNode("mrow",e)},Jw=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(Ct.contains(["\\imath","\\jmath"],s))return null;Dn[i][s]&&Dn[i][s].replace&&(s=Dn[i][s].replace);var o=fe.fontMap[r].fontName;return Hw(s,o,i)?fe.fontMap[r].variant:null},bs=function(e,n,r){if(e.length===1){var i=Sn(e[0],n);return r&&i instanceof so&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=Sn(e[a],n);if(l instanceof so&&o instanceof so){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&o.type==="mn"){var u=l.children[0];if(u instanceof Gf&&u.text==="."){o.children.push(...l.children);continue}}else if(o.type==="mi"&&o.children.length===1){var h=o.children[0];if(h instanceof Gf&&h.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Gf&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),s.pop())}}}s.push(l),o=l}return s},Kc=function(e,n,r){return Kw(bs(e,n,r))},Sn=function(e,n){if(!e)return new We.MathNode("mrow");if(yy[e.type]){var r=yy[e.type](e,n);return r}else throw new Xe("Got group of unknown type: '"+e.type+"'")};function qC(t,e,n,r,i){var s=bs(t,n),o;s.length===1&&s[0]instanceof so&&Ct.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new We.MathNode("mrow",s);var a=new We.MathNode("annotation",[new We.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new We.MathNode("semantics",[o,a]),u=new We.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return fe.makeSpan([h],[u])}var tF=function(e){return new bl({style:e.displayMode?bt.DISPLAY:bt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},nF=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=fe.makeSpan(r,[e])}return e},uMe=function(e,n,r){var i=tF(r),s;if(r.output==="mathml")return qC(e,n,i,r.displayMode,!0);if(r.output==="html"){var o=Ox(e,i);s=fe.makeSpan(["katex"],[o])}else{var a=qC(e,n,i,r.displayMode,!1),l=Ox(e,i);s=fe.makeSpan(["katex"],[a,l])}return nF(s,r)},hMe=function(e,n,r){var i=tF(r),s=Ox(e,i),o=fe.makeSpan(["katex"],[s]);return nF(o,r)},dMe={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},fMe=function(e){var n=new We.MathNode("mo",[new We.TextNode(dMe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},pMe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},mMe=function(e){return e.type==="ordgroup"?e.body.length:1},gMe=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(Ct.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=mMe(u.base),d,f,p;if(h>5)l==="widehat"||l==="widecheck"?(d=420,a=2364,p=.42,f=l+"4"):(d=312,a=2340,p=.34,f="tilde4");else{var m=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][m],d=[0,239,300,360,420][m],p=[0,.24,.3,.3,.36,.42][m],f=l+m):(a=[0,600,1033,2339,2340][m],d=[0,260,286,306,312][m],p=[0,.26,.286,.3,.306,.34][m],f="tilde"+m)}var g=new Gc(f),y=new zl([g],{width:"100%",height:je(p),viewBox:"0 0 "+a+" "+d,preserveAspectRatio:"none"});return{span:fe.makeSvgSpan([],[y],n),minWidth:0,height:p}}else{var b=[],O=pMe[l],[w,D,C]=O,T=C/1e3,E=w.length,P,M;if(E===1){var $=O[3];P=["hide-tail"],M=[$]}else if(E===2)P=["halfarrow-left","halfarrow-right"],M=["xMinYMin","xMaxYMin"];else if(E===3)P=["brace-left","brace-center","brace-right"],M=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+E+" children.");for(var A=0;A<E;A++){var _=new Gc(w[A]),L=new zl([_],{width:"400em",height:je(T),viewBox:"0 0 "+a+" "+C,preserveAspectRatio:M[A]+" slice"}),v=fe.makeSvgSpan([P[A]],[L],n);if(E===1)return{span:v,minWidth:D,height:T};v.style.height=je(T),b.push(v)}return{span:fe.makeSpan(["stretchy"],b,n),minWidth:D,height:T}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=je(o),s>0&&(i.style.minWidth=je(s)),i},yMe=function(e,n,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=fe.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new gx({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new gx({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new zl(u,{width:"100%",height:je(a)});o=fe.makeSvgSpan([],[h],s)}return o.height=a,o.style.height=je(a),o},Wl={encloseSpan:yMe,mathMLnode:fMe,svgSpan:gMe};function Ht(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function e8(t){var e=A4(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function A4(t){return t&&(t.type==="atom"||VAe.hasOwnProperty(t.type))?t:null}var t8=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ht(t.base,"accent"),n=r.base,t.base=n,i=QAe(ln(t,e)),t.base=r):(r=Ht(t,"accent"),n=r.base);var s=ln(n,e.havingCrampedStyle()),o=r.isShifty&&Ct.isCharacterBox(n),a=0;if(o){var l=Ct.getBaseElem(n),u=ln(l,e.havingCrampedStyle());a=NC(u).skew}var h=r.label==="\\c",d=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),f;if(r.isStretchy)f=Wl.svgSpan(r,e),f=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+je(2*a)+")",marginLeft:je(2*a)}:void 0}]},e);else{var p,m;r.label==="\\vec"?(p=fe.staticSvg("vec",e),m=fe.svgData.vec[1]):(p=fe.makeOrd({mode:r.mode,text:r.label},e,"textord"),p=NC(p),p.italic=0,m=p.width,h&&(d+=p.depth)),f=fe.makeSpan(["accent-body"],[p]);var g=r.label==="\\textcircled";g&&(f.classes.push("accent-full"),d=s.height);var y=a;g||(y-=m/2),f.style.left=je(y),r.label==="\\textcircled"&&(f.style.top=".2em"),f=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var b=fe.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},rF=(t,e)=>{var n=t.isStretchy?Wl.mathMLnode(t.label):new We.MathNode("mo",[vo(t.label,t.mode)]),r=new We.MathNode("mover",[Sn(t.base,e),n]);return r.setAttribute("accent","true"),r},bMe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));nt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=by(e[0]),r=!bMe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:t8,mathmlBuilder:rF});nt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:t8,mathmlBuilder:rF});nt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=ln(t.base,e),r=Wl.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return fe.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=Wl.mathMLnode(t.label),r=new We.MathNode("munder",[Sn(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Vm=t=>{var e=new We.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};nt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=fe.wrapFragment(ln(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;t.below&&(r=e.havingStyle(n.sub()),o=fe.wrapFragment(ln(t.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=Wl.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,u=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;h=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:d}]},e)}else h=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),fe.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var n=Wl.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Vm(Sn(t.body,e));if(t.below){var s=Vm(Sn(t.below,e));r=new We.MathNode("munderover",[n,s,i])}else r=new We.MathNode("mover",[n,i])}else if(t.below){var o=Vm(Sn(t.below,e));r=new We.MathNode("munder",[n,o])}else r=Vm(),r=new We.MathNode("mover",[n,r]);return r}});var OMe=fe.makeSpan;function iF(t,e){var n=Rr(t.body,e,!0);return OMe([t.mclass],n,e)}function sF(t,e){var n,r=bs(t.body,e);return t.mclass==="minner"?n=new We.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new We.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new We.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}nt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:cr(i),isCharacterBox:Ct.isCharacterBox(i)}},htmlBuilder:iF,mathmlBuilder:sF});var M4=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};nt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:M4(e[0]),body:cr(e[1]),isCharacterBox:Ct.isCharacterBox(e[1])}}});nt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],o;r!=="\\stackrel"?o=M4(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:cr(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:Ct.isCharacterBox(l)}},htmlBuilder:iF,mathmlBuilder:sF});nt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:M4(e[0]),body:cr(e[0])}},htmlBuilder(t,e){var n=Rr(t.body,e,!0),r=fe.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=bs(t.body,e),r=new We.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var vMe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},XC=()=>({type:"styling",body:[],mode:"math",style:"display"}),YC=t=>t.type==="textord"&&t.text==="@",xMe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function kMe(t,e,n){var r=vMe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[s],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function wMe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Xe("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=XC(),l=0;l<o.length;l++)if(!YC(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var u=e8(o[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var f=!0,p=l+1;p<o.length;p++){if(xMe(o[p],u)){f=!1,l=p;break}if(YC(o[p]))throw new Xe("Missing a "+u+" character to complete a CD arrow.",o[p]);h[d].body.push(o[p])}if(f)throw new Xe("Missing a "+u+" character to complete a CD arrow.",o[l])}else throw new Xe('Expected one of "<>AV=|." after @',o[l]);var m=kMe(u,h,t),g={type:"styling",body:[m],mode:"math",style:"display"};r.push(g),a=XC()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}nt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=fe.wrapFragment(ln(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=je(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new We.MathNode("mrow",[Sn(t.label,e)]);return n=new We.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new We.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});nt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=fe.wrapFragment(ln(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new We.MathNode("mrow",[Sn(t.fragment,e)])}});nt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ht(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=Ht(i[o],"textord");s+=a.text}var l=parseInt(s),u;if(isNaN(l))throw new Xe("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Xe("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var oF=(t,e)=>{var n=Rr(t.body,e.withColor(t.color),!1);return fe.makeFragment(n)},aF=(t,e)=>{var n=bs(t.body,e.withColor(t.color)),r=new We.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};nt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ht(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:cr(i)}},htmlBuilder:oF,mathmlBuilder:aF});nt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ht(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:oF,mathmlBuilder:aF});nt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ht(i,"size").value}},htmlBuilder(t,e){var n=fe.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=je(Zn(t.size,e)))),n},mathmlBuilder(t,e){var n=new We.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",je(Zn(t.size,e)))),n}});var vx={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},lF=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Xe("Expected a control sequence",t);return e},_Me=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},cF=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};nt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(vx[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=vx[r.text]),Ht(e.parseFunction(),"internal");throw new Xe("Invalid token after macro prefix",r)}});nt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Xe("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Xe('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Xe('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new Xe("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},n===vx[n]),{type:"internal",mode:e.mode}}});nt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=lF(e.gullet.popToken());e.gullet.consumeSpaces();var i=_Me(e);return cF(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});nt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=lF(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return cF(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var xf=function(e,n,r){var i=Dn.math[e]&&Dn.math[e].replace,s=Hw(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},n8=function(e,n,r,i){var s=r.havingBaseStyle(n),o=fe.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},uF=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=je(s),e.height-=s,e.depth+=s},SMe=function(e,n,r,i,s,o){var a=fe.makeSymbol(e,"Main-Regular",s,i),l=n8(a,n,i,o);return r&&uF(l,i,n),l},CMe=function(e,n,r,i){return fe.makeSymbol(e,"Size"+n+"-Regular",r,i)},hF=function(e,n,r,i,s,o){var a=CMe(e,n,s,i),l=n8(fe.makeSpan(["delimsizing","size"+n],[a],i),bt.TEXT,i,o);return r&&uF(l,i,bt.TEXT),l},I5=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=fe.makeSpan(["delimsizinginner",i],[fe.makeSpan([],[fe.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},R5=function(e,n,r){var i=Ta["Size4-Regular"][e.charCodeAt(0)]?Ta["Size4-Regular"][e.charCodeAt(0)][4]:Ta["Size1-Regular"][e.charCodeAt(0)][4],s=new Gc("inner",PAe(e,Math.round(1e3*n))),o=new zl([s],{width:je(i),height:je(n),style:"width:"+je(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=fe.makeSvgSpan([],[o],r);return a.height=n,a.style.height=je(n),a.style.width=je(i),{type:"elem",elem:a}},xx=.008,Wm={type:"kern",size:-1*xx},TMe=["|","\\lvert","\\rvert","\\vert"],DMe=["\\|","\\lVert","\\rVert","\\Vert"],dF=function(e,n,r,i,s,o){var a,l,u,h,d="",f=0;a=u=h=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=h="\u23D0":e==="\\Uparrow"?u=h="\u2016":e==="\\downarrow"?a=u="\u23D0":e==="\\Downarrow"?a=u="\u2016":e==="\\updownarrow"?(a="\\uparrow",u="\u23D0",h="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",u="\u2016",h="\\Downarrow"):Ct.contains(TMe,e)?(u="\u2223",d="vert",f=333):Ct.contains(DMe,e)?(u="\u2225",d="doublevert",f=556):e==="["||e==="\\lbrack"?(a="\u23A1",u="\u23A2",h="\u23A3",p="Size4-Regular",d="lbrack",f=667):e==="]"||e==="\\rbrack"?(a="\u23A4",u="\u23A5",h="\u23A6",p="Size4-Regular",d="rbrack",f=667):e==="\\lfloor"||e==="\u230A"?(u=a="\u23A2",h="\u23A3",p="Size4-Regular",d="lfloor",f=667):e==="\\lceil"||e==="\u2308"?(a="\u23A1",u=h="\u23A2",p="Size4-Regular",d="lceil",f=667):e==="\\rfloor"||e==="\u230B"?(u=a="\u23A5",h="\u23A6",p="Size4-Regular",d="rfloor",f=667):e==="\\rceil"||e==="\u2309"?(a="\u23A4",u=h="\u23A5",p="Size4-Regular",d="rceil",f=667):e==="("||e==="\\lparen"?(a="\u239B",u="\u239C",h="\u239D",p="Size4-Regular",d="lparen",f=875):e===")"||e==="\\rparen"?(a="\u239E",u="\u239F",h="\u23A0",p="Size4-Regular",d="rparen",f=875):e==="\\{"||e==="\\lbrace"?(a="\u23A7",l="\u23A8",h="\u23A9",u="\u23AA",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="\u23AB",l="\u23AC",h="\u23AD",u="\u23AA",p="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(a="\u23A7",h="\u23A9",u="\u23AA",p="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(a="\u23AB",h="\u23AD",u="\u23AA",p="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(a="\u23A7",h="\u23AD",u="\u23AA",p="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(a="\u23AB",h="\u23A9",u="\u23AA",p="Size4-Regular");var m=xf(a,p,s),g=m.height+m.depth,y=xf(u,p,s),b=y.height+y.depth,O=xf(h,p,s),w=O.height+O.depth,D=0,C=1;if(l!==null){var T=xf(l,p,s);D=T.height+T.depth,C=2}var E=g+w+D,P=Math.max(0,Math.ceil((n-E)/(C*b))),M=E+P*C*b,$=i.fontMetrics().axisHeight;r&&($*=i.sizeMultiplier);var A=M/2-$,_=[];if(d.length>0){var L=M-g-w,v=Math.round(M*1e3),q=BAe(d,Math.round(L*1e3)),x=new Gc(d,q),X=(f/1e3).toFixed(3)+"em",de=(v/1e3).toFixed(3)+"em",H=new zl([x],{width:X,height:de,viewBox:"0 0 "+f+" "+v}),G=fe.makeSvgSpan([],[H],i);G.height=v/1e3,G.style.width=X,G.style.height=de,_.push({type:"elem",elem:G})}else{if(_.push(I5(h,p,s)),_.push(Wm),l===null){var F=M-g-w+2*xx;_.push(R5(u,F,i))}else{var B=(M-g-w-D)/2+2*xx;_.push(R5(u,B,i)),_.push(Wm),_.push(I5(l,p,s)),_.push(Wm),_.push(R5(u,B,i))}_.push(Wm),_.push(I5(a,p,s))}var ae=i.havingBaseStyle(bt.TEXT),be=fe.makeVList({positionType:"bottom",positionData:A,children:_},ae);return n8(fe.makeSpan(["delimsizing","mult"],[be],ae),bt.TEXT,i,o)},Q5=80,z5=.08,V5=function(e,n,r,i,s){var o=MAe(e,i,r),a=new Gc(e,o),l=new zl([a],{width:"400em",height:je(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return fe.makeSvgSpan(["hide-tail"],[l],s)},EMe=function(e,n){var r=n.havingBaseSizing(),i=gF("\\surd",e*r.sizeMultiplier,mF,r),s=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,u=0,h=0,d;return i.type==="small"?(h=1e3+1e3*o+Q5,e<1?s=1:e<1.4&&(s=.7),l=(1+o+z5)/s,u=(1+o)/s,a=V5("sqrtMain",l,h,o,n),a.style.minWidth="0.853em",d=.833/s):i.type==="large"?(h=(1e3+Q5)*Kf[i.size],u=(Kf[i.size]+o)/s,l=(Kf[i.size]+o+z5)/s,a=V5("sqrtSize"+i.size,l,h,o,n),a.style.minWidth="1.02em",d=1/s):(l=e+o+z5,u=e+o,h=Math.floor(1e3*e+o)+Q5,a=V5("sqrtTall",l,h,o,n),a.style.minWidth="0.742em",d=1.056),a.height=u,a.style.height=je(l),{span:a,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*s}},fF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],AMe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],pF=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Kf=[0,1.2,1.8,2.4,3],MMe=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),Ct.contains(fF,e)||Ct.contains(pF,e))return hF(e,n,!1,r,i,s);if(Ct.contains(AMe,e))return dF(e,Kf[n],!1,r,i,s);throw new Xe("Illegal delimiter: '"+e+"'")},PMe=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],BMe=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"stack"}],mF=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],$Me=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},gF=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=xf(e,$Me(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var u=i.havingBaseStyle(r[o].style);l*=u.sizeMultiplier}if(l>n)return r[o]}return r[r.length-1]},yF=function(e,n,r,i,s,o){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var a;Ct.contains(pF,e)?a=PMe:Ct.contains(fF,e)?a=mF:a=BMe;var l=gF(e,n,a,i);return l.type==="small"?SMe(e,l.style,r,i,s,o):l.type==="large"?hF(e,l.size,r,i,s,o):dF(e,n,r,i,s,o)},LMe=function(e,n,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(n-a,r+a),d=Math.max(h/500*l,2*h-u);return yF(e,d,!0,i,s,o)},Ll={sqrtImage:EMe,sizedDelim:MMe,sizeToMaxHeight:Kf,customSizedDelim:yF,leftRightDelim:LMe},UC={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},FMe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function P4(t,e){var n=A4(t);if(n&&Ct.contains(FMe,n.text))return n;throw n?new Xe("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Xe("Invalid delimiter type '"+t.type+"'",t)}nt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=P4(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:UC[t.funcName].size,mclass:UC[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?fe.makeSpan([t.mclass]):Ll.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(vo(t.delim,t.mode));var n=new We.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=je(Ll.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function jC(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Xe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:P4(e[0],t).text,color:n}}});nt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=P4(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ht(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{jC(t);for(var n=Rr(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<n.length;o++)n[o].isMiddle?s=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=$p(e,["mopen"]):a=Ll.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),s)for(var l=1;l<n.length;l++){var u=n[l],h=u.isMiddle;h&&(n[l]=Ll.leftRightDelim(h.delim,r,i,h.options,t.mode,[]))}var d;if(t.right===".")d=$p(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;d=Ll.leftRightDelim(t.right,r,i,f,t.mode,["mclose"])}return n.push(d),fe.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{jC(t);var n=bs(t.body,e);if(t.left!=="."){var r=new We.MathNode("mo",[vo(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new We.MathNode("mo",[vo(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Kw(n)}});nt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=P4(e[0],t);if(!t.parser.leftrightDepth)throw new Xe("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=$p(e,[]);else{n=Ll.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?vo("|","text"):vo(t.delim,t.mode),r=new We.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var r8=(t,e)=>{var n=fe.wrapFragment(ln(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,o=0,a=Ct.isCharacterBox(t.body);if(r==="sout")s=fe.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Zn({number:.6,unit:"pt"},e),u=Zn({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var d=n.height+n.depth+l+u;n.style.paddingLeft=je(d/2+l);var f=Math.floor(1e3*d*i),p=EAe(f),m=new zl([new Gc("phase",p)],{width:"400em",height:je(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});s=fe.makeSvgSpan(["hide-tail"],[m],e),s.style.height=je(d),o=n.depth+l+u}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,y=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),y=g):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*b,y=Math.max(0,.25-n.depth)):(g=a?.2:0,y=g),s=Wl.encloseSpan(n,r,g,y,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=je(b)):r==="angl"&&b!==.049&&(s.style.borderTopWidth=je(b),s.style.borderRightWidth=je(b)),o=n.depth+y,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var O;if(t.backgroundColor)O=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:n,shift:0}]},e);else{var w=/cancel|phase/.test(r)?["svg-align"]:[];O=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:w}]},e)}return/cancel/.test(r)&&(O.height=n.height,O.depth=n.depth),/cancel/.test(r)&&!a?fe.makeSpan(["mord","cancel-lap"],[O],e):fe.makeSpan(["mord"],[O],e)},i8=(t,e)=>{var n=0,r=new We.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Sn(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};nt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ht(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:r8,mathmlBuilder:i8});nt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ht(e[0],"color-token").color,o=Ht(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:r8,mathmlBuilder:i8});nt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});nt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:r8,mathmlBuilder:i8});nt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var bF={};function Xa(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)bF[n[l]]=a;s&&(gy[e]=s),o&&(yy[e]=o)}var OF={};function R(t,e){OF[t]=e}function HC(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var B4=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Xe("{"+t.envName+"} can be used only in display mode.")};function s8(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function hu(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!o){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)o=1;else if(o=parseFloat(p),!o||o<0)throw new Xe("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var m=[],g=[m],y=[],b=[],O=l!=null?[]:void 0;function w(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function D(){O&&(t.gullet.macros.get("\\df@tag")?(O.push(t.subparse([new ao("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):O.push(Boolean(l)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),b.push(HC(t));;){var C=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),C={type:"ordgroup",mode:t.mode,body:C},n&&(C={type:"styling",mode:t.mode,style:n,body:[C]}),m.push(C);var T=t.fetch().text;if(T==="&"){if(d&&m.length===d){if(u||a)throw new Xe("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(T==="\\end"){D(),m.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!h)&&g.pop(),b.length<g.length+1&&b.push([]);break}else if(T==="\\\\"){t.consume();var E=void 0;t.gullet.future().text!==" "&&(E=t.parseSizeGroup(!0)),y.push(E?E.value:null),D(),b.push(HC(t)),m=[],g.push(m),w()}else throw new Xe("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:o,body:g,cols:s,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:a,tags:O,leqno:f}}function o8(t){return t.slice(0,1)==="d"?"display":"text"}var Ya=function(e,n){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),u=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,f=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var p=n.havingStyle(bt.SCRIPT).sizeMultiplier;f=.2778*(p/n.sizeMultiplier)}var m=e.colSeparationType==="CD"?Zn({number:3,unit:"ex"},n):12*d,g=3*d,y=e.arraystretch*m,b=.7*y,O=.3*y,w=0;function D(ge){for(var Y=0;Y<ge.length;++Y)Y>0&&(w+=.25),u.push({pos:w,isDashed:ge[Y]})}for(D(o[0]),r=0;r<e.body.length;++r){var C=e.body[r],T=b,E=O;a<C.length&&(a=C.length);var P=new Array(C.length);for(i=0;i<C.length;++i){var M=ln(C[i],n);E<M.depth&&(E=M.depth),T<M.height&&(T=M.height),P[i]=M}var $=e.rowGaps[r],A=0;$&&(A=Zn($,n),A>0&&(A+=O,E<A&&(E=A),A=0)),e.addJot&&(E+=g),P.height=T,P.depth=E,w+=T,P.pos=w,w+=E+A,l[r]=P,D(o[r+1])}var _=w/2+n.fontMetrics().axisHeight,L=e.cols||[],v=[],q,x,X=[];if(e.tags&&e.tags.some(ge=>ge))for(r=0;r<s;++r){var de=l[r],H=de.pos-_,G=e.tags[r],F=void 0;G===!0?F=fe.makeSpan(["eqn-num"],[],n):G===!1?F=fe.makeSpan([],[],n):F=fe.makeSpan([],Rr(G,n,!0),n),F.depth=de.depth,F.height=de.height,X.push({type:"elem",elem:F,shift:H})}for(i=0,x=0;i<a||x<L.length;++i,++x){for(var B=L[x]||{},ae=!0;B.type==="separator";){if(ae||(q=fe.makeSpan(["arraycolsep"],[]),q.style.width=je(n.fontMetrics().doubleRuleSep),v.push(q)),B.separator==="|"||B.separator===":"){var be=B.separator==="|"?"solid":"dashed",ye=fe.makeSpan(["vertical-separator"],[],n);ye.style.height=je(w),ye.style.borderRightWidth=je(h),ye.style.borderRightStyle=be,ye.style.margin="0 "+je(-h/2);var Z=w-_;Z&&(ye.style.verticalAlign=je(-Z)),v.push(ye)}else throw new Xe("Invalid separator type: "+B.separator);x++,B=L[x]||{},ae=!1}if(!(i>=a)){var Qe=void 0;(i>0||e.hskipBeforeAndAfter)&&(Qe=Ct.deflt(B.pregap,f),Qe!==0&&(q=fe.makeSpan(["arraycolsep"],[]),q.style.width=je(Qe),v.push(q)));var ne=[];for(r=0;r<s;++r){var se=l[r],ee=se[i];if(!!ee){var J=se.pos-_;ee.depth=se.depth,ee.height=se.height,ne.push({type:"elem",elem:ee,shift:J})}}ne=fe.makeVList({positionType:"individualShift",children:ne},n),ne=fe.makeSpan(["col-align-"+(B.align||"c")],[ne]),v.push(ne),(i<a-1||e.hskipBeforeAndAfter)&&(Qe=Ct.deflt(B.postgap,f),Qe!==0&&(q=fe.makeSpan(["arraycolsep"],[]),q.style.width=je(Qe),v.push(q)))}}if(l=fe.makeSpan(["mtable"],v),u.length>0){for(var z=fe.makeLineSpan("hline",n,h),W=fe.makeLineSpan("hdashline",n,h),te=[{type:"elem",elem:l,shift:0}];u.length>0;){var Q=u.pop(),me=Q.pos-_;Q.isDashed?te.push({type:"elem",elem:W,shift:me}):te.push({type:"elem",elem:z,shift:me})}l=fe.makeVList({positionType:"individualShift",children:te},n)}if(X.length===0)return fe.makeSpan(["mord"],[l],n);var I=fe.makeVList({positionType:"individualShift",children:X},n);return I=fe.makeSpan(["tag"],[I],n),fe.makeFragment([l,I])},NMe={c:"center ",l:"left ",r:"right "},Ua=function(e,n){for(var r=[],i=new We.MathNode("mtd",[],["mtr-glue"]),s=new We.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],u=0;u<a.length;u++)l.push(new We.MathNode("mtd",[Sn(a[u],n)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new We.MathNode("mtr",l))}var h=new We.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",je(d));var f="",p="";if(e.cols&&e.cols.length>0){var m=e.cols,g="",y=!1,b=0,O=m.length;m[0].type==="separator"&&(f+="top ",b=1),m[m.length-1].type==="separator"&&(f+="bottom ",O-=1);for(var w=b;w<O;w++)m[w].type==="align"?(p+=NMe[m[w].align],y&&(g+="none "),y=!0):m[w].type==="separator"&&y&&(g+=m[w].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&h.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],C="",T=1;T<D.length;T++)C+=T%2?"0em ":"1em ";h.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var E="",P=e.hLinesBeforeRow;f+=P[0].length>0?"left ":"",f+=P[P.length-1].length>0?"right ":"";for(var M=1;M<P.length-1;M++)E+=P[M].length===0?"none ":P[M][0]?"dashed ":"solid ";return/[sd]/.test(E)&&h.setAttribute("rowlines",E.trim()),f!==""&&(h=new We.MathNode("menclose",[h]),h.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(h=new We.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},vF=function(e,n){e.envName.indexOf("ed")===-1&&B4(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=hu(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:s8(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",d=0;d<n[0].body.length;d++){var f=Ht(n[0].body[d],"textord");h+=f.text}a=Number(h),l=a*2}var p=!l;o.body.forEach(function(b){for(var O=1;O<b.length;O+=2){var w=Ht(b[O],"styling"),D=Ht(w.body[0],"ordgroup");D.body.unshift(u)}if(p)l<b.length&&(l=b.length);else{var C=b.length/2;if(a<C)throw new Xe("Too many math in a row: "+("expected "+a+", but got "+C),b[0])}});for(var m=0;m<l;++m){var g="r",y=0;m%2===1?g="l":m>0&&p&&(y=1),r[m]={type:"align",align:g,pregap:y,postgap:0}}return o.colSeparationType=p?"align":"alignat",o};Xa({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=A4(e[0]),r=n?[e[0]]:Ht(e[0],"ordgroup").body,i=r.map(function(o){var a=e8(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Xe("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return hu(t.parser,s,o8(t.envName))},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Xe("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=hu(t.parser,r,o8(t.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=hu(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=A4(e[0]),r=n?[e[0]]:Ht(e[0],"ordgroup").body,i=r.map(function(o){var a=e8(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Xe("Unknown column alignment: "+l,o)});if(i.length>1)throw new Xe("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=hu(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Xe("{subarray} can contain only one column");return s},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=hu(t.parser,e,o8(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:vF,htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ct.contains(["gather","gather*"],t.envName)&&B4(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:s8(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return hu(t.parser,e,"display")},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:vF,htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){B4(t);var e={autoTag:s8(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return hu(t.parser,e,"display")},htmlBuilder:Ya,mathmlBuilder:Ua});Xa({type:"array",names:["CD"],props:{numArgs:0},handler(t){return B4(t),wMe(t.parser)},htmlBuilder:Ya,mathmlBuilder:Ua});R("\\nonumber","\\gdef\\@eqnsw{0}");R("\\notag","\\nonumber");nt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Xe(t.funcName+" valid only within array environment")}});var ZC=bF;nt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Xe("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=Ht(i.body[o],"textord").text;if(r==="\\begin"){if(!ZC.hasOwnProperty(s))throw new Xe("No such environment: "+s,i);var a=ZC[s],{args:l,optArgs:u}=n.parseArguments("\\begin{"+s+"}",a),h={mode:n.mode,envName:s,parser:n},d=a.handler(h,l,u);n.expect("\\end",!1);var f=n.nextToken,p=Ht(n.parseFunction(),"environment");if(p.name!==s)throw new Xe("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",f);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var xF=(t,e)=>{var n=t.font,r=e.withFont(n);return ln(t.body,r)},kF=(t,e)=>{var n=t.font,r=e.withFont(n);return Sn(t.body,r)},GC={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=by(e[0]),s=r;return s in GC&&(s=GC[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:xF,mathmlBuilder:kF});nt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ct.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:M4(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});nt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,o=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:xF,mathmlBuilder:kF});var wF=(t,e)=>{var n=e;return t==="display"?n=n.id>=bt.SCRIPT.id?n.text():bt.DISPLAY:t==="text"&&n.size===bt.DISPLAY.size?n=bt.TEXT:t==="script"?n=bt.SCRIPT:t==="scriptscript"&&(n=bt.SCRIPTSCRIPT),n},a8=(t,e)=>{var n=wF(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var o=ln(t.numer,s,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var u=ln(t.denom,s,e),h,d,f;t.hasBarLine?(t.barSize?(d=Zn(t.barSize,e),h=fe.makeLineSpan("frac-line",e,d)):h=fe.makeLineSpan("frac-line",e),d=h.height,f=h.height):(h=null,d=0,f=e.fontMetrics().defaultRuleThickness);var p,m,g;n.size===bt.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,d>0?m=3*f:m=7*f,g=e.fontMetrics().denom1):(d>0?(p=e.fontMetrics().num2,m=f):(p=e.fontMetrics().num3,m=3*f),g=e.fontMetrics().denom2);var y;if(h){var O=e.fontMetrics().axisHeight;p-o.depth-(O+.5*d)<m&&(p+=m-(p-o.depth-(O+.5*d))),O-.5*d-(u.height-g)<m&&(g+=m-(O-.5*d-(u.height-g)));var w=-(O-.5*d);y=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:h,shift:w},{type:"elem",elem:o,shift:-p}]},e)}else{var b=p-o.depth-(u.height-g);b<m&&(p+=.5*(m-b),g+=.5*(m-b)),y=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:o,shift:-p}]},e)}s=e.havingStyle(n),y.height*=s.sizeMultiplier/e.sizeMultiplier,y.depth*=s.sizeMultiplier/e.sizeMultiplier;var D;n.size===bt.DISPLAY.size?D=e.fontMetrics().delim1:n.size===bt.SCRIPTSCRIPT.size?D=e.havingStyle(bt.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var C,T;return t.leftDelim==null?C=$p(e,["mopen"]):C=Ll.customSizedDelim(t.leftDelim,D,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?T=fe.makeSpan([]):t.rightDelim==null?T=$p(e,["mclose"]):T=Ll.customSizedDelim(t.rightDelim,D,!0,e.havingStyle(n),t.mode,["mclose"]),fe.makeSpan(["mord"].concat(s.sizingClasses(e)),[C,fe.makeSpan(["mfrac"],[y]),T],e)},l8=(t,e)=>{var n=new We.MathNode("mfrac",[Sn(t.numer,e),Sn(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Zn(t.barSize,e);n.setAttribute("linethickness",je(r))}var i=wF(t.size,e.style);if(i.size!==e.style.size){n=new We.MathNode("mstyle",[n]);var s=i.size===bt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var o=[];if(t.leftDelim!=null){var a=new We.MathNode("mo",[new We.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),t.rightDelim!=null){var l=new We.MathNode("mo",[new We.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Kw(o)}return n};nt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],o,a=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:a8,mathmlBuilder:l8});nt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});nt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var KC=["display","text","script","scriptscript"],JC=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};nt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=by(e[0]),o=s.type==="atom"&&s.family==="open"?JC(s.text):null,a=by(e[1]),l=a.type==="atom"&&a.family==="close"?JC(a.text):null,u=Ht(e[2],"size"),h,d=null;u.isBlank?h=!0:(d=u.value,h=d.number>0);var f="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var m=Ht(p.body[0],"textord");f=KC[Number(m.text)]}}else p=Ht(p,"textord"),f=KC[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:o,rightDelim:l,size:f}},htmlBuilder:a8,mathmlBuilder:l8});nt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ht(e[0],"size").value,token:i}}});nt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=pAe(Ht(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:a8,mathmlBuilder:l8});var _F=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?ln(t.sup,e.havingStyle(n.sup()),e):ln(t.sub,e.havingStyle(n.sub()),e),i=Ht(t.base,"horizBrace")):i=Ht(t,"horizBrace");var s=ln(i.base,e.havingBaseStyle(bt.DISPLAY)),o=Wl.svgSpan(i,e),a;if(i.isOver?(a=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=fe.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=fe.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=fe.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return fe.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},IMe=(t,e)=>{var n=Wl.mathMLnode(t.label);return new We.MathNode(t.isOver?"mover":"munder",[Sn(t.base,e),n])};nt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:_F,mathmlBuilder:IMe});nt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ht(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:cr(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Rr(t.body,e,!1);return fe.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Kc(t.body,e);return n instanceof so||(n=new so("mrow",[n])),n.setAttribute("href",t.href),n}});nt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ht(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:cr(a)}}});nt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:cr(e[0])}},htmlBuilder(t,e){var n=Rr(t.body,e,!1);return fe.makeFragment(n)},mathmlBuilder(t,e){return new We.MathNode("mrow",bs(t.body,e))}});nt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ht(e[0],"raw").string,o=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length!==2)throw new Xe("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:cr(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Rr(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=fe.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Kc(t.body,e)});nt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:cr(e[0]),mathml:cr(e[1])}},htmlBuilder:(t,e)=>{var n=Rr(t.html,e,!1);return fe.makeFragment(n)},mathmlBuilder:(t,e)=>Kc(t.mathml,e)});var W5=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Xe("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!WL(r))throw new Xe("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};nt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(n[0])for(var l=Ht(n[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":a=f;break;case"width":i=W5(f);break;case"height":s=W5(f);break;case"totalheight":o=W5(f);break;default:throw new Xe("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var p=Ht(e[0],"url").url;return a===""&&(a=p,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Zn(t.height,e),r=0;t.totalheight.number>0&&(r=Zn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Zn(t.width,e));var s={height:je(n+r)};i>0&&(s.width=je(i)),r>0&&(s.verticalAlign=je(-r));var o=new IAe(t.src,t.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Zn(t.height,e),i=0;if(t.totalheight.number>0&&(i=Zn(t.totalheight,e)-r,n.setAttribute("valign",je(-i))),n.setAttribute("height",je(r+i)),t.width.number>0){var s=Zn(t.width,e);n.setAttribute("width",je(s))}return n.setAttribute("src",t.src),n}});nt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ht(e[0],"size");if(n.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return fe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Zn(t.dimension,e);return new We.SpaceNode(n)}});nt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=fe.makeSpan([],[ln(t.body,e)]),n=fe.makeSpan(["inner"],[n],e)):n=fe.makeSpan(["inner"],[ln(t.body,e)]);var r=fe.makeSpan(["fix"],[]),i=fe.makeSpan([t.alignment],[n,r],e),s=fe.makeSpan(["strut"]);return s.style.height=je(i.height+i.depth),i.depth&&(s.style.verticalAlign=je(-i.depth)),i.children.unshift(s),i=fe.makeSpan(["thinbox"],[i],e),fe.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mpadded",[Sn(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});nt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});nt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Xe("Mismatched "+t.funcName)}});var eT=(t,e)=>{switch(e.style.size){case bt.DISPLAY.size:return t.display;case bt.TEXT.size:return t.text;case bt.SCRIPT.size:return t.script;case bt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};nt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:cr(e[0]),text:cr(e[1]),script:cr(e[2]),scriptscript:cr(e[3])}},htmlBuilder:(t,e)=>{var n=eT(t,e),r=Rr(n,e,!1);return fe.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=eT(t,e);return Kc(n,e)}});var SF=(t,e,n,r,i,s,o)=>{t=fe.makeSpan([],[t]);var a=n&&Ct.isCharacterBox(n),l,u;if(e){var h=ln(e,r.havingStyle(i.sup()),r);u={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=ln(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var f;if(u&&l){var p=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+o;f=fe.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:je(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:je(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var m=t.height-o;f=fe.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:je(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var g=t.depth+o;f=fe.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:je(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var y=[f];if(l&&s!==0&&!a){var b=fe.makeSpan(["mspace"],[],r);b.style.marginRight=je(s),y.unshift(b)}return fe.makeSpan(["mop","op-limits"],y,r)},CF=["\\smallint"],C0=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ht(t.base,"op"),i=!0):s=Ht(t,"op");var o=e.style,a=!1;o.size===bt.DISPLAY.size&&s.symbol&&!Ct.contains(CF,s.name)&&(a=!0);var l;if(s.symbol){var u=a?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),l=fe.makeSymbol(s.name,u,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),h.length>0){var d=l.italic,f=fe.staticSvg(h+"Size"+(a?"2":"1"),e);l=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:a?.08:0}]},e),s.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var p=Rr(s.body,e,!0);p.length===1&&p[0]instanceof Oo?(l=p[0],l.classes[0]="mop"):l=fe.makeSpan(["mop"],p,e)}else{for(var m=[],g=1;g<s.name.length;g++)m.push(fe.mathsym(s.name[g],s.mode,e));l=fe.makeSpan(["mop"],m,e)}var y=0,b=0;return(l instanceof Oo||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(y=(l.height-l.depth)/2-e.fontMetrics().axisHeight,b=l.italic),i?SF(l,n,r,e,o,b,y):(y&&(l.style.position="relative",l.style.top=je(y)),l)},U1=(t,e)=>{var n;if(t.symbol)n=new so("mo",[vo(t.name,t.mode)]),Ct.contains(CF,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new so("mo",bs(t.body,e));else{n=new so("mi",[new Gf(t.name.slice(1))]);var r=new so("mo",[vo("\u2061","text")]);t.parentIsSupSub?n=new so("mrow",[n,r]):n=eF([n,r])}return n},RMe={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};nt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=RMe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:C0,mathmlBuilder:U1});nt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:cr(r)}},htmlBuilder:C0,mathmlBuilder:U1});var QMe={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};nt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:C0,mathmlBuilder:U1});nt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:C0,mathmlBuilder:U1});nt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=QMe[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:C0,mathmlBuilder:U1});var TF=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ht(t.base,"operatorname"),i=!0):s=Ht(t,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=Rr(a,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof Oo&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=fe.makeSpan(["mop"],l,e)}else o=fe.makeSpan(["mop"],[],e);return i?SF(o,n,r,e,e.style,0,0):o},zMe=(t,e)=>{for(var n=bs(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof We.SpaceNode))if(s instanceof We.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof We.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(h=>h.toText()).join("");n=[new We.TextNode(a)]}var l=new We.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new We.MathNode("mo",[vo("\u2061","text")]);return t.parentIsSupSub?new We.MathNode("mrow",[l,u]):We.newDocumentFragment([l,u])};nt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:cr(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:TF,mathmlBuilder:zMe});R("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Th({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?fe.makeFragment(Rr(t.body,e,!1)):fe.makeSpan(["mord"],Rr(t.body,e,!0),e)},mathmlBuilder(t,e){return Kc(t.body,e,!0)}});nt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=ln(t.body,e.havingCrampedStyle()),r=fe.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return fe.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new We.MathNode("mo",[new We.TextNode("\u203E")]);n.setAttribute("stretchy","true");var r=new We.MathNode("mover",[Sn(t.body,e),n]);return r.setAttribute("accent","true"),r}});nt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:cr(r)}},htmlBuilder:(t,e)=>{var n=Rr(t.body,e.withPhantom(),!1);return fe.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=bs(t.body,e);return new We.MathNode("mphantom",n)}});nt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=fe.makeSpan([],[ln(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),fe.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=bs(cr(t.body),e),r=new We.MathNode("mphantom",n),i=new We.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});nt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=fe.makeSpan(["inner"],[ln(t.body,e.withPhantom())]),r=fe.makeSpan(["fix"],[]);return fe.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=bs(cr(t.body),e),r=new We.MathNode("mphantom",n),i=new We.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});nt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ht(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=ln(t.body,e),r=Zn(t.dy,e);return fe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new We.MathNode("mpadded",[Sn(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});nt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});nt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ht(e[0],"size"),o=Ht(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ht(i,"size").value,width:s.value,height:o.value}},htmlBuilder(t,e){var n=fe.makeSpan(["mord","rule"],[],e),r=Zn(t.width,e),i=Zn(t.height,e),s=t.shift?Zn(t.shift,e):0;return n.style.borderRightWidth=je(r),n.style.borderTopWidth=je(i),n.style.bottom=je(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Zn(t.width,e),r=Zn(t.height,e),i=t.shift?Zn(t.shift,e):0,s=e.color&&e.getColor()||"black",o=new We.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",je(n)),o.setAttribute("height",je(r));var a=new We.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",je(i)):(a.setAttribute("height",je(i)),a.setAttribute("depth",je(-i))),a.setAttribute("voffset",je(i)),a}});function DF(t,e,n){for(var r=Rr(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return fe.makeFragment(r)}var tT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],VMe=(t,e)=>{var n=e.havingSize(t.size);return DF(t.body,n,e)};nt({type:"sizing",names:tT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:tT.indexOf(r)+1,body:s}},htmlBuilder:VMe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=bs(t.body,n),i=new We.MathNode("mstyle",r);return i.setAttribute("mathsize",je(n.sizeMultiplier)),i}});nt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,o=n[0]&&Ht(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var u=o.body[l];if(a=u.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=fe.makeSpan([],[ln(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return fe.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mpadded",[Sn(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});nt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=ln(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=fe.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<bt.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=n.height+n.depth+o+i,{span:l,ruleWidth:u,advanceWidth:h}=Ll.sqrtImage(a,e),d=l.height-u;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var f=l.height-n.height-o-u;n.style.paddingLeft=je(h);var p=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var m=e.havingStyle(bt.SCRIPTSCRIPT),g=ln(t.index,m,e),y=.6*(p.height-p.depth),b=fe.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:g}]},e),O=fe.makeSpan(["root"],[b]);return fe.makeSpan(["mord","sqrt"],[O,p],e)}else return fe.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new We.MathNode("mroot",[Sn(n,e),Sn(r,e)]):new We.MathNode("msqrt",[Sn(n,e)])}});var nT={display:bt.DISPLAY,text:bt.TEXT,script:bt.SCRIPT,scriptscript:bt.SCRIPTSCRIPT};nt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(t,e){var n=nT[t.style],r=e.havingStyle(n).withFont("");return DF(t.body,r,e)},mathmlBuilder(t,e){var n=nT[t.style],r=e.havingStyle(n),i=bs(t.body,r),s=new We.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[t.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var WMe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===bt.DISPLAY.size||r.alwaysHandleSupSub);return i?C0:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===bt.DISPLAY.size||r.limits);return s?TF:null}else{if(r.type==="accent")return Ct.isCharacterBox(r.base)?t8:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?_F:null}else return null}else return null};Th({type:"supsub",htmlBuilder(t,e){var n=WMe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,o=ln(r,e),a,l,u=e.fontMetrics(),h=0,d=0,f=r&&Ct.isCharacterBox(r);if(i){var p=e.havingStyle(e.style.sup());a=ln(i,p,e),f||(h=o.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(s){var m=e.havingStyle(e.style.sub());l=ln(s,m,e),f||(d=o.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}var g;e.style===bt.DISPLAY?g=u.sup1:e.style.cramped?g=u.sup3:g=u.sup2;var y=e.sizeMultiplier,b=je(.5/u.ptPerEm/y),O=null;if(l){var w=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(o instanceof Oo||w)&&(O=je(-o.italic))}var D;if(a&&l){h=Math.max(h,g,a.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var C=u.defaultRuleThickness,T=4*C;if(h-a.depth-(l.height-d)<T){d=T-(h-a.depth)+l.height;var E=.8*u.xHeight-(h-a.depth);E>0&&(h+=E,d-=E)}var P=[{type:"elem",elem:l,shift:d,marginRight:b,marginLeft:O},{type:"elem",elem:a,shift:-h,marginRight:b}];D=fe.makeVList({positionType:"individualShift",children:P},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var M=[{type:"elem",elem:l,marginLeft:O,marginRight:b}];D=fe.makeVList({positionType:"shift",positionData:d,children:M},e)}else if(a)h=Math.max(h,g,a.depth+.25*u.xHeight),D=fe.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:a,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var $=bx(o,"right")||"mord";return fe.makeSpan([$],[o,fe.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Sn(t.base,e)];t.sub&&s.push(Sn(t.sub,e)),t.sup&&s.push(Sn(t.sup,e));var o;if(n)o=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===bt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===bt.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===bt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===bt.DISPLAY)?o="munder":o="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===bt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===bt.DISPLAY)?o="mover":o="msup"}return new We.MathNode(o,s)}});Th({type:"atom",htmlBuilder(t,e){return fe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new We.MathNode("mo",[vo(t.text,t.mode)]);if(t.family==="bin"){var r=Jw(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var EF={mi:"italic",mn:"normal",mtext:"normal"};Th({type:"mathord",htmlBuilder(t,e){return fe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new We.MathNode("mi",[vo(t.text,t.mode,e)]),r=Jw(t,e)||"italic";return r!==EF[n.type]&&n.setAttribute("mathvariant",r),n}});Th({type:"textord",htmlBuilder(t,e){return fe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=vo(t.text,t.mode,e),r=Jw(t,e)||"normal",i;return t.mode==="text"?i=new We.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new We.MathNode("mn",[n]):t.text==="\\prime"?i=new We.MathNode("mo",[n]):i=new We.MathNode("mi",[n]),r!==EF[i.type]&&i.setAttribute("mathvariant",r),i}});var q5={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},X5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Th({type:"spacing",htmlBuilder(t,e){if(X5.hasOwnProperty(t.text)){var n=X5[t.text].className||"";if(t.mode==="text"){var r=fe.makeOrd(t,e,"textord");return r.classes.push(n),r}else return fe.makeSpan(["mspace",n],[fe.mathsym(t.text,t.mode,e)],e)}else{if(q5.hasOwnProperty(t.text))return fe.makeSpan(["mspace",q5[t.text]],[],e);throw new Xe('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(X5.hasOwnProperty(t.text))n=new We.MathNode("mtext",[new We.TextNode("\xA0")]);else{if(q5.hasOwnProperty(t.text))return new We.MathNode("mspace");throw new Xe('Unknown type of space "'+t.text+'"')}return n}});var rT=()=>{var t=new We.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Th({type:"tag",mathmlBuilder(t,e){var n=new We.MathNode("mtable",[new We.MathNode("mtr",[rT(),new We.MathNode("mtd",[Kc(t.body,e)]),rT(),new We.MathNode("mtd",[Kc(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var iT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},sT={"\\textbf":"textbf","\\textmd":"textmd"},qMe={"\\textit":"textit","\\textup":"textup"},oT=(t,e)=>{var n=t.font;return n?iT[n]?e.withTextFontFamily(iT[n]):sT[n]?e.withTextFontWeight(sT[n]):e.withTextFontShape(qMe[n]):e};nt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:cr(i),font:r}},htmlBuilder(t,e){var n=oT(t,e),r=Rr(t.body,n,!0);return fe.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=oT(t,e);return Kc(t.body,n)}});nt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ln(t.body,e),r=fe.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return fe.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new We.MathNode("mo",[new We.TextNode("\u203E")]);n.setAttribute("stretchy","true");var r=new We.MathNode("munder",[Sn(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});nt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ln(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return fe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new We.MathNode("mpadded",[Sn(t.body,e)],["vcenter"])}});nt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Xe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=aT(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),r.push(fe.makeSymbol(o,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return fe.makeSpan(["mord","text"].concat(i.sizingClasses(e)),fe.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new We.TextNode(aT(t)),r=new We.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var aT=t=>t.body.replace(/ /g,t.star?"\u2423":"\xA0"),Tc=KL,AF=`[ \r
	]`,XMe="\\\\[a-zA-Z@]+",YMe="\\\\[^\uD800-\uDFFF]",UMe="("+XMe+")"+AF+"*",jMe=`\\\\(
|[ \r	]+
?)[ \r	]*`,kx="[\u0300-\u036F]",HMe=new RegExp(kx+"+$"),ZMe="("+AF+"+)|"+(jMe+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(kx+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(kx+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+UMe)+("|"+YMe+")");class lT{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(ZMe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new ao("EOF",new _s(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Xe("Unexpected character: '"+e[n]+"'",new ao(e[n],new _s(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new ao(i,new _s(this,n,this.tokenRegex.lastIndex))}}class GMe{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Xe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var KMe=OF;R("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});R("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});R("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});R("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});R("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});R("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");R("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var cT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};R("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Xe("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=cT[e.text],r==null||r>=n)throw new Xe("Invalid base-"+n+" digit "+e.text);for(var i;(i=cT[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var c8=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new Xe("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new Xe("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new Xe("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var a="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new Xe("Invalid number of arguments: "+a);o=parseInt(a),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:o}),""};R("\\newcommand",t=>c8(t,!1,!0));R("\\renewcommand",t=>c8(t,!0,!1));R("\\providecommand",t=>c8(t,!0,!0));R("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});R("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});R("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Tc[n],Dn.math[n],Dn.text[n]),""});R("\\bgroup","{");R("\\egroup","}");R("~","\\nobreakspace");R("\\lq","`");R("\\rq","'");R("\\aa","\\r a");R("\\AA","\\r A");R("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");R("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");R("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");R("\u212C","\\mathscr{B}");R("\u2130","\\mathscr{E}");R("\u2131","\\mathscr{F}");R("\u210B","\\mathscr{H}");R("\u2110","\\mathscr{I}");R("\u2112","\\mathscr{L}");R("\u2133","\\mathscr{M}");R("\u211B","\\mathscr{R}");R("\u212D","\\mathfrak{C}");R("\u210C","\\mathfrak{H}");R("\u2128","\\mathfrak{Z}");R("\\Bbbk","\\Bbb{k}");R("\xB7","\\cdotp");R("\\llap","\\mathllap{\\textrm{#1}}");R("\\rlap","\\mathrlap{\\textrm{#1}}");R("\\clap","\\mathclap{\\textrm{#1}}");R("\\mathstrut","\\vphantom{(}");R("\\underbar","\\underline{\\text{#1}}");R("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');R("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");R("\\ne","\\neq");R("\u2260","\\neq");R("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");R("\u2209","\\notin");R("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");R("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");R("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");R("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");R("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");R("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");R("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");R("\u27C2","\\perp");R("\u203C","\\mathclose{!\\mkern-0.8mu!}");R("\u220C","\\notni");R("\u231C","\\ulcorner");R("\u231D","\\urcorner");R("\u231E","\\llcorner");R("\u231F","\\lrcorner");R("\xA9","\\copyright");R("\xAE","\\textregistered");R("\uFE0F","\\textregistered");R("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');R("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');R("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');R("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');R("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");R("\u22EE","\\vdots");R("\\varGamma","\\mathit{\\Gamma}");R("\\varDelta","\\mathit{\\Delta}");R("\\varTheta","\\mathit{\\Theta}");R("\\varLambda","\\mathit{\\Lambda}");R("\\varXi","\\mathit{\\Xi}");R("\\varPi","\\mathit{\\Pi}");R("\\varSigma","\\mathit{\\Sigma}");R("\\varUpsilon","\\mathit{\\Upsilon}");R("\\varPhi","\\mathit{\\Phi}");R("\\varPsi","\\mathit{\\Psi}");R("\\varOmega","\\mathit{\\Omega}");R("\\substack","\\begin{subarray}{c}#1\\end{subarray}");R("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");R("\\boxed","\\fbox{$\\displaystyle{#1}$}");R("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");R("\\implies","\\DOTSB\\;\\Longrightarrow\\;");R("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var uT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};R("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in uT?e=uT[n]:(n.slice(0,4)==="\\not"||n in Dn.math&&Ct.contains(["bin","rel"],Dn.math[n].group))&&(e="\\dotsb"),e});var u8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};R("\\dotso",function(t){var e=t.future().text;return e in u8?"\\ldots\\,":"\\ldots"});R("\\dotsc",function(t){var e=t.future().text;return e in u8&&e!==","?"\\ldots\\,":"\\ldots"});R("\\cdots",function(t){var e=t.future().text;return e in u8?"\\@cdots\\,":"\\@cdots"});R("\\dotsb","\\cdots");R("\\dotsm","\\cdots");R("\\dotsi","\\!\\cdots");R("\\dotsx","\\ldots\\,");R("\\DOTSI","\\relax");R("\\DOTSB","\\relax");R("\\DOTSX","\\relax");R("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");R("\\,","\\tmspace+{3mu}{.1667em}");R("\\thinspace","\\,");R("\\>","\\mskip{4mu}");R("\\:","\\tmspace+{4mu}{.2222em}");R("\\medspace","\\:");R("\\;","\\tmspace+{5mu}{.2777em}");R("\\thickspace","\\;");R("\\!","\\tmspace-{3mu}{.1667em}");R("\\negthinspace","\\!");R("\\negmedspace","\\tmspace-{4mu}{.2222em}");R("\\negthickspace","\\tmspace-{5mu}{.277em}");R("\\enspace","\\kern.5em ");R("\\enskip","\\hskip.5em\\relax");R("\\quad","\\hskip1em\\relax");R("\\qquad","\\hskip2em\\relax");R("\\tag","\\@ifstar\\tag@literal\\tag@paren");R("\\tag@paren","\\tag@literal{({#1})}");R("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Xe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});R("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");R("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");R("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");R("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");R("\\newline","\\\\\\relax");R("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var MF=je(Ta["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ta["Main-Regular"]["A".charCodeAt(0)][1]);R("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+MF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");R("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+MF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");R("\\hspace","\\@ifstar\\@hspacer\\@hspace");R("\\@hspace","\\hskip #1\\relax");R("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");R("\\ordinarycolon",":");R("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");R("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');R("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');R("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');R("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');R("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');R("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');R("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');R("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');R("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');R("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');R("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');R("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');R("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');R("\u2237","\\dblcolon");R("\u2239","\\eqcolon");R("\u2254","\\coloneqq");R("\u2255","\\eqqcolon");R("\u2A74","\\Coloneqq");R("\\ratio","\\vcentcolon");R("\\coloncolon","\\dblcolon");R("\\colonequals","\\coloneqq");R("\\coloncolonequals","\\Coloneqq");R("\\equalscolon","\\eqqcolon");R("\\equalscoloncolon","\\Eqqcolon");R("\\colonminus","\\coloneq");R("\\coloncolonminus","\\Coloneq");R("\\minuscolon","\\eqcolon");R("\\minuscoloncolon","\\Eqcolon");R("\\coloncolonapprox","\\Colonapprox");R("\\coloncolonsim","\\Colonsim");R("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");R("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");R("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");R("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");R("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");R("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");R("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");R("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");R("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");R("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");R("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");R("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");R("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");R("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");R("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");R("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");R("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");R("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");R("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");R("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");R("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");R("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");R("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");R("\\imath","\\html@mathml{\\@imath}{\u0131}");R("\\jmath","\\html@mathml{\\@jmath}{\u0237}");R("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");R("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");R("\u27E6","\\llbracket");R("\u27E7","\\rrbracket");R("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");R("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");R("\u2983","\\lBrace");R("\u2984","\\rBrace");R("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");R("\u29B5","\\minuso");R("\\darr","\\downarrow");R("\\dArr","\\Downarrow");R("\\Darr","\\Downarrow");R("\\lang","\\langle");R("\\rang","\\rangle");R("\\uarr","\\uparrow");R("\\uArr","\\Uparrow");R("\\Uarr","\\Uparrow");R("\\N","\\mathbb{N}");R("\\R","\\mathbb{R}");R("\\Z","\\mathbb{Z}");R("\\alef","\\aleph");R("\\alefsym","\\aleph");R("\\Alpha","\\mathrm{A}");R("\\Beta","\\mathrm{B}");R("\\bull","\\bullet");R("\\Chi","\\mathrm{X}");R("\\clubs","\\clubsuit");R("\\cnums","\\mathbb{C}");R("\\Complex","\\mathbb{C}");R("\\Dagger","\\ddagger");R("\\diamonds","\\diamondsuit");R("\\empty","\\emptyset");R("\\Epsilon","\\mathrm{E}");R("\\Eta","\\mathrm{H}");R("\\exist","\\exists");R("\\harr","\\leftrightarrow");R("\\hArr","\\Leftrightarrow");R("\\Harr","\\Leftrightarrow");R("\\hearts","\\heartsuit");R("\\image","\\Im");R("\\infin","\\infty");R("\\Iota","\\mathrm{I}");R("\\isin","\\in");R("\\Kappa","\\mathrm{K}");R("\\larr","\\leftarrow");R("\\lArr","\\Leftarrow");R("\\Larr","\\Leftarrow");R("\\lrarr","\\leftrightarrow");R("\\lrArr","\\Leftrightarrow");R("\\Lrarr","\\Leftrightarrow");R("\\Mu","\\mathrm{M}");R("\\natnums","\\mathbb{N}");R("\\Nu","\\mathrm{N}");R("\\Omicron","\\mathrm{O}");R("\\plusmn","\\pm");R("\\rarr","\\rightarrow");R("\\rArr","\\Rightarrow");R("\\Rarr","\\Rightarrow");R("\\real","\\Re");R("\\reals","\\mathbb{R}");R("\\Reals","\\mathbb{R}");R("\\Rho","\\mathrm{P}");R("\\sdot","\\cdot");R("\\sect","\\S");R("\\spades","\\spadesuit");R("\\sub","\\subset");R("\\sube","\\subseteq");R("\\supe","\\supseteq");R("\\Tau","\\mathrm{T}");R("\\thetasym","\\vartheta");R("\\weierp","\\wp");R("\\Zeta","\\mathrm{Z}");R("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");R("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");R("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");R("\\bra","\\mathinner{\\langle{#1}|}");R("\\ket","\\mathinner{|{#1}\\rangle}");R("\\braket","\\mathinner{\\langle{#1}\\rangle}");R("\\Bra","\\left\\langle#1\\right|");R("\\Ket","\\left|#1\\right\\rangle");var PF=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=d=>f=>{t&&(f.macros.set("|",o),i.length&&f.macros.set("\\|",a));var p=d;if(!d&&i.length){var m=f.future();m.text==="|"&&(f.popToken(),p=!0)}return{tokens:p?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...s,...u,...n]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};R("\\bra@ket",PF(!1));R("\\bra@set",PF(!0));R("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");R("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");R("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");R("\\angln","{\\angl n}");R("\\blue","\\textcolor{##6495ed}{#1}");R("\\orange","\\textcolor{##ffa500}{#1}");R("\\pink","\\textcolor{##ff00af}{#1}");R("\\red","\\textcolor{##df0030}{#1}");R("\\green","\\textcolor{##28ae7b}{#1}");R("\\gray","\\textcolor{gray}{#1}");R("\\purple","\\textcolor{##9d38bd}{#1}");R("\\blueA","\\textcolor{##ccfaff}{#1}");R("\\blueB","\\textcolor{##80f6ff}{#1}");R("\\blueC","\\textcolor{##63d9ea}{#1}");R("\\blueD","\\textcolor{##11accd}{#1}");R("\\blueE","\\textcolor{##0c7f99}{#1}");R("\\tealA","\\textcolor{##94fff5}{#1}");R("\\tealB","\\textcolor{##26edd5}{#1}");R("\\tealC","\\textcolor{##01d1c1}{#1}");R("\\tealD","\\textcolor{##01a995}{#1}");R("\\tealE","\\textcolor{##208170}{#1}");R("\\greenA","\\textcolor{##b6ffb0}{#1}");R("\\greenB","\\textcolor{##8af281}{#1}");R("\\greenC","\\textcolor{##74cf70}{#1}");R("\\greenD","\\textcolor{##1fab54}{#1}");R("\\greenE","\\textcolor{##0d923f}{#1}");R("\\goldA","\\textcolor{##ffd0a9}{#1}");R("\\goldB","\\textcolor{##ffbb71}{#1}");R("\\goldC","\\textcolor{##ff9c39}{#1}");R("\\goldD","\\textcolor{##e07d10}{#1}");R("\\goldE","\\textcolor{##a75a05}{#1}");R("\\redA","\\textcolor{##fca9a9}{#1}");R("\\redB","\\textcolor{##ff8482}{#1}");R("\\redC","\\textcolor{##f9685d}{#1}");R("\\redD","\\textcolor{##e84d39}{#1}");R("\\redE","\\textcolor{##bc2612}{#1}");R("\\maroonA","\\textcolor{##ffbde0}{#1}");R("\\maroonB","\\textcolor{##ff92c6}{#1}");R("\\maroonC","\\textcolor{##ed5fa6}{#1}");R("\\maroonD","\\textcolor{##ca337c}{#1}");R("\\maroonE","\\textcolor{##9e034e}{#1}");R("\\purpleA","\\textcolor{##ddd7ff}{#1}");R("\\purpleB","\\textcolor{##c6b9fc}{#1}");R("\\purpleC","\\textcolor{##aa87ff}{#1}");R("\\purpleD","\\textcolor{##7854ab}{#1}");R("\\purpleE","\\textcolor{##543b78}{#1}");R("\\mintA","\\textcolor{##f5f9e8}{#1}");R("\\mintB","\\textcolor{##edf2df}{#1}");R("\\mintC","\\textcolor{##e0e5cc}{#1}");R("\\grayA","\\textcolor{##f6f7f7}{#1}");R("\\grayB","\\textcolor{##f0f1f2}{#1}");R("\\grayC","\\textcolor{##e3e5e6}{#1}");R("\\grayD","\\textcolor{##d6d8da}{#1}");R("\\grayE","\\textcolor{##babec2}{#1}");R("\\grayF","\\textcolor{##888d93}{#1}");R("\\grayG","\\textcolor{##626569}{#1}");R("\\grayH","\\textcolor{##3b3e40}{#1}");R("\\grayI","\\textcolor{##21242c}{#1}");R("\\kaBlue","\\textcolor{##314453}{#1}");R("\\kaGreen","\\textcolor{##71B307}{#1}");var BF={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class JMe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new GMe(KMe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new lT(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new ao("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new Xe("Extra }",s)}else if(s.text==="EOF")throw new Xe("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Xe("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Xe("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(n&&n[a+1]).tokens);return o}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Xe("Undefined control sequence: "+r);return this.pushToken(n),n}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Xe("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new Xe("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new Xe("Not a valid argument number",l)}}}return this.pushTokens(s),s}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof ao)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ao(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;){var i=this.expandOnce(!0);i instanceof ao&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(this.stack.pop()))}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new lT(i,this.settings),l=[],u=a.lex();u.text!=="EOF";)l.push(u),u=a.lex();l.reverse();var h={tokens:l,numArgs:s};return h}return i}isDefined(e){return this.macros.has(e)||Tc.hasOwnProperty(e)||Dn.math.hasOwnProperty(e)||Dn.text.hasOwnProperty(e)||BF.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Tc.hasOwnProperty(e)&&!Tc[e].primitive}}var hT=/^[]/,qm=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),Y5={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},dT={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Lp{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new JMe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Xe("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new ao("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Lp.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Tc[i.text]&&Tc[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Xe("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,o,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[n],o],[]):u=this.callFunction(r,[s,o],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Xe("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var o=s.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new Xe("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Xe("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Xe("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Xe("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(qm[s.text]){var u=qm[s.text],h=hT.test(s.text);for(this.consume();;){var d=this.fetch().text;if(!qm[d]||hT.test(d)!==h)break;this.consume(),u+=qm[d]}var f=new Lp(u,this.settings).parse();h?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=Tc[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new Xe("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Xe("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Xe("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,n,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=Tc[e];if(a&&a.handler)return a.handler(o,n,r);throw new Xe("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(u);else if(u!=null)i.push(u);else throw new Xe("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Xe("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new Xe("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Xe("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new Xe("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Xe("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Xe("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!WL(s))throw new Xe("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),o}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:_s.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!BF.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Xe("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:_s.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:_s.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:_s.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Xe(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}dT.hasOwnProperty(n[0])&&!Dn[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=dT[n[0]]+n.slice(1));var s=HMe.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="\u0131":n==="j"&&(n="\u0237"));var o;if(Dn[this.mode][n]){this.settings.strict&&this.mode==="math"&&yx.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=Dn[this.mode][n].group,l=_s.range(e),u;if(zAe.hasOwnProperty(a)){var h=a;u={type:"atom",mode:this.mode,family:h,loc:l,text:n}}else u={type:a,mode:this.mode,loc:l,text:n};o=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(VL(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:_s.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var f=s[0][d];if(!Y5[f])throw new Xe("Unknown accent ' "+f+"'",e);var p=Y5[f][this.mode]||Y5[f].text;if(!p)throw new Xe("Accent "+f+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:_s.range(e),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}}Lp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var h8=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Lp(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Xe("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new ao("\\df@tag")])}]}return i},$F=function(e,n,r){n.textContent="";var i=d8(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),$F=function(){throw new Xe("KaTeX doesn't work in quirks mode.")});var ePe=function(e,n){var r=d8(e,n).toMarkup();return r},tPe=function(e,n){var r=new Uw(n);return h8(e,r)},LF=function(e,n,r){if(r.throwOnError||!(e instanceof Xe))throw e;var i=fe.makeSpan(["katex-error"],[new Oo(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},d8=function(e,n){var r=new Uw(n);try{var i=h8(e,r);return uMe(i,e,r)}catch(s){return LF(s,e,r)}},nPe=function(e,n){var r=new Uw(n);try{var i=h8(e,r);return hMe(i,e,r)}catch(s){return LF(s,e,r)}},FF={version:"0.16.4",render:$F,renderToString:ePe,ParseError:Xe,SETTINGS_SCHEMA:u2,__parse:tPe,__renderToDomTree:d8,__renderToHTMLTree:nPe,__setFontMetrics:$Ae,__defineSymbol:k,__defineMacro:R,__domTree:{Span:Y1,Anchor:Zw,SymbolNode:Oo,SvgNode:zl,PathNode:Gc,LineNode:gx}};const rPe=/^\$\$\s$/,iPe=wr((t,e)=>{var n,r;const i="math_block",s={empty:"Empty",error:"Syntax Error",...(n=e==null?void 0:e.placeholder)!=null?n:{}},o={displayMode:!0,...(r=e==null?void 0:e.katexOptions)!=null?r:{}};return{id:i,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""}},parseDOM:[{tag:`div[data-type="${i}"]`,preserveWhitespace:"full",getAttrs:a=>{if(!(a instanceof HTMLElement))throw Nr(a);return{value:a.dataset.value}}}],toDOM:a=>["div",{class:t.getClassName(a.attrs,"math-block"),"data-type":i,"data-value":a.attrs.value||a.textContent||""},0],parseMarkdown:{match:({type:a})=>a==="math",runner:(a,l,u)=>{const h=l.value;a.openNode(u,{value:h}),h&&a.addText(h),a.closeNode()}},toMarkdown:{match:a=>a.type.name===i,runner:(a,l)=>{let u="";l.forEach(h=>{u+=h.text}),a.addNode("math",void 0,u)}}}),view:()=>(a,l,u)=>{let h=a,d;const f=t.themeManager.get("inner-editor",{view:l,getPos:u,render:D=>{try{D?(FF.render(D,f.preview,o),f.preview.classList.remove("system")):(f.preview.innerHTML=s.empty,f.preview.classList.add("system"))}catch(C){C instanceof Error&&console.warn(C.message),f.preview.classList.add("system"),f.preview.innerHTML=s.error}finally{d.appendChild(f.preview)}}});if(!f)return{};const{onUpdate:p,editor:m,onFocus:g,onBlur:y,onDestroy:b,stopEvent:O,preview:w}=f;return d=f.dom,d.classList.add("math-block"),t.themeManager.onFlush(()=>{const D=t.getStyle(({css:T})=>T`
                        .system {
                            display: flex;
                        }
                    `),C=t.getStyle(({css:T})=>T`
                        display: block;
                        padding-left: 16px;
                        padding-right: 16px;
                    `);C&&w.classList.add(C),D&&d.classList.add(D)}),m.dataset.type=i,p(h,!0),{dom:d,update:D=>D.sameMarkup(h)?(h=D,p(h,!1),!0):!1,selectNode:()=>{g(h)},deselectNode:()=>{y(h)},stopEvent:O,ignoreMutation:()=>!0,destroy(){b()}}},inputRules:a=>[new Ei(rPe,(l,u,h,d)=>{const f=l.doc.resolve(h);if(!f.node(-1).canReplaceWith(f.index(-1),f.indexAfter(-1),a))return null;const p=l.tr.delete(h,d).setBlockType(h,h,a);return p.setSelection(gt.create(p.doc,h-1))})]}}),sPe=new pn("MILKDOWN_MATH_INPUT"),fT=rn("ModifyInlineMath"),oPe=wr((t,e)=>{var n,r,i,s;const o={empty:"(empty)",error:"(error)",...(n=e==null?void 0:e.placeholder)!=null?n:{}},a=(i=(r=e==null?void 0:e.input)==null?void 0:r.placeholder)!=null?i:"Input Math",l={...(s=e==null?void 0:e.katexOptions)!=null?s:{}},u=t.themeManager,h=()=>t.getStyle(({css:f})=>{const p=(g,y=1)=>u.get(wi,[g,y]),m=u.get(yn,"lineWidth");return f`
                font-size: unset;

                &.ProseMirror-selectednode {
                    outline: none;
                    border: ${m} solid ${p("line")};
                }
            `}),d="math_inline";return{id:d,schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${d}"]`,getAttrs:f=>{if(!(f instanceof HTMLElement))throw Nr(f);return{value:f.dataset.value}}}],toDOM:f=>{const p=document.createElement("span");return p.dataset.type=d,p.dataset.value=f.attrs.value,t.themeManager.onFlush(()=>{const m=h();m&&(p.className=m)}),p},parseMarkdown:{match:f=>f.type==="inlineMath",runner:(f,p,m)=>{const g=p.value;f.addNode(m,{value:g})}},toMarkdown:{match:f=>f.type.name===d,runner:(f,p)=>{f.addNode("inlineMath",void 0,p.attrs.value)}}}),commands:f=>[sn(fT,(p="")=>(m,g)=>{const y=po(m.selection,f);if(!y)return!1;const{tr:b}=m,O=b.setNodeMarkup(y.pos,void 0,{...y.node.attrs,value:p});return g==null||g(O.setSelection(gt.create(O.doc,y.pos))),!0})],view:()=>f=>{let p=f;const m=document.createElement("span");t.themeManager.onFlush(()=>{const y=h();y&&(m.className=y)});const g=y=>{try{y?FF.render(y,m,l):m.innerHTML=o.empty}catch(b){b instanceof Error&&console.warn(b.message),m.innerHTML=o.error}};return g(f.attrs.value),{dom:m,update:y=>{if(!y.sameMarkup(p))return!1;p=y;const b=y.attrs.value;return g(b),!0}}},prosePlugins:(f,p)=>[new cn({key:sPe,view:m=>{const g=t.themeManager.get("input-chip",{placeholder:a,onUpdate:w=>{p.get(Hn).call(fT,w)},isBindMode:!0});if(!g)return{};const y=w=>Boolean(f&&po(w.state.selection,f)),b=w=>{const D=po(w.state.selection,f);return D?D.node.attrs.value:void 0},O=w=>{!w.editable||(y(w)?(g.show(w),g.update(b(w))):g.hide())};return g.init(m),O(m),{update:(w,D)=>{(D==null?void 0:D.doc.eq(w.state.doc))&&D.selection.eq(w.state.selection)||O(w)},destroy:()=>{g.destroy()}}}})]}}),aPe=Ai.create([oPe(),iPe()]),lPe=Is(()=>({remarkPlugins:()=>[sAe]})),cPe=Ai.create([lPe(),...aPe]);function uPe(t={}){return new cn({view(e){return new hPe(e,t)}})}class hPe{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let h=u.getBoundingClientRect(),d=a?h.bottom:h.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:h.left,right:h.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Uk(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class er extends St{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return er.valid(r)?new er(r):St.near(r)}content(){return He.empty}eq(e){return e instanceof er&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new er(e.resolve(n.pos))}getBookmark(){return new f8(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!dPe(e)||!fPe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&er.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(er.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!gt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(er.valid(a))return a}return null}}}er.prototype.visible=!1;er.findFrom=er.findGapCursorFrom;St.jsonID("gapcursor",er);class f8{constructor(e){this.pos=e}map(e){return new f8(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return er.valid(n)?new er(n):St.near(n)}}function dPe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function fPe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function pPe(){return new cn({props:{decorations:bPe,createSelectionBetween(t,e,n){return e.pos==n.pos&&er.valid(n)?new er(n):null},handleClick:gPe,handleKeyDown:mPe,handleDOMEvents:{beforeinput:yPe}}})}const mPe=bw({ArrowLeft:Xm("horiz",-1),ArrowRight:Xm("horiz",1),ArrowUp:Xm("vert",-1),ArrowDown:Xm("vert",1)});function Xm(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Mt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=er.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new er(u))),!0):!1}}function gPe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!er.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&gt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new er(r))),!0)}function yPe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof er))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Fe.empty;for(let o=r.length-1;o>=0;o--)i=Fe.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new He(i,0,0));return s.setSelection(Mt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function bPe(t){if(!(t.selection instanceof er))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",gn.create(t.doc,[$r.widget(t.selection.head,e,{key:"gapcursor"})])}const OPe=Is(({getStyle:t,themeManager:e})=>(e.onFlush(()=>{t(({injectGlobal:n})=>{n`
                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */
                .ProseMirror-gapcursor {
                    display: none;
                    pointer-events: none;
                    position: absolute;
                    margin: 0 !important;
                }

                .ProseMirror-gapcursor:after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: -2px;
                    width: 20px;
                    border-top: ${e.get(yn,"lineWidth")} solid
                        ${e.get(wi,["secondary"])};
                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
                }

                @keyframes ProseMirror-cursor-blink {
                    to {
                        visibility: hidden;
                    }
                }

                .ProseMirror-focused .ProseMirror-gapcursor {
                    display: block;
                }
            `})}),{prosePlugins:(n,r)=>{var i,s;const o=r.get(Er),a=o.get(yn,"lineWidth"),l=o.get(wi,["secondary"]),u=Number((s=(i=a==null?void 0:a.match(/\d+/))==null?void 0:i[0])!=null?s:1);return[pPe(),uPe({color:l,width:u})]}}))(),wx=t=>{if(!t)return!1;if(Array.isArray(t))return t.length>1?!1:wx(t[0]);const e=t.content;return e?wx(e):t.type==="text"},vPe=new pn("MILKDOWN_CLIPBOARD"),xPe=Is(()=>({prosePlugins:(t,e)=>{const n=e.get(Lr);return e.update(Uf,r=>{var i;return{...r,editable:(i=r.editable)!=null?i:()=>!0}}),[new cn({key:vPe,props:{handlePaste:(r,i,s)=>{var o,a;const l=e.get(Nc),u=e.get(th),h=(a=(o=r.props).editable)==null?void 0:a.call(o,r.state),{clipboardData:d}=i;if(!h||!d||r.state.selection.$from.node().type.spec.code)return!1;let f=d.getData("text/plain");const p=d.getData("vscode-editor-data");if(p){const y=JSON.parse(p),b=y==null?void 0:y.mode;if(f&&b){const{tr:O}=r.state,w=Lu("fence",n);return O.replaceSelectionWith(w.create({language:b})).setSelection(Mt.near(O.doc.resolve(Math.max(0,O.selection.from-2)))).insertText(f.replace(/\r\n?/g,`
`)),r.dispatch(O),!0}}const m=d.getData("text/html");if(m.length===0&&f.length===0)return!1;if(m.length>0||f.length===0){const y=document.createElement("template");y.innerHTML=m;const b=ch.fromSchema(n).parse(y.content);y.remove(),f=u(b)}const g=l(f);return!g||typeof g=="string"?!1:(r.dispatch(r.state.tr.replaceSelection(new He(g.content,s.openStart,s.openEnd))),!0)},clipboardTextSerializer:r=>{const i=e.get(th);if(wx(r.content.toJSON()))return r.content.textBetween(0,r.content.size,`

`);const s=n.topNodeType.createAndFill(void 0,r.content);return s?i(s):""}}})]}})),kPe=xPe();function NF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(a,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?a.concat(u.map(function(h){var d,f;return(f=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(a){return a.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(a,l){var u=o.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=a;typeof a=="string"&&a.includes(`
`)&&(d=String(a).split(`
`).map(function(f,p){return p===0?f:""+h+f}).join(`
`)),o+=d+r[l+1]}),o}var p8={};Object.defineProperty(p8,"__esModule",{value:!0});var Kl=p8.sanitizeUrl=void 0,wPe=/^([^\w]*)(javascript|data|vbscript)/im,_Pe=/&#(\w+)(^\w|;)?/g,SPe=/&(newline|tab);/gi,CPe=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,TPe=/^.+(:|&colon;)/gim,DPe=[".","/"];function EPe(t){return DPe.indexOf(t[0])>-1}function APe(t){return t.replace(_Pe,function(e,n){return String.fromCharCode(n)})}function MPe(t){var e=APe(t||"").replace(SPe,"").replace(CPe,"").trim();if(!e)return"about:blank";if(EPe(e))return e;var n=e.match(TPe);if(!n)return e;var r=n[0];return wPe.test(r)?"about:blank":e}Kl=p8.sanitizeUrl=MPe;function d2(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m8(t){let e,n,r;t.length!==2?(e=d2,n=(a,l)=>d2(t(a),l),r=(a,l)=>t(a)-l):(e=t===d2||t===PPe?t:BPe,n=t,r=t);function i(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<0?u=d+1:h=d}while(u<h)}return u}function s(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function o(a,l,u=0,h=a.length){const d=i(a,l,u,h-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function BPe(){return 0}function $Pe(t){return t===null?NaN:+t}const LPe=m8(d2),FPe=LPe.right;m8($Pe).center;const NPe=FPe;class pT extends Map{constructor(e,n=QPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mT(this,e))}has(e){return super.has(mT(this,e))}set(e,n){return super.set(IPe(this,e),n)}delete(e){return super.delete(RPe(this,e))}}function mT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function IPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function RPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QPe(t){return t!==null&&typeof t=="object"?t.valueOf():t}const zPe=Math.sqrt(50),VPe=Math.sqrt(10),WPe=Math.sqrt(2);function Oy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=zPe?10:s>=VPe?5:s>=WPe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Oy(t,e,n*2):[a,l,u]}function qPe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Oy(e,t,n):Oy(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function _x(t,e,n){return e=+e,t=+t,n=+n,Oy(t,e,n)[2]}function Sx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_x(e,t,n):_x(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XPe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function YPe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function UPe(t){return t}var f2=1,U5=2,Cx=3,Ym=4,gT=1e-6;function jPe(t){return"translate("+t+",0)"}function HPe(t){return"translate(0,"+t+")"}function ZPe(t){return e=>+t(e)}function GPe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function KPe(){return!this.__axis}function IF(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===f2||t===Ym?-1:1,h=t===Ym||t===U5?"x":"y",d=t===f2||t===Cx?jPe:HPe;function f(p){var m=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,g=i==null?e.tickFormat?e.tickFormat.apply(e,n):UPe:i,y=Math.max(s,0)+a,b=e.range(),O=+b[0]+l,w=+b[b.length-1]+l,D=(e.bandwidth?GPe:ZPe)(e.copy(),l),C=p.selection?p.selection():p,T=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(m,e).order(),P=E.exit(),M=E.enter().append("g").attr("class","tick"),$=E.select("line"),A=E.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),A=A.merge(M.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",t===f2?"0em":t===Cx?"0.71em":"0.32em")),p!==C&&(T=T.transition(p),E=E.transition(p),$=$.transition(p),A=A.transition(p),P=P.transition(p).attr("opacity",gT).attr("transform",function(_){return isFinite(_=D(_))?d(_+l):this.getAttribute("transform")}),M.attr("opacity",gT).attr("transform",function(_){var L=this.parentNode.__axis;return d((L&&isFinite(L=L(_))?L:D(_))+l)})),P.remove(),T.attr("d",t===Ym||t===U5?o?"M"+u*o+","+O+"H"+l+"V"+w+"H"+u*o:"M"+l+","+O+"V"+w:o?"M"+O+","+u*o+"V"+l+"H"+w+"V"+u*o:"M"+O+","+l+"H"+w),E.attr("opacity",1).attr("transform",function(_){return d(D(_)+l)}),$.attr(h+"2",u*s),A.attr(h,u*y).text(g),C.filter(KPe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===U5?"start":t===Ym?"end":"middle"),C.each(function(){this.__axis=D})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(s=o=+p,f):s},f.tickSizeInner=function(p){return arguments.length?(s=+p,f):s},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function JPe(t){return IF(f2,t)}function eBe(t){return IF(Cx,t)}var tBe={value:()=>{}};function RF(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new p2(n)}function p2(t){this._=t}function nBe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}p2.prototype=RF.prototype={constructor:p2,on:function(t,e){var n=this._,r=nBe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=rBe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=yT(n[i],t.name,e);else if(e==null)for(i in n)n[i]=yT(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new p2(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function rBe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function yT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tBe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Tx="http://www.w3.org/1999/xhtml";const bT={svg:"http://www.w3.org/2000/svg",xhtml:Tx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $4(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),bT.hasOwnProperty(e)?{space:bT[e],local:t}:t}function iBe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Tx&&e.documentElement.namespaceURI===Tx?e.createElement(t):e.createElementNS(n,t)}}function sBe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function QF(t){var e=$4(t);return(e.local?sBe:iBe)(e)}function oBe(){}function g8(t){return t==null?oBe:function(){return this.querySelector(t)}}function aBe(t){typeof t!="function"&&(t=g8(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,h=0;h<o;++h)(l=s[h])&&(u=t.call(l,l.__data__,h,s))&&("__data__"in l&&(u.__data__=l.__data__),a[h]=u);return new ji(r,this._parents)}function zF(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lBe(){return[]}function VF(t){return t==null?lBe:function(){return this.querySelectorAll(t)}}function cBe(t){return function(){return zF(t.apply(this,arguments))}}function uBe(t){typeof t=="function"?t=cBe(t):t=VF(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ji(r,i)}function WF(t){return function(){return this.matches(t)}}function qF(t){return function(e){return e.matches(t)}}var hBe=Array.prototype.find;function dBe(t){return function(){return hBe.call(this.children,t)}}function fBe(){return this.firstElementChild}function pBe(t){return this.select(t==null?fBe:dBe(typeof t=="function"?t:qF(t)))}var mBe=Array.prototype.filter;function gBe(){return Array.from(this.children)}function yBe(t){return function(){return mBe.call(this.children,t)}}function bBe(t){return this.selectAll(t==null?gBe:yBe(typeof t=="function"?t:qF(t)))}function OBe(t){typeof t!="function"&&(t=WF(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ji(r,this._parents)}function XF(t){return new Array(t.length)}function vBe(){return new ji(this._enter||this._groups.map(XF),this._parents)}function vy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vy.prototype={constructor:vy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xBe(t){return function(){return t}}function kBe(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new vy(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function wBe(t,e,n,r,i,s,o){var a,l,u=new Map,h=e.length,d=s.length,f=new Array(h),p;for(a=0;a<h;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(t,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):n[a]=new vy(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function _Be(t){return t.__data__}function SBe(t,e){if(!arguments.length)return Array.from(this,_Be);var n=e?wBe:kBe,r=this._parents,i=this._groups;typeof t!="function"&&(t=xBe(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var h=r[u],d=i[u],f=d.length,p=CBe(t.call(h,h&&h.__data__,u,r)),m=p.length,g=a[u]=new Array(m),y=o[u]=new Array(m),b=l[u]=new Array(f);n(h,d,g,y,b,p,e);for(var O=0,w=0,D,C;O<m;++O)if(D=g[O]){for(O>=w&&(w=O+1);!(C=y[w])&&++w<m;);D._next=C||null}}return o=new ji(o,r),o._enter=a,o._exit=l,o}function CBe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TBe(){return new ji(this._exit||this._groups.map(XF),this._parents)}function DBe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function EBe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],h=r[l],d=u.length,f=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||h[m])&&(f[m]=p);for(;l<i;++l)a[l]=n[l];return new ji(a,this._parents)}function ABe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function MBe(t){t||(t=PBe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,h=0;h<a;++h)(u=o[h])&&(l[h]=u);l.sort(e)}return new ji(i,this._parents).order()}function PBe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function BBe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $Be(){return Array.from(this)}function LBe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function FBe(){let t=0;for(const e of this)++t;return t}function NBe(){return!this.node()}function IBe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function RBe(t){return function(){this.removeAttribute(t)}}function QBe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zBe(t,e){return function(){this.setAttribute(t,e)}}function VBe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function WBe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function qBe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function XBe(t,e){var n=$4(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?QBe:RBe:typeof e=="function"?n.local?qBe:WBe:n.local?VBe:zBe)(n,e))}function YF(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function YBe(t){return function(){this.style.removeProperty(t)}}function UBe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jBe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function HBe(t,e,n){return arguments.length>1?this.each((e==null?YBe:typeof e=="function"?jBe:UBe)(t,e,n==null?"":n)):qd(this.node(),t)}function qd(t,e){return t.style.getPropertyValue(e)||YF(t).getComputedStyle(t,null).getPropertyValue(e)}function ZBe(t){return function(){delete this[t]}}function GBe(t,e){return function(){this[t]=e}}function KBe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function JBe(t,e){return arguments.length>1?this.each((e==null?ZBe:typeof e=="function"?KBe:GBe)(t,e)):this.node()[t]}function UF(t){return t.trim().split(/^|\s+/)}function y8(t){return t.classList||new jF(t)}function jF(t){this._node=t,this._names=UF(t.getAttribute("class")||"")}jF.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function HF(t,e){for(var n=y8(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ZF(t,e){for(var n=y8(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function e$e(t){return function(){HF(this,t)}}function t$e(t){return function(){ZF(this,t)}}function n$e(t,e){return function(){(e.apply(this,arguments)?HF:ZF)(this,t)}}function r$e(t,e){var n=UF(t+"");if(arguments.length<2){for(var r=y8(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?n$e:e?e$e:t$e)(n,e))}function i$e(){this.textContent=""}function s$e(t){return function(){this.textContent=t}}function o$e(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function a$e(t){return arguments.length?this.each(t==null?i$e:(typeof t=="function"?o$e:s$e)(t)):this.node().textContent}function l$e(){this.innerHTML=""}function c$e(t){return function(){this.innerHTML=t}}function u$e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function h$e(t){return arguments.length?this.each(t==null?l$e:(typeof t=="function"?u$e:c$e)(t)):this.node().innerHTML}function d$e(){this.nextSibling&&this.parentNode.appendChild(this)}function f$e(){return this.each(d$e)}function p$e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function m$e(){return this.each(p$e)}function g$e(t){var e=typeof t=="function"?t:QF(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function y$e(){return null}function b$e(t,e){var n=typeof t=="function"?t:QF(t),r=e==null?y$e:typeof e=="function"?e:g8(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function O$e(){var t=this.parentNode;t&&t.removeChild(this)}function v$e(){return this.each(O$e)}function x$e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k$e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function w$e(t){return this.select(t?k$e:x$e)}function _$e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function S$e(t){return function(e){t.call(this,e,this.__data__)}}function C$e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function T$e(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function D$e(t,e,n){return function(){var r=this.__on,i,s=S$e(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function E$e(t,e,n){var r=C$e(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,h;l<u;++l)for(i=0,h=a[l];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?D$e:T$e,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function GF(t,e,n){var r=YF(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function A$e(t,e){return function(){return GF(this,t,e)}}function M$e(t,e){return function(){return GF(this,t,e.apply(this,arguments))}}function P$e(t,e){return this.each((typeof e=="function"?M$e:A$e)(t,e))}function*B$e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var b8=[null];function ji(t,e){this._groups=t,this._parents=e}function j1(){return new ji([[document.documentElement]],b8)}function $$e(){return this}ji.prototype=j1.prototype={constructor:ji,select:aBe,selectAll:uBe,selectChild:pBe,selectChildren:bBe,filter:OBe,data:SBe,enter:vBe,exit:TBe,join:DBe,merge:EBe,selection:$$e,order:ABe,sort:MBe,call:BBe,nodes:$Be,node:LBe,size:FBe,empty:NBe,each:IBe,attr:XBe,style:HBe,property:JBe,classed:r$e,text:a$e,html:h$e,raise:f$e,lower:m$e,append:g$e,insert:b$e,remove:v$e,clone:w$e,datum:_$e,on:E$e,dispatch:P$e,[Symbol.iterator]:B$e};function Le(t){return typeof t=="string"?new ji([[document.querySelector(t)]],[document.documentElement]):new ji([[t]],b8)}function O8(t){return typeof t=="string"?new ji([document.querySelectorAll(t)],[document.documentElement]):new ji([zF(t)],b8)}function H1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function L4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dh(){}var Fp=.7,xy=1/Fp,xd="\\s*([+-]?\\d+)\\s*",Np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L$e=/^#([0-9a-f]{3,8})$/,F$e=new RegExp(`^rgb\\(${xd},${xd},${xd}\\)$`),N$e=new RegExp(`^rgb\\(${$a},${$a},${$a}\\)$`),I$e=new RegExp(`^rgba\\(${xd},${xd},${xd},${Np}\\)$`),R$e=new RegExp(`^rgba\\(${$a},${$a},${$a},${Np}\\)$`),Q$e=new RegExp(`^hsl\\(${Np},${$a},${$a}\\)$`),z$e=new RegExp(`^hsla\\(${Np},${$a},${$a},${Np}\\)$`),OT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H1(Dh,ph,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vT,formatHex:vT,formatHex8:V$e,formatHsl:W$e,formatRgb:xT,toString:xT});function vT(){return this.rgb().formatHex()}function V$e(){return this.rgb().formatHex8()}function W$e(){return JF(this).formatHsl()}function xT(){return this.rgb().formatRgb()}function ph(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L$e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kT(e):n===3?new Si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Um(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Um(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F$e.exec(t))?new Si(e[1],e[2],e[3],1):(e=N$e.exec(t))?new Si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I$e.exec(t))?Um(e[1],e[2],e[3],e[4]):(e=R$e.exec(t))?Um(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q$e.exec(t))?ST(e[1],e[2]/100,e[3]/100,1):(e=z$e.exec(t))?ST(e[1],e[2]/100,e[3]/100,e[4]):OT.hasOwnProperty(t)?kT(OT[t]):t==="transparent"?new Si(NaN,NaN,NaN,0):null}function kT(t){return new Si(t>>16&255,t>>8&255,t&255,1)}function Um(t,e,n,r){return r<=0&&(t=e=n=NaN),new Si(t,e,n,r)}function KF(t){return t instanceof Dh||(t=ph(t)),t?(t=t.rgb(),new Si(t.r,t.g,t.b,t.opacity)):new Si}function Dx(t,e,n,r){return arguments.length===1?KF(t):new Si(t,e,n,r==null?1:r)}function Si(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H1(Si,Dx,L4(Dh,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fp:Math.pow(Fp,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Si(rh(this.r),rh(this.g),rh(this.b),ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wT,formatHex:wT,formatHex8:q$e,formatRgb:_T,toString:_T}));function wT(){return`#${Wu(this.r)}${Wu(this.g)}${Wu(this.b)}`}function q$e(){return`#${Wu(this.r)}${Wu(this.g)}${Wu(this.b)}${Wu((isNaN(this.opacity)?1:this.opacity)*255)}`}function _T(){const t=ky(this.opacity);return`${t===1?"rgb(":"rgba("}${rh(this.r)}, ${rh(this.g)}, ${rh(this.b)}${t===1?")":`, ${t})`}`}function ky(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wu(t){return t=rh(t),(t<16?"0":"")+t.toString(16)}function ST(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Io(t,e,n,r)}function JF(t){if(t instanceof Io)return new Io(t.h,t.s,t.l,t.opacity);if(t instanceof Dh||(t=ph(t)),!t)return new Io;if(t instanceof Io)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Io(o,a,l,t.opacity)}function X$e(t,e,n,r){return arguments.length===1?JF(t):new Io(t,e,n,r==null?1:r)}function Io(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H1(Io,X$e,L4(Dh,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new Io(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fp:Math.pow(Fp,t),new Io(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Si(j5(t>=240?t-240:t+120,i,r),j5(t,i,r),j5(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Io(CT(this.h),jm(this.s),jm(this.l),ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ky(this.opacity);return`${t===1?"hsl(":"hsla("}${CT(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CT(t){return t=(t||0)%360,t<0?t+360:t}function jm(t){return Math.max(0,Math.min(1,t||0))}function j5(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Y$e=Math.PI/180,U$e=180/Math.PI,wy=18,eN=.96422,tN=1,nN=.82521,rN=4/29,kd=6/29,iN=3*kd*kd,j$e=kd*kd*kd;function sN(t){if(t instanceof La)return new La(t.l,t.a,t.b,t.opacity);if(t instanceof Sl)return oN(t);t instanceof Si||(t=KF(t));var e=K5(t.r),n=K5(t.g),r=K5(t.b),i=H5((.2225045*e+.7168786*n+.0606169*r)/tN),s,o;return e===n&&n===r?s=o=i:(s=H5((.4360747*e+.3850649*n+.1430804*r)/eN),o=H5((.0139322*e+.0971045*n+.7141733*r)/nN)),new La(116*i-16,500*(s-i),200*(i-o),t.opacity)}function H$e(t,e,n,r){return arguments.length===1?sN(t):new La(t,e,n,r==null?1:r)}function La(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}H1(La,H$e,L4(Dh,{brighter(t){return new La(this.l+wy*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new La(this.l-wy*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=eN*Z5(e),t=tN*Z5(t),n=nN*Z5(n),new Si(G5(3.1338561*e-1.6168667*t-.4906146*n),G5(-.9787684*e+1.9161415*t+.033454*n),G5(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function H5(t){return t>j$e?Math.pow(t,1/3):t/iN+rN}function Z5(t){return t>kd?t*t*t:iN*(t-rN)}function G5(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function K5(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Z$e(t){if(t instanceof Sl)return new Sl(t.h,t.c,t.l,t.opacity);if(t instanceof La||(t=sN(t)),t.a===0&&t.b===0)return new Sl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*U$e;return new Sl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ex(t,e,n,r){return arguments.length===1?Z$e(t):new Sl(t,e,n,r==null?1:r)}function Sl(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function oN(t){if(isNaN(t.h))return new La(t.l,0,0,t.opacity);var e=t.h*Y$e;return new La(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}H1(Sl,Ex,L4(Dh,{brighter(t){return new Sl(this.h,this.c,this.l+wy*(t==null?1:t),this.opacity)},darker(t){return new Sl(this.h,this.c,this.l-wy*(t==null?1:t),this.opacity)},rgb(){return oN(this).rgb()}}));const F4=t=>()=>t;function aN(t,e){return function(n){return t+n*e}}function G$e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function K$e(t,e){var n=e-t;return n?aN(t,n>180||n<-180?n-360*Math.round(n/360):n):F4(isNaN(t)?e:t)}function J$e(t){return(t=+t)==1?Jf:function(e,n){return n-e?G$e(e,n,t):F4(isNaN(e)?n:e)}}function Jf(t,e){var n=e-t;return n?aN(t,n):F4(isNaN(t)?e:t)}const _y=function t(e){var n=J$e(e);function r(i,s){var o=n((i=Dx(i)).r,(s=Dx(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Jf(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function eLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=v8(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function rLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $o(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iLe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=v8(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ax=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J5=new RegExp(Ax.source,"g");function sLe(t){return function(){return t}}function oLe(t){return function(e){return t(e)+""}}function lN(t,e){var n=Ax.lastIndex=J5.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Ax.exec(t))&&(i=J5.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:$o(r,i)})),n=J5.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?oLe(l[0].x):sLe(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)a[(d=l[h]).i]=d.x(u);return a.join("")})}function v8(t,e){var n=typeof e,r;return e==null||n==="boolean"?F4(e):(n==="number"?$o:n==="string"?(r=ph(e))?(e=r,_y):lN:e instanceof ph?_y:e instanceof Date?rLe:tLe(e)?eLe:Array.isArray(e)?nLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iLe:$o)(t,e)}function aLe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var TT=180/Math.PI,Mx={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cN(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*TT,skewX:Math.atan(l)*TT,scaleX:o,scaleY:a}}var Hm;function lLe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Mx:cN(e.a,e.b,e.c,e.d,e.e,e.f)}function cLe(t){return t==null||(Hm||(Hm=document.createElementNS("http://www.w3.org/2000/svg","g")),Hm.setAttribute("transform",t),!(t=Hm.transform.baseVal.consolidate()))?Mx:(t=t.matrix,cN(t.a,t.b,t.c,t.d,t.e,t.f))}function uN(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,h,d,f,p,m){if(u!==d||h!==f){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:$o(u,d)},{i:g-2,x:$o(h,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function o(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$o(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function a(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$o(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,f,p,m){if(u!==d||h!==f){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:$o(u,d)},{i:g-2,x:$o(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),s(u.translateX,u.translateY,h.translateX,h.translateY,d,f),o(u.rotate,h.rotate,d,f),a(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var m=-1,g=f.length,y;++m<g;)d[(y=f[m]).i]=y.x(p);return d.join("")}}}var uLe=uN(lLe,"px, ","px)","deg)"),hLe=uN(cLe,", ",")",")");function dLe(t){return function(e,n){var r=t((e=Ex(e)).h,(n=Ex(n)).h),i=Jf(e.c,n.c),s=Jf(e.l,n.l),o=Jf(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=s(a),e.opacity=o(a),e+""}}}const fLe=dLe(K$e);var Xd=0,kf=0,z0=0,hN=1e3,Sy,wf,Cy=0,mh=0,N4=0,Ip=typeof performance=="object"&&performance.now?performance:Date,dN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x8(){return mh||(dN(pLe),mh=Ip.now()+N4)}function pLe(){mh=0}function Ty(){this._call=this._time=this._next=null}Ty.prototype=fN.prototype={constructor:Ty,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?x8():+n)+(e==null?0:+e),!this._next&&wf!==this&&(wf?wf._next=this:Sy=this,wf=this),this._call=t,this._time=n,Px()},stop:function(){this._call&&(this._call=null,this._time=1/0,Px())}};function fN(t,e,n){var r=new Ty;return r.restart(t,e,n),r}function mLe(){x8(),++Xd;for(var t=Sy,e;t;)(e=mh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Xd}function DT(){mh=(Cy=Ip.now())+N4,Xd=kf=0;try{mLe()}finally{Xd=0,yLe(),mh=0}}function gLe(){var t=Ip.now(),e=t-Cy;e>hN&&(N4-=e,Cy=t)}function yLe(){for(var t,e=Sy,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Sy=n);wf=t,Px(r)}function Px(t){if(!Xd){kf&&(kf=clearTimeout(kf));var e=t-mh;e>24?(t<1/0&&(kf=setTimeout(DT,t-Ip.now()-N4)),z0&&(z0=clearInterval(z0))):(z0||(Cy=Ip.now(),z0=setInterval(gLe,hN)),Xd=1,dN(DT))}}function ET(t,e,n){var r=new Ty;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var bLe=RF("start","end","cancel","interrupt"),OLe=[],pN=0,AT=1,Bx=2,m2=3,MT=4,$x=5,g2=6;function I4(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vLe(t,n,{name:e,index:r,group:i,on:bLe,tween:OLe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:pN})}function k8(t,e){var n=Jo(t,e);if(n.state>pN)throw new Error("too late; already scheduled");return n}function ja(t,e){var n=Jo(t,e);if(n.state>m2)throw new Error("too late; already running");return n}function Jo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vLe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=fN(s,0,n.time);function s(u){n.state=AT,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,d,f,p;if(n.state!==AT)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===m2)return ET(o);p.state===MT?(p.state=g2,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=g2,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(ET(function(){n.state===m2&&(n.state=MT,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Bx,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bx){for(n.state=m2,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=$x,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);n.state===$x&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=g2,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function xLe(t,e){var n=t.__transition,r,i,s=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Bx&&r.state<$x,r.state=g2,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function kLe(t){return this.each(function(){xLe(this,t)})}function wLe(t,e){var n,r;return function(){var i=ja(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function _Le(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ja(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function SLe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Jo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?wLe:_Le)(n,t,e))}function w8(t,e,n){var r=t._id;return t.each(function(){var i=ja(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Jo(i,r).value[e]}}function mN(t,e){var n;return(typeof e=="number"?$o:e instanceof ph?_y:(n=ph(e))?(e=n,_y):lN)(t,e)}function CLe(t){return function(){this.removeAttribute(t)}}function TLe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function DLe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ELe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ALe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function MLe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function PLe(t,e){var n=$4(t),r=n==="transform"?hLe:mN;return this.attrTween(t,typeof e=="function"?(n.local?MLe:ALe)(n,r,w8(this,"attr."+t,e)):e==null?(n.local?TLe:CLe)(n):(n.local?ELe:DLe)(n,r,e))}function BLe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $Le(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function LLe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&$Le(t,s)),n}return i._value=e,i}function FLe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&BLe(t,s)),n}return i._value=e,i}function NLe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$4(t);return this.tween(n,(r.local?LLe:FLe)(r,e))}function ILe(t,e){return function(){k8(this,t).delay=+e.apply(this,arguments)}}function RLe(t,e){return e=+e,function(){k8(this,t).delay=e}}function QLe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ILe:RLe)(e,t)):Jo(this.node(),e).delay}function zLe(t,e){return function(){ja(this,t).duration=+e.apply(this,arguments)}}function VLe(t,e){return e=+e,function(){ja(this,t).duration=e}}function WLe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zLe:VLe)(e,t)):Jo(this.node(),e).duration}function qLe(t,e){if(typeof e!="function")throw new Error;return function(){ja(this,t).ease=e}}function XLe(t){var e=this._id;return arguments.length?this.each(qLe(e,t)):Jo(this.node(),e).ease}function YLe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ja(this,t).ease=n}}function ULe(t){if(typeof t!="function")throw new Error;return this.each(YLe(this._id,t))}function jLe(t){typeof t!="function"&&(t=WF(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ql(r,this._parents,this._name,this._id)}function HLe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],h=l.length,d=o[a]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;a<r;++a)o[a]=e[a];return new ql(o,this._parents,this._name,this._id)}function ZLe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function GLe(t,e,n){var r,i,s=ZLe(e)?k8:ja;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function KLe(t,e){var n=this._id;return arguments.length<2?Jo(this.node(),n).on.on(t):this.each(GLe(n,t,e))}function JLe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function eFe(){return this.on("end.remove",JLe(this._id))}function tFe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=g8(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),h,d,f=0;f<l;++f)(h=a[f])&&(d=t.call(h,h.__data__,f,a))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,I4(u[f],e,n,f,u,Jo(h,n)));return new ql(s,this._parents,e,n)}function nFe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=VF(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),p,m=Jo(h,n),g=0,y=f.length;g<y;++g)(p=f[g])&&I4(p,e,n,g,f,m);s.push(f),o.push(h)}return new ql(s,o,e,n)}var rFe=j1.prototype.constructor;function iFe(){return new rFe(this._groups,this._parents)}function sFe(t,e){var n,r,i;return function(){var s=qd(this,t),o=(this.style.removeProperty(t),qd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function gN(t){return function(){this.style.removeProperty(t)}}function oFe(t,e,n){var r,i=n+"",s;return function(){var o=qd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function aFe(t,e,n){var r,i,s;return function(){var o=qd(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),qd(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function lFe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=ja(this,t),u=l.on,h=l.value[s]==null?a||(a=gN(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(o,i=h),l.on=r}}function cFe(t,e,n){var r=(t+="")=="transform"?uLe:mN;return e==null?this.styleTween(t,sFe(t,r)).on("end.style."+t,gN(t)):typeof e=="function"?this.styleTween(t,aFe(t,r,w8(this,"style."+t,e))).each(lFe(this._id,t)):this.styleTween(t,oFe(t,r,e),n).on("end.style."+t,null)}function uFe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function hFe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&uFe(t,o,n)),r}return s._value=e,s}function dFe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,hFe(t,e,n==null?"":n))}function fFe(t){return function(){this.textContent=t}}function pFe(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function mFe(t){return this.tween("text",typeof t=="function"?pFe(w8(this,"text",t)):fFe(t==null?"":t+""))}function gFe(t){return function(e){this.textContent=t.call(this,e)}}function yFe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&gFe(i)),e}return r._value=t,r}function bFe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yFe(t))}function OFe(){for(var t=this._name,e=this._id,n=yN(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var h=Jo(l,e);I4(l,t,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ql(r,this._parents,t,n)}function vFe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=ja(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var xFe=0;function ql(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function yN(){return++xFe}var ol=j1.prototype;ql.prototype={constructor:ql,select:tFe,selectAll:nFe,selectChild:ol.selectChild,selectChildren:ol.selectChildren,filter:jLe,merge:HLe,selection:iFe,transition:OFe,call:ol.call,nodes:ol.nodes,node:ol.node,size:ol.size,empty:ol.empty,each:ol.each,on:KLe,attr:PLe,attrTween:NLe,style:cFe,styleTween:dFe,text:mFe,textTween:bFe,remove:eFe,tween:SLe,delay:QLe,duration:WLe,ease:XLe,easeVarying:ULe,end:vFe,[Symbol.iterator]:ol[Symbol.iterator]};function kFe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wFe={time:null,delay:0,duration:250,ease:kFe};function _Fe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function SFe(t){var e,n;t instanceof ql?(e=t._id,t=t._name):(e=yN(),(n=wFe).time=x8(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&I4(l,t,e,u,o,n||_Fe(l,e));return new ql(r,this._parents,t,e)}j1.prototype.interrupt=kLe;j1.prototype.transition=SFe;const Lx=Math.PI,Fx=2*Lx,Au=1e-6,CFe=Fx-Au;function bN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TFe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bN;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DFe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bN:TFe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,h=o-e,d=a-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Au)if(!(Math.abs(d*l-u*h)>Au)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-a,g=l*l+u*u,y=p*p+m*m,b=Math.sqrt(g),O=Math.sqrt(f),w=s*Math.tan((Lx-Math.acos((g+f-y)/(2*b*O)))/2),D=w/O,C=w/b;Math.abs(D-1)>Au&&this._append`L${e+D*h},${n+D*d}`,this._append`A${s},${s},0,0,${+(d*p>h*m)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,h=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Au||Math.abs(this._y1-h)>Au)&&this._append`L${u},${h}`,r&&(f<0&&(f=f%Fx+Fx),f>CFe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:f>Au&&this._append`A${r},${r},0,${+(f>=Lx)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function EFe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function AFe(t,e){return fetch(t,e).then(EFe)}function MFe(t){return(e,n)=>AFe(e,n).then(r=>new DOMParser().parseFromString(r,t))}var PFe=MFe("image/svg+xml");function BFe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yd(t){return t=Dy(Math.abs(t)),t?t[1]:NaN}function $Fe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function LFe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var FFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ey(t){if(!(e=FFe.exec(t)))throw new Error("invalid format: "+t);var e;return new _8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ey.prototype=_8.prototype;function _8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NFe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ON;function IFe(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ON=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Dy(t,Math.max(0,e+s-1))[0]}function PT(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:BFe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PT(t*100,e),r:PT,s:IFe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $T(t){return t}var LT=Array.prototype.map,FT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function RFe(t){var e=t.grouping===void 0||t.thousands===void 0?$T:$Fe(LT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$T:LFe(LT.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ey(d);var f=d.fill,p=d.align,m=d.sign,g=d.symbol,y=d.zero,b=d.width,O=d.comma,w=d.precision,D=d.trim,C=d.type;C==="n"?(O=!0,C="g"):BT[C]||(w===void 0&&(w=12),D=!0,C="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=g==="$"?r:/[%p]/.test(C)?o:"",P=BT[C],M=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(A){var _=T,L=E,v,q,x;if(C==="c")L=P(A)+L,A="";else{A=+A;var X=A<0||1/A<0;if(A=isNaN(A)?l:P(Math.abs(A),w),D&&(A=NFe(A)),X&&+A==0&&m!=="+"&&(X=!1),_=(X?m==="("?m:a:m==="-"||m==="("?"":m)+_,L=(C==="s"?FT[8+ON/3]:"")+L+(X&&m==="("?")":""),M){for(v=-1,q=A.length;++v<q;)if(x=A.charCodeAt(v),48>x||x>57){L=(x===46?i+A.slice(v+1):A.slice(v))+L,A=A.slice(0,v);break}}}O&&!y&&(A=e(A,1/0));var de=_.length+A.length+L.length,H=de<b?new Array(b-de+1).join(f):"";switch(O&&y&&(A=e(H+A,H.length?b-L.length:1/0),H=""),p){case"<":A=_+A+L+H;break;case"=":A=_+H+A+L;break;case"^":A=H.slice(0,de=H.length>>1)+_+A+L+H.slice(de);break;default:A=H+_+A+L;break}return s(A)}return $.toString=function(){return d+""},$}function h(d,f){var p=u((d=Ey(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Yd(f)/3)))*3,g=Math.pow(10,-m),y=FT[8+m/3];return function(b){return p(g*b)+y}}return{format:u,formatPrefix:h}}var Zm,vN,xN;QFe({thousands:",",grouping:[3],currency:["$",""]});function QFe(t){return Zm=RFe(t),vN=Zm.format,xN=Zm.formatPrefix,Zm}function zFe(t){return Math.max(0,-Yd(Math.abs(t)))}function VFe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yd(e)/3)))*3-Yd(Math.abs(t)))}function WFe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yd(e)-Yd(t))+1}function S8(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const NT=Symbol("implicit");function kN(){var t=new pT,e=[],n=[],r=NT;function i(s){let o=t.get(s);if(o===void 0){if(r!==NT)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new pT;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kN(e,n).unknown(r)},S8.apply(i,arguments),i}function qFe(t){return function(){return t}}function XFe(t){return+t}var IT=[0,1];function nd(t){return t}function Nx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qFe(isNaN(e)?NaN:.5)}function YFe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function UFe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Nx(i,r),s=n(o,s)):(r=Nx(r,i),s=n(s,o)),function(a){return s(r(a))}}function jFe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Nx(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=NPe(t,a,1,r)-1;return s[l](i[l](a))}}function wN(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function HFe(){var t=IT,e=IT,n=v8,r,i,s,o=nd,a,l,u;function h(){var f=Math.min(t.length,e.length);return o!==nd&&(o=YFe(t[0],t[f-1])),a=f>2?jFe:UFe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(e,t.map(r),$o)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,XFe),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=aLe,h()},d.clamp=function(f){return arguments.length?(o=f?!0:nd,h()):o!==nd},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,h()}}function _N(){return HFe()(nd,nd)}function ZFe(t,e,n,r){var i=Sx(t,e,n),s;switch(r=Ey(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=VFe(i,o))&&(r.precision=s),xN(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=WFe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=zFe(i))&&(r.precision=s-(r.type==="%")*2);break}}return vN(r)}function GFe(t){var e=t.domain;return t.ticks=function(n){var r=e();return qPe(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return ZFe(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,h=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);h-- >0;){if(u=_x(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function SN(){var t=_N();return t.copy=function(){return wN(t,SN())},S8.apply(t,arguments),GFe(t)}function KFe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}const eO=new Date,tO=new Date;function zr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>zr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(eO.setTime(+s),tO.setTime(+o),t(eO),t(tO),Math.floor(n(eO,tO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ay=zr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ay.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ay);Ay.range;const Cl=1e3,co=Cl*60,Tl=co*60,Xl=Tl*24,C8=Xl*7,RT=Xl*30,nO=Xl*365,rd=zr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCSeconds());rd.range;const Rp=zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)},(t,e)=>{t.setTime(+t+e*co)},(t,e)=>(e-t)/co,t=>t.getMinutes());Rp.range;const CN=zr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*co)},(t,e)=>(e-t)/co,t=>t.getUTCMinutes());CN.range;const Qp=zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*co)},(t,e)=>{t.setTime(+t+e*Tl)},(t,e)=>(e-t)/Tl,t=>t.getHours());Qp.range;const TN=zr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Tl)},(t,e)=>(e-t)/Tl,t=>t.getUTCHours());TN.range;const gh=zr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*co)/Xl,t=>t.getDate()-1);gh.range;const T8=zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xl,t=>t.getUTCDate()-1);T8.range;const DN=zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xl,t=>Math.floor(t/Xl));DN.range;function Eh(t){return zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*co)/C8)}const Ud=Eh(0),My=Eh(1),JFe=Eh(2),eNe=Eh(3),jd=Eh(4),tNe=Eh(5),nNe=Eh(6);Ud.range;My.range;JFe.range;eNe.range;jd.range;tNe.range;nNe.range;function Ah(t){return zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/C8)}const D8=Ah(0),Py=Ah(1),rNe=Ah(2),iNe=Ah(3),Hd=Ah(4),sNe=Ah(5),oNe=Ah(6);D8.range;Py.range;rNe.range;iNe.range;Hd.range;sNe.range;oNe.range;const zp=zr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zp.range;const EN=zr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EN.range;const Yl=zr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Yl.range;const Jc=zr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Jc.range;function AN(t,e,n,r,i,s){const o=[[rd,1,Cl],[rd,5,5*Cl],[rd,15,15*Cl],[rd,30,30*Cl],[s,1,co],[s,5,5*co],[s,15,15*co],[s,30,30*co],[i,1,Tl],[i,3,3*Tl],[i,6,6*Tl],[i,12,12*Tl],[r,1,Xl],[r,2,2*Xl],[n,1,C8],[e,1,RT],[e,3,3*RT],[t,1,nO]];function a(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:l(u,h,d),m=p?p.range(u,+h+1):[];return f?m.reverse():m}function l(u,h,d){const f=Math.abs(h-u)/d,p=m8(([,,y])=>y).right(o,f);if(p===o.length)return t.every(Sx(u/nO,h/nO,d));if(p===0)return Ay.every(Math.max(Sx(u,h,d),1));const[m,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(g)}return[a,l]}AN(Jc,EN,D8,DN,TN,CN);const[aNe,lNe]=AN(Yl,zp,Ud,gh,Qp,Rp);function rO(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iO(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function V0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cNe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=W0(i),h=q0(i),d=W0(s),f=q0(s),p=W0(o),m=q0(o),g=W0(a),y=q0(a),b=W0(l),O=q0(l),w={a:X,A:de,b:H,B:G,c:null,d:XT,e:XT,f:PNe,g:VNe,G:qNe,H:ENe,I:ANe,j:MNe,L:MN,m:BNe,M:$Ne,p:F,q:B,Q:jT,s:HT,S:LNe,u:FNe,U:NNe,V:INe,w:RNe,W:QNe,x:null,X:null,y:zNe,Y:WNe,Z:XNe,"%":UT},D={a:ae,A:be,b:ye,B:Z,c:null,d:YT,e:YT,f:HNe,g:sIe,G:aIe,H:YNe,I:UNe,j:jNe,L:BN,m:ZNe,M:GNe,p:Qe,q:ne,Q:jT,s:HT,S:KNe,u:JNe,U:eIe,V:tIe,w:nIe,W:rIe,x:null,X:null,y:iIe,Y:oIe,Z:lIe,"%":UT},C={a:$,A,b:_,B:L,c:v,d:WT,e:WT,f:SNe,g:VT,G:zT,H:qT,I:qT,j:xNe,L:_Ne,m:vNe,M:kNe,p:M,q:ONe,Q:TNe,s:DNe,S:wNe,u:pNe,U:mNe,V:gNe,w:fNe,W:yNe,x:q,X:x,y:VT,Y:zT,Z:bNe,"%":CNe};w.x=T(n,w),w.X=T(r,w),w.c=T(e,w),D.x=T(n,D),D.X=T(r,D),D.c=T(e,D);function T(se,ee){return function(J){var z=[],W=-1,te=0,Q=se.length,me,I,ge;for(J instanceof Date||(J=new Date(+J));++W<Q;)se.charCodeAt(W)===37&&(z.push(se.slice(te,W)),(I=QT[me=se.charAt(++W)])!=null?me=se.charAt(++W):I=me==="e"?" ":"0",(ge=ee[me])&&(me=ge(J,I)),z.push(me),te=W+1);return z.push(se.slice(te,W)),z.join("")}}function E(se,ee){return function(J){var z=V0(1900,void 0,1),W=P(z,se,J+="",0),te,Q;if(W!=J.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ee&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(te=iO(V0(z.y,0,1)),Q=te.getUTCDay(),te=Q>4||Q===0?Py.ceil(te):Py(te),te=T8.offset(te,(z.V-1)*7),z.y=te.getUTCFullYear(),z.m=te.getUTCMonth(),z.d=te.getUTCDate()+(z.w+6)%7):(te=rO(V0(z.y,0,1)),Q=te.getDay(),te=Q>4||Q===0?My.ceil(te):My(te),te=gh.offset(te,(z.V-1)*7),z.y=te.getFullYear(),z.m=te.getMonth(),z.d=te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Q="Z"in z?iO(V0(z.y,0,1)).getUTCDay():rO(V0(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Q+5)%7:z.w+z.U*7-(Q+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,iO(z)):rO(z)}}function P(se,ee,J,z){for(var W=0,te=ee.length,Q=J.length,me,I;W<te;){if(z>=Q)return-1;if(me=ee.charCodeAt(W++),me===37){if(me=ee.charAt(W++),I=C[me in QT?ee.charAt(W++):me],!I||(z=I(se,J,z))<0)return-1}else if(me!=J.charCodeAt(z++))return-1}return z}function M(se,ee,J){var z=u.exec(ee.slice(J));return z?(se.p=h.get(z[0].toLowerCase()),J+z[0].length):-1}function $(se,ee,J){var z=p.exec(ee.slice(J));return z?(se.w=m.get(z[0].toLowerCase()),J+z[0].length):-1}function A(se,ee,J){var z=d.exec(ee.slice(J));return z?(se.w=f.get(z[0].toLowerCase()),J+z[0].length):-1}function _(se,ee,J){var z=b.exec(ee.slice(J));return z?(se.m=O.get(z[0].toLowerCase()),J+z[0].length):-1}function L(se,ee,J){var z=g.exec(ee.slice(J));return z?(se.m=y.get(z[0].toLowerCase()),J+z[0].length):-1}function v(se,ee,J){return P(se,e,ee,J)}function q(se,ee,J){return P(se,n,ee,J)}function x(se,ee,J){return P(se,r,ee,J)}function X(se){return o[se.getDay()]}function de(se){return s[se.getDay()]}function H(se){return l[se.getMonth()]}function G(se){return a[se.getMonth()]}function F(se){return i[+(se.getHours()>=12)]}function B(se){return 1+~~(se.getMonth()/3)}function ae(se){return o[se.getUTCDay()]}function be(se){return s[se.getUTCDay()]}function ye(se){return l[se.getUTCMonth()]}function Z(se){return a[se.getUTCMonth()]}function Qe(se){return i[+(se.getUTCHours()>=12)]}function ne(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ee=T(se+="",w);return ee.toString=function(){return se},ee},parse:function(se){var ee=E(se+="",!1);return ee.toString=function(){return se},ee},utcFormat:function(se){var ee=T(se+="",D);return ee.toString=function(){return se},ee},utcParse:function(se){var ee=E(se+="",!0);return ee.toString=function(){return se},ee}}}var QT={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,uNe=/^%/,hNe=/[\\^$*+?|[\]().{}]/g;function hn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function dNe(t){return t.replace(hNe,"\\$&")}function W0(t){return new RegExp("^(?:"+t.map(dNe).join("|")+")","i")}function q0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fNe(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pNe(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zT(t,e,n){var r=Gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VT(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bNe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ONe(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WT(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xNe(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qT(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wNe(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _Ne(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function SNe(t,e,n){var r=Gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function CNe(t,e,n){var r=uNe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function TNe(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function DNe(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XT(t,e){return hn(t.getDate(),e,2)}function ENe(t,e){return hn(t.getHours(),e,2)}function ANe(t,e){return hn(t.getHours()%12||12,e,2)}function MNe(t,e){return hn(1+gh.count(Yl(t),t),e,3)}function MN(t,e){return hn(t.getMilliseconds(),e,3)}function PNe(t,e){return MN(t,e)+"000"}function BNe(t,e){return hn(t.getMonth()+1,e,2)}function $Ne(t,e){return hn(t.getMinutes(),e,2)}function LNe(t,e){return hn(t.getSeconds(),e,2)}function FNe(t){var e=t.getDay();return e===0?7:e}function NNe(t,e){return hn(Ud.count(Yl(t)-1,t),e,2)}function PN(t){var e=t.getDay();return e>=4||e===0?jd(t):jd.ceil(t)}function INe(t,e){return t=PN(t),hn(jd.count(Yl(t),t)+(Yl(t).getDay()===4),e,2)}function RNe(t){return t.getDay()}function QNe(t,e){return hn(My.count(Yl(t)-1,t),e,2)}function zNe(t,e){return hn(t.getFullYear()%100,e,2)}function VNe(t,e){return t=PN(t),hn(t.getFullYear()%100,e,2)}function WNe(t,e){return hn(t.getFullYear()%1e4,e,4)}function qNe(t,e){var n=t.getDay();return t=n>=4||n===0?jd(t):jd.ceil(t),hn(t.getFullYear()%1e4,e,4)}function XNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hn(e/60|0,"0",2)+hn(e%60,"0",2)}function YT(t,e){return hn(t.getUTCDate(),e,2)}function YNe(t,e){return hn(t.getUTCHours(),e,2)}function UNe(t,e){return hn(t.getUTCHours()%12||12,e,2)}function jNe(t,e){return hn(1+T8.count(Jc(t),t),e,3)}function BN(t,e){return hn(t.getUTCMilliseconds(),e,3)}function HNe(t,e){return BN(t,e)+"000"}function ZNe(t,e){return hn(t.getUTCMonth()+1,e,2)}function GNe(t,e){return hn(t.getUTCMinutes(),e,2)}function KNe(t,e){return hn(t.getUTCSeconds(),e,2)}function JNe(t){var e=t.getUTCDay();return e===0?7:e}function eIe(t,e){return hn(D8.count(Jc(t)-1,t),e,2)}function $N(t){var e=t.getUTCDay();return e>=4||e===0?Hd(t):Hd.ceil(t)}function tIe(t,e){return t=$N(t),hn(Hd.count(Jc(t),t)+(Jc(t).getUTCDay()===4),e,2)}function nIe(t){return t.getUTCDay()}function rIe(t,e){return hn(Py.count(Jc(t)-1,t),e,2)}function iIe(t,e){return hn(t.getUTCFullYear()%100,e,2)}function sIe(t,e){return t=$N(t),hn(t.getUTCFullYear()%100,e,2)}function oIe(t,e){return hn(t.getUTCFullYear()%1e4,e,4)}function aIe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hd(t):Hd.ceil(t),hn(t.getUTCFullYear()%1e4,e,4)}function lIe(){return"+0000"}function UT(){return"%"}function jT(t){return+t}function HT(t){return Math.floor(+t/1e3)}var Ih,By;cIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cIe(t){return Ih=cNe(t),By=Ih.format,Ih.parse,Ih.utcFormat,Ih.utcParse,Ih}function uIe(t){return new Date(t)}function hIe(t){return t instanceof Date?+t:+new Date(+t)}function LN(t,e,n,r,i,s,o,a,l,u){var h=_N(),d=h.invert,f=h.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),O=u("%b %d"),w=u("%B"),D=u("%Y");function C(T){return(l(T)<T?p:a(T)<T?m:o(T)<T?g:s(T)<T?y:r(T)<T?i(T)<T?b:O:n(T)<T?w:D)(T)}return h.invert=function(T){return new Date(d(T))},h.domain=function(T){return arguments.length?f(Array.from(T,hIe)):f().map(uIe)},h.ticks=function(T){var E=f();return t(E[0],E[E.length-1],T==null?10:T)},h.tickFormat=function(T,E){return E==null?C:u(E)},h.nice=function(T){var E=f();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T==null?10:T)),T?f(KFe(E,T)):h},h.copy=function(){return wN(h,LN(t,e,n,r,i,s,o,a,l,u))},h}function dIe(){return S8.apply(LN(aNe,lNe,Yl,zp,Ud,gh,Qp,Rp,rd,By).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function or(t){return function(){return t}}const ZT=Math.abs,fi=Math.atan2,wu=Math.cos,fIe=Math.max,sO=Math.min,oa=Math.sin,id=Math.sqrt,gi=1e-12,Vp=Math.PI,$y=Vp/2,y2=2*Vp;function pIe(t){return t>1?0:t<-1?Vp:Math.acos(t)}function GT(t){return t>=1?$y:t<=-1?-$y:Math.asin(t)}function FN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new DFe(e)}function mIe(t){return t.innerRadius}function gIe(t){return t.outerRadius}function yIe(t){return t.startAngle}function bIe(t){return t.endAngle}function OIe(t){return t&&t.padAngle}function vIe(t,e,n,r,i,s,o,a){var l=n-t,u=r-e,h=o-i,d=a-s,f=d*l-h*u;if(!(f*f<gi))return f=(h*(e-s)-d*(t-i))/f,[t+f*l,e+f*u]}function Gm(t,e,n,r,i,s,o){var a=t-n,l=e-r,u=(o?s:-s)/id(a*a+l*l),h=u*l,d=-u*a,f=t+h,p=e+d,m=n+h,g=r+d,y=(f+m)/2,b=(p+g)/2,O=m-f,w=g-p,D=O*O+w*w,C=i-s,T=f*g-m*p,E=(w<0?-1:1)*id(fIe(0,C*C*D-T*T)),P=(T*w-O*E)/D,M=(-T*O-w*E)/D,$=(T*w+O*E)/D,A=(-T*O+w*E)/D,_=P-y,L=M-b,v=$-y,q=A-b;return _*_+L*L>v*v+q*q&&(P=$,M=A),{cx:P,cy:M,x01:-h,y01:-d,x11:P*(i/C-1),y11:M*(i/C-1)}}function Ix(){var t=mIe,e=gIe,n=or(0),r=null,i=yIe,s=bIe,o=OIe,a=null,l=FN(u);function u(){var h,d,f=+t.apply(this,arguments),p=+e.apply(this,arguments),m=i.apply(this,arguments)-$y,g=s.apply(this,arguments)-$y,y=ZT(g-m),b=g>m;if(a||(a=h=l()),p<f&&(d=p,p=f,f=d),!(p>gi))a.moveTo(0,0);else if(y>y2-gi)a.moveTo(p*wu(m),p*oa(m)),a.arc(0,0,p,m,g,!b),f>gi&&(a.moveTo(f*wu(g),f*oa(g)),a.arc(0,0,f,g,m,b));else{var O=m,w=g,D=m,C=g,T=y,E=y,P=o.apply(this,arguments)/2,M=P>gi&&(r?+r.apply(this,arguments):id(f*f+p*p)),$=sO(ZT(p-f)/2,+n.apply(this,arguments)),A=$,_=$,L,v;if(M>gi){var q=GT(M/f*oa(P)),x=GT(M/p*oa(P));(T-=q*2)>gi?(q*=b?1:-1,D+=q,C-=q):(T=0,D=C=(m+g)/2),(E-=x*2)>gi?(x*=b?1:-1,O+=x,w-=x):(E=0,O=w=(m+g)/2)}var X=p*wu(O),de=p*oa(O),H=f*wu(C),G=f*oa(C);if($>gi){var F=p*wu(w),B=p*oa(w),ae=f*wu(D),be=f*oa(D),ye;if(y<Vp)if(ye=vIe(X,de,ae,be,F,B,H,G)){var Z=X-ye[0],Qe=de-ye[1],ne=F-ye[0],se=B-ye[1],ee=1/oa(pIe((Z*ne+Qe*se)/(id(Z*Z+Qe*Qe)*id(ne*ne+se*se)))/2),J=id(ye[0]*ye[0]+ye[1]*ye[1]);A=sO($,(f-J)/(ee-1)),_=sO($,(p-J)/(ee+1))}else A=_=0}E>gi?_>gi?(L=Gm(ae,be,X,de,p,_,b),v=Gm(F,B,H,G,p,_,b),a.moveTo(L.cx+L.x01,L.cy+L.y01),_<$?a.arc(L.cx,L.cy,_,fi(L.y01,L.x01),fi(v.y01,v.x01),!b):(a.arc(L.cx,L.cy,_,fi(L.y01,L.x01),fi(L.y11,L.x11),!b),a.arc(0,0,p,fi(L.cy+L.y11,L.cx+L.x11),fi(v.cy+v.y11,v.cx+v.x11),!b),a.arc(v.cx,v.cy,_,fi(v.y11,v.x11),fi(v.y01,v.x01),!b))):(a.moveTo(X,de),a.arc(0,0,p,O,w,!b)):a.moveTo(X,de),!(f>gi)||!(T>gi)?a.lineTo(H,G):A>gi?(L=Gm(H,G,F,B,f,-A,b),v=Gm(X,de,ae,be,f,-A,b),a.lineTo(L.cx+L.x01,L.cy+L.y01),A<$?a.arc(L.cx,L.cy,A,fi(L.y01,L.x01),fi(v.y01,v.x01),!b):(a.arc(L.cx,L.cy,A,fi(L.y01,L.x01),fi(L.y11,L.x11),!b),a.arc(0,0,f,fi(L.cy+L.y11,L.cx+L.x11),fi(v.cy+v.y11,v.cx+v.x11),b),a.arc(v.cx,v.cy,A,fi(v.y11,v.x11),fi(v.y01,v.x01),!b))):a.arc(0,0,f,C,D,b)}if(a.closePath(),h)return a=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Vp/2;return[wu(d)*h,oa(d)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:or(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:or(+h),u):e},u.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:or(+h),u):n},u.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:or(+h),u):r},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:or(+h),u):i},u.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:or(+h),u):s},u.padAngle=function(h){return arguments.length?(o=typeof h=="function"?h:or(+h),u):o},u.context=function(h){return arguments.length?(a=h==null?null:h,u):a},u}function NN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IN(t){this._context=t}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $s(t){return new IN(t)}function xIe(t){return t[0]}function kIe(t){return t[1]}function T0(t,e){var n=or(!0),r=null,i=$s,s=null,o=FN(a);t=typeof t=="function"?t:t===void 0?xIe:or(t),e=typeof e=="function"?e:e===void 0?kIe:or(e);function a(l){var u,h=(l=NN(l)).length,d,f=!1,p;for(r==null&&(s=i(p=o())),u=0;u<=h;++u)!(u<h&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,u,l),+e(d,u,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:or(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:or(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:or(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function wIe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function _Ie(t){return t}function SIe(){var t=_Ie,e=wIe,n=null,r=or(0),i=or(y2),s=or(0);function o(a){var l,u=(a=NN(a)).length,h,d,f=0,p=new Array(u),m=new Array(u),g=+r.apply(this,arguments),y=Math.min(y2,Math.max(-y2,i.apply(this,arguments)-g)),b,O=Math.min(Math.abs(y)/u,s.apply(this,arguments)),w=O*(y<0?-1:1),D;for(l=0;l<u;++l)(D=m[p[l]=l]=+t(a[l],l,a))>0&&(f+=D);for(e!=null?p.sort(function(C,T){return e(m[C],m[T])}):n!=null&&p.sort(function(C,T){return n(a[C],a[T])}),l=0,d=f?(y-u*w)/f:0;l<u;++l,g=b)h=p[l],D=m[h],b=g+(D>0?D*d:0)+w,m[h]={data:a[h],index:l,value:D,startAngle:g,endAngle:b,padAngle:O};return m}return o.value=function(a){return arguments.length?(t=typeof a=="function"?a:or(+a),o):t},o.sortValues=function(a){return arguments.length?(e=a,n=null,o):e},o.sort=function(a){return arguments.length?(n=a,e=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:or(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:or(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:or(+a),o):s},o}class RN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function CIe(t){return new RN(t,!0)}function TIe(t){return new RN(t,!1)}function eu(){}function Ly(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zd(t){return new R4(t)}function QN(t){this._context=t}QN.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DIe(t){return new QN(t)}function zN(t){this._context=t}zN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EIe(t){return new zN(t)}function VN(t,e){this._basis=new R4(t),this._beta=e}VN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+l*s),this._beta*e[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const AIe=function t(e){function n(r){return e===1?new R4(r):new VN(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Fy(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function E8(t,e){this._context=t,this._k=(1-e)/6}E8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const MIe=function t(e){function n(r){return new E8(r,e)}return n.tension=function(r){return t(+r)},n}(0);function A8(t,e){this._context=t,this._k=(1-e)/6}A8.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PIe=function t(e){function n(r){return new A8(r,e)}return n.tension=function(r){return t(+r)},n}(0);function M8(t,e){this._context=t,this._k=(1-e)/6}M8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const BIe=function t(e){function n(r){return new M8(r,e)}return n.tension=function(r){return t(+r)},n}(0);function P8(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>gi){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>gi){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function WN(t,e){this._context=t,this._alpha=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:P8(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $Ie=function t(e){function n(r){return e?new WN(r,e):new E8(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function qN(t,e){this._context=t,this._alpha=e}qN.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:P8(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LIe=function t(e){function n(r){return e?new qN(r,e):new A8(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function XN(t,e){this._context=t,this._alpha=e}XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:P8(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const FIe=function t(e){function n(r){return e?new XN(r,e):new M8(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function YN(t){this._context=t}YN.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NIe(t){return new YN(t)}function KT(t){return t<0?-1:1}function JT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(KT(s)+KT(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function eD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function oO(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function Ny(t){this._context=t}Ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oO(this,this._t0,eD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,oO(this,eD(this,n=JT(this,t,e)),n);break;default:oO(this,this._t0,n=JT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UN(t){this._context=new jN(t)}(UN.prototype=Object.create(Ny.prototype)).point=function(t,e){Ny.prototype.point.call(this,e,t)};function jN(t){this._context=t}jN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function IIe(t){return new Ny(t)}function RIe(t){return new UN(t)}function HN(t){this._context=t}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tD(t),i=tD(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function QIe(t){return new HN(t)}function Q4(t,e){this._context=t,this._t=e}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function zIe(t){return new Q4(t,.5)}function VIe(t){return new Q4(t,0)}function WIe(t){return new Q4(t,1)}function sd(t,e,n){this.k=t,this.x=e,this.y=n}sd.prototype={constructor:sd,scale:function(t){return t===1?this:new sd(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new sd(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new sd(1,0,0);sd.prototype;/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */function vc(t){return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Rx(t,e){return Rx=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Rx(t,e)}function qIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b2(t,e,n){return qIe()?b2=Reflect.construct:b2=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&Rx(u,o.prototype),u},b2.apply(null,arguments)}function Mo(t){return XIe(t)||YIe(t)||UIe(t)||jIe()}function XIe(t){if(Array.isArray(t))return Qx(t)}function YIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UIe(t,e){if(!!t){if(typeof t=="string")return Qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(t,e)}}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HIe=Object.hasOwnProperty,nD=Object.setPrototypeOf,ZIe=Object.isFrozen,GIe=Object.getPrototypeOf,KIe=Object.getOwnPropertyDescriptor,Hi=Object.freeze,Zo=Object.seal,JIe=Object.create,ZN=typeof Reflect<"u"&&Reflect,Iy=ZN.apply,zx=ZN.construct;Iy||(Iy=function(e,n,r){return e.apply(n,r)});Hi||(Hi=function(e){return e});Zo||(Zo=function(e){return e});zx||(zx=function(e,n){return b2(e,Mo(n))});var eRe=xo(Array.prototype.forEach),rD=xo(Array.prototype.pop),X0=xo(Array.prototype.push),O2=xo(String.prototype.toLowerCase),aO=xo(String.prototype.toString),tRe=xo(String.prototype.match),Do=xo(String.prototype.replace),nRe=xo(String.prototype.indexOf),rRe=xo(String.prototype.trim),Bi=xo(RegExp.prototype.test),lO=iRe(TypeError);function xo(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Iy(t,e,r)}}function iRe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zx(t,n)}}function Kt(t,e,n){n=n||O2,nD&&nD(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var s=n(i);s!==i&&(ZIe(e)||(e[r]=s),i=s)}t[i]=!0}return t}function _u(t){var e=JIe(null),n;for(n in t)Iy(HIe,t,[n])===!0&&(e[n]=t[n]);return e}function Km(t,e){for(;t!==null;){var n=KIe(t,e);if(n){if(n.get)return xo(n.get);if(typeof n.value=="function")return xo(n.value)}t=GIe(t)}function r(i){return console.warn("fallback value for",i),null}return r}var iD=Hi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cO=Hi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uO=Hi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sRe=Hi(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hO=Hi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),oRe=Hi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sD=Hi(["#text"]),oD=Hi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),dO=Hi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aD=Hi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jm=Hi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aRe=Zo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lRe=Zo(/<%[\w\W]*|[\w\W]*%>/gm),cRe=Zo(/\${[\w\W]*}/gm),uRe=Zo(/^data-[\-\w.\u00B7-\uFFFF]/),hRe=Zo(/^aria-[\-\w]+$/),dRe=Zo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fRe=Zo(/^(?:\w+script|data):/i),pRe=Zo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mRe=Zo(/^html$/i),gRe=function(){return typeof window>"u"?null:window},yRe=function(e,n){if(vc(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function GN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gRe(),e=function(oe){return GN(oe)};if(e.version="2.4.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,o=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,h=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.HTMLFormElement,f=t.DOMParser,p=t.trustedTypes,m=a.prototype,g=Km(m,"cloneNode"),y=Km(m,"nextSibling"),b=Km(m,"childNodes"),O=Km(m,"parentNode");if(typeof s=="function"){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var D=yRe(p,n),C=D?D.createHTML(""):"",T=r,E=T.implementation,P=T.createNodeIterator,M=T.createDocumentFragment,$=T.getElementsByTagName,A=n.importNode,_={};try{_=_u(r).documentMode?r.documentMode:{}}catch{}var L={};e.isSupported=typeof O=="function"&&E&&typeof E.createHTMLDocument<"u"&&_!==9;var v=aRe,q=lRe,x=cRe,X=uRe,de=hRe,H=fRe,G=pRe,F=dRe,B=null,ae=Kt({},[].concat(Mo(iD),Mo(cO),Mo(uO),Mo(hO),Mo(sD))),be=null,ye=Kt({},[].concat(Mo(oD),Mo(dO),Mo(aD),Mo(Jm))),Z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qe=null,ne=null,se=!0,ee=!0,J=!1,z=!1,W=!1,te=!1,Q=!1,me=!1,I=!1,ge=!1,Y=!0,$e=!1,Se="user-content-",De=!0,_e=!1,Te={},ke=null,Me=Kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pe=null,Ce=Kt({},["audio","video","img","source","image","track"]),Be=null,qe=Kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",Ne="http://www.w3.org/1999/xhtml",rt=Ne,Ke=!1,Pe=null,we=Kt({},[Je,Nt,Ne],aO),ze,ve=["application/xhtml+xml","text/html"],st="text/html",he,wt=null,xe=r.createElement("form"),Tt=function(oe){return oe instanceof RegExp||oe instanceof Function},Vt=function(oe){wt&&wt===oe||((!oe||vc(oe)!=="object")&&(oe={}),oe=_u(oe),ze=ve.indexOf(oe.PARSER_MEDIA_TYPE)===-1?ze=st:ze=oe.PARSER_MEDIA_TYPE,he=ze==="application/xhtml+xml"?aO:O2,B="ALLOWED_TAGS"in oe?Kt({},oe.ALLOWED_TAGS,he):ae,be="ALLOWED_ATTR"in oe?Kt({},oe.ALLOWED_ATTR,he):ye,Pe="ALLOWED_NAMESPACES"in oe?Kt({},oe.ALLOWED_NAMESPACES,aO):we,Be="ADD_URI_SAFE_ATTR"in oe?Kt(_u(qe),oe.ADD_URI_SAFE_ATTR,he):qe,pe="ADD_DATA_URI_TAGS"in oe?Kt(_u(Ce),oe.ADD_DATA_URI_TAGS,he):Ce,ke="FORBID_CONTENTS"in oe?Kt({},oe.FORBID_CONTENTS,he):Me,Qe="FORBID_TAGS"in oe?Kt({},oe.FORBID_TAGS,he):{},ne="FORBID_ATTR"in oe?Kt({},oe.FORBID_ATTR,he):{},Te="USE_PROFILES"in oe?oe.USE_PROFILES:!1,se=oe.ALLOW_ARIA_ATTR!==!1,ee=oe.ALLOW_DATA_ATTR!==!1,J=oe.ALLOW_UNKNOWN_PROTOCOLS||!1,z=oe.SAFE_FOR_TEMPLATES||!1,W=oe.WHOLE_DOCUMENT||!1,me=oe.RETURN_DOM||!1,I=oe.RETURN_DOM_FRAGMENT||!1,ge=oe.RETURN_TRUSTED_TYPE||!1,Q=oe.FORCE_BODY||!1,Y=oe.SANITIZE_DOM!==!1,$e=oe.SANITIZE_NAMED_PROPS||!1,De=oe.KEEP_CONTENT!==!1,_e=oe.IN_PLACE||!1,F=oe.ALLOWED_URI_REGEXP||F,rt=oe.NAMESPACE||Ne,oe.CUSTOM_ELEMENT_HANDLING&&Tt(oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Z.tagNameCheck=oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&Tt(oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Z.attributeNameCheck=oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&typeof oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Z.allowCustomizedBuiltInElements=oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(ee=!1),I&&(me=!0),Te&&(B=Kt({},Mo(sD)),be=[],Te.html===!0&&(Kt(B,iD),Kt(be,oD)),Te.svg===!0&&(Kt(B,cO),Kt(be,dO),Kt(be,Jm)),Te.svgFilters===!0&&(Kt(B,uO),Kt(be,dO),Kt(be,Jm)),Te.mathMl===!0&&(Kt(B,hO),Kt(be,aD),Kt(be,Jm))),oe.ADD_TAGS&&(B===ae&&(B=_u(B)),Kt(B,oe.ADD_TAGS,he)),oe.ADD_ATTR&&(be===ye&&(be=_u(be)),Kt(be,oe.ADD_ATTR,he)),oe.ADD_URI_SAFE_ATTR&&Kt(Be,oe.ADD_URI_SAFE_ATTR,he),oe.FORBID_CONTENTS&&(ke===Me&&(ke=_u(ke)),Kt(ke,oe.FORBID_CONTENTS,he)),De&&(B["#text"]=!0),W&&Kt(B,["html","head","body"]),B.table&&(Kt(B,["tbody"]),delete Qe.tbody),Hi&&Hi(oe),wt=oe)},jt=Kt({},["mi","mo","mn","ms","mtext"]),Xt=Kt({},["foreignobject","desc","title","annotation-xml"]),Zt=Kt({},["title","style","font","a","script"]),ut=Kt({},cO);Kt(ut,uO),Kt(ut,sRe);var _t=Kt({},hO);Kt(_t,oRe);var Yt=function(oe){var Ie=O(oe);(!Ie||!Ie.tagName)&&(Ie={namespaceURI:rt,tagName:"template"});var Ye=O2(oe.tagName),Wt=O2(Ie.tagName);return Pe[oe.namespaceURI]?oe.namespaceURI===Nt?Ie.namespaceURI===Ne?Ye==="svg":Ie.namespaceURI===Je?Ye==="svg"&&(Wt==="annotation-xml"||jt[Wt]):Boolean(ut[Ye]):oe.namespaceURI===Je?Ie.namespaceURI===Ne?Ye==="math":Ie.namespaceURI===Nt?Ye==="math"&&Xt[Wt]:Boolean(_t[Ye]):oe.namespaceURI===Ne?Ie.namespaceURI===Nt&&!Xt[Wt]||Ie.namespaceURI===Je&&!jt[Wt]?!1:!_t[Ye]&&(Zt[Ye]||!ut[Ye]):!!(ze==="application/xhtml+xml"&&Pe[oe.namespaceURI]):!1},kt=function(oe){X0(e.removed,{element:oe});try{oe.parentNode.removeChild(oe)}catch{try{oe.outerHTML=C}catch{oe.remove()}}},tl=function(oe,Ie){try{X0(e.removed,{attribute:Ie.getAttributeNode(oe),from:Ie})}catch{X0(e.removed,{attribute:null,from:Ie})}if(Ie.removeAttribute(oe),oe==="is"&&!be[oe])if(me||I)try{kt(Ie)}catch{}else try{Ie.setAttribute(oe,"")}catch{}},mu=function(oe){var Ie,Ye;if(Q)oe="<remove></remove>"+oe;else{var Wt=tRe(oe,/^[\r\n\t ]+/);Ye=Wt&&Wt[0]}ze==="application/xhtml+xml"&&rt===Ne&&(oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+oe+"</body></html>");var Cn=D?D.createHTML(oe):oe;if(rt===Ne)try{Ie=new f().parseFromString(Cn,ze)}catch{}if(!Ie||!Ie.documentElement){Ie=E.createDocument(rt,"template",null);try{Ie.documentElement.innerHTML=Ke?C:Cn}catch{}}var En=Ie.body||Ie.documentElement;return oe&&Ye&&En.insertBefore(r.createTextNode(Ye),En.childNodes[0]||null),rt===Ne?$.call(Ie,W?"html":"body")[0]:W?Ie.documentElement:En},Ln=function(oe){return P.call(oe.ownerDocument||oe,oe,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Dt=function(oe){return oe instanceof d&&(typeof oe.nodeName!="string"||typeof oe.textContent!="string"||typeof oe.removeChild!="function"||!(oe.attributes instanceof h)||typeof oe.removeAttribute!="function"||typeof oe.setAttribute!="function"||typeof oe.namespaceURI!="string"||typeof oe.insertBefore!="function"||typeof oe.hasChildNodes!="function")},nr=function(oe){return vc(o)==="object"?oe instanceof o:oe&&vc(oe)==="object"&&typeof oe.nodeType=="number"&&typeof oe.nodeName=="string"},di=function(oe,Ie,Ye){!L[oe]||eRe(L[oe],function(Wt){Wt.call(e,Ie,Ye,wt)})},rr=function(oe){var Ie;if(di("beforeSanitizeElements",oe,null),Dt(oe)||Bi(/[\u0080-\uFFFF]/,oe.nodeName))return kt(oe),!0;var Ye=he(oe.nodeName);if(di("uponSanitizeElement",oe,{tagName:Ye,allowedTags:B}),oe.hasChildNodes()&&!nr(oe.firstElementChild)&&(!nr(oe.content)||!nr(oe.content.firstElementChild))&&Bi(/<[/\w]/g,oe.innerHTML)&&Bi(/<[/\w]/g,oe.textContent)||Ye==="select"&&Bi(/<template/i,oe.innerHTML))return kt(oe),!0;if(!B[Ye]||Qe[Ye]){if(!Qe[Ye]&&Fn(Ye)&&(Z.tagNameCheck instanceof RegExp&&Bi(Z.tagNameCheck,Ye)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(Ye)))return!1;if(De&&!ke[Ye]){var Wt=O(oe)||oe.parentNode,Cn=b(oe)||oe.childNodes;if(Cn&&Wt)for(var En=Cn.length,dr=En-1;dr>=0;--dr)Wt.insertBefore(g(Cn[dr],!0),y(oe))}return kt(oe),!0}return oe instanceof a&&!Yt(oe)||(Ye==="noscript"||Ye==="noembed")&&Bi(/<\/no(script|embed)/i,oe.innerHTML)?(kt(oe),!0):(z&&oe.nodeType===3&&(Ie=oe.textContent,Ie=Do(Ie,v," "),Ie=Do(Ie,q," "),Ie=Do(Ie,x," "),oe.textContent!==Ie&&(X0(e.removed,{element:oe.cloneNode()}),oe.textContent=Ie)),di("afterSanitizeElements",oe,null),!1)},Cr=function(oe,Ie,Ye){if(Y&&(Ie==="id"||Ie==="name")&&(Ye in r||Ye in xe))return!1;if(!(ee&&!ne[Ie]&&Bi(X,Ie))){if(!(se&&Bi(de,Ie))){if(!be[Ie]||ne[Ie]){if(!(Fn(oe)&&(Z.tagNameCheck instanceof RegExp&&Bi(Z.tagNameCheck,oe)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(oe))&&(Z.attributeNameCheck instanceof RegExp&&Bi(Z.attributeNameCheck,Ie)||Z.attributeNameCheck instanceof Function&&Z.attributeNameCheck(Ie))||Ie==="is"&&Z.allowCustomizedBuiltInElements&&(Z.tagNameCheck instanceof RegExp&&Bi(Z.tagNameCheck,Ye)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(Ye))))return!1}else if(!Be[Ie]){if(!Bi(F,Do(Ye,G,""))){if(!((Ie==="src"||Ie==="xlink:href"||Ie==="href")&&oe!=="script"&&nRe(Ye,"data:")===0&&pe[oe])){if(!(J&&!Bi(H,Do(Ye,G,"")))){if(Ye)return!1}}}}}}return!0},Fn=function(oe){return oe.indexOf("-")>0},Jr=function(oe){var Ie,Ye,Wt,Cn;di("beforeSanitizeAttributes",oe,null);var En=oe.attributes;if(!!En){var dr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(Cn=En.length;Cn--;){Ie=En[Cn];var Wr=Ie,Kn=Wr.name,$0=Wr.namespaceURI;if(Ye=Kn==="value"?Ie.value:rRe(Ie.value),Wt=he(Kn),dr.attrName=Wt,dr.attrValue=Ye,dr.keepAttr=!0,dr.forceKeepAttr=void 0,di("uponSanitizeAttribute",oe,dr),Ye=dr.attrValue,!dr.forceKeepAttr&&(tl(Kn,oe),!!dr.keepAttr)){if(Bi(/\/>/i,Ye)){tl(Kn,oe);continue}z&&(Ye=Do(Ye,v," "),Ye=Do(Ye,q," "),Ye=Do(Ye,x," "));var $h=he(oe.nodeName);if(!!Cr($h,Wt,Ye)){if($e&&(Wt==="id"||Wt==="name")&&(tl(Kn,oe),Ye=Se+Ye),D&&vc(p)==="object"&&typeof p.getAttributeType=="function"&&!$0)switch(p.getAttributeType($h,Wt)){case"TrustedHTML":Ye=D.createHTML(Ye);break;case"TrustedScriptURL":Ye=D.createScriptURL(Ye);break}try{$0?oe.setAttributeNS($0,Kn,Ye):oe.setAttribute(Kn,Ye),rD(e.removed)}catch{}}}}di("afterSanitizeAttributes",oe,null)}},Vr=function tt(oe){var Ie,Ye=Ln(oe);for(di("beforeSanitizeShadowDOM",oe,null);Ie=Ye.nextNode();)di("uponSanitizeShadowNode",Ie,null),!rr(Ie)&&(Ie.content instanceof i&&tt(Ie.content),Jr(Ie));di("afterSanitizeShadowDOM",oe,null)};return e.sanitize=function(tt){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie,Ye,Wt,Cn,En;if(Ke=!tt,Ke&&(tt="<!-->"),typeof tt!="string"&&!nr(tt)){if(typeof tt.toString!="function")throw lO("toString is not a function");if(tt=tt.toString(),typeof tt!="string")throw lO("dirty is not a string, aborting")}if(!e.isSupported){if(vc(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof tt=="string")return t.toStaticHTML(tt);if(nr(tt))return t.toStaticHTML(tt.outerHTML)}return tt}if(te||Vt(oe),e.removed=[],typeof tt=="string"&&(_e=!1),_e){if(tt.nodeName){var dr=he(tt.nodeName);if(!B[dr]||Qe[dr])throw lO("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof o)Ie=mu("<!---->"),Ye=Ie.ownerDocument.importNode(tt,!0),Ye.nodeType===1&&Ye.nodeName==="BODY"||Ye.nodeName==="HTML"?Ie=Ye:Ie.appendChild(Ye);else{if(!me&&!z&&!W&&tt.indexOf("<")===-1)return D&&ge?D.createHTML(tt):tt;if(Ie=mu(tt),!Ie)return me?null:ge?C:""}Ie&&Q&&kt(Ie.firstChild);for(var Wr=Ln(_e?tt:Ie);Wt=Wr.nextNode();)Wt.nodeType===3&&Wt===Cn||rr(Wt)||(Wt.content instanceof i&&Vr(Wt.content),Jr(Wt),Cn=Wt);if(Cn=null,_e)return tt;if(me){if(I)for(En=M.call(Ie.ownerDocument);Ie.firstChild;)En.appendChild(Ie.firstChild);else En=Ie;return be.shadowroot&&(En=A.call(n,En,!0)),En}var Kn=W?Ie.outerHTML:Ie.innerHTML;return W&&B["!doctype"]&&Ie.ownerDocument&&Ie.ownerDocument.doctype&&Ie.ownerDocument.doctype.name&&Bi(mRe,Ie.ownerDocument.doctype.name)&&(Kn="<!DOCTYPE "+Ie.ownerDocument.doctype.name+`>
`+Kn),z&&(Kn=Do(Kn,v," "),Kn=Do(Kn,q," "),Kn=Do(Kn,x," ")),D&&ge?D.createHTML(Kn):Kn},e.setConfig=function(tt){Vt(tt),te=!0},e.clearConfig=function(){wt=null,te=!1},e.isValidAttribute=function(tt,oe,Ie){wt||Vt({});var Ye=he(tt),Wt=he(oe);return Cr(Ye,Wt,Ie)},e.addHook=function(tt,oe){typeof oe=="function"&&(L[tt]=L[tt]||[],X0(L[tt],oe))},e.removeHook=function(tt){if(L[tt])return rD(L[tt])},e.removeHooks=function(tt){L[tt]&&(L[tt]=[])},e.removeAllHooks=function(){L={}},e}var Wp=GN();const v2={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return v2.hue2rgb(s,i,t+1/3)*255;case"g":return v2.hue2rgb(s,i,t)*255;case"b":return v2.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(r==="s")return l*100;switch(i){case t:return((e-n)/a+(e<n?6:0))*60;case e:return((n-t)/a+2)*60;case n:return((t-e)/a+4)*60;default:return-1}}},bRe=v2,ORe={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},vRe=ORe,xRe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},kRe=xRe,wRe={channel:bRe,lang:vRe,unit:kRe},qt=wRe,dc={};for(let t=0;t<=255;t++)dc[t]=qt.unit.dec2hex(t);const yi={ALL:0,RGB:1,HSL:2};class _Re{constructor(){this.type=yi.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=yi.ALL}is(e){return this.type===e}}const SRe=_Re;class CRe{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new SRe}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=yi.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=qt.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=qt.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=qt.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=qt.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=qt.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=qt.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(yi.HSL)&&n!==void 0?n:(this._ensureHSL(),qt.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(yi.HSL)&&n!==void 0?n:(this._ensureHSL(),qt.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(yi.HSL)&&n!==void 0?n:(this._ensureHSL(),qt.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(yi.RGB)&&n!==void 0?n:(this._ensureRGB(),qt.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(yi.RGB)&&n!==void 0?n:(this._ensureRGB(),qt.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(yi.RGB)&&n!==void 0?n:(this._ensureRGB(),qt.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(yi.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(yi.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(yi.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(yi.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(yi.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(yi.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const TRe=CRe,DRe=new TRe({r:0,g:0,b:0,a:0},"transparent"),z4=DRe,KN={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(KN.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,u=s?0:-1,h=o?255:15;return z4.set({r:(r>>l*(u+3)&h)*a,g:(r>>l*(u+2)&h)*a,b:(r>>l*(u+1)&h)*a,a:s?(r&h)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${dc[Math.round(e)]}${dc[Math.round(n)]}${dc[Math.round(r)]}${dc[Math.round(i*255)]}`:`#${dc[Math.round(e)]}${dc[Math.round(n)]}${dc[Math.round(r)]}`}},ep=KN,x2={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(x2.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return qt.channel.clamp.h(parseFloat(n)*.9);case"rad":return qt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return qt.channel.clamp.h(parseFloat(n)*360)}}return qt.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(x2.re);if(!n)return;const[,r,i,s,o,a]=n;return z4.set({h:x2._hue2deg(r),s:qt.channel.clamp.s(parseFloat(i)),l:qt.channel.clamp.l(parseFloat(s)),a:o?qt.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${qt.lang.round(e)}, ${qt.lang.round(n)}%, ${qt.lang.round(r)}%, ${i})`:`hsl(${qt.lang.round(e)}, ${qt.lang.round(n)}%, ${qt.lang.round(r)}%)`}},eg=x2,k2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=k2.colors[t];if(!!e)return ep.parse(e)},stringify:t=>{const e=ep.stringify(t);for(const n in k2.colors)if(k2.colors[n]===e)return n}},lD=k2,JN={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(JN.re);if(!n)return;const[,r,i,s,o,a,l,u,h]=n;return z4.set({r:qt.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:qt.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:qt.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:u?qt.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${qt.lang.round(e)}, ${qt.lang.round(n)}, ${qt.lang.round(r)}, ${qt.lang.round(i)})`:`rgb(${qt.lang.round(e)}, ${qt.lang.round(n)}, ${qt.lang.round(r)})`}},tg=JN,ERe={format:{keyword:lD,hex:ep,rgb:tg,rgba:tg,hsl:eg,hsla:eg},parse:t=>{if(typeof t!="string")return t;const e=ep.parse(t)||tg.parse(t)||eg.parse(t)||lD.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(yi.HSL)||t.data.r===void 0?eg.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?tg.stringify(t):ep.stringify(t)},Ul=ERe,ARe=(t,e)=>{const n=Ul.parse(t);for(const r in e)n[r]=qt.channel.clamp[r](e[r]);return Ul.stringify(n)},eI=ARe,MRe=(t,e,n=0,r=1)=>{if(typeof t!="number")return eI(t,{a:e});const i=z4.set({r:qt.channel.clamp.r(t),g:qt.channel.clamp.g(e),b:qt.channel.clamp.b(n),a:qt.channel.clamp.a(r)});return Ul.stringify(i)},tp=MRe,PRe=(t,e,n)=>{const r=Ul.parse(t),i=r[e],s=qt.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Ul.stringify(r)},tI=PRe,BRe=(t,e)=>tI(t,"l",e),vt=BRe,$Re=(t,e)=>tI(t,"l",-e),Lt=$Re,LRe=(t,e)=>{const n=Ul.parse(t),r={};for(const i in e)!e[i]||(r[i]=n[i]+e[i]);return eI(t,r)},Oe=LRe,FRe=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=Ul.parse(t),{r:a,g:l,b:u,a:h}=Ul.parse(e),d=n/100,f=d*2-1,p=o-h,g=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,y=1-g,b=r*g+a*y,O=i*g+l*y,w=s*g+u*y,D=o*d+h*(1-d);return tp(b,O,w,D)},NRe=FRe,IRe=(t,e=100)=>{const n=Ul.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,NRe(n,t,e)},et=IRe;var RRe="\0",Su="\0",cD="";class Sr{constructor(e={}){this._isDirected=Qt(e,"directed")?e.directed:!0,this._isMultigraph=Qt(e,"multigraph")?e.multigraph:!1,this._isCompound=Qt(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=lf(void 0),this._defaultEdgeLabelFn=lf(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Su]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return mv(e)||(e=lf(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return pc(this._nodes)}sources(){var e=this;return wl(this.nodes(),function(n){return pd(e._in[n])})}sinks(){var e=this;return wl(this.nodes(),function(n){return pd(e._out[n])})}setNodes(e,n){var r=arguments,i=this;return Ae(e,function(s){r.length>1?i.setNode(s,n):i.setNode(s)}),this}setNode(e,n){return Qt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Su,this._children[e]={},this._children[Su][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Qt(this._nodes,e)}removeNode(e){var n=this;if(Qt(this._nodes,e)){var r=function(i){n.removeEdge(n._edgeObjs[i])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Ae(this.children(e),function(i){n.setParent(i)}),delete this._children[e]),Ae(pc(this._in[e]),r),delete this._in[e],delete this._preds[e],Ae(pc(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ar(n))n=Su;else{n+="";for(var r=n;!ar(r);r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==Su)return n}}children(e){if(ar(e)&&(e=Su),this._isCompound){var n=this._children[e];if(n)return pc(n)}else{if(e===Su)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return pc(n)}successors(e){var n=this._sucs[e];if(n)return pc(n)}neighbors(e){var n=this.predecessors(e);if(n)return iU(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Ae(this._nodes,function(o,a){e(a)&&n.setNode(a,o)}),Ae(this._edgeObjs,function(o){n.hasNode(o.v)&&n.hasNode(o.w)&&n.setEdge(o,r.edge(o))});var i={};function s(o){var a=r.parent(o);return a===void 0||n.hasNode(a)?(i[o]=a,a):a in i?i[a]:s(a)}return this._isCompound&&Ae(n.nodes(),function(o){n.setParent(o,s(o))}),n}setDefaultEdgeLabel(e){return mv(e)||(e=lf(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Ml(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return S1(e,function(s,o){return i.length>1?r.setEdge(s,o,n):r.setEdge(s,o),o}),this}setEdge(){var e,n,r,i,s=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(e=o.v,n=o.w,r=o.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=o,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,n=""+n,ar(r)||(r=""+r);var a=_f(this._isDirected,e,n,r);if(Qt(this._edgeLabels,a))return s&&(this._edgeLabels[a]=i),this;if(!ar(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[a]=s?i:this._defaultEdgeLabelFn(e,n,r);var l=QRe(this._isDirected,e,n,r);return e=l.v,n=l.w,Object.freeze(l),this._edgeObjs[a]=l,uD(this._preds[n],e),uD(this._sucs[e],n),this._in[n][a]=l,this._out[e][a]=l,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?fO(this._isDirected,arguments[0]):_f(this._isDirected,e,n,r);return this._edgeLabels[i]}hasEdge(e,n,r){var i=arguments.length===1?fO(this._isDirected,arguments[0]):_f(this._isDirected,e,n,r);return Qt(this._edgeLabels,i)}removeEdge(e,n,r){var i=arguments.length===1?fO(this._isDirected,arguments[0]):_f(this._isDirected,e,n,r),s=this._edgeObjs[i];return s&&(e=s.v,n=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],hD(this._preds[n],e),hD(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Ml(r);return n?wl(i,function(s){return s.v===n}):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Ml(r);return n?wl(i,function(s){return s.w===n}):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}}Sr.prototype._nodeCount=0;Sr.prototype._edgeCount=0;function uD(t,e){t[e]?t[e]++:t[e]=1}function hD(t,e){--t[e]||delete t[e]}function _f(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var o=i;i=s,s=o}return i+cD+s+cD+(ar(r)?RRe:r)}function QRe(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var o=i;i=s,s=o}var a={v:i,w:s};return r&&(a.name=r),a}function fO(t,e){return _f(t,e.v,e.w,e.name)}class zRe{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return dD(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&dD(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,VRe)),r=r._prev;return"["+e.join(", ")+"]"}}function dD(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function VRe(t,e){if(t!=="_next"&&t!=="_prev")return e}var WRe=lf(1);function qRe(t,e){if(t.nodeCount()<=1)return[];var n=YRe(t,e||WRe),r=XRe(n.graph,n.buckets,n.zeroIdx);return _1(xr(r,function(i){return t.outEdges(i.v,i.w)}))}function XRe(t,e,n){for(var r=[],i=e[e.length-1],s=e[0],o;t.nodeCount();){for(;o=s.dequeue();)pO(t,e,n,o);for(;o=i.dequeue();)pO(t,e,n,o);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(o=e[a].dequeue(),o){r=r.concat(pO(t,e,n,o,!0));break}}}return r}function pO(t,e,n,r,i){var s=i?[]:void 0;return Ae(t.inEdges(r.v),function(o){var a=t.edge(o),l=t.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,Vx(e,n,l)}),Ae(t.outEdges(r.v),function(o){var a=t.edge(o),l=o.w,u=t.node(l);u.in-=a,Vx(e,n,u)}),t.removeNode(r.v),s}function YRe(t,e){var n=new Sr,r=0,i=0;Ae(t.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),Ae(t.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=e(a),h=l+u;n.setEdge(a.v,a.w,h),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=ah(i+r+3).map(function(){return new zRe}),o=r+1;return Ae(n.nodes(),function(a){Vx(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function Vx(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function URe(t){var e=t.graph().acyclicer==="greedy"?qRe(t,n(t)):jRe(t);Ae(e,function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,n4("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function jRe(t){var e=[],n={},r={};function i(s){Qt(r,s)||(r[s]=!0,n[s]=!0,Ae(t.outEdges(s),function(o){Qt(n,o.w)?e.push(o):i(o.w)}),delete n[s])}return Ae(t.nodes(),i),e}function HRe(t){Ae(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}function D0(t,e,n,r){var i;do i=n4(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function ZRe(t){var e=new Sr().setGraph(t.graph());return Ae(t.nodes(),function(n){e.setNode(n,t.node(n))}),Ae(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function nI(t){var e=new Sr({multigraph:t.isMultigraph()}).setGraph(t.graph());return Ae(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),Ae(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function fD(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function V4(t){var e=xr(ah(rI(t)+1),function(){return[]});return Ae(t.nodes(),function(n){var r=t.node(n),i=r.rank;ar(i)||(e[i][r.order]=n)}),e}function GRe(t){var e=bp(xr(t.nodes(),function(n){return t.node(n).rank}));Ae(t.nodes(),function(n){var r=t.node(n);Qt(r,"rank")&&(r.rank-=e)})}function KRe(t){var e=bp(xr(t.nodes(),function(s){return t.node(s).rank})),n=[];Ae(t.nodes(),function(s){var o=t.node(s).rank-e;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=t.graph().nodeRankFactor;Ae(n,function(s,o){ar(s)&&o%i!==0?--r:r&&Ae(s,function(a){t.node(a).rank+=r})})}function pD(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),D0(t,"border",i,e)}function rI(t){return oh(xr(t.nodes(),function(e){var n=t.node(e).rank;if(!ar(n))return n}))}function JRe(t,e){var n={lhs:[],rhs:[]};return Ae(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function eQe(t,e){var n=__();try{return e()}finally{console.log(t+" time: "+(__()-n)+"ms")}}function tQe(t,e){return e()}function nQe(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&Ae(r,e),Qt(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)mD(t,"borderLeft","_bl",n,i,s),mD(t,"borderRight","_br",n,i,s)}}Ae(t.children(),e)}function mD(t,e,n,r,i,s){var o={width:0,height:0,rank:s,borderType:e},a=i[e][s-1],l=D0(t,"border",o,n);i[e][s]=l,t.setParent(l,r),a&&t.setEdge(a,l,{weight:1})}function rQe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&iI(t)}function iQe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&sQe(t),(e==="lr"||e==="rl")&&(oQe(t),iI(t))}function iI(t){Ae(t.nodes(),function(e){gD(t.node(e))}),Ae(t.edges(),function(e){gD(t.edge(e))})}function gD(t){var e=t.width;t.width=t.height,t.height=e}function sQe(t){Ae(t.nodes(),function(e){mO(t.node(e))}),Ae(t.edges(),function(e){var n=t.edge(e);Ae(n.points,mO),Qt(n,"y")&&mO(n)})}function mO(t){t.y=-t.y}function oQe(t){Ae(t.nodes(),function(e){gO(t.node(e))}),Ae(t.edges(),function(e){var n=t.edge(e);Ae(n.points,gO),Qt(n,"x")&&gO(n)})}function gO(t){var e=t.x;t.x=t.y,t.y=e}function aQe(t){t.graph().dummyChains=[],Ae(t.edges(),function(e){lQe(t,e)})}function lQe(t,e){var n=e.v,r=t.node(n).rank,i=e.w,s=t.node(i).rank,o=e.name,a=t.edge(e),l=a.labelRank;if(s!==r+1){t.removeEdge(e);var u,h,d;for(d=0,++r;r<s;++d,++r)a.points=[],h={width:0,height:0,edgeLabel:a,edgeObj:e,rank:r},u=D0(t,"edge",h,"_d"),r===l&&(h.width=a.width,h.height=a.height,h.dummy="edge-label",h.labelpos=a.labelpos),t.setEdge(n,u,{weight:a.weight},o),d===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:a.weight},o)}}function cQe(t){Ae(t.graph().dummyChains,function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}function B8(t){var e={};function n(r){var i=t.node(r);if(Qt(e,r))return i.rank;e[r]=!0;var s=bp(xr(t.outEdges(r),function(o){return n(o.w)-t.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Ae(t.sources(),n)}function qp(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function sI(t){var e=new Sr({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,s;uQe(e,t)<r;)i=hQe(e,t),s=e.hasNode(i.v)?qp(t,i):-qp(t,i),dQe(e,t,s);return e}function uQe(t,e){function n(r){Ae(e.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!t.hasNode(o)&&!qp(e,i)&&(t.setNode(o,{}),t.setEdge(r,o,{}),n(o))})}return Ae(t.nodes(),n),t.nodeCount()}function hQe(t,e){return Qk(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return qp(e,n)})}function dQe(t,e,n){Ae(t.nodes(),function(r){e.node(r).rank+=n})}function fQe(){}fQe.prototype=new Error;function oI(t,e,n){y0(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],s={};return Ae(e,function(o){if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);aI(t,o,n==="post",s,r,i)}),i}function aI(t,e,n,r,i,s){Qt(r,e)||(r[e]=!0,n||s.push(e),Ae(i(e),function(o){aI(t,o,n,r,i,s)}),n&&s.push(e))}function pQe(t,e){return oI(t,e,"post")}function mQe(t,e){return oI(t,e,"pre")}Mh.initLowLimValues=L8;Mh.initCutValues=$8;Mh.calcCutValue=lI;Mh.leaveEdge=uI;Mh.enterEdge=hI;Mh.exchangeEdges=dI;function Mh(t){t=ZRe(t),B8(t);var e=sI(t);L8(e),$8(e,t);for(var n,r;n=uI(e);)r=hI(e,t,n),dI(e,t,n,r)}function $8(t,e){var n=pQe(t,t.nodes());n=n.slice(0,n.length-1),Ae(n,function(r){gQe(t,e,r)})}function gQe(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=lI(t,e,n)}function lI(t,e,n){var r=t.node(n),i=r.parent,s=!0,o=e.edge(n,i),a=0;return o||(s=!1,o=e.edge(i,n)),a=o.weight,Ae(e.nodeEdges(n),function(l){var u=l.v===n,h=u?l.w:l.v;if(h!==i){var d=u===s,f=e.edge(l).weight;if(a+=d?f:-f,bQe(t,n,h)){var p=t.edge(n,h).cutvalue;a+=d?-p:p}}}),a}function L8(t,e){arguments.length<2&&(e=t.nodes()[0]),cI(t,{},1,e)}function cI(t,e,n,r,i){var s=n,o=t.node(r);return e[r]=!0,Ae(t.neighbors(r),function(a){Qt(e,a)||(n=cI(t,e,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function uI(t){return Ik(t.edges(),function(e){return t.edge(e).cutvalue<0})}function hI(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var s=t.node(r),o=t.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=wl(e.edges(),function(h){return l===yD(t,t.node(h.v),a)&&l!==yD(t,t.node(h.w),a)});return Qk(u,function(h){return qp(e,h)})}function dI(t,e,n,r){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(r.v,r.w,{}),L8(t),$8(t,e),yQe(t,e)}function yQe(t,e){var n=Ik(t.nodes(),function(i){return!e.node(i).parent}),r=mQe(t,n);r=r.slice(1),Ae(r,function(i){var s=t.node(i).parent,o=e.edge(i,s),a=!1;o||(o=e.edge(s,i),a=!0),e.node(i).rank=e.node(s).rank+(a?o.minlen:-o.minlen)})}function bQe(t,e,n){return t.hasEdge(e,n)}function yD(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function OQe(t){switch(t.graph().ranker){case"network-simplex":bD(t);break;case"tight-tree":xQe(t);break;case"longest-path":vQe(t);break;default:bD(t)}}var vQe=B8;function xQe(t){B8(t),sI(t)}function bD(t){Mh(t)}function kQe(t){var e=D0(t,"root",{},"_root"),n=wQe(t),r=oh(Ml(n))-1,i=2*r+1;t.graph().nestingRoot=e,Ae(t.edges(),function(o){t.edge(o).minlen*=i});var s=_Qe(t)+1;Ae(t.children(),function(o){fI(t,e,i,s,r,n,o)}),t.graph().nodeRankFactor=i}function fI(t,e,n,r,i,s,o){var a=t.children(o);if(!a.length){o!==e&&t.setEdge(e,o,{weight:0,minlen:n});return}var l=pD(t,"_bt"),u=pD(t,"_bb"),h=t.node(o);t.setParent(l,o),h.borderTop=l,t.setParent(u,o),h.borderBottom=u,Ae(a,function(d){fI(t,e,n,r,i,s,d);var f=t.node(d),p=f.borderTop?f.borderTop:d,m=f.borderBottom?f.borderBottom:d,g=f.borderTop?r:2*r,y=p!==m?1:i-s[o]+1;t.setEdge(l,p,{weight:g,minlen:y,nestingEdge:!0}),t.setEdge(m,u,{weight:g,minlen:y,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,l,{weight:0,minlen:i+s[o]})}function wQe(t){var e={};function n(r,i){var s=t.children(r);s&&s.length&&Ae(s,function(o){n(o,i+1)}),e[r]=i}return Ae(t.children(),function(r){n(r,1)}),e}function _Qe(t){return S1(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function SQe(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Ae(t.edges(),function(n){var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}function CQe(t,e,n){var r={},i;Ae(n,function(s){for(var o=t.parent(s),a,l;o;){if(a=t.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){e.setEdge(l,o);return}o=a}})}function TQe(t,e,n){var r=DQe(t),i=new Sr({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return t.node(s)});return Ae(t.nodes(),function(s){var o=t.node(s),a=t.parent(s);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ae(t[n](s),function(l){var u=l.v===s?l.w:l.v,h=i.edge(u,s),d=ar(h)?0:h.weight;i.setEdge(u,s,{weight:t.edge(l).weight+d})}),Qt(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),i}function DQe(t){for(var e;t.hasNode(e=n4("_root")););return e}function EQe(t,e){for(var n=0,r=1;r<e.length;++r)n+=AQe(t,e[r-1],e[r]);return n}function AQe(t,e,n){for(var r=GU(n,xr(n,function(u,h){return h})),i=_1(xr(e,function(u){return C1(xr(t.outEdges(u),function(h){return{pos:r[h.w],weight:t.edge(h).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=xr(new Array(o),function(){return 0}),l=0;return Ae(i.forEach(function(u){var h=u.pos+s;a[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=a[h+1]),h=h-1>>1,a[h]+=u.weight;l+=u.weight*d})),l}function MQe(t){var e={},n=wl(t.nodes(),function(a){return!t.children(a).length}),r=oh(xr(n,function(a){return t.node(a).rank})),i=xr(ah(r+1),function(){return[]});function s(a){if(!Qt(e,a)){e[a]=!0;var l=t.node(a);i[l.rank].push(a),Ae(t.successors(a),s)}}var o=C1(n,function(a){return t.node(a).rank});return Ae(o,s),i}function PQe(t,e){return xr(e,function(n){var r=t.inEdges(n);if(r.length){var i=S1(r,function(s,o){var a=t.edge(o),l=t.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}function BQe(t,e){var n={};Ae(t,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};ar(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Ae(e.edges(),function(i){var s=n[i.v],o=n[i.w];!ar(s)&&!ar(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=wl(n,function(i){return!i.indegree});return $Qe(r)}function $Qe(t){var e=[];function n(s){return function(o){o.merged||(ar(o.barycenter)||ar(s.barycenter)||o.barycenter>=s.barycenter)&&LQe(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&t.push(o)}}for(;t.length;){var i=t.pop();e.push(i),Ae(i.in.reverse(),n(i)),Ae(i.out,r(i))}return xr(wl(e,function(s){return!s.merged}),function(s){return yp(s,["vs","i","barycenter","weight"])})}function LQe(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}function FQe(t,e){var n=JRe(t,function(h){return Qt(h,"barycenter")}),r=n.lhs,i=C1(n.rhs,function(h){return-h.i}),s=[],o=0,a=0,l=0;r.sort(NQe(!!e)),l=OD(s,i,l),Ae(r,function(h){l+=h.vs.length,s.push(h.vs),o+=h.barycenter*h.weight,a+=h.weight,l=OD(s,i,l)});var u={vs:_1(s)};return a&&(u.barycenter=o/a,u.weight=a),u}function OD(t,e,n){for(var r;e.length&&(r=J2(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function NQe(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function pI(t,e,n,r){var i=t.children(e),s=t.node(e),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=wl(i,function(m){return m!==o&&m!==a}));var u=PQe(t,i);Ae(u,function(m){if(t.children(m.v).length){var g=pI(t,m.v,n,r);l[m.v]=g,Qt(g,"barycenter")&&RQe(m,g)}});var h=BQe(u,n);IQe(h,l);var d=FQe(h,r);if(o&&(d.vs=_1([o,d.vs,a]),t.predecessors(o).length)){var f=t.node(t.predecessors(o)[0]),p=t.node(t.predecessors(a)[0]);Qt(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function IQe(t,e){Ae(t,function(n){n.vs=_1(n.vs.map(function(r){return e[r]?e[r].vs:r}))})}function RQe(t,e){ar(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function QQe(t){var e=rI(t),n=vD(t,ah(1,e+1),"inEdges"),r=vD(t,ah(e-1,-1,-1),"outEdges"),i=MQe(t);xD(t,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){zQe(a%2?n:r,a%4>=2),i=V4(t);var u=EQe(t,i);u<s&&(l=0,o=sU(i),s=u)}xD(t,o)}function vD(t,e,n){return xr(e,function(r){return TQe(t,r,n)})}function zQe(t,e){var n=new Sr;Ae(t,function(r){var i=r.graph().root,s=pI(r,i,n,e);Ae(s.vs,function(o,a){r.node(o).order=a}),CQe(r,n,s.vs)})}function xD(t,e){Ae(e,function(n){Ae(n,function(r,i){t.node(r).order=i})})}function VQe(t){var e=qQe(t);Ae(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,s=WQe(t,e,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],h=!0;n!==i.w;){if(r=t.node(n),h){for(;(u=o[l])!==a&&t.node(u).maxRank<r.rank;)l++;u===a&&(h=!1)}if(!h){for(;l<o.length-1&&t.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}t.setParent(n,u),n=t.successors(n)[0]}})}function WQe(t,e,n,r){var i=[],s=[],o=Math.min(e[n].low,e[r].low),a=Math.max(e[n].lim,e[r].lim),l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>o||a>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function qQe(t){var e={},n=0;function r(i){var s=n;Ae(t.children(i),r),e[i]={low:s,lim:n++}}return Ae(t.children(),r),e}function XQe(t,e){var n={};function r(i,s){var o=0,a=0,l=i.length,u=J2(s);return Ae(s,function(h,d){var f=UQe(t,h),p=f?t.node(f).order:l;(f||h===u)&&(Ae(s.slice(a,d+1),function(m){Ae(t.predecessors(m),function(g){var y=t.node(g),b=y.order;(b<o||p<b)&&!(y.dummy&&t.node(m).dummy)&&mI(n,g,m)})}),a=d+1,o=p)}),s}return S1(e,r),n}function YQe(t,e){var n={};function r(s,o,a,l,u){var h;Ae(ah(o,a),function(d){h=s[d],t.node(h).dummy&&Ae(t.predecessors(h),function(f){var p=t.node(f);p.dummy&&(p.order<l||p.order>u)&&mI(n,f,h)})})}function i(s,o){var a=-1,l,u=0;return Ae(o,function(h,d){if(t.node(h).dummy==="border"){var f=t.predecessors(h);f.length&&(l=t.node(f[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return S1(e,i),n}function UQe(t,e){if(t.node(e).dummy)return Ik(t.predecessors(e),function(n){return t.node(n).dummy})}function mI(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function jQe(t,e,n){if(e>n){var r=e;e=n,n=r}return Qt(t[e],n)}function HQe(t,e,n,r){var i={},s={},o={};return Ae(e,function(a){Ae(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),Ae(e,function(a){var l=-1;Ae(a,function(u){var h=r(u);if(h.length){h=C1(h,function(g){return o[g]});for(var d=(h.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var m=h[f];s[u]===u&&l<o[m]&&!jQe(n,u,m)&&(s[m]=u,s[u]=i[u]=i[m],l=o[m])}}})}),{root:i,align:s}}function ZQe(t,e,n,r,i){var s={},o=GQe(t,e,n,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var p=o.nodes(),m=p.pop(),g={};m;)g[m]?d(m):(g[m]=!0,p.push(m),p=p.concat(f(m))),m=p.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,p){return Math.max(f,s[p.v]+o.edge(p))},0)}function h(d){var f=o.outEdges(d).reduce(function(m,g){return Math.min(m,s[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),p=t.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(h,o.successors.bind(o)),Ae(r,function(d){s[d]=s[n[d]]}),s}function GQe(t,e,n,r){var i=new Sr,s=t.graph(),o=nze(s.nodesep,s.edgesep,r);return Ae(e,function(a){var l;Ae(a,function(u){var h=n[u];if(i.setNode(h),l){var d=n[l],f=i.edge(d,h);i.setEdge(d,h,Math.max(o(t,u,l),f||0))}l=u})}),i}function KQe(t,e){return Qk(Ml(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return DU(n,function(s,o){var a=rze(t,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function JQe(t,e){var n=Ml(e),r=bp(n),i=oh(n);Ae(["u","d"],function(s){Ae(["l","r"],function(o){var a=s+o,l=t[a],u;if(l!==e){var h=Ml(l);u=o==="l"?r-bp(h):i-oh(h),u&&(t[a]=t4(l,function(d){return d+u}))}})})}function eze(t,e){return t4(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=C1(xr(t,r));return(i[1]+i[2])/2})}function tze(t){var e=V4(t),n=gv(XQe(t,e),YQe(t,e)),r={},i;Ae(["u","d"],function(o){i=o==="u"?e:Ml(e).reverse(),Ae(["l","r"],function(a){a==="r"&&(i=xr(i,function(d){return Ml(d).reverse()}));var l=(o==="u"?t.predecessors:t.successors).bind(t),u=HQe(t,i,n,l),h=ZQe(t,i,u.root,u.align,a==="r");a==="r"&&(h=t4(h,function(d){return-d})),r[o+a]=h})});var s=KQe(t,r);return JQe(r,s),eze(r,t.graph().align)}function nze(t,e,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,Qt(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,Qt(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function rze(t,e){return t.node(e).width}function ize(t){t=nI(t),sze(t),Ae(tze(t),function(e,n){t.node(n).x=e})}function sze(t){var e=V4(t),n=t.graph().ranksep,r=0;Ae(e,function(i){var s=oh(xr(i,function(o){return t.node(o).height}));Ae(i,function(o){t.node(o).y=r+s/2}),r+=s+n})}function E0(t,e){var n=e&&e.debugTiming?eQe:tQe;n("layout",function(){var r=n("  buildLayoutGraph",function(){return gze(t)});n("  runLayout",function(){oze(r,n)}),n("  updateInputGraph",function(){aze(t,r)})})}function oze(t,e){e("    makeSpaceForEdgeLabels",function(){yze(t)}),e("    removeSelfEdges",function(){Cze(t)}),e("    acyclic",function(){URe(t)}),e("    nestingGraph.run",function(){kQe(t)}),e("    rank",function(){OQe(nI(t))}),e("    injectEdgeLabelProxies",function(){bze(t)}),e("    removeEmptyRanks",function(){KRe(t)}),e("    nestingGraph.cleanup",function(){SQe(t)}),e("    normalizeRanks",function(){GRe(t)}),e("    assignRankMinMax",function(){Oze(t)}),e("    removeEdgeLabelProxies",function(){vze(t)}),e("    normalize.run",function(){aQe(t)}),e("    parentDummyChains",function(){VQe(t)}),e("    addBorderSegments",function(){nQe(t)}),e("    order",function(){QQe(t)}),e("    insertSelfEdges",function(){Tze(t)}),e("    adjustCoordinateSystem",function(){rQe(t)}),e("    position",function(){ize(t)}),e("    positionSelfEdges",function(){Dze(t)}),e("    removeBorderNodes",function(){Sze(t)}),e("    normalize.undo",function(){cQe(t)}),e("    fixupEdgeLabelCoords",function(){wze(t)}),e("    undoCoordinateSystem",function(){iQe(t)}),e("    translateGraph",function(){xze(t)}),e("    assignNodeIntersects",function(){kze(t)}),e("    reversePoints",function(){_ze(t)}),e("    acyclic.undo",function(){HRe(t)})}function aze(t,e){Ae(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Ae(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Qt(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var lze=["nodesep","edgesep","ranksep","marginx","marginy"],cze={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},uze=["acyclicer","ranker","rankdir","align"],hze=["width","height"],dze={width:0,height:0},fze=["minlen","weight","width","height","labeloffset"],pze={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},mze=["labelpos"];function gze(t){var e=new Sr({multigraph:!0,compound:!0}),n=bO(t.graph());return e.setGraph(gv({},cze,yO(n,lze),yp(n,uze))),Ae(t.nodes(),function(r){var i=bO(t.node(r));e.setNode(r,zh(yO(i,hze),dze)),e.setParent(r,t.parent(r))}),Ae(t.edges(),function(r){var i=bO(t.edge(r));e.setEdge(r,gv({},pze,yO(i,fze),yp(i,mze)))}),e}function yze(t){var e=t.graph();e.ranksep/=2,Ae(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function bze(t){Ae(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-r.rank)/2+r.rank,e};D0(t,"edge-proxy",s,"_ep")}})}function Oze(t){var e=0;Ae(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=oh(e,r.maxRank))}),t.graph().maxRank=e}function vze(t){Ae(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function xze(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=t.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var h=u.x,d=u.y,f=u.width,p=u.height;e=Math.min(e,h-f/2),n=Math.max(n,h+f/2),r=Math.min(r,d-p/2),i=Math.max(i,d+p/2)}Ae(t.nodes(),function(u){l(t.node(u))}),Ae(t.edges(),function(u){var h=t.edge(u);Qt(h,"x")&&l(h)}),e-=o,r-=a,Ae(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=r}),Ae(t.edges(),function(u){var h=t.edge(u);Ae(h.points,function(d){d.x-=e,d.y-=r}),Qt(h,"x")&&(h.x-=e),Qt(h,"y")&&(h.y-=r)}),s.width=n-e+o,s.height=i-r+a}function kze(t){Ae(t.edges(),function(e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(fD(r,s)),n.points.push(fD(i,o))})}function wze(t){Ae(t.edges(),function(e){var n=t.edge(e);if(Qt(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function _ze(t){Ae(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function Sze(t){Ae(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(J2(n.borderLeft)),o=t.node(J2(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),Ae(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Cze(t){Ae(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Tze(t){var e=V4(t);Ae(e,function(n){var r=0;Ae(n,function(i,s){var o=t.node(i);o.order=s+r,Ae(o.selfEdges,function(a){D0(t,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function Dze(t){Ae(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function yO(t,e){return t4(yp(t,e),Number)}function bO(t){var e={};return Ae(t,function(n,r){e[r.toLowerCase()]=n}),e}function Dl(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Eze(t),edges:Aze(t)};return ar(t.graph())||(e.value=oU(t.graph())),e}function Eze(t){return xr(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return ar(n)||(i.value=n),ar(r)||(i.parent=r),i})}function Aze(t){return xr(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return ar(e.name)||(r.name=e.name),ar(n)||(r.value=n),r})}const Mze=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Pze(t){return typeof t=="string"&&Mze.test(t)}const ti=[];for(let t=0;t<256;++t)ti.push((t+256).toString(16).slice(1));function Bze(t,e=0){return(ti[t[e+0]]+ti[t[e+1]]+ti[t[e+2]]+ti[t[e+3]]+"-"+ti[t[e+4]]+ti[t[e+5]]+"-"+ti[t[e+6]]+ti[t[e+7]]+"-"+ti[t[e+8]]+ti[t[e+9]]+"-"+ti[t[e+10]]+ti[t[e+11]]+ti[t[e+12]]+ti[t[e+13]]+ti[t[e+14]]+ti[t[e+15]]).toLowerCase()}function $ze(t){if(!Pze(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Lze(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}const Fze="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Nze="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ize(t,e,n){function r(i,s,o,a){var l;if(typeof i=="string"&&(i=Lze(i)),typeof s=="string"&&(s=$ze(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let h=0;h<16;++h)o[a+h]=u[h];return o}return Bze(u)}try{r.name=t}catch{}return r.DNS=Fze,r.URL=Nze,r}function Rze(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function OO(t,e){return t<<e|t>>>32-e}function Qze(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const r=t.length/4+2,i=Math.ceil(r/16),s=new Array(i);for(let o=0;o<i;++o){const a=new Uint32Array(16);for(let l=0;l<16;++l)a[l]=t[o*64+l*4]<<24|t[o*64+l*4+1]<<16|t[o*64+l*4+2]<<8|t[o*64+l*4+3];s[o]=a}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<i;++o){const a=new Uint32Array(80);for(let p=0;p<16;++p)a[p]=s[o][p];for(let p=16;p<80;++p)a[p]=OO(a[p-3]^a[p-8]^a[p-14]^a[p-16],1);let l=n[0],u=n[1],h=n[2],d=n[3],f=n[4];for(let p=0;p<80;++p){const m=Math.floor(p/20),g=OO(l,5)+Rze(m,u,h,d)+f+e[m]+a[p]>>>0;f=d,d=h,h=OO(u,30)>>>0,u=l,l=g}n[0]=n[0]+l>>>0,n[1]=n[1]+u>>>0,n[2]=n[2]+h>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}const zze=Ize("v5",80,Qze),Vze=zze;function gI(t,e){return!!t.children(e).length}function yI(t){return vO(t.v)+":"+vO(t.w)+":"+vO(t.name)}var Wze=/:/g;function vO(t){return t?String(t).replace(Wze,"\\:"):""}function Ha(t,e){e&&t.attr("style",e)}function bI(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function Go(t,e){var n=e.graph();if(aU(n)){var r=n.transition;if(mv(r))return r(t)}return t}var Wx={normal:Xze,vee:Yze,undirected:Uze};function qze(t){Wx=t}function Xze(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");Ha(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function Yze(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");Ha(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function Uze(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");Ha(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function F8(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert(function(){return i});break;default:r.html(i)}Ha(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var s=r.node().getBoundingClientRect();return n.attr("width",s.width).attr("height",s.height),n}function jze(t,e){var n=t;return n.node().appendChild(e.label),Ha(n,e.labelStyle),n}function Hze(t,e){for(var n=t.append("text"),r=Zze(e.label).split(`
`),i=0;i<r.length;i++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[i]);return Ha(n,e.labelStyle),n}function Zze(t){for(var e="",n=!1,r,i=0;i<t.length;++i)if(r=t[i],n){switch(r){case"n":e+=`
`;break;default:e+=r}n=!1}else r==="\\"?n=!0:e+=r;return e}function N8(t,e,n){var r=e.label,i=t.append("g");e.labelType==="svg"?jze(i,e):typeof r!="string"||e.labelType==="html"?F8(i,e):Hze(i,e);var s=i.node().getBBox(),o;switch(n){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-s.height;break;default:o=-s.height/2}return i.attr("transform","translate("+-s.width/2+","+o+")"),i}var qx=function(t,e){var n=e.nodes().filter(function(s){return gI(e,s)}),r=t.selectAll("g.cluster").data(n,function(s){return s});Go(r.exit(),e).style("opacity",0).remove();var i=r.enter().append("g").attr("class","cluster").attr("id",function(s){var o=e.node(s);return o.id}).style("opacity",0).each(function(s){var o=e.node(s),a=Le(this);Le(this).append("rect");var l=a.append("g").attr("class","label");N8(l,o,o.clusterLabelPos)});return r=r.merge(i),r=Go(r,e).style("opacity",1),r.selectAll("rect").each(function(s){var o=e.node(s),a=Le(this);Ha(a,o.style)}),r};function Gze(t){qx=t}let Xx=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(i){return yI(i)}).classed("update",!0);n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each(function(i){var s=Le(this);s.select(".label").remove();var o=e.edge(i),a=N8(s,e.edge(i),0).classed("label",!0),l=a.node().getBBox();o.labelId&&a.attr("id",o.labelId),Qt(o,"width")||(o.width=l.width),Qt(o,"height")||(o.height=l.height)});var r;return n.exit?r=n.exit():r=n.selectAll(null),Go(r,e).style("opacity",0).remove(),n};function Kze(t){Xx=t}function kD(t,e){return t.intersect(e)}var Yx=function(t,e,n){var r=t.selectAll("g.edgePath").data(e.edges(),function(o){return yI(o)}).classed("update",!0),i=rVe(r,e);iVe(r,e);var s=r.merge!==void 0?r.merge(i):r;return Go(s,e).style("opacity",1),s.each(function(o){var a=Le(this),l=e.edge(o);l.elem=this,l.id&&a.attr("id",l.id),bI(a,l.class,(a.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(o){var a=e.edge(o);a.arrowheadId=n4("arrowhead");var l=Le(this).attr("marker-end",function(){return"url("+eVe(location.href,a.arrowheadId)+")"}).style("fill","none");Go(l,e).attr("d",function(u){return tVe(e,u)}),Ha(l,a.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(o){var a=e.edge(o),l=n[a.arrowhead];l(Le(this),a.arrowheadId,a,"arrowhead")}),s};function Jze(t){Yx=t}function eVe(t,e){var n=t.split("#")[0];return n+"#"+e}function tVe(t,e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s=n.points.slice(1,n.points.length-1);return s.unshift(kD(r,s[0])),s.push(kD(i,s[s.length-1])),OI(n,s)}function OI(t,e){var n=(T0||PFe.line)().x(function(r){return r.x}).y(function(r){return r.y});return(n.curve||n.interpolate)(t.curve),n(e)}function nVe(t){var e=t.getBBox(),n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function rVe(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(r){var i=e.edge(r),s=e.node(r.v).elem,o=ah(i.points.length).map(function(){return nVe(s)});return OI(i,o)}),n.append("defs"),n}function iVe(t,e){var n=t.exit();Go(n,e).style("opacity",0).remove()}var Ux=function(t,e,n){var r=e.nodes().filter(function(o){return!gI(e,o)}),i=t.selectAll("g.node").data(r,function(o){return o}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=t.selectAll("g.node"),i.each(function(o){var a=e.node(o),l=Le(this);bI(l,a.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var u=l.append("g").attr("class","label"),h=N8(u,a),d=n[a.shape],f=yp(h.node().getBBox(),"width","height");a.elem=this,a.id&&l.attr("id",a.id),a.labelId&&u.attr("id",a.labelId),Qt(a,"width")&&(f.width=a.width),Qt(a,"height")&&(f.height=a.height),f.width+=a.paddingLeft+a.paddingRight,f.height+=a.paddingTop+a.paddingBottom,u.attr("transform","translate("+(a.paddingLeft-a.paddingRight)/2+","+(a.paddingTop-a.paddingBottom)/2+")");var p=Le(this);p.select(".label-container").remove();var m=d(p,f,a).classed("label-container",!0);Ha(m,a.style);var g=m.node().getBBox();a.width=g.width,a.height=g.height});var s;return i.exit?s=i.exit():s=i.selectAll(null),Go(s,e).style("opacity",0).remove(),i};function sVe(t){Ux=t}function oVe(t,e){var n=t.filter(function(){return!Le(this).classed("update")});function r(i){var s=e.node(i);return"translate("+s.x+","+s.y+")"}n.attr("transform",r),Go(t,e).style("opacity",1).attr("transform",r),Go(n.selectAll("rect"),e).attr("width",function(i){return e.node(i).width}).attr("height",function(i){return e.node(i).height}).attr("x",function(i){var s=e.node(i);return-s.width/2}).attr("y",function(i){var s=e.node(i);return-s.height/2})}function aVe(t,e){var n=t.filter(function(){return!Le(this).classed("update")});function r(i){var s=e.edge(i);return Qt(s,"x")?"translate("+s.x+","+s.y+")":""}n.attr("transform",r),Go(t,e).style("opacity",1).attr("transform",r)}function lVe(t,e){var n=t.filter(function(){return!Le(this).classed("update")});function r(i){var s=e.node(i);return"translate("+s.x+","+s.y+")"}n.attr("transform",r),Go(t,e).style("opacity",1).attr("transform",r)}function vI(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),u=Math.abs(e*n*o/l);r.x<i&&(u=-u);var h=Math.abs(e*n*a/l);return r.y<s&&(h=-h),{x:i+u,y:s+h}}function cVe(t,e,n){return vI(t,e,e,n)}function uVe(t,e,n,r){var i,s,o,a,l,u,h,d,f,p,m,g,y,b,O;if(i=e.y-t.y,o=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+o*n.y+l,p=i*r.x+o*r.y+l,!(f!==0&&p!==0&&wD(f,p))&&(s=r.y-n.y,a=n.x-r.x,u=r.x*n.y-n.x*r.y,h=s*t.x+a*t.y+u,d=s*e.x+a*e.y+u,!(h!==0&&d!==0&&wD(h,d))&&(m=i*a-s*o,m!==0)))return g=Math.abs(m/2),y=o*u-a*l,b=y<0?(y-g)/m:(y+g)/m,y=s*l-i*u,O=y<0?(y-g)/m:(y+g)/m,{x:b,y:O}}function wD(t,e){return t*e>0}function Za(t,e,n){var r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;e.forEach(function(m){o=Math.min(o,m.x),a=Math.min(a,m.y)});for(var l=r-t.width/2-o,u=i-t.height/2-a,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=uVe(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(m,g){var y=m.x-n.x,b=m.y-n.y,O=Math.sqrt(y*y+b*b),w=g.x-n.x,D=g.y-n.y,C=Math.sqrt(w*w+D*D);return O<C?-1:O===C?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function I8(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,u=a):(i<0&&(o=-o),l=o,u=i===0?0:o*s/i),{x:n+l,y:r+u}}var jx={rect:dVe,ellipse:fVe,circle:pVe,diamond:mVe};function hVe(t){jx=t}function dVe(t,e,n){var r=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(i){return I8(n,i)},r}function fVe(t,e,n){var r=e.width/2,i=e.height/2,s=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",i);return n.intersect=function(o){return vI(n,r,i,o)},s}function pVe(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(s){return cVe(n,r,s)},i}function mVe(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,s=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],o=t.insert("polygon",":first-child").attr("points",s.map(function(a){return a.x+","+a.y}).join(" "));return n.intersect=function(a){return Za(n,s,a)},o}function gVe(){var t=function(e,n){OVe(n);var r=Y0(e,"output"),i=Y0(r,"clusters"),s=Y0(r,"edgePaths"),o=Xx(Y0(r,"edgeLabels"),n),a=Ux(Y0(r,"nodes"),n,jx);E0(n),lVe(a,n),aVe(o,n),Yx(s,n,Wx);var l=qx(i,n);oVe(l,n),vVe(n)};return t.createNodes=function(e){return arguments.length?(sVe(e),t):Ux},t.createClusters=function(e){return arguments.length?(Gze(e),t):qx},t.createEdgeLabels=function(e){return arguments.length?(Kze(e),t):Xx},t.createEdgePaths=function(e){return arguments.length?(Jze(e),t):Yx},t.shapes=function(e){return arguments.length?(hVe(e),t):jx},t.arrows=function(e){return arguments.length?(qze(e),t):Wx},t}var yVe={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},bVe={arrowhead:"normal",curve:$s};function OVe(t){t.nodes().forEach(function(e){var n=t.node(e);!Qt(n,"label")&&!t.children(e).length&&(n.label=e),Qt(n,"paddingX")&&zh(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),Qt(n,"paddingY")&&zh(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),Qt(n,"padding")&&zh(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),zh(n,yVe),Ae(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(r){n[r]=Number(n[r])}),Qt(n,"width")&&(n._prevWidth=n.width),Qt(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);Qt(n,"label")||(n.label=""),zh(n,bVe)})}function vVe(t){Ae(t.nodes(),function(e){var n=t.node(e);Qt(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,Qt(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function Y0(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var xI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(af,function(){var n="day";return function(r,i,s){var o=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var h,d,f,p,m=o(this),g=(h=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(h).startOf("year"),p=4-f.isoWeekday(),f.isoWeekday()>4&&(p+=7),f.add(p,n));return m.diff(g,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,h){var d=this.$utils(),f=!!d.u(h)||h;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(xI);const xVe=xI.exports,al={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},V={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},R8=function(t="fatal"){let e=al.fatal;typeof t=="string"?(t=t.toLowerCase(),t in al&&(e=al[t])):typeof t=="number"&&(e=t),V.trace=()=>{},V.debug=()=>{},V.info=()=>{},V.warn=()=>{},V.error=()=>{},V.fatal=()=>{},e<=al.fatal&&(V.fatal=console.error?console.error.bind(console,js("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",js("FATAL"))),e<=al.error&&(V.error=console.error?console.error.bind(console,js("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",js("ERROR"))),e<=al.warn&&(V.warn=console.warn?console.warn.bind(console,js("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",js("WARN"))),e<=al.info&&(V.info=console.info?console.info.bind(console,js("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",js("INFO"))),e<=al.debug&&(V.debug=console.debug?console.debug.bind(console,js("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",js("DEBUG"))),e<=al.trace&&(V.trace=console.debug?console.debug.bind(console,js("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",js("TRACE")))},js=t=>`%c${cs().format("ss.SSS")} : ${t} : `,kVe=t=>t?wI(t).replace(/\\n/g,"#br#").split("#br#"):[""],kI=t=>Wp.sanitize(t),_D=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=kI(t):r!=="loose"&&(t=wI(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=CVe(t))}return t},ko=(t,e)=>t&&(e.dompurifyConfig?t=Wp.sanitize(_D(t,e),e.dompurifyConfig).toString():t=Wp.sanitize(_D(t,e),{FORBID_TAGS:["style"]}).toString(),t),wVe=(t,e)=>typeof t=="string"?ko(t,e):t.flat().map(n=>ko(n,e)),W4=/<br\s*\/?>/gi,_Ve=t=>W4.test(t),SVe=t=>t.split(W4),CVe=t=>t.replace(/#br#/g,"<br/>"),wI=t=>t.replace(W4,"#br#"),TVe=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},Hr=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),Rc=function(t){let e=t;if(t.split("~").length-1>=2){let n=e;do e=n,n=e.replace(/~([^\s,:;]+)~/,"<$1>");while(n!=e);return Rc(n)}else return e},Pt={getRows:kVe,sanitizeText:ko,sanitizeTextOrArray:wVe,hasBreaks:_Ve,splitBreaks:SVe,lineBreakRegex:W4,removeScript:kI,getUrl:TVe,evaluate:Hr},Ri=(t,e)=>e?Oe(t,{s:-40,l:10}):Oe(t,{s:-40,l:-10}),q4="#ffffff",X4="#f2f2f2";let DVe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Oe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Oe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ri(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ri(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||et(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||et(this.tertiaryColor),this.lineColor=this.lineColor||et(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Lt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||et(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||vt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Lt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Lt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||et(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||vt(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||Lt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||Oe(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||Oe(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Oe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Oe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Oe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Oe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Oe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||et(this.git0),this.gitInv1=this.gitInv1||et(this.git1),this.gitInv2=this.gitInv2||et(this.git2),this.gitInv3=this.gitInv3||et(this.git3),this.gitInv4=this.gitInv4||et(this.git4),this.gitInv5=this.gitInv5||et(this.git5),this.gitInv6=this.gitInv6||et(this.git6),this.gitInv7=this.gitInv7||et(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q4,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X4}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const EVe=t=>{const e=new DVe;return e.calculate(t),e};let AVe=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=vt(this.primaryColor,16),this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=et(this.background),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=et(this.primaryColor),this.secondaryTextColor=et(this.secondaryColor),this.tertiaryTextColor=et(this.tertiaryColor),this.lineColor=et(this.background),this.textColor=et(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=vt(et("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=tp(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Lt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=tp(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=tp(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=vt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=vt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=vt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||et(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||vt(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Oe(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Oe(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=vt(this.secondaryColor,20),this.git1=vt(this.pie2||this.secondaryColor,20),this.git2=vt(this.pie3||this.tertiaryColor,20),this.git3=vt(this.pie4||Oe(this.primaryColor,{h:-30}),20),this.git4=vt(this.pie5||Oe(this.primaryColor,{h:-60}),20),this.git5=vt(this.pie6||Oe(this.primaryColor,{h:-90}),10),this.git6=vt(this.pie7||Oe(this.primaryColor,{h:60}),10),this.git7=vt(this.pie8||Oe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||et(this.git0),this.gitInv1=this.gitInv1||et(this.git1),this.gitInv2=this.gitInv2||et(this.git2),this.gitInv3=this.gitInv3||et(this.git3),this.gitInv4=this.gitInv4||et(this.git4),this.gitInv5=this.gitInv5||et(this.git5),this.gitInv6=this.gitInv6||et(this.git6),this.gitInv7=this.gitInv7||et(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||vt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vt(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const MVe=t=>{const e=new AVe;return e.calculate(t),e};let PVe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Oe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=et(this.primaryColor),this.secondaryTextColor=et(this.secondaryColor),this.tertiaryTextColor=et(this.tertiaryColor),this.lineColor=et(this.background),this.textColor=et(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=tp(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Lt(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Lt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Lt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Lt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Oe(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Oe(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Oe(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||et(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||et(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=vt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Oe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||Lt(et(this.git0),25),this.gitInv1=this.gitInv1||et(this.git1),this.gitInv2=this.gitInv2||et(this.git2),this.gitInv3=this.gitInv3||et(this.git3),this.gitInv4=this.gitInv4||et(this.git4),this.gitInv5=this.gitInv5||et(this.git5),this.gitInv6=this.gitInv6||et(this.git6),this.gitInv7=this.gitInv7||et(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||et(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||et(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q4,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X4}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const BVe=t=>{const e=new PVe;return e.calculate(t),e};let $Ve=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=vt("#cde498",10),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=et(this.primaryColor),this.secondaryTextColor=et(this.secondaryColor),this.tertiaryTextColor=et(this.primaryColor),this.lineColor=et(this.background),this.textColor=et(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||Lt(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||Lt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Lt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Lt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Oe(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Oe(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Oe(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Lt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-30}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||et(this.git0),this.gitInv1=this.gitInv1||et(this.git1),this.gitInv2=this.gitInv2||et(this.git2),this.gitInv3=this.gitInv3||et(this.git3),this.gitInv4=this.gitInv4||et(this.git4),this.gitInv5=this.gitInv5||et(this.git5),this.gitInv6=this.gitInv6||et(this.git6),this.gitInv7=this.gitInv7||et(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q4,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X4}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const LVe=t=>{const e=new $Ve;return e.calculate(t),e};class FVe{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=vt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Ri(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ri(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ri(this.tertiaryColor,this.darkMode),this.primaryTextColor=et(this.primaryColor),this.secondaryTextColor=et(this.secondaryColor),this.tertiaryTextColor=et(this.tertiaryColor),this.lineColor=et(this.background),this.textColor=et(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=vt(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||et(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||vt(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Lt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Oe(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Oe(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=vt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=vt(this.contrast,30),this.sectionBkgColor2=vt(this.contrast,30),this.taskBorderColor=Lt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=vt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Lt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Lt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Oe(this.primaryColor,{h:-30}),this.git4=this.pie5||Oe(this.primaryColor,{h:-60}),this.git5=this.pie6||Oe(this.primaryColor,{h:-90}),this.git6=this.pie7||Oe(this.primaryColor,{h:60}),this.git7=this.pie8||Oe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||et(this.git0),this.gitInv1=this.gitInv1||et(this.git1),this.gitInv2=this.gitInv2||et(this.git2),this.gitInv3=this.gitInv3||et(this.git3),this.gitInv4=this.gitInv4||et(this.git4),this.gitInv5=this.gitInv5||et(this.git5),this.gitInv6=this.gitInv6||et(this.git6),this.gitInv7=this.gitInv7||et(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q4,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X4}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const NVe=t=>{const e=new FVe;return e.calculate(t),e},Fl={base:{getThemeVariables:EVe},dark:{getThemeVariables:MVe},default:{getThemeVariables:BVe},forest:{getThemeVariables:LVe},neutral:{getThemeVariables:NVe}},Qc={theme:"default",themeVariables:Fl.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Qc.class&&(Qc.class.arrowMarkerAbsolute=Qc.arrowMarkerAbsolute);Qc.gitGraph&&(Qc.gitGraph.arrowMarkerAbsolute=Qc.arrowMarkerAbsolute);const _I=(t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,..._I(t[r],"")]:[...n,e+r],[]),IVe=_I(Qc,""),RVe=Qc;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function SI(t){return typeof t>"u"||t===null}function QVe(t){return typeof t=="object"&&t!==null}function zVe(t){return Array.isArray(t)?t:SI(t)?[]:[t]}function VVe(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function WVe(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function qVe(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var XVe=SI,YVe=QVe,UVe=zVe,jVe=WVe,HVe=qVe,ZVe=VVe,Ni={isNothing:XVe,isObject:YVe,toArray:UVe,repeat:jVe,isNegativeZero:HVe,extend:ZVe};function CI(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Xp(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=CI(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xp.prototype=Object.create(Error.prototype);Xp.prototype.constructor=Xp;Xp.prototype.toString=function(e){return this.name+": "+CI(this,e)};var vl=Xp;function xO(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function kO(t,e){return Ni.repeat(" ",e-t.length)+t}function GVe(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=xO(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),d),a=Ni.repeat(" ",e.indent)+kO((t.line-l+1).toString(),h)+" | "+u.str+`
`+a;for(u=xO(t.buffer,r[o],i[o],t.position,d),a+=Ni.repeat(" ",e.indent)+kO((t.line+1).toString(),h)+" | "+u.str+`
`,a+=Ni.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)u=xO(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),d),a+=Ni.repeat(" ",e.indent)+kO((t.line+l+1).toString(),h)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var KVe=GVe,JVe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],eWe=["scalar","sequence","mapping"];function tWe(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function nWe(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(JVe.indexOf(n)===-1)throw new vl('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=tWe(e.styleAliases||null),eWe.indexOf(this.kind)===-1)throw new vl('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Di=nWe;function SD(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function rWe(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Hx(t){return this.extend(t)}Hx.prototype.extend=function(e){var n=[],r=[];if(e instanceof Di)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new vl("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Di))throw new vl("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new vl("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new vl("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Di))throw new vl("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Hx.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=SD(i,"implicit"),i.compiledExplicit=SD(i,"explicit"),i.compiledTypeMap=rWe(i.compiledImplicit,i.compiledExplicit),i};var iWe=Hx,sWe=new Di("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),oWe=new Di("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),aWe=new Di("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),TI=new iWe({explicit:[sWe,oWe,aWe]});function lWe(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function cWe(){return null}function uWe(t){return t===null}var hWe=new Di("tag:yaml.org,2002:null",{kind:"scalar",resolve:lWe,construct:cWe,predicate:uWe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function dWe(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function fWe(t){return t==="true"||t==="True"||t==="TRUE"}function pWe(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var mWe=new Di("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dWe,construct:fWe,predicate:pWe,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function gWe(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function yWe(t){return 48<=t&&t<=55}function bWe(t){return 48<=t&&t<=57}function OWe(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!gWe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!yWe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!bWe(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function vWe(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function xWe(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ni.isNegativeZero(t)}var kWe=new Di("tag:yaml.org,2002:int",{kind:"scalar",resolve:OWe,construct:vWe,predicate:xWe,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wWe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function _We(t){return!(t===null||!wWe.test(t)||t[t.length-1]==="_")}function SWe(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var CWe=/^[-+]?[0-9]+e/;function TWe(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ni.isNegativeZero(t))return"-0.0";return n=t.toString(10),CWe.test(n)?n.replace("e",".e"):n}function DWe(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ni.isNegativeZero(t))}var EWe=new Di("tag:yaml.org,2002:float",{kind:"scalar",resolve:_We,construct:SWe,predicate:DWe,represent:TWe,defaultStyle:"lowercase"}),AWe=TI.extend({implicit:[hWe,mWe,kWe,EWe]}),MWe=AWe,DI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),EI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function PWe(t){return t===null?!1:DI.exec(t)!==null||EI.exec(t)!==null}function BWe(t){var e,n,r,i,s,o,a,l=0,u=null,h,d,f;if(e=DI.exec(t),e===null&&(e=EI.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],d=+(e[11]||0),u=(h*60+d)*6e4,e[9]==="-"&&(u=-u)),f=new Date(Date.UTC(n,r,i,s,o,a,l)),u&&f.setTime(f.getTime()-u),f}function $We(t){return t.toISOString()}var LWe=new Di("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:PWe,construct:BWe,instanceOf:Date,represent:$We});function FWe(t){return t==="<<"||t===null}var NWe=new Di("tag:yaml.org,2002:merge",{kind:"scalar",resolve:FWe}),Q8=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function IWe(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Q8;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function RWe(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Q8,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function QWe(t){var e="",n=0,r,i,s=t.length,o=Q8;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function zWe(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var VWe=new Di("tag:yaml.org,2002:binary",{kind:"scalar",resolve:IWe,construct:RWe,predicate:zWe,represent:QWe}),WWe=Object.prototype.hasOwnProperty,qWe=Object.prototype.toString;function XWe(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,qWe.call(i)!=="[object Object]")return!1;for(s in i)if(WWe.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function YWe(t){return t!==null?t:[]}var UWe=new Di("tag:yaml.org,2002:omap",{kind:"sequence",resolve:XWe,construct:YWe}),jWe=Object.prototype.toString;function HWe(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],jWe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function ZWe(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var GWe=new Di("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:HWe,construct:ZWe}),KWe=Object.prototype.hasOwnProperty;function JWe(t){if(t===null)return!0;var e,n=t;for(e in n)if(KWe.call(n,e)&&n[e]!==null)return!1;return!0}function eqe(t){return t!==null?t:{}}var tqe=new Di("tag:yaml.org,2002:set",{kind:"mapping",resolve:JWe,construct:eqe}),nqe=MWe.extend({implicit:[LWe,NWe],explicit:[VWe,UWe,GWe,tqe]}),tu=Object.prototype.hasOwnProperty,Ry=1,AI=2,MI=3,Qy=4,wO=1,rqe=2,CD=3,iqe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sqe=/[\x85\u2028\u2029]/,oqe=/[,\[\]\{\}]/,PI=/^(?:!|!!|![a-z\-]+!)$/i,BI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function TD(t){return Object.prototype.toString.call(t)}function Fa(t){return t===10||t===13}function ih(t){return t===9||t===32}function us(t){return t===9||t===32||t===10||t===13}function od(t){return t===44||t===91||t===93||t===123||t===125}function aqe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function lqe(t){return t===120?2:t===117?4:t===85?8:0}function cqe(t){return 48<=t&&t<=57?t-48:-1}function DD(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function uqe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var $I=new Array(256),LI=new Array(256);for(var Rh=0;Rh<256;Rh++)$I[Rh]=DD(Rh)?1:0,LI[Rh]=DD(Rh);function hqe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||nqe,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function FI(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=KVe(n),new vl(e,n)}function mt(t,e){throw FI(t,e)}function zy(t,e){t.onWarning&&t.onWarning.call(null,FI(t,e))}var ED={YAML:function(e,n,r){var i,s,o;e.version!==null&&mt(e,"duplication of %YAML directive"),r.length!==1&&mt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&mt(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&mt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&zy(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&mt(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],PI.test(i)||mt(e,"ill-formed tag handle (first argument) of the TAG directive"),tu.call(e.tagMap,i)&&mt(e,'there is a previously declared suffix for "'+i+'" tag handle'),BI.test(s)||mt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{mt(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function zc(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||mt(t,"expected valid JSON character");else iqe.test(a)&&mt(t,"the stream contains non-printable characters");t.result+=a}}function AD(t,e,n,r){var i,s,o,a;for(Ni.isObject(n)||mt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],tu.call(e,s)||(e[s]=n[s],r[s]=!0)}function ad(t,e,n,r,i,s,o,a,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&mt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&TD(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&TD(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,h=s.length;u<h;u+=1)AD(t,e,s[u],n);else AD(t,e,s,n);else!t.json&&!tu.call(n,i)&&tu.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,mt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function z8(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):mt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function vr(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ih(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Fa(i))for(z8(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&zy(t,"deficient indentation"),r}function Y4(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||us(n)))}function V8(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ni.repeat(`
`,e-1))}function dqe(t,e,n){var r,i,s,o,a,l,u,h,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),us(p)||od(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),us(i)||n&&od(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),us(i)||n&&od(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),us(r))break}else{if(t.position===t.lineStart&&Y4(t)||n&&od(p))break;if(Fa(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,vr(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=h;break}}a&&(zc(t,s,o,!1),V8(t,t.line-l),s=o=t.position,a=!1),ih(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return zc(t,s,o,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function fqe(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(zc(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Fa(n)?(zc(t,r,i,!0),V8(t,vr(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Y4(t)?mt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);mt(t,"unexpected end of the stream within a single quoted scalar")}function pqe(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return zc(t,n,t.position,!0),t.position++,!0;if(a===92){if(zc(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Fa(a))vr(t,!1,e);else if(a<256&&$I[a])t.result+=LI[a],t.position++;else if((o=lqe(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=aqe(a))>=0?s=(s<<4)+o:mt(t,"expected hexadecimal character");t.result+=uqe(s),t.position++}else mt(t,"unknown escape sequence");n=r=t.position}else Fa(a)?(zc(t,n,r,!0),V8(t,vr(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Y4(t)?mt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}mt(t,"unexpected end of the stream within a double quoted scalar")}function mqe(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,u,h,d,f,p,m=Object.create(null),g,y,b,O;if(O=t.input.charCodeAt(t.position),O===91)h=93,p=!1,a=[];else if(O===123)h=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),O=t.input.charCodeAt(++t.position);O!==0;){if(vr(t,!0,e),O=t.input.charCodeAt(t.position),O===h)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;n?O===44&&mt(t,"expected the node content, but found ','"):mt(t,"missed comma between flow collection entries"),y=g=b=null,d=f=!1,O===63&&(u=t.input.charCodeAt(t.position+1),us(u)&&(d=f=!0,t.position++,vr(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Gd(t,e,Ry,!1,!0),y=t.tag,g=t.result,vr(t,!0,e),O=t.input.charCodeAt(t.position),(f||t.line===r)&&O===58&&(d=!0,O=t.input.charCodeAt(++t.position),vr(t,!0,e),Gd(t,e,Ry,!1,!0),b=t.result),p?ad(t,a,m,y,g,b,r,i,s):d?a.push(ad(t,null,m,y,g,b,r,i,s)):a.push(g),vr(t,!0,e),O=t.input.charCodeAt(t.position),O===44?(n=!0,O=t.input.charCodeAt(++t.position)):n=!1}mt(t,"unexpected end of the stream within a flow collection")}function gqe(t,e){var n,r,i=wO,s=!1,o=!1,a=e,l=0,u=!1,h,d;if(d=t.input.charCodeAt(t.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)wO===i?i=d===43?CD:rqe:mt(t,"repeat of a chomping mode identifier");else if((h=cqe(d))>=0)h===0?mt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?mt(t,"repeat of an indentation width identifier"):(a=e+h-1,o=!0);else break;if(ih(d)){do d=t.input.charCodeAt(++t.position);while(ih(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Fa(d)&&d!==0)}for(;d!==0;){for(z8(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Fa(d)){l++;continue}if(t.lineIndent<a){i===CD?t.result+=Ni.repeat(`
`,s?1+l:l):i===wO&&s&&(t.result+=`
`);break}for(r?ih(d)?(u=!0,t.result+=Ni.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Ni.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Ni.repeat(`
`,l):t.result+=Ni.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!Fa(d)&&d!==0;)d=t.input.charCodeAt(++t.position);zc(t,n,t.position,!1)}return!0}function MD(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,mt(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!us(o))));){if(a=!0,t.position++,vr(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Gd(t,e,MI,!1,!0),s.push(t.result),vr(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)mt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function yqe(t,e,n){var r,i,s,o,a,l,u=t.tag,h=t.anchor,d={},f=Object.create(null),p=null,m=null,g=null,y=!1,b=!1,O;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),O=t.input.charCodeAt(t.position);O!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,mt(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(O===63||O===58)&&us(r))O===63?(y&&(ad(t,d,f,p,m,null,o,a,l),p=m=g=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):mt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,O=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Gd(t,n,AI,!1,!0))break;if(t.line===s){for(O=t.input.charCodeAt(t.position);ih(O);)O=t.input.charCodeAt(++t.position);if(O===58)O=t.input.charCodeAt(++t.position),us(O)||mt(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(ad(t,d,f,p,m,null,o,a,l),p=m=g=null),b=!0,y=!1,i=!1,p=t.tag,m=t.result;else if(b)mt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(b)mt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(y&&(o=t.line,a=t.lineStart,l=t.position),Gd(t,e,Qy,!0,i)&&(y?m=t.result:g=t.result),y||(ad(t,d,f,p,m,g,o,a,l),p=m=g=null),vr(t,!0,-1),O=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&O!==0)mt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&ad(t,d,f,p,m,null,o,a,l),b&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),b}function bqe(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&mt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):mt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!us(o);)o===33&&(r?mt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),PI.test(i)||mt(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),oqe.test(s)&&mt(t,"tag suffix cannot contain flow indicator characters")}s&&!BI.test(s)&&mt(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{mt(t,"tag name is malformed: "+s)}return n?t.tag=s:tu.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:mt(t,'undeclared tag handle "'+i+'"'),!0}function Oqe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&mt(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!us(n)&&!od(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&mt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function vqe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!us(r)&&!od(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&mt(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),tu.call(t.anchorMap,n)||mt(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],vr(t,!0,-1),!0}function Gd(t,e,n,r,i){var s,o,a,l=1,u=!1,h=!1,d,f,p,m,g,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Qy===n||MI===n,r&&vr(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;bqe(t)||Oqe(t);)vr(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||Qy===n)&&(Ry===n||AI===n?g=e:g=e+1,y=t.position-t.lineStart,l===1?a&&(MD(t,y)||yqe(t,y,g))||mqe(t,g)?h=!0:(o&&gqe(t,g)||fqe(t,g)||pqe(t,g)?h=!0:vqe(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&mt(t,"alias node should not have any properties")):dqe(t,g,Ry===n)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=a&&MD(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&mt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(m=t.implicitTypes[d],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(tu.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||mt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&mt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):mt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function xqe(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(vr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!us(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&mt(t,"directive name must not be less than one character in length");o!==0;){for(;ih(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Fa(o));break}if(Fa(o))break;for(n=t.position;o!==0&&!us(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&z8(t),tu.call(ED,r)?ED[r](t,r,i):zy(t,'unknown document directive "'+r+'"')}if(vr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,vr(t,!0,-1)):s&&mt(t,"directives end mark is expected"),Gd(t,t.lineIndent-1,Qy,!1,!0),vr(t,!0,-1),t.checkLineBreaks&&sqe.test(t.input.slice(e,t.position))&&zy(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Y4(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,vr(t,!0,-1));return}if(t.position<t.length-1)mt(t,"end of the stream or a document separator is expected");else return}function NI(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new hqe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,mt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)xqe(n);return n.documents}function kqe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=NI(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function wqe(t,e){var n=NI(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new vl("expected a single document in the stream, but found more")}}var _qe=kqe,Sqe=wqe,Cqe={loadAll:_qe,load:Sqe},Tqe=TI,Dqe=Cqe.load;const II=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function Eqe(t,e){var n;const r=t.match(II);if(r){const i=Dqe(r[1],{schema:Tqe});return i!=null&&i.title&&((n=e.setDiagramTitle)==null||n.call(e,i.title)),t.slice(r[0].length)}else return t}const Aqe=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Mqe=/\s*%%.*\n/gm,Vy={},W8=function(t,e){t=t.replace(II,"").replace(Aqe,"").replace(Mqe,`
`);for(const[n,{detector:r}]of Object.entries(Vy))if(r(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},RI=(...t)=>{for(const{id:e,detector:n,loader:r}of t)QI(e,n,r)},QI=(t,e,n)=>{Vy[t]?V.error(`Detector with key ${t} already exists`):Vy[t]={detector:e,loader:n},V.debug(`Detector with key ${t} added${n?" with loader":""}`)},Pqe=t=>Vy[t].loader,Zx=function(t,e,n){const{depth:r,clobber:i}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>Zx(t,s,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=Zx(t[s],e[s],{depth:r-1,clobber:i})):(i||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},jr=Zx,Bqe={curveBasis:Zd,curveBasisClosed:DIe,curveBasisOpen:EIe,curveBumpX:CIe,curveBumpY:TIe,curveBundle:AIe,curveCardinalClosed:PIe,curveCardinalOpen:BIe,curveCardinal:MIe,curveCatmullRomClosed:LIe,curveCatmullRomOpen:FIe,curveCatmullRom:$Ie,curveLinear:$s,curveLinearClosed:NIe,curveMonotoneX:IIe,curveMonotoneY:RIe,curveNatural:QIe,curveStep:zIe,curveStepAfter:WIe,curveStepBefore:VIe},_O=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$qe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Lqe=function(t,e){const n=zI(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const i=n.map(s=>s.args);yh(i),r=jr(r,[...i])}else r=n.args;if(r){let i=W8(t,e);["config"].forEach(s=>{r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s])})}return r},zI=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${$qe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),V.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=_O.exec(t))!==null;)if(r.index===_O.lastIndex&&_O.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const s=r[1]?r[1]:r[2],o=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:s,args:o})}return i.length===0&&i.push({type:t,args:null}),i.length===1?i[0]:i}catch(n){return V.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},Fqe=function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1};function Yo(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Bqe[n]||e}function Nqe(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?Kl(n):n}const Iqe=(t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s)return;s[i](...e)};function Wy(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function Rqe(t){let e,n=0;t.forEach(s=>{n+=Wy(s,e),e=s});let r=n/2,i;return e=void 0,t.forEach(s=>{if(e&&!i){const o=Wy(s,e);if(o<r)r-=o;else{const a=r/o;a<=0&&(i=e),a>=1&&(i={x:s.x,y:s.y}),a>0&&a<1&&(i={x:(1-a)*e.x+a*s.x,y:(1-a)*e.y+a*s.y})}}e=s}),i}function Qqe(t){return t.length===1?t[0]:Rqe(t)}const zqe=(t,e,n)=>{let r;V.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let s=25,o;r=void 0,e.forEach(h=>{if(r&&!o){const d=Wy(h,r);if(d<s)s-=d;else{const f=s/d;f<=0&&(o=r),f>=1&&(o={x:h.x,y:h.y}),f>0&&f<1&&(o={x:(1-f)*r.x+f*h.x,y:(1-f)*r.y+f*h.y})}}r=h});const a=t?10:5,l=Math.atan2(e[0].y-o.y,e[0].x-o.x),u={x:0,y:0};return u.x=Math.sin(l)*a+(e[0].x+o.x)/2,u.y=-Math.cos(l)*a+(e[0].y+o.y)/2,u};function Vqe(t,e,n){let r=JSON.parse(JSON.stringify(n)),i;V.info("our points",r),e!=="start_left"&&e!=="start_right"&&(r=r.reverse()),r.forEach(d=>{i=d});let o=25+t,a;i=void 0,r.forEach(d=>{if(i&&!a){const f=Wy(d,i);if(f<o)o-=f;else{const p=o/f;p<=0&&(a=i),p>=1&&(a={x:d.x,y:d.y}),p>0&&p<1&&(a={x:(1-p)*i.x+p*d.x,y:(1-p)*i.y+p*d.y})}}i=d});const l=10+t*.5,u=Math.atan2(r[0].y-a.y,r[0].x-a.x),h={x:0,y:0};return h.x=Math.sin(u)*l+(r[0].x+a.x)/2,h.y=-Math.cos(u)*l+(r[0].y+a.y)/2,e==="start_left"&&(h.x=Math.sin(u+Math.PI)*l+(r[0].x+a.x)/2,h.y=-Math.cos(u+Math.PI)*l+(r[0].y+a.y)/2),e==="end_right"&&(h.x=Math.sin(u-Math.PI)*l+(r[0].x+a.x)/2-5,h.y=-Math.cos(u-Math.PI)*l+(r[0].y+a.y)/2-5),e==="end_left"&&(h.x=Math.sin(u)*l+(r[0].x+a.x)/2-5,h.y=-Math.cos(u)*l+(r[0].y+a.y)/2-5),h}function nu(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}let PD=0;const VI=()=>(PD++,"id-"+Math.random().toString(36).substr(2,12)+"-"+PD);function Wqe(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}const WI=t=>Wqe(t.length),qqe=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},Xqe=function(t,e){const n=e.text.replace(Pt.lineBreakRegex," "),[,r]=Z1(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},qI=$k((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Pt.lineBreakRegex.test(t)))return t;const r=t.split(" "),i=[];let s="";return r.forEach((o,a)=>{const l=Na(`${o} `,n),u=Na(s,n);if(l>e){const{hyphenatedStrings:f,remainingWord:p}=Yqe(o,e,"-",n);i.push(s,...f),s=p}else u+l>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Yqe=$k((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((a,l)=>{const u=`${o}${a}`;if(Na(u,r)>=e){const d=l+1,f=i.length===d,p=`${u}${n}`;s.push(f?u:p),o=""}else o=u}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function Gx(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),q8(t,e).height}function Na(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),q8(t,e).width}const q8=$k((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:r,fontWeight:i}=e;if(!t)return{width:0,height:0};const[,s]=Z1(n),o=["sans-serif",r],a=t.split(Pt.lineBreakRegex),l=[],u=Le("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const f of o){let p=0;const m={width:0,height:0,lineHeight:0};for(const g of a){const y=qqe();y.text=g;const b=Xqe(h,y).style("font-size",s).style("font-weight",i).style("font-family",f),O=(b._groups||b)[0][0].getBBox();m.width=Math.round(Math.max(m.width,O.width)),p=Math.round(O.height),m.height+=p,m.lineHeight=Math.round(Math.max(m.lineHeight,p))}l.push(m)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Uqe=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let ng;const jqe=function(t){return ng=ng||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ng.innerHTML=t,unescape(ng.textContent)},yh=t=>{if(V.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>yh(e)):Object.keys(t).forEach(e=>{V.debug("Checking key",e),e.startsWith("__")&&(V.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(V.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(V.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(V.debug("sanitizing themeCss option"),t[e]=w2(t[e])),e.includes("fontFamily")&&(V.debug("sanitizing fontFamily option"),t[e]=w2(t[e])),e.includes("altFontFamily")&&(V.debug("sanitizing altFontFamily option"),t[e]=w2(t[e])),IVe.includes(e)?typeof t[e]=="object"&&(V.debug("sanitize deleting object",e),yh(t[e])):(V.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const r=t.themeVariables[n];r&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}V.debug("After sanitization",t)},w2=t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function X8(t){return"str"in t}function Hqe(t){return t instanceof Error?t.message:String(t)}const Zqe=(t,e,n,r)=>{if(!r)return;const i=t.node().getBBox();t.append("text").text(r).attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},Z1=t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t,10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},At={assignWithDepth:jr,wrapLabel:qI,calculateTextHeight:Gx,calculateTextWidth:Na,calculateTextDimensions:q8,detectInit:Lqe,detectDirective:zI,isSubstringInArray:Fqe,interpolateToCurve:Yo,calcLabelPosition:Qqe,calcCardinalityPosition:zqe,calcTerminalLabelPosition:Vqe,formatUrl:Nqe,getStylesFromArray:nu,generateId:VI,random:WI,runFunc:Iqe,entityDecode:jqe,initIdGenerator:Uqe,directiveSanitizer:yh,sanitizeCss:w2,insertTitle:Zqe,parseFontSize:Z1},qy="9.4.3",Kd=Object.freeze(RVe);let rs=jr({},Kd),XI,Jd=[],np=jr({},Kd);const U4=(t,e)=>{let n=jr({},t),r={};for(const i of e)jI(i),r=jr(r,i);if(n=jr(n,r),r.theme&&r.theme in Fl){const i=jr({},XI),s=jr(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in Fl&&(n.themeVariables=Fl[n.theme].getThemeVariables(s))}return np=n,ZI(np),np},Gqe=t=>(rs=jr({},Kd),rs=jr(rs,t),t.theme&&Fl[t.theme]&&(rs.themeVariables=Fl[t.theme].getThemeVariables(t.themeVariables)),U4(rs,Jd),rs),Kqe=t=>{XI=jr({},t)},Jqe=t=>(rs=jr(rs,t),U4(rs,Jd),rs),YI=()=>jr({},rs),UI=t=>(ZI(t),jr(np,t),ie()),ie=()=>jr({},np),jI=t=>{var e;["secure",...(e=rs.secure)!=null?e:[]].forEach(n=>{t[n]!==void 0&&(V.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(n=>{n.indexOf("__")===0&&delete t[n]}),Object.keys(t).forEach(n=>{typeof t[n]=="string"&&(t[n].includes("<")||t[n].includes(">")||t[n].includes("url(data:"))&&delete t[n],typeof t[n]=="object"&&jI(t[n])})},Y8=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),Jd.push(t),U4(rs,Jd)},Yp=(t=rs)=>{Jd=[],U4(t,Jd)};var HI=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(HI||{});const BD={},eXe=t=>{BD[t]||(V.warn(HI[t]),BD[t]=!0)},ZI=t=>{!t||(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&eXe("LAZY_LOAD_DEPRECATED")},tXe=function(t,e){for(let n of e)t.attr(n[0],n[1])},nXe=function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},ea=function(t,e,n,r){const i=nXe(e,n,r);tXe(t,i)},j4=function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;V.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;V.info(`Graph bounds: ${a}x${l}`,t),a=s+n*2,l=o+n*2,V.info(`Calculated bounds: ${a}x${l}`),ea(e,l,a,r);const u=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",u)},rXe=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,rp=rXe,iXe=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
`,GI=iXe,sXe=()=>"",Kx=sXe,oXe=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,Xy=oXe,aXe=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,KI=aXe,lXe=()=>"",JI=lXe,cXe=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,eR=cXe,uXe=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,tR=uXe,hXe=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,nR=hXe,dXe=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,Yy=dXe,fXe=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,rR=fXe,pXe=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,iR=pXe,_2={flowchart:Xy,"flowchart-v2":Xy,sequence:nR,gantt:KI,classDiagram:rp,"classDiagram-v2":rp,class:rp,stateDiagram:Yy,state:Yy,info:JI,pie:eR,er:GI,error:Kx,journey:rR,requirement:tR,c4:iR},mXe=(t,e,n)=>{let r="";return t in _2&&_2[t]?r=_2[t](n):V.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${r}

  ${e}
`},gXe=(t,e)=>{_2[t]=e},yXe=mXe;let U8="",H4="",j8="";const H8=t=>ko(t,ie()),Qs=function(){U8="",j8="",H4=""},Os=function(t){U8=H8(t).replace(/^\s+/g,"")},zs=function(){return U8||H4},Vs=function(t){j8=H8(t).replace(/\n\s+/g,`
`)},Ws=function(){return j8},ta=function(t){H4=H8(t)},na=function(){return H4},bXe={setAccTitle:Os,getAccTitle:zs,setDiagramTitle:ta,getDiagramTitle:na,getAccDescription:Ws,setAccDescription:Vs,clear:Qs},OXe=Object.freeze(Object.defineProperty({__proto__:null,clear:Qs,default:bXe,getAccDescription:Ws,getAccTitle:zs,getDiagramTitle:na,setAccDescription:Vs,setAccTitle:Os,setDiagramTitle:ta},Symbol.toStringTag,{value:"Module"}));let Cu={};const sR=function(t,e,n,r){V.debug("parseDirective is being called",e,n,r);try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":Cu={};break;case"type_directive":if(!Cu)throw new Error("currentDirective is undefined");Cu.type=e.toLowerCase();break;case"arg_directive":if(!Cu)throw new Error("currentDirective is undefined");Cu.args=JSON.parse(e);break;case"close_directive":vXe(t,Cu,r),Cu=void 0;break}}catch(i){V.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),V.error(i.message)}},vXe=function(t,e,n){switch(V.info(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(r=>{e.args[r]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[r],delete e.args[r])}),V.info("sanitize in handleDirective",e.args),yh(e.args),V.info("sanitize in handleDirective (done)",e.args),Y8(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":V.warn("themeCss encountered");break;default:V.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}},xXe=V,kXe=R8,G1=ie,wXe=t=>ko(t,G1()),oR=j4,_Xe=()=>OXe,SXe=(t,e,n,r)=>sR(t,e,n,r),Uy={},Tr=(t,e,n)=>{if(Uy[t])throw new Error(`Diagram ${t} already registered.`);Uy[t]=e,n&&QI(t,n),gXe(t,e.styles),e.injectUtils&&e.injectUtils(xXe,kXe,G1,wXe,oR,_Xe(),SXe)},aR=t=>{if(t in Uy)return Uy[t];throw new Error(`Diagram ${t} not found.`)};var Jx=function(){var t=function(P,M,$,A){for($=$||{},A=P.length;A--;$[P[A]]=M);return $},e=[1,4],n=[1,7],r=[1,5],i=[1,9],s=[1,6],o=[2,6],a=[1,16],l=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],u=[8,14,20,22,24,25,27,29,32,37,40],h=[8,13,14,20,22,24,25,27,29,32,37,40],d=[1,26],f=[6,8,14,50,55],p=[8,14,55],m=[1,53],g=[1,52],y=[8,14,30,33,35,38,55],b=[1,67],O=[1,68],w=[1,69],D=[8,14,33,35,42,55],C={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(M,$,A,_,L,v,q){var x=v.length-1;switch(L){case 3:return v[x];case 4:return v[x-1];case 5:return _.setDirection(v[x-3]),v[x-1];case 7:_.setOptions(v[x-1]),this.$=v[x];break;case 8:v[x-1]+=v[x],this.$=v[x-1];break;case 10:this.$=[];break;case 11:v[x-1].push(v[x]),this.$=v[x-1];break;case 12:this.$=v[x-1];break;case 17:this.$=v[x].trim(),_.setAccTitle(this.$);break;case 18:case 19:this.$=v[x].trim(),_.setAccDescription(this.$);break;case 20:_.addSection(v[x].substr(8)),this.$=v[x].substr(8);break;case 22:_.checkout(v[x]);break;case 23:_.branch(v[x]);break;case 24:_.branch(v[x-2],v[x]);break;case 25:_.cherryPick(v[x],"",void 0);break;case 26:_.cherryPick(v[x-2],"",v[x]);break;case 27:case 29:_.cherryPick(v[x-2],"","");break;case 28:_.cherryPick(v[x],"",v[x-2]);break;case 30:_.merge(v[x],"","","");break;case 31:_.merge(v[x-2],v[x],"","");break;case 32:_.merge(v[x-2],"",v[x],"");break;case 33:_.merge(v[x-2],"","",v[x]);break;case 34:_.merge(v[x-4],v[x],"",v[x-2]);break;case 35:_.merge(v[x-4],"",v[x],v[x-2]);break;case 36:_.merge(v[x-4],"",v[x-2],v[x]);break;case 37:_.merge(v[x-4],v[x-2],v[x],"");break;case 38:_.merge(v[x-4],v[x-2],"",v[x]);break;case 39:_.merge(v[x-4],v[x],v[x-2],"");break;case 40:_.merge(v[x-6],v[x-4],v[x-2],v[x]);break;case 41:_.merge(v[x-6],v[x],v[x-4],v[x-2]);break;case 42:_.merge(v[x-6],v[x-4],v[x],v[x-2]);break;case 43:_.merge(v[x-6],v[x-2],v[x-4],v[x]);break;case 44:_.merge(v[x-6],v[x],v[x-2],v[x-4]);break;case 45:_.merge(v[x-6],v[x-2],v[x],v[x-4]);break;case 46:_.commit(v[x]);break;case 47:_.commit("","",_.commitType.NORMAL,v[x]);break;case 48:_.commit("","",v[x],"");break;case 49:_.commit("","",v[x],v[x-2]);break;case 50:_.commit("","",v[x-2],v[x]);break;case 51:_.commit("",v[x],_.commitType.NORMAL,"");break;case 52:_.commit("",v[x-2],_.commitType.NORMAL,v[x]);break;case 53:_.commit("",v[x],_.commitType.NORMAL,v[x-2]);break;case 54:_.commit("",v[x-2],v[x],"");break;case 55:_.commit("",v[x],v[x-2],"");break;case 56:_.commit("",v[x-4],v[x-2],v[x]);break;case 57:_.commit("",v[x-4],v[x],v[x-2]);break;case 58:_.commit("",v[x-2],v[x-4],v[x]);break;case 59:_.commit("",v[x],v[x-4],v[x-2]);break;case 60:_.commit("",v[x],v[x-2],v[x-4]);break;case 61:_.commit("",v[x-2],v[x],v[x-4]);break;case 62:_.commit(v[x],"",_.commitType.NORMAL,"");break;case 63:_.commit(v[x],"",_.commitType.NORMAL,v[x-2]);break;case 64:_.commit(v[x-2],"",_.commitType.NORMAL,v[x]);break;case 65:_.commit(v[x-2],"",v[x],"");break;case 66:_.commit(v[x],"",v[x-2],"");break;case 67:_.commit(v[x],v[x-2],_.commitType.NORMAL,"");break;case 68:_.commit(v[x-2],v[x],_.commitType.NORMAL,"");break;case 69:_.commit(v[x-4],"",v[x-2],v[x]);break;case 70:_.commit(v[x-4],"",v[x],v[x-2]);break;case 71:_.commit(v[x-2],"",v[x-4],v[x]);break;case 72:_.commit(v[x],"",v[x-4],v[x-2]);break;case 73:_.commit(v[x],"",v[x-2],v[x-4]);break;case 74:_.commit(v[x-2],"",v[x],v[x-4]);break;case 75:_.commit(v[x-4],v[x],v[x-2],"");break;case 76:_.commit(v[x-4],v[x-2],v[x],"");break;case 77:_.commit(v[x-2],v[x],v[x-4],"");break;case 78:_.commit(v[x],v[x-2],v[x-4],"");break;case 79:_.commit(v[x],v[x-4],v[x-2],"");break;case 80:_.commit(v[x-2],v[x-4],v[x],"");break;case 81:_.commit(v[x-4],v[x],_.commitType.NORMAL,v[x-2]);break;case 82:_.commit(v[x-4],v[x-2],_.commitType.NORMAL,v[x]);break;case 83:_.commit(v[x-2],v[x],_.commitType.NORMAL,v[x-4]);break;case 84:_.commit(v[x],v[x-2],_.commitType.NORMAL,v[x-4]);break;case 85:_.commit(v[x],v[x-4],_.commitType.NORMAL,v[x-2]);break;case 86:_.commit(v[x-2],v[x-4],_.commitType.NORMAL,v[x]);break;case 87:_.commit(v[x-6],v[x-4],v[x-2],v[x]);break;case 88:_.commit(v[x-6],v[x-4],v[x],v[x-2]);break;case 89:_.commit(v[x-6],v[x-2],v[x-4],v[x]);break;case 90:_.commit(v[x-6],v[x],v[x-4],v[x-2]);break;case 91:_.commit(v[x-6],v[x-2],v[x],v[x-4]);break;case 92:_.commit(v[x-6],v[x],v[x-2],v[x-4]);break;case 93:_.commit(v[x-4],v[x-6],v[x-2],v[x]);break;case 94:_.commit(v[x-4],v[x-6],v[x],v[x-2]);break;case 95:_.commit(v[x-2],v[x-6],v[x-4],v[x]);break;case 96:_.commit(v[x],v[x-6],v[x-4],v[x-2]);break;case 97:_.commit(v[x-2],v[x-6],v[x],v[x-4]);break;case 98:_.commit(v[x],v[x-6],v[x-2],v[x-4]);break;case 99:_.commit(v[x],v[x-4],v[x-2],v[x-6]);break;case 100:_.commit(v[x-2],v[x-4],v[x],v[x-6]);break;case 101:_.commit(v[x],v[x-2],v[x-4],v[x-6]);break;case 102:_.commit(v[x-2],v[x],v[x-4],v[x-6]);break;case 103:_.commit(v[x-4],v[x-2],v[x],v[x-6]);break;case 104:_.commit(v[x-4],v[x],v[x-2],v[x-6]);break;case 105:_.commit(v[x-2],v[x-4],v[x-6],v[x]);break;case 106:_.commit(v[x],v[x-4],v[x-6],v[x-2]);break;case 107:_.commit(v[x-2],v[x],v[x-6],v[x-4]);break;case 108:_.commit(v[x],v[x-2],v[x-6],v[x-4]);break;case 109:_.commit(v[x-4],v[x-2],v[x-6],v[x]);break;case 110:_.commit(v[x-4],v[x],v[x-6],v[x-2]);break;case 111:this.$="";break;case 112:this.$=v[x];break;case 113:this.$=_.commitType.NORMAL;break;case 114:this.$=_.commitType.REVERSE;break;case 115:this.$=_.commitType.HIGHLIGHT;break;case 118:_.parseDirective("%%{","open_directive");break;case 119:_.parseDirective(v[x],"type_directive");break;case 120:v[x]=v[x].trim().replace(/'/g,'"'),_.parseDirective(v[x],"arg_directive");break;case 121:_.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{3:11,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{7:12,8:o,9:[1,13],10:[1,14],11:15,14:a},t(l,[2,124]),t(l,[2,125]),t(l,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:o,11:15,14:a},{9:[1,21]},t(u,[2,10],{12:22,13:[1,23]}),t(h,[2,9]),{9:[1,25],48:24,53:d},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:o,11:15,14:a},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(h,[2,8]),t(f,[2,116]),{49:45,52:[1,46]},t(f,[2,121]),{1:[2,4]},{8:[1,47]},t(u,[2,11]),{4:48,8:n,14:r,55:s},t(u,[2,13]),t(p,[2,14]),t(p,[2,15]),t(p,[2,16]),{21:[1,49]},{23:[1,50]},t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),{28:51,34:m,54:g},t(p,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:m,54:g},{33:[1,61],35:[1,62]},{28:63,34:m,54:g},{48:64,53:d},{53:[2,120]},{1:[2,5]},t(u,[2,12]),t(p,[2,17]),t(p,[2,18]),t(p,[2,22]),t(y,[2,122]),t(y,[2,123]),t(p,[2,46]),{34:[1,65]},{39:66,43:b,44:O,45:w},{34:[1,70]},{34:[1,71]},t(p,[2,112]),t(p,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(p,[2,23],{30:[1,78]}),t(f,[2,117]),t(p,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(p,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(D,[2,113]),t(D,[2,114]),t(D,[2,115]),t(p,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(p,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:b,44:O,45:w},{34:[1,93]},t(p,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:b,44:O,45:w},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:b,44:O,45:w},{34:[1,106]},{34:[1,107]},{39:108,43:b,44:O,45:w},{34:[1,109]},t(p,[2,31],{35:[1,111],38:[1,110]}),t(p,[2,32],{33:[1,113],35:[1,112]}),t(p,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(p,[2,24]),t(p,[2,49],{33:[1,120],42:[1,121]}),t(p,[2,53],{38:[1,122],42:[1,123]}),t(p,[2,63],{33:[1,125],38:[1,124]}),t(p,[2,50],{33:[1,126],42:[1,127]}),t(p,[2,55],{35:[1,128],42:[1,129]}),t(p,[2,66],{33:[1,131],35:[1,130]}),t(p,[2,52],{38:[1,132],42:[1,133]}),t(p,[2,54],{35:[1,134],42:[1,135]}),t(p,[2,67],{35:[1,137],38:[1,136]}),t(p,[2,64],{33:[1,139],38:[1,138]}),t(p,[2,65],{33:[1,141],35:[1,140]}),t(p,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:b,44:O,45:w},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:b,44:O,45:w},t(p,[2,26]),t(p,[2,27]),t(p,[2,28]),t(p,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:b,44:O,45:w},{34:[1,153]},{39:154,43:b,44:O,45:w},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:b,44:O,45:w},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:b,44:O,45:w},{34:[1,167]},{39:168,43:b,44:O,45:w},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:b,44:O,45:w},{34:[1,173]},t(p,[2,37],{35:[1,174]}),t(p,[2,38],{38:[1,175]}),t(p,[2,36],{33:[1,176]}),t(p,[2,39],{35:[1,177]}),t(p,[2,34],{38:[1,178]}),t(p,[2,35],{33:[1,179]}),t(p,[2,60],{42:[1,180]}),t(p,[2,73],{33:[1,181]}),t(p,[2,61],{42:[1,182]}),t(p,[2,84],{38:[1,183]}),t(p,[2,74],{33:[1,184]}),t(p,[2,83],{38:[1,185]}),t(p,[2,59],{42:[1,186]}),t(p,[2,72],{33:[1,187]}),t(p,[2,58],{42:[1,188]}),t(p,[2,78],{35:[1,189]}),t(p,[2,71],{33:[1,190]}),t(p,[2,77],{35:[1,191]}),t(p,[2,57],{42:[1,192]}),t(p,[2,85],{38:[1,193]}),t(p,[2,56],{42:[1,194]}),t(p,[2,79],{35:[1,195]}),t(p,[2,80],{35:[1,196]}),t(p,[2,86],{38:[1,197]}),t(p,[2,70],{33:[1,198]}),t(p,[2,81],{38:[1,199]}),t(p,[2,69],{33:[1,200]}),t(p,[2,75],{35:[1,201]}),t(p,[2,76],{35:[1,202]}),t(p,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:b,44:O,45:w},{34:[1,206]},{34:[1,207]},{39:208,43:b,44:O,45:w},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:b,44:O,45:w},{34:[1,214]},{39:215,43:b,44:O,45:w},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:b,44:O,45:w},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:b,44:O,45:w},{34:[1,228]},{39:229,43:b,44:O,45:w},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:b,44:O,45:w},t(p,[2,40]),t(p,[2,42]),t(p,[2,41]),t(p,[2,43]),t(p,[2,45]),t(p,[2,44]),t(p,[2,101]),t(p,[2,102]),t(p,[2,99]),t(p,[2,100]),t(p,[2,104]),t(p,[2,103]),t(p,[2,108]),t(p,[2,107]),t(p,[2,106]),t(p,[2,105]),t(p,[2,110]),t(p,[2,109]),t(p,[2,98]),t(p,[2,97]),t(p,[2,96]),t(p,[2,95]),t(p,[2,93]),t(p,[2,94]),t(p,[2,92]),t(p,[2,91]),t(p,[2,90]),t(p,[2,89]),t(p,[2,87]),t(p,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(M,$){if($.recoverable)this.trace(M);else{var A=new Error(M);throw A.hash=$,A}},parse:function(M){var $=this,A=[0],_=[],L=[null],v=[],q=this.table,x="",X=0,de=0,H=2,G=1,F=v.slice.call(arguments,1),B=Object.create(this.lexer),ae={yy:{}};for(var be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,be)&&(ae.yy[be]=this.yy[be]);B.setInput(M,ae.yy),ae.yy.lexer=B,ae.yy.parser=this,typeof B.yylloc>"u"&&(B.yylloc={});var ye=B.yylloc;v.push(ye);var Z=B.options&&B.options.ranges;typeof ae.yy.parseError=="function"?this.parseError=ae.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Qe(){var ge;return ge=_.pop()||B.lex()||G,typeof ge!="number"&&(ge instanceof Array&&(_=ge,ge=_.pop()),ge=$.symbols_[ge]||ge),ge}for(var ne,se,ee,J,z={},W,te,Q,me;;){if(se=A[A.length-1],this.defaultActions[se]?ee=this.defaultActions[se]:((ne===null||typeof ne>"u")&&(ne=Qe()),ee=q[se]&&q[se][ne]),typeof ee>"u"||!ee.length||!ee[0]){var I="";me=[];for(W in q[se])this.terminals_[W]&&W>H&&me.push("'"+this.terminals_[W]+"'");B.showPosition?I="Parse error on line "+(X+1)+`:
`+B.showPosition()+`
Expecting `+me.join(", ")+", got '"+(this.terminals_[ne]||ne)+"'":I="Parse error on line "+(X+1)+": Unexpected "+(ne==G?"end of input":"'"+(this.terminals_[ne]||ne)+"'"),this.parseError(I,{text:B.match,token:this.terminals_[ne]||ne,line:B.yylineno,loc:ye,expected:me})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+ne);switch(ee[0]){case 1:A.push(ne),L.push(B.yytext),v.push(B.yylloc),A.push(ee[1]),ne=null,de=B.yyleng,x=B.yytext,X=B.yylineno,ye=B.yylloc;break;case 2:if(te=this.productions_[ee[1]][1],z.$=L[L.length-te],z._$={first_line:v[v.length-(te||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(te||1)].first_column,last_column:v[v.length-1].last_column},Z&&(z._$.range=[v[v.length-(te||1)].range[0],v[v.length-1].range[1]]),J=this.performAction.apply(z,[x,de,X,ae.yy,ee[1],L,v].concat(F)),typeof J<"u")return J;te&&(A=A.slice(0,-1*te*2),L=L.slice(0,-1*te),v=v.slice(0,-1*te)),A.push(this.productions_[ee[1]][0]),L.push(z.$),v.push(z._$),Q=q[A[A.length-2]][A[A.length-1]],A.push(Q);break;case 3:return!0}}return!0}},T=function(){var P={EOF:1,parseError:function($,A){if(this.yy.parser)this.yy.parser.parseError($,A);else throw new Error($)},setInput:function(M,$){return this.yy=$||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var $=M.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var $=M.length,A=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===_.length?this.yylloc.first_column:0)+_[_.length-A.length].length-A[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),$=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+$+"^"},test_match:function(M,$){var A,_,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),_=M[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],A=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var v in L)this[v]=L[v];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,$,A,_;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),v=0;v<L.length;v++)if(A=this._input.match(this.rules[L[v]]),A&&(!$||A[0].length>$[0].length)){if($=A,_=v,this.options.backtrack_lexer){if(M=this.test_match(A,L[v]),M!==!1)return M;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(M=this.test_match($,L[_]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $=this.next();return $||this.lex()},begin:function($){this.conditionStack.push($)},popState:function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},pushState:function($){this.begin($)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($,A,_,L){switch(_){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return P}();C.lexer=T;function E(){this.yy={}}return E.prototype=C,C.Parser=E,new E}();Jx.parser=Jx;const CXe=Jx,TXe=t=>t.match(/^\s*gitGraph/)!==null;let jy=ie().gitGraph.mainBranchName,DXe=ie().gitGraph.mainBranchOrder,Pr={},Vi=null,Up={};Up[jy]={name:jy,order:DXe};let Or={};Or[jy]=Vi;let Ur=jy,lR="LR",bh=0;function Z8(){return WI({length:7})}const EXe=function(t,e,n){Vn.parseDirective(this,t,e,n)};function AXe(t,e){const n=Object.create(null);return t.reduce((r,i)=>{const s=e(i);return n[s]||(n[s]=!0,r.push(i)),r},[])}const MXe=function(t){lR=t};let cR={};const PXe=function(t){V.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{cR=JSON.parse(t)}catch(e){V.error("error while parsing gitGraph options",e.message)}},BXe=function(){return cR},$Xe=function(t,e,n,r){V.debug("Entering commit:",t,e,n,r),e=Pt.sanitizeText(e,ie()),t=Pt.sanitizeText(t,ie()),r=Pt.sanitizeText(r,ie());const i={id:e||bh+"-"+Z8(),message:t,seq:bh++,type:n||jp.NORMAL,tag:r||"",parents:Vi==null?[]:[Vi.id],branch:Ur};Vi=i,Pr[i.id]=i,Or[Ur]=i.id,V.debug("in pushCommit "+i.id)},LXe=function(t,e){if(t=Pt.sanitizeText(t,ie()),Or[t]===void 0)Or[t]=Vi!=null?Vi.id:null,Up[t]={name:t,order:e?parseInt(e,10):null},uR(t),V.debug("in createBranch");else{let n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}},FXe=function(t,e,n,r){t=Pt.sanitizeText(t,ie()),e=Pt.sanitizeText(e,ie());const i=Pr[Or[Ur]],s=Pr[Or[t]];if(Ur===t){let a=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},a}else if(i===void 0||!i){let a=new Error('Incorrect usage of "merge". Current branch ('+Ur+")has no commits");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},a}else if(Or[t]===void 0){let a=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},a}else if(s===void 0||!s){let a=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},a}else if(i===s){let a=new Error('Incorrect usage of "merge". Both branches have same head');throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},a}else if(e&&Pr[e]!==void 0){let a=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw a.hash={text:"merge "+t+e+n+r,token:"merge "+t+e+n+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+r]},a}const o={id:e||bh+"-"+Z8(),message:"merged branch "+t+" into "+Ur,seq:bh++,parents:[Vi==null?null:Vi.id,Or[t]],branch:Ur,type:jp.MERGE,customType:n,customId:!!e,tag:r||""};Vi=o,Pr[o.id]=o,Or[Ur]=o.id,V.debug(Or),V.debug("in mergeBranch")},NXe=function(t,e,n){if(V.debug("Entering cherryPick:",t,e,n),t=Pt.sanitizeText(t,ie()),e=Pt.sanitizeText(e,ie()),n=Pt.sanitizeText(n,ie()),!t||Pr[t]===void 0){let s=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}let r=Pr[t],i=r.branch;if(r.type===jp.MERGE){let s=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}if(!e||Pr[e]===void 0){if(i===Ur){let a=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}const s=Pr[Or[Ur]];if(s===void 0||!s){let a=new Error('Incorrect usage of "cherry-pick". Current branch ('+Ur+")has no commits");throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}const o={id:bh+"-"+Z8(),message:"cherry-picked "+r+" into "+Ur,seq:bh++,parents:[Vi==null?null:Vi.id,r.id],branch:Ur,type:jp.CHERRY_PICK,tag:n!=null?n:"cherry-pick:"+r.id};Vi=o,Pr[o.id]=o,Or[Ur]=o.id,V.debug(Or),V.debug("in cherryPick")}},uR=function(t){if(t=Pt.sanitizeText(t,ie()),Or[t]===void 0){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{Ur=t;const e=Or[Ur];Vi=Pr[e]}};function $D(t,e,n){const r=t.indexOf(e);r===-1?t.push(n):t.splice(r,1,n)}function hR(t){const e=t.reduce((i,s)=>i.seq>s.seq?i:s,t[0]);let n="";t.forEach(function(i){i===e?n+="	*":n+="	|"});const r=[n,e.id,e.seq];for(let i in Or)Or[i]===e.id&&r.push(i);if(V.debug(r.join(" ")),e.parents&&e.parents.length==2){const i=Pr[e.parents[0]];$D(t,e,i),t.push(Pr[e.parents[1]])}else{if(e.parents.length==0)return;{const i=Pr[e.parents];$D(t,e,i)}}t=AXe(t,i=>i.id),hR(t)}const IXe=function(){V.debug(Pr);const t=dR()[0];hR([t])},RXe=function(){Pr={},Vi=null;let t=ie().gitGraph.mainBranchName,e=ie().gitGraph.mainBranchOrder;Or={},Or[t]=null,Up={},Up[t]={name:t,order:e},Ur=t,bh=0,Qs()},QXe=function(){return Object.values(Up).map((e,n)=>e.order!==null?e:{...e,order:parseFloat(`0.${n}`,10)}).sort((e,n)=>e.order-n.order).map(({name:e})=>({name:e}))},zXe=function(){return Or},VXe=function(){return Pr},dR=function(){const t=Object.keys(Pr).map(function(e){return Pr[e]});return t.forEach(function(e){V.debug(e.id)}),t.sort((e,n)=>e.seq-n.seq),t},WXe=function(){return Ur},qXe=function(){return lR},XXe=function(){return Vi},jp={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},YXe={parseDirective:EXe,getConfig:()=>ie().gitGraph,setDirection:MXe,setOptions:PXe,getOptions:BXe,commit:$Xe,branch:LXe,merge:FXe,cherryPick:NXe,checkout:uR,prettyPrint:IXe,clear:RXe,getBranchesAsObjArray:QXe,getBranches:zXe,getCommits:VXe,getCommitsArray:dR,getCurrentBranch:WXe,getDirection:qXe,getHead:XXe,setAccTitle:Os,getAccTitle:zs,getAccDescription:Ws,setAccDescription:Vs,setDiagramTitle:ta,getDiagramTitle:na,commitType:jp};let Sf={};const vs={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Fu=8;let is={},Hy={},Zy=[],Gy=0;const UXe=()=>{is={},Hy={},Sf={},Gy=0,Zy=[]},jXe=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];typeof t=="string"?n=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?n=t:n=[];for(const r of n){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r.trim(),e.appendChild(i)}return e},LD=(t,e,n)=>{const r=G1().gitGraph,i=t.append("g").attr("class","commit-bullets"),s=t.append("g").attr("class","commit-labels");let o=0;Object.keys(e).sort((u,h)=>e[u].seq-e[h].seq).forEach(u=>{const h=e[u],d=is[h.branch].pos,f=o+10;if(n){let p,m=h.customType!==void 0&&h.customType!==""?h.customType:h.type;switch(m){case vs.NORMAL:p="commit-normal";break;case vs.REVERSE:p="commit-reverse";break;case vs.HIGHLIGHT:p="commit-highlight";break;case vs.MERGE:p="commit-merge";break;case vs.CHERRY_PICK:p="commit-cherry-pick";break;default:p="commit-normal"}if(m===vs.HIGHLIGHT){const g=i.append("rect");g.attr("x",f-10),g.attr("y",d-10),g.attr("height",20),g.attr("width",20),g.attr("class",`commit ${h.id} commit-highlight${is[h.branch].index%Fu} ${p}-outer`),i.append("rect").attr("x",f-6).attr("y",d-6).attr("height",12).attr("width",12).attr("class",`commit ${h.id} commit${is[h.branch].index%Fu} ${p}-inner`)}else if(m===vs.CHERRY_PICK)i.append("circle").attr("cx",f).attr("cy",d).attr("r",10).attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f-3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f+3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f+3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f-3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`);else{const g=i.append("circle");if(g.attr("cx",f),g.attr("cy",d),g.attr("r",h.type===vs.MERGE?9:10),g.attr("class",`commit ${h.id} commit${is[h.branch].index%Fu}`),m===vs.MERGE){const y=i.append("circle");y.attr("cx",f),y.attr("cy",d),y.attr("r",6),y.attr("class",`commit ${p} ${h.id} commit${is[h.branch].index%Fu}`)}m===vs.REVERSE&&i.append("path").attr("d",`M ${f-5},${d-5}L${f+5},${d+5}M${f-5},${d+5}L${f+5},${d-5}`).attr("class",`commit ${p} ${h.id} commit${is[h.branch].index%Fu}`)}}if(Hy[h.id]={x:o+10,y:d},n){if(h.type!==vs.CHERRY_PICK&&(h.customId&&h.type===vs.MERGE||h.type!==vs.MERGE)&&r.showCommitLabel){const g=s.append("g"),y=g.insert("rect").attr("class","commit-label-bkg"),b=g.append("text").attr("x",o).attr("y",d+25).attr("class","commit-label").text(h.id);let O=b.node().getBBox();if(y.attr("x",o+10-O.width/2-2).attr("y",d+13.5).attr("width",O.width+2*2).attr("height",O.height+2*2),b.attr("x",o+10-O.width/2),r.rotateCommitLabel){let w=-7.5-(O.width+10)/25*9.5,D=10+O.width/25*8.5;g.attr("transform","translate("+w+", "+D+") rotate("+-45+", "+o+", "+d+")")}}if(h.tag){const g=s.insert("polygon"),y=s.append("circle"),b=s.append("text").attr("y",d-16).attr("class","tag-label").text(h.tag);let O=b.node().getBBox();b.attr("x",o+10-O.width/2);const w=O.height/2,D=d-19.2;g.attr("class","tag-label-bkg").attr("points",`
          ${o-O.width/2-4/2},${D+2}
          ${o-O.width/2-4/2},${D-2}
          ${o+10-O.width/2-4},${D-w-2}
          ${o+10+O.width/2+4},${D-w-2}
          ${o+10+O.width/2+4},${D+w+2}
          ${o+10-O.width/2-4},${D+w+2}`),y.attr("cx",o-O.width/2+4/2).attr("cy",D).attr("r",1.5).attr("class","tag-hole")}}o+=50,o>Gy&&(Gy=o)})},HXe=(t,e,n)=>Object.keys(n).filter(s=>n[s].branch===e.branch&&n[s].seq>t.seq&&n[s].seq<e.seq).length>0,e6=(t,e,n=0)=>{const r=t+Math.abs(t-e)/2;if(n>5)return r;if(Zy.every(o=>Math.abs(o-r)>=10))return Zy.push(r),r;const s=Math.abs(t-e);return e6(t,e-s/5,n+1)},ZXe=(t,e,n,r)=>{const i=Hy[e.id],s=Hy[n.id],o=HXe(e,n,r);let a="",l="",u=0,h=0,d=is[n.branch].index,f;if(o){a="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10,d=is[n.branch].index;const p=i.y<s.y?e6(i.y,s.y):e6(s.y,i.y);i.y<s.y?f=`M ${i.x} ${i.y} L ${i.x} ${p-u} ${a} ${i.x+h} ${p} L ${s.x-u} ${p} ${l} ${s.x} ${p+h} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${p+u} ${l} ${i.x+h} ${p} L ${s.x-u} ${p} ${a} ${s.x} ${p-h} L ${s.x} ${s.y}`}else i.y<s.y&&(a="A 20 20, 0, 0, 0,",u=20,h=20,d=is[n.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${a} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(a="A 20 20, 0, 0, 0,",u=20,h=20,d=is[e.branch].index,f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${a} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.y===s.y&&(d=is[e.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${a} ${i.x+h} ${s.y} L ${s.x} ${s.y}`);t.append("path").attr("d",f).attr("class","arrow arrow"+d%Fu)},GXe=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(r=>{const i=e[r];i.parents&&i.parents.length>0&&i.parents.forEach(s=>{ZXe(n,e[s],i,e)})})},KXe=(t,e)=>{const n=G1().gitGraph,r=t.append("g");e.forEach((i,s)=>{const o=s%Fu,a=is[i.name].pos,l=r.append("line");l.attr("x1",0),l.attr("y1",a),l.attr("x2",Gy),l.attr("y2",a),l.attr("class","branch branch"+o),Zy.push(a);let u=i.name;const h=jXe(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);p.node().appendChild(h);let m=h.getBBox();d.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-m.width-4-(n.rotateCommitLabel===!0?30:0)).attr("y",-m.height/2+8).attr("width",m.width+18).attr("height",m.height+4),p.attr("transform","translate("+(-m.width-14-(n.rotateCommitLabel===!0?30:0))+", "+(a-m.height/2-1)+")"),d.attr("transform","translate("+-19+", "+(a-m.height/2)+")")})},JXe=function(t,e,n,r){var u;UXe();const i=G1(),s=i.gitGraph;V.debug("in gitgraph renderer",t+`
`,"id:",e,n),Sf=r.db.getCommits();const o=r.db.getBranchesAsObjArray();let a=0;o.forEach((h,d)=>{is[h.name]={pos:a,index:d},a+=50+(s.rotateCommitLabel?40:0)});const l=Le(`[id="${e}"]`);LD(l,Sf,!1),s.showBranches&&KXe(l,o),GXe(l,Sf),LD(l,Sf,!0),At.insertTitle(l,"gitTitleText",s.titleTopMargin,r.db.getDiagramTitle()),oR(void 0,l,s.diagramPadding,(u=s.useMaxWidth)!=null?u:i.useMaxWidth)},eYe={draw:JXe},tYe=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  }
`,nYe=tYe;var Ky=function(){var t=function(Ke,Pe,we,ze){for(we=we||{},ze=Ke.length;ze--;we[Ke[ze]]=Pe);return we},e=[1,6],n=[1,7],r=[1,8],i=[1,9],s=[1,16],o=[1,11],a=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],m=[1,35],g=[1,36],y=[1,37],b=[1,72],O=[1,73],w=[1,74],D=[1,75],C=[1,76],T=[1,77],E=[1,78],P=[1,38],M=[1,39],$=[1,40],A=[1,41],_=[1,42],L=[1,43],v=[1,44],q=[1,45],x=[1,46],X=[1,47],de=[1,48],H=[1,49],G=[1,50],F=[1,51],B=[1,52],ae=[1,53],be=[1,54],ye=[1,55],Z=[1,56],Qe=[1,57],ne=[1,59],se=[1,60],ee=[1,61],J=[1,62],z=[1,63],W=[1,64],te=[1,65],Q=[1,66],me=[1,67],I=[1,68],ge=[1,69],Y=[24,52],$e=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Se=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],De=[1,94],_e=[1,95],Te=[1,96],ke=[1,97],Me=[15,24,52],pe=[7,8,9,10,18,22,25,26,27,28],Ce=[15,24,43,52],Be=[15,24,43,52,86,87,89,90],qe=[15,43],Je=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Nt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Pe,we,ze,ve,st,he,wt){var xe=he.length-1;switch(st){case 4:ve.setDirection("TB");break;case 5:ve.setDirection("BT");break;case 6:ve.setDirection("RL");break;case 7:ve.setDirection("LR");break;case 11:ve.parseDirective("%%{","open_directive");break;case 12:break;case 13:he[xe]=he[xe].trim().replace(/'/g,'"'),ve.parseDirective(he[xe],"arg_directive");break;case 14:ve.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:ve.setC4Type(he[xe-3]);break;case 26:ve.setTitle(he[xe].substring(6)),this.$=he[xe].substring(6);break;case 27:ve.setAccDescription(he[xe].substring(15)),this.$=he[xe].substring(15);break;case 28:this.$=he[xe].trim(),ve.setTitle(this.$);break;case 29:case 30:this.$=he[xe].trim(),ve.setAccDescription(this.$);break;case 35:case 36:he[xe].splice(2,0,"ENTERPRISE"),ve.addPersonOrSystemBoundary(...he[xe]),this.$=he[xe];break;case 37:ve.addPersonOrSystemBoundary(...he[xe]),this.$=he[xe];break;case 38:he[xe].splice(2,0,"CONTAINER"),ve.addContainerBoundary(...he[xe]),this.$=he[xe];break;case 39:ve.addDeploymentNode("node",...he[xe]),this.$=he[xe];break;case 40:ve.addDeploymentNode("nodeL",...he[xe]),this.$=he[xe];break;case 41:ve.addDeploymentNode("nodeR",...he[xe]),this.$=he[xe];break;case 42:ve.popBoundaryParseStack();break;case 46:ve.addPersonOrSystem("person",...he[xe]),this.$=he[xe];break;case 47:ve.addPersonOrSystem("external_person",...he[xe]),this.$=he[xe];break;case 48:ve.addPersonOrSystem("system",...he[xe]),this.$=he[xe];break;case 49:ve.addPersonOrSystem("system_db",...he[xe]),this.$=he[xe];break;case 50:ve.addPersonOrSystem("system_queue",...he[xe]),this.$=he[xe];break;case 51:ve.addPersonOrSystem("external_system",...he[xe]),this.$=he[xe];break;case 52:ve.addPersonOrSystem("external_system_db",...he[xe]),this.$=he[xe];break;case 53:ve.addPersonOrSystem("external_system_queue",...he[xe]),this.$=he[xe];break;case 54:ve.addContainer("container",...he[xe]),this.$=he[xe];break;case 55:ve.addContainer("container_db",...he[xe]),this.$=he[xe];break;case 56:ve.addContainer("container_queue",...he[xe]),this.$=he[xe];break;case 57:ve.addContainer("external_container",...he[xe]),this.$=he[xe];break;case 58:ve.addContainer("external_container_db",...he[xe]),this.$=he[xe];break;case 59:ve.addContainer("external_container_queue",...he[xe]),this.$=he[xe];break;case 60:ve.addComponent("component",...he[xe]),this.$=he[xe];break;case 61:ve.addComponent("component_db",...he[xe]),this.$=he[xe];break;case 62:ve.addComponent("component_queue",...he[xe]),this.$=he[xe];break;case 63:ve.addComponent("external_component",...he[xe]),this.$=he[xe];break;case 64:ve.addComponent("external_component_db",...he[xe]),this.$=he[xe];break;case 65:ve.addComponent("external_component_queue",...he[xe]),this.$=he[xe];break;case 67:ve.addRel("rel",...he[xe]),this.$=he[xe];break;case 68:ve.addRel("birel",...he[xe]),this.$=he[xe];break;case 69:ve.addRel("rel_u",...he[xe]),this.$=he[xe];break;case 70:ve.addRel("rel_d",...he[xe]),this.$=he[xe];break;case 71:ve.addRel("rel_l",...he[xe]),this.$=he[xe];break;case 72:ve.addRel("rel_r",...he[xe]),this.$=he[xe];break;case 73:ve.addRel("rel_b",...he[xe]),this.$=he[xe];break;case 74:he[xe].splice(0,1),ve.addRel("rel",...he[xe]),this.$=he[xe];break;case 75:ve.updateElStyle("update_el_style",...he[xe]),this.$=he[xe];break;case 76:ve.updateRelStyle("update_rel_style",...he[xe]),this.$=he[xe];break;case 77:ve.updateLayoutConfig("update_layout_config",...he[xe]),this.$=he[xe];break;case 78:this.$=[he[xe]];break;case 79:he[xe].unshift(he[xe-1]),this.$=he[xe];break;case 80:case 82:this.$=he[xe].trim();break;case 81:let Tt={};Tt[he[xe-1].trim()]=he[xe].trim(),this.$=Tt;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:s,22:o,25:a,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:s,22:o,25:a,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{23:79,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{23:80,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{23:81,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{23:82,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(Y,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:O,47:w,48:D,49:C,50:T,51:E,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge}),t(Y,[2,21]),t($e,[2,23],{15:[1,88]}),t(Y,[2,43],{15:[1,89]}),t(Se,[2,26]),t(Se,[2,27]),{35:[1,90]},{37:[1,91]},t(Se,[2,30]),{45:92,85:93,86:De,87:_e,89:Te,90:ke},{45:98,85:93,86:De,87:_e,89:Te,90:ke},{45:99,85:93,86:De,87:_e,89:Te,90:ke},{45:100,85:93,86:De,87:_e,89:Te,90:ke},{45:101,85:93,86:De,87:_e,89:Te,90:ke},{45:102,85:93,86:De,87:_e,89:Te,90:ke},{45:103,85:93,86:De,87:_e,89:Te,90:ke},{45:104,85:93,86:De,87:_e,89:Te,90:ke},{45:105,85:93,86:De,87:_e,89:Te,90:ke},{45:106,85:93,86:De,87:_e,89:Te,90:ke},{45:107,85:93,86:De,87:_e,89:Te,90:ke},{45:108,85:93,86:De,87:_e,89:Te,90:ke},{45:109,85:93,86:De,87:_e,89:Te,90:ke},{45:110,85:93,86:De,87:_e,89:Te,90:ke},{45:111,85:93,86:De,87:_e,89:Te,90:ke},{45:112,85:93,86:De,87:_e,89:Te,90:ke},{45:113,85:93,86:De,87:_e,89:Te,90:ke},{45:114,85:93,86:De,87:_e,89:Te,90:ke},{45:115,85:93,86:De,87:_e,89:Te,90:ke},{45:116,85:93,86:De,87:_e,89:Te,90:ke},t(Me,[2,66]),{45:117,85:93,86:De,87:_e,89:Te,90:ke},{45:118,85:93,86:De,87:_e,89:Te,90:ke},{45:119,85:93,86:De,87:_e,89:Te,90:ke},{45:120,85:93,86:De,87:_e,89:Te,90:ke},{45:121,85:93,86:De,87:_e,89:Te,90:ke},{45:122,85:93,86:De,87:_e,89:Te,90:ke},{45:123,85:93,86:De,87:_e,89:Te,90:ke},{45:124,85:93,86:De,87:_e,89:Te,90:ke},{45:125,85:93,86:De,87:_e,89:Te,90:ke},{45:126,85:93,86:De,87:_e,89:Te,90:ke},{45:127,85:93,86:De,87:_e,89:Te,90:ke},{30:128,39:58,40:70,42:71,44:b,46:O,47:w,48:D,49:C,50:T,51:E,53:32,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge},{15:[1,130],43:[1,129]},{45:131,85:93,86:De,87:_e,89:Te,90:ke},{45:132,85:93,86:De,87:_e,89:Te,90:ke},{45:133,85:93,86:De,87:_e,89:Te,90:ke},{45:134,85:93,86:De,87:_e,89:Te,90:ke},{45:135,85:93,86:De,87:_e,89:Te,90:ke},{45:136,85:93,86:De,87:_e,89:Te,90:ke},{45:137,85:93,86:De,87:_e,89:Te,90:ke},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(pe,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(Y,[2,22]),t($e,[2,24],{31:31,29:143,32:f,33:p,34:m,36:g,38:y}),t(Y,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:p,34:m,36:g,38:y,44:b,46:O,47:w,48:D,49:C,50:T,51:E,54:P,55:M,56:$,57:A,58:_,59:L,60:v,61:q,62:x,63:X,64:de,65:H,66:G,67:F,68:B,69:ae,70:be,71:ye,72:Z,73:Qe,74:ne,75:se,76:ee,77:J,78:z,79:W,80:te,81:Q,82:me,83:I,84:ge}),t(Se,[2,28]),t(Se,[2,29]),t(Me,[2,46]),t(Ce,[2,78],{85:93,45:145,86:De,87:_e,89:Te,90:ke}),t(Be,[2,80]),{88:[1,146]},t(Be,[2,82]),t(Be,[2,83]),t(Me,[2,47]),t(Me,[2,48]),t(Me,[2,49]),t(Me,[2,50]),t(Me,[2,51]),t(Me,[2,52]),t(Me,[2,53]),t(Me,[2,54]),t(Me,[2,55]),t(Me,[2,56]),t(Me,[2,57]),t(Me,[2,58]),t(Me,[2,59]),t(Me,[2,60]),t(Me,[2,61]),t(Me,[2,62]),t(Me,[2,63]),t(Me,[2,64]),t(Me,[2,65]),t(Me,[2,67]),t(Me,[2,68]),t(Me,[2,69]),t(Me,[2,70]),t(Me,[2,71]),t(Me,[2,72]),t(Me,[2,73]),t(Me,[2,74]),t(Me,[2,75]),t(Me,[2,76]),t(Me,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(qe,[2,35]),t(qe,[2,36]),t(qe,[2,37]),t(qe,[2,38]),t(qe,[2,39]),t(qe,[2,40]),t(qe,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t($e,[2,25]),t(Y,[2,45]),t(Ce,[2,79]),t(Be,[2,81]),t(Me,[2,31]),t(Me,[2,42]),t(Je,[2,32]),t(Je,[2,33],{15:[1,152]}),t(pe,[2,10]),t(Je,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Pe,we){if(we.recoverable)this.trace(Pe);else{var ze=new Error(Pe);throw ze.hash=we,ze}},parse:function(Pe){var we=this,ze=[0],ve=[],st=[null],he=[],wt=this.table,xe="",Tt=0,Vt=0,jt=2,Xt=1,Zt=he.slice.call(arguments,1),ut=Object.create(this.lexer),_t={yy:{}};for(var Yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Yt)&&(_t.yy[Yt]=this.yy[Yt]);ut.setInput(Pe,_t.yy),_t.yy.lexer=ut,_t.yy.parser=this,typeof ut.yylloc>"u"&&(ut.yylloc={});var kt=ut.yylloc;he.push(kt);var tl=ut.options&&ut.options.ranges;typeof _t.yy.parseError=="function"?this.parseError=_t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function mu(){var oe;return oe=ve.pop()||ut.lex()||Xt,typeof oe!="number"&&(oe instanceof Array&&(ve=oe,oe=ve.pop()),oe=we.symbols_[oe]||oe),oe}for(var Ln,Dt,nr,di,rr={},Cr,Fn,Jr,Vr;;){if(Dt=ze[ze.length-1],this.defaultActions[Dt]?nr=this.defaultActions[Dt]:((Ln===null||typeof Ln>"u")&&(Ln=mu()),nr=wt[Dt]&&wt[Dt][Ln]),typeof nr>"u"||!nr.length||!nr[0]){var tt="";Vr=[];for(Cr in wt[Dt])this.terminals_[Cr]&&Cr>jt&&Vr.push("'"+this.terminals_[Cr]+"'");ut.showPosition?tt="Parse error on line "+(Tt+1)+`:
`+ut.showPosition()+`
Expecting `+Vr.join(", ")+", got '"+(this.terminals_[Ln]||Ln)+"'":tt="Parse error on line "+(Tt+1)+": Unexpected "+(Ln==Xt?"end of input":"'"+(this.terminals_[Ln]||Ln)+"'"),this.parseError(tt,{text:ut.match,token:this.terminals_[Ln]||Ln,line:ut.yylineno,loc:kt,expected:Vr})}if(nr[0]instanceof Array&&nr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Dt+", token: "+Ln);switch(nr[0]){case 1:ze.push(Ln),st.push(ut.yytext),he.push(ut.yylloc),ze.push(nr[1]),Ln=null,Vt=ut.yyleng,xe=ut.yytext,Tt=ut.yylineno,kt=ut.yylloc;break;case 2:if(Fn=this.productions_[nr[1]][1],rr.$=st[st.length-Fn],rr._$={first_line:he[he.length-(Fn||1)].first_line,last_line:he[he.length-1].last_line,first_column:he[he.length-(Fn||1)].first_column,last_column:he[he.length-1].last_column},tl&&(rr._$.range=[he[he.length-(Fn||1)].range[0],he[he.length-1].range[1]]),di=this.performAction.apply(rr,[xe,Vt,Tt,_t.yy,nr[1],st,he].concat(Zt)),typeof di<"u")return di;Fn&&(ze=ze.slice(0,-1*Fn*2),st=st.slice(0,-1*Fn),he=he.slice(0,-1*Fn)),ze.push(this.productions_[nr[1]][0]),st.push(rr.$),he.push(rr._$),Jr=wt[ze[ze.length-2]][ze[ze.length-1]],ze.push(Jr);break;case 3:return!0}}return!0}},Ne=function(){var Ke={EOF:1,parseError:function(we,ze){if(this.yy.parser)this.yy.parser.parseError(we,ze);else throw new Error(we)},setInput:function(Pe,we){return this.yy=we||this.yy||{},this._input=Pe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Pe=this._input[0];this.yytext+=Pe,this.yyleng++,this.offset++,this.match+=Pe,this.matched+=Pe;var we=Pe.match(/(?:\r\n?|\n).*/g);return we?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Pe},unput:function(Pe){var we=Pe.length,ze=Pe.split(/(?:\r\n?|\n)/g);this._input=Pe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-we),this.offset-=we;var ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ze.length-1&&(this.yylineno-=ze.length-1);var st=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ze?(ze.length===ve.length?this.yylloc.first_column:0)+ve[ve.length-ze.length].length-ze[0].length:this.yylloc.first_column-we},this.options.ranges&&(this.yylloc.range=[st[0],st[0]+this.yyleng-we]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Pe){this.unput(this.match.slice(Pe))},pastInput:function(){var Pe=this.matched.substr(0,this.matched.length-this.match.length);return(Pe.length>20?"...":"")+Pe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Pe=this.match;return Pe.length<20&&(Pe+=this._input.substr(0,20-Pe.length)),(Pe.substr(0,20)+(Pe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Pe=this.pastInput(),we=new Array(Pe.length+1).join("-");return Pe+this.upcomingInput()+`
`+we+"^"},test_match:function(Pe,we){var ze,ve,st;if(this.options.backtrack_lexer&&(st={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(st.yylloc.range=this.yylloc.range.slice(0))),ve=Pe[0].match(/(?:\r\n?|\n).*/g),ve&&(this.yylineno+=ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ve?ve[ve.length-1].length-ve[ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Pe[0].length},this.yytext+=Pe[0],this.match+=Pe[0],this.matches=Pe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Pe[0].length),this.matched+=Pe[0],ze=this.performAction.call(this,this.yy,this,we,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ze)return ze;if(this._backtrack){for(var he in st)this[he]=st[he];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Pe,we,ze,ve;this._more||(this.yytext="",this.match="");for(var st=this._currentRules(),he=0;he<st.length;he++)if(ze=this._input.match(this.rules[st[he]]),ze&&(!we||ze[0].length>we[0].length)){if(we=ze,ve=he,this.options.backtrack_lexer){if(Pe=this.test_match(ze,st[he]),Pe!==!1)return Pe;if(this._backtrack){we=!1;continue}else return!1}else if(!this.options.flex)break}return we?(Pe=this.test_match(we,st[ve]),Pe!==!1?Pe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var we=this.next();return we||this.lex()},begin:function(we){this.conditionStack.push(we)},popState:function(){var we=this.conditionStack.length-1;return we>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(we){return we=this.conditionStack.length-1-Math.abs(we||0),we>=0?this.conditionStack[we]:"INITIAL"},pushState:function(we){this.begin(we)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(we,ze,ve,st){switch(ve){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Ke}();Nt.lexer=Ne;function rt(){this.yy={}}return rt.prototype=Nt,Nt.Parser=rt,new rt}();Ky.parser=Ky;const rYe=Ky,iYe=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Ko=[],Vc=[""],Wi="global",Uo="",za=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Hp=[],G8="",K8=!1,Jy=4,eb=2;var fR;const sYe=function(){return fR},oYe=function(t){fR=ko(t,ie())},aYe=function(t,e,n){Vn.parseDirective(this,t,e,n)},lYe=function(t,e,n,r,i,s,o,a,l){if(t==null||e===void 0||e===null||n===void 0||n===null||r===void 0||r===null)return;let u={};const h=Hp.find(d=>d.from===e&&d.to===n);if(h?u=h:Hp.push(u),u.type=t,u.from=e,u.to=n,u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,f]=Object.entries(i)[0];u[d]={text:f}}else u.techn={text:i};if(s==null)u.descr={text:""};else if(typeof s=="object"){let[d,f]=Object.entries(s)[0];u[d]={text:f}}else u.descr={text:s};if(typeof o=="object"){let[d,f]=Object.entries(o)[0];u[d]=f}else u.sprite=o;if(typeof a=="object"){let[d,f]=Object.entries(a)[0];u[d]=f}else u.tags=a;if(typeof l=="object"){let[d,f]=Object.entries(l)[0];u[d]=f}else u.link=l;u.wrap=du()},cYe=function(t,e,n,r,i,s,o){if(e===null||n===null)return;let a={};const l=Ko.find(u=>u.alias===e);if(l&&e===l.alias?a=l:(a.alias=e,Ko.push(a)),n==null?a.label={text:""}:a.label={text:n},r==null)a.descr={text:""};else if(typeof r=="object"){let[u,h]=Object.entries(r)[0];a[u]={text:h}}else a.descr={text:r};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];a[u]=h}else a.sprite=i;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];a[u]=h}else a.tags=s;if(typeof o=="object"){let[u,h]=Object.entries(o)[0];a[u]=h}else a.link=o;a.typeC4Shape={text:t},a.parentBoundary=Wi,a.wrap=du()},uYe=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=Ko.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Ko.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.wrap=du(),l.typeC4Shape={text:t},l.parentBoundary=Wi},hYe=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=Ko.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Ko.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.wrap=du(),l.typeC4Shape={text:t},l.parentBoundary=Wi},dYe=function(t,e,n,r,i){if(t===null||e===null)return;let s={};const o=za.find(a=>a.alias===t);if(o&&t===o.alias?s=o:(s.alias=t,za.push(s)),e==null?s.label={text:""}:s.label={text:e},n==null)s.type={text:"system"};else if(typeof n=="object"){let[a,l]=Object.entries(n)[0];s[a]={text:l}}else s.type={text:n};if(typeof r=="object"){let[a,l]=Object.entries(r)[0];s[a]=l}else s.tags=r;if(typeof i=="object"){let[a,l]=Object.entries(i)[0];s[a]=l}else s.link=i;s.parentBoundary=Wi,s.wrap=du(),Uo=Wi,Wi=t,Vc.push(Uo)},fYe=function(t,e,n,r,i){if(t===null||e===null)return;let s={};const o=za.find(a=>a.alias===t);if(o&&t===o.alias?s=o:(s.alias=t,za.push(s)),e==null?s.label={text:""}:s.label={text:e},n==null)s.type={text:"container"};else if(typeof n=="object"){let[a,l]=Object.entries(n)[0];s[a]={text:l}}else s.type={text:n};if(typeof r=="object"){let[a,l]=Object.entries(r)[0];s[a]=l}else s.tags=r;if(typeof i=="object"){let[a,l]=Object.entries(i)[0];s[a]=l}else s.link=i;s.parentBoundary=Wi,s.wrap=du(),Uo=Wi,Wi=t,Vc.push(Uo)},pYe=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=za.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,za.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.type={text:"node"};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.type={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.nodeType=t,l.parentBoundary=Wi,l.wrap=du(),Uo=Wi,Wi=e,Vc.push(Uo)},mYe=function(){Wi=Uo,Vc.pop(),Uo=Vc.pop(),Vc.push(Uo)},gYe=function(t,e,n,r,i,s,o,a,l,u,h){let d=Ko.find(f=>f.alias===e);if(!(d===void 0&&(d=za.find(f=>f.alias===e),d===void 0))){if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];d[f]=p}else d.bgColor=n;if(r!=null)if(typeof r=="object"){let[f,p]=Object.entries(r)[0];d[f]=p}else d.fontColor=r;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];d[f]=p}else d.borderColor=i;if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];d[f]=p}else d.shadowing=s;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];d[f]=p}else d.shape=o;if(a!=null)if(typeof a=="object"){let[f,p]=Object.entries(a)[0];d[f]=p}else d.sprite=a;if(l!=null)if(typeof l=="object"){let[f,p]=Object.entries(l)[0];d[f]=p}else d.techn=l;if(u!=null)if(typeof u=="object"){let[f,p]=Object.entries(u)[0];d[f]=p}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[f,p]=Object.entries(h)[0];d[f]=p}else d.legendSprite=h}},yYe=function(t,e,n,r,i,s,o){const a=Hp.find(l=>l.from===e&&l.to===n);if(a!==void 0){if(r!=null)if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]=u}else a.textColor=r;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.lineColor=i;if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];a[l]=parseInt(u)}else a.offsetX=parseInt(s);if(o!=null)if(typeof o=="object"){let[l,u]=Object.entries(o)[0];a[l]=parseInt(u)}else a.offsetY=parseInt(o)}},bYe=function(t,e,n){let r=Jy,i=eb;if(typeof e=="object"){const s=Object.values(e)[0];r=parseInt(s)}else r=parseInt(e);if(typeof n=="object"){const s=Object.values(n)[0];i=parseInt(s)}else i=parseInt(n);r>=1&&(Jy=r),i>=1&&(eb=i)},OYe=function(){return Jy},vYe=function(){return eb},xYe=function(){return Wi},kYe=function(){return Uo},pR=function(t){return t==null?Ko:Ko.filter(e=>e.parentBoundary===t)},wYe=function(t){return Ko.find(e=>e.alias===t)},_Ye=function(t){return Object.keys(pR(t))},SYe=function(t){return t==null?za:za.filter(e=>e.parentBoundary===t)},CYe=function(){return Hp},TYe=function(){return G8},DYe=function(t){K8=t},du=function(){return K8},EYe=function(){Ko=[],za=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Uo="",Wi="global",Vc=[""],Hp=[],Vc=[""],G8="",K8=!1,Jy=4,eb=2},AYe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},MYe={FILLED:0,OPEN:1},PYe={LEFTOF:0,RIGHTOF:1,OVER:2},BYe=function(t){G8=ko(t,ie())},mR={addPersonOrSystem:cYe,addPersonOrSystemBoundary:dYe,addContainer:uYe,addContainerBoundary:fYe,addComponent:hYe,addDeploymentNode:pYe,popBoundaryParseStack:mYe,addRel:lYe,updateElStyle:gYe,updateRelStyle:yYe,updateLayoutConfig:bYe,autoWrap:du,setWrap:DYe,getC4ShapeArray:pR,getC4Shape:wYe,getC4ShapeKeys:_Ye,getBoundarys:SYe,getCurrentBoundaryParse:xYe,getParentBoundaryParse:kYe,getRels:CYe,getTitle:TYe,getC4Type:sYe,getC4ShapeInRow:OYe,getC4BoundaryInRow:vYe,setAccTitle:Os,getAccTitle:zs,getAccDescription:Ws,setAccDescription:Vs,parseDirective:aYe,getConfig:()=>ie().c4,clear:EYe,LINETYPE:AYe,ARROWTYPE:MYe,PLACEMENT:PYe,setTitle:BYe,setC4Type:oYe},J8=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let r in e.attrs)n.attr(r,e.attrs[r]);return e.class!=="undefined"&&n.attr("class",e.class),n},gR=function(t,e,n,r,i,s){const o=t.append("image");o.attr("width",e),o.attr("height",n),o.attr("x",r),o.attr("y",i);let a=s.startsWith("data:image/png;base64")?s:Kl(s);o.attr("xlink:href",a)},$Ye=(t,e,n)=>{const r=t.append("g");let i=0;for(let s of e){let o=s.textColor?s.textColor:"#444444",a=s.lineColor?s.lineColor:"#444444",l=s.offsetX?parseInt(s.offsetX):0,u=s.offsetY?parseInt(s.offsetY):0,h="";if(i===0){let f=r.append("line");f.attr("x1",s.startPoint.x),f.attr("y1",s.startPoint.y),f.attr("x2",s.endPoint.x),f.attr("y2",s.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",a),f.style("fill","none"),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let f=r.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",a).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)")}let d=n.messageFont();El(n)(s.label.text,r,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+u,s.label.width,s.label.height,{fill:o},d),s.techn&&s.techn.text!==""&&(d=n.messageFont(),El(n)("["+s.techn.text+"]",r,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+n.messageFontSize+5+u,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:o,"font-style":"italic"},d))}},LYe=function(t,e,n){const r=t.append("g");let i=e.bgColor?e.bgColor:"none",s=e.borderColor?e.borderColor:"#444444",o=e.fontColor?e.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(a={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:s,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:a};J8(r,l);let u=n.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=o,El(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=n.boundaryFont(),u.fontColor=o,El(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=n.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=o,El(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},FYe=function(t,e,n){var r;let i=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],s=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const l=t.append("g");l.attr("class","person-man");const u=yR();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=e.x,u.y=e.y,u.fill=i,u.width=e.width,u.height=e.height,u.stroke=s,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},J8(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let h=XYe(n,e.typeC4Shape.text);switch(l.append("text").attr("fill",o).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":gR(l,48,48,e.x+e.width/2-24,e.y+e.image.Y,a);break}let d=n[e.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=o,El(n)(e.label.text,l,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},d),d=n[e.typeC4Shape.text+"Font"](),d.fontColor=o,e.techn&&((r=e.techn)==null?void 0:r.text)!==""?El(n)(e.techn.text,l,e.x,e.y+e.techn.Y,e.width,e.height,{fill:o,"font-style":"italic"},d):e.type&&e.type.text!==""&&El(n)(e.type.text,l,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},d),e.descr&&e.descr.text!==""&&(d=n.personFont(),d.fontColor=o,El(n)(e.descr.text,l,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},d)),e.height},NYe=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},IYe=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},RYe=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},QYe=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},zYe=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},VYe=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},WYe=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},qYe=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},yR=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},XYe=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),El=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{fontSize:f,fontFamily:p,fontWeight:m}=d,g=i.split(Pt.lineBreakRegex);for(let y=0;y<g.length;y++){const b=y*f-f*(g.length-1)/2,O=s.append("text").attr("x",o+l/2).attr("y",a).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",m).style("font-family",p);O.append("tspan").attr("dy",b).text(g[y]).attr("alignment-baseline","mathematical"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(m,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),ga={drawRect:J8,drawBoundary:LYe,drawC4Shape:FYe,drawRels:$Ye,drawImage:gR,insertArrowHead:QYe,insertArrowEnd:zYe,insertArrowFilledHead:VYe,insertDynamicNumber:WYe,insertArrowCrossHead:qYe,insertDatabaseIcon:NYe,insertComputerIcon:IYe,insertClockIcon:RYe,getNoteRect:yR,sanitizeUrl:Kl};let tb=0,nb=0,bR=4,t6=2;Ky.yy=mR;let ht={};class OR{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,n6(e.db.getConfig())}setData(e,n,r,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=i}updateVal(e,n,r,i){e[n]===void 0?e[n]=r:e[n]=i(r,e[n])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=n+e.width,i=this.nextData.starty+e.margin*2,s=i+e.height;(n>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>bR)&&(n=this.nextData.startx+e.margin+ht.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=n+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+e.height,this.nextData.cnt=1),e.x=n,e.y=i,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},n6(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const n6=function(t){jr(ht,t),t.fontFamily&&(ht.personFontFamily=ht.systemFontFamily=ht.messageFontFamily=t.fontFamily),t.fontSize&&(ht.personFontSize=ht.systemFontSize=ht.messageFontSize=t.fontSize),t.fontWeight&&(ht.personFontWeight=ht.systemFontWeight=ht.messageFontWeight=t.fontWeight)},U0=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),S2=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),YYe=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function Vo(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=qI(e[t].text,i,r),e[t].textLines=e[t].text.split(Pt.lineBreakRegex).length,e[t].width=i,e[t].height=Gx(e[t].text,r);else{let s=e[t].text.split(Pt.lineBreakRegex);e[t].textLines=s.length;let o=0;e[t].height=0,e[t].width=0;for(const a of s)e[t].width=Math.max(Na(a,r),e[t].width),o=Gx(a,r),e[t].height=e[t].height+o}}const vR=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=ht.c4ShapeMargin-35;let r=e.wrap&&ht.wrap,i=S2(ht);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=Na(e.label.text,i);Vo("label",e,r,i,s),ga.drawBoundary(t,e,ht)},xR=function(t,e,n,r){let i=0;for(const s of r){i=0;const o=n[s];let a=U0(ht,o.typeC4Shape.text);switch(a.fontSize=a.fontSize-2,o.typeC4Shape.width=Na("<<"+o.typeC4Shape.text+">>",a),o.typeC4Shape.height=a.fontSize+2,o.typeC4Shape.Y=ht.c4ShapePadding,i=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height);let l=o.wrap&&ht.wrap,u=ht.width-ht.c4ShapePadding*2,h=U0(ht,o.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Vo("label",o,l,h,u),o.label.Y=i+8,i=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let p=U0(ht,o.typeC4Shape.text);Vo("type",o,l,p,u),o.type.Y=i+5,i=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let p=U0(ht,o.techn.text);Vo("techn",o,l,p,u),o.techn.Y=i+5,i=o.techn.Y+o.techn.height}let d=i,f=o.label.width;if(o.descr&&o.descr.text!==""){let p=U0(ht,o.typeC4Shape.text);Vo("descr",o,l,p,u),o.descr.Y=i+20,i=o.descr.Y+o.descr.height,f=Math.max(o.label.width,o.descr.width),d=i-o.descr.textLines*5}f=f+ht.c4ShapePadding,o.width=Math.max(o.width||ht.width,f,ht.width),o.height=Math.max(o.height||ht.height,d,ht.height),o.margin=o.margin||ht.c4ShapeMargin,t.insert(o),ga.drawC4Shape(e,o,ht)}t.bumpLastMargin(ht.c4ShapeMargin)};class Hs{constructor(e,n){this.x=e,this.y=n}}let FD=function(t,e){let n=t.x,r=t.y,i=e.x,s=e.y,o=n+t.width/2,a=r+t.height/2,l=Math.abs(n-i),u=Math.abs(r-s),h=u/l,d=t.height/t.width,f=null;return r==s&&n<i?f=new Hs(n+t.width,a):r==s&&n>i?f=new Hs(n,a):n==i&&r<s?f=new Hs(o,r+t.height):n==i&&r>s&&(f=new Hs(o,r)),n>i&&r<s?d>=h?f=new Hs(n,a+h*t.width/2):f=new Hs(o-l/u*t.height/2,r+t.height):n<i&&r<s?d>=h?f=new Hs(n+t.width,a+h*t.width/2):f=new Hs(o+l/u*t.height/2,r+t.height):n<i&&r>s?d>=h?f=new Hs(n+t.width,a-h*t.width/2):f=new Hs(o+t.height/2*l/u,r):n>i&&r>s&&(d>=h?f=new Hs(n,a-t.width/2*h):f=new Hs(o-t.height/2*l/u,r)),f},UYe=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let r=FD(t,n);n.x=t.x+t.width/2,n.y=t.y+t.height/2;let i=FD(e,n);return{startPoint:r,endPoint:i}};const jYe=function(t,e,n,r){let i=0;for(let s of e){i=i+1;let o=s.wrap&&ht.wrap,a=YYe(ht);r.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let u=Na(s.label.text,a);Vo("label",s,o,a,u),s.techn&&s.techn.text!==""&&(u=Na(s.techn.text,a),Vo("techn",s,o,a,u)),s.descr&&s.descr.text!==""&&(u=Na(s.descr.text,a),Vo("descr",s,o,a,u));let h=n(s.from),d=n(s.to),f=UYe(h,d);s.startPoint=f.startPoint,s.endPoint=f.endPoint}ga.drawRels(t,e,ht)};function kR(t,e,n,r,i){let s=new OR(i);s.data.widthLimit=n.data.widthLimit/Math.min(t6,r.length);for(let[o,a]of r.entries()){let l=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=l,l=a.image.Y+a.image.height);let u=a.wrap&&ht.wrap,h=S2(ht);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Vo("label",a,u,h,s.data.widthLimit),a.label.Y=l+8,l=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let m=S2(ht);Vo("type",a,u,m,s.data.widthLimit),a.type.Y=l+5,l=a.type.Y+a.type.height}if(a.descr&&a.descr.text!==""){let m=S2(ht);m.fontSize=m.fontSize-2,Vo("descr",a,u,m,s.data.widthLimit),a.descr.Y=l+20,l=a.descr.Y+a.descr.height}if(o==0||o%t6===0){let m=n.data.startx+ht.diagramMarginX,g=n.data.stopy+ht.diagramMarginY+l;s.setData(m,m,g,g)}else{let m=s.data.stopx!==s.data.startx?s.data.stopx+ht.diagramMarginX:s.data.startx,g=s.data.starty;s.setData(m,m,g,g)}s.name=a.alias;let d=i.db.getC4ShapeArray(a.alias),f=i.db.getC4ShapeKeys(a.alias);f.length>0&&xR(s,t,d,f),e=a.alias;let p=i.db.getBoundarys(e);p.length>0&&kR(t,e,s,p,i),a.alias!=="global"&&vR(t,a,s),n.data.stopy=Math.max(s.data.stopy+ht.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(s.data.stopx+ht.c4ShapeMargin,n.data.stopx),tb=Math.max(tb,n.data.stopx),nb=Math.max(nb,n.data.stopy)}}const HYe=function(t,e,n,r){ht=ie().c4;const i=ie().securityLevel;let s;i==="sandbox"&&(s=Le("#i"+e));const o=Le(i==="sandbox"?s.nodes()[0].contentDocument.body:"body");let a=r.db;r.db.setWrap(ht.wrap),bR=a.getC4ShapeInRow(),t6=a.getC4BoundaryInRow(),V.debug(`C:${JSON.stringify(ht,null,2)}`);const l=i==="sandbox"?o.select(`[id="${e}"]`):Le(`[id="${e}"]`);ga.insertComputerIcon(l),ga.insertDatabaseIcon(l),ga.insertClockIcon(l);let u=new OR(r);u.setData(ht.diagramMarginX,ht.diagramMarginX,ht.diagramMarginY,ht.diagramMarginY),u.data.widthLimit=screen.availWidth,tb=ht.diagramMarginX,nb=ht.diagramMarginY;const h=r.db.getTitle();let d=r.db.getBoundarys("");kR(l,"",u,d,r),ga.insertArrowHead(l),ga.insertArrowEnd(l),ga.insertArrowCrossHead(l),ga.insertArrowFilledHead(l),jYe(l,r.db.getRels(),r.db.getC4Shape,r),u.data.stopx=tb,u.data.stopy=nb;const f=u.data;let m=f.stopy-f.starty+2*ht.diagramMarginY;const y=f.stopx-f.startx+2*ht.diagramMarginX;h&&l.append("text").text(h).attr("x",(f.stopx-f.startx)/2-4*ht.diagramMarginX).attr("y",f.starty+ht.diagramMarginY),ea(l,m,y,ht.useMaxWidth);const b=h?60:0;l.attr("viewBox",f.startx-ht.diagramMarginX+" -"+(ht.diagramMarginY+b)+" "+y+" "+(m+b)),V.debug("models:",f)},ND={drawPersonOrSystemArray:xR,drawBoundary:vR,setConf:n6,draw:HYe};var r6=function(){var t=function(J,z,W,te){for(W=W||{},te=J.length;te--;W[J[te]]=z);return W},e=[1,3],n=[1,7],r=[1,8],i=[1,9],s=[1,10],o=[1,13],a=[1,12],l=[1,16,25],u=[1,20],h=[1,32],d=[1,33],f=[1,34],p=[1,36],m=[1,39],g=[1,37],y=[1,38],b=[1,44],O=[1,45],w=[1,40],D=[1,41],C=[1,42],T=[1,43],E=[1,48],P=[1,49],M=[1,50],$=[1,51],A=[16,25],_=[1,65],L=[1,66],v=[1,67],q=[1,68],x=[1,69],X=[1,70],de=[1,71],H=[1,80],G=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],F=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],B=[5,8,9,10,11,16,19,23,25],ae=[54,88,89,90,91],be=[54,65,66,88,89,90,91],ye=[54,60,61,62,63,64,88,89,90,91],Z=[16,25,32],Qe=[1,107],ne={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(z,W,te,Q,me,I,ge){var Y=I.length-1;switch(me){case 5:Q.setDirection("TB");break;case 6:Q.setDirection("BT");break;case 7:Q.setDirection("RL");break;case 8:Q.setDirection("LR");break;case 12:Q.parseDirective("%%{","open_directive");break;case 13:Q.parseDirective(I[Y],"type_directive");break;case 14:I[Y]=I[Y].trim().replace(/'/g,'"'),Q.parseDirective(I[Y],"arg_directive");break;case 15:Q.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=I[Y];break;case 22:this.$=I[Y-1]+I[Y];break;case 23:case 24:this.$=I[Y-1]+"~"+I[Y];break;case 25:Q.addRelation(I[Y]);break;case 26:I[Y-1].title=Q.cleanupLabel(I[Y]),Q.addRelation(I[Y-1]);break;case 35:this.$=I[Y].trim(),Q.setAccTitle(this.$);break;case 36:case 37:this.$=I[Y].trim(),Q.setAccDescription(this.$);break;case 38:Q.addClass(I[Y]);break;case 39:Q.addClass(I[Y-2]),Q.setCssClass(I[Y-2],I[Y]);break;case 40:Q.addClass(I[Y-3]),Q.addMembers(I[Y-3],I[Y-1]);break;case 41:Q.addClass(I[Y-5]),Q.setCssClass(I[Y-5],I[Y-3]),Q.addMembers(I[Y-5],I[Y-1]);break;case 42:Q.addAnnotation(I[Y],I[Y-2]);break;case 43:this.$=[I[Y]];break;case 44:I[Y].push(I[Y-1]),this.$=I[Y];break;case 45:break;case 46:Q.addMember(I[Y-1],Q.cleanupLabel(I[Y]));break;case 47:break;case 48:break;case 49:this.$={id1:I[Y-2],id2:I[Y],relation:I[Y-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:I[Y-3],id2:I[Y],relation:I[Y-1],relationTitle1:I[Y-2],relationTitle2:"none"};break;case 51:this.$={id1:I[Y-3],id2:I[Y],relation:I[Y-2],relationTitle1:"none",relationTitle2:I[Y-1]};break;case 52:this.$={id1:I[Y-4],id2:I[Y],relation:I[Y-2],relationTitle1:I[Y-3],relationTitle2:I[Y-1]};break;case 53:Q.addNote(I[Y],I[Y-1]);break;case 54:Q.addNote(I[Y]);break;case 55:this.$={type1:I[Y-2],type2:I[Y],lineType:I[Y-1]};break;case 56:this.$={type1:"none",type2:I[Y],lineType:I[Y-1]};break;case 57:this.$={type1:I[Y-1],type2:"none",lineType:I[Y]};break;case 58:this.$={type1:"none",type2:"none",lineType:I[Y]};break;case 59:this.$=Q.relationType.AGGREGATION;break;case 60:this.$=Q.relationType.EXTENSION;break;case 61:this.$=Q.relationType.COMPOSITION;break;case 62:this.$=Q.relationType.DEPENDENCY;break;case 63:this.$=Q.relationType.LOLLIPOP;break;case 64:this.$=Q.lineType.LINE;break;case 65:this.$=Q.lineType.DOTTED_LINE;break;case 66:case 72:this.$=I[Y-2],Q.setClickEvent(I[Y-1],I[Y]);break;case 67:case 73:this.$=I[Y-3],Q.setClickEvent(I[Y-2],I[Y-1]),Q.setTooltip(I[Y-2],I[Y]);break;case 68:case 76:this.$=I[Y-2],Q.setLink(I[Y-1],I[Y]);break;case 69:this.$=I[Y-3],Q.setLink(I[Y-2],I[Y-1],I[Y]);break;case 70:case 78:this.$=I[Y-3],Q.setLink(I[Y-2],I[Y-1]),Q.setTooltip(I[Y-2],I[Y]);break;case 71:case 79:this.$=I[Y-4],Q.setLink(I[Y-3],I[Y-2],I[Y]),Q.setTooltip(I[Y-3],I[Y-1]);break;case 74:this.$=I[Y-3],Q.setClickEvent(I[Y-2],I[Y-1],I[Y]);break;case 75:this.$=I[Y-4],Q.setClickEvent(I[Y-3],I[Y-2],I[Y-1]),Q.setTooltip(I[Y-3],I[Y]);break;case 77:this.$=I[Y-3],Q.setLink(I[Y-2],I[Y-1],I[Y]);break;case 80:Q.setCssClass(I[Y-1],I[Y]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:s,12:6,13:11,19:o,23:a},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:s,12:6,13:11,19:o,23:a},{1:[2,9]},t(l,[2,5]),t(l,[2,6]),t(l,[2,7]),t(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:u},t([17,22],[2,13]),{6:31,7:30,8:n,9:r,10:i,11:s,13:11,19:o,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:h,41:d,43:f,44:p,49:m,51:g,52:y,55:b,57:O,67:w,68:D,70:C,74:T,88:E,89:P,90:M,91:$},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t(A,[2,25],{32:[1,57]}),t(A,[2,27]),t(A,[2,28]),t(A,[2,29]),t(A,[2,30]),t(A,[2,31]),t(A,[2,32]),t(A,[2,33]),t(A,[2,34]),{40:[1,58]},{42:[1,59]},t(A,[2,37]),t(A,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:_,61:L,62:v,63:q,64:x,65:X,66:de}),{27:72,28:46,29:47,88:E,89:P,90:M,91:$},t(A,[2,47]),t(A,[2,48]),{28:73,88:E,89:P,90:M},{27:74,28:46,29:47,88:E,89:P,90:M,91:$},{27:75,28:46,29:47,88:E,89:P,90:M,91:$},{27:76,28:46,29:47,88:E,89:P,90:M,91:$},{54:[1,77]},{27:78,28:46,29:47,88:E,89:P,90:M,91:$},{54:H,56:79},t(G,[2,20],{28:46,29:47,27:81,30:[1,82],88:E,89:P,90:M,91:$}),t(G,[2,21],{30:[1,83]}),t(F,[2,94]),t(F,[2,95]),t(F,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(B,[2,10]),{15:84,22:u},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:n,9:r,10:i,11:s,13:11,19:o,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:h,41:d,43:f,44:p,49:m,51:g,52:y,55:b,57:O,67:w,68:D,70:C,74:T,88:E,89:P,90:M,91:$},t(A,[2,26]),t(A,[2,35]),t(A,[2,36]),{27:86,28:46,29:47,54:[1,87],88:E,89:P,90:M,91:$},{53:88,58:63,59:64,60:_,61:L,62:v,63:q,64:x,65:X,66:de},t(A,[2,46]),{59:89,65:X,66:de},t(ae,[2,58],{58:90,60:_,61:L,62:v,63:q,64:x}),t(be,[2,59]),t(be,[2,60]),t(be,[2,61]),t(be,[2,62]),t(be,[2,63]),t(ye,[2,64]),t(ye,[2,65]),t(A,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:E,89:P,90:M},{54:H,56:99},t(A,[2,54]),t(A,[2,98]),t(G,[2,22]),t(G,[2,23]),t(G,[2,24]),{16:[1,100]},{25:[2,19]},t(Z,[2,49]),{27:101,28:46,29:47,88:E,89:P,90:M,91:$},{27:102,28:46,29:47,54:[1,103],88:E,89:P,90:M,91:$},t(ae,[2,57],{58:104,60:_,61:L,62:v,63:q,64:x}),t(ae,[2,56]),{28:105,88:E,89:P,90:M},{47:106,51:Qe},{27:108,28:46,29:47,88:E,89:P,90:M,91:$},t(A,[2,66],{54:[1,109]}),t(A,[2,68],{54:[1,111],69:[1,110]}),t(A,[2,72],{54:[1,112],72:[1,113]}),t(A,[2,76],{54:[1,115],69:[1,114]}),t(A,[2,80]),t(A,[2,53]),t(B,[2,11]),t(Z,[2,51]),t(Z,[2,50]),{27:116,28:46,29:47,88:E,89:P,90:M,91:$},t(ae,[2,55]),t(A,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:Qe},t(A,[2,42]),t(A,[2,67]),t(A,[2,69]),t(A,[2,70],{69:[1,120]}),t(A,[2,73]),t(A,[2,74],{54:[1,121]}),t(A,[2,77]),t(A,[2,78],{69:[1,122]}),t(Z,[2,52]),{47:123,51:Qe},t(A,[2,40]),{48:[2,44]},t(A,[2,71]),t(A,[2,75]),t(A,[2,79]),{48:[1,124]},t(A,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(z,W){if(W.recoverable)this.trace(z);else{var te=new Error(z);throw te.hash=W,te}},parse:function(z){var W=this,te=[0],Q=[],me=[null],I=[],ge=this.table,Y="",$e=0,Se=0,De=2,_e=1,Te=I.slice.call(arguments,1),ke=Object.create(this.lexer),Me={yy:{}};for(var pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pe)&&(Me.yy[pe]=this.yy[pe]);ke.setInput(z,Me.yy),Me.yy.lexer=ke,Me.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var Ce=ke.yylloc;I.push(Ce);var Be=ke.options&&ke.options.ranges;typeof Me.yy.parseError=="function"?this.parseError=Me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function qe(){var he;return he=Q.pop()||ke.lex()||_e,typeof he!="number"&&(he instanceof Array&&(Q=he,he=Q.pop()),he=W.symbols_[he]||he),he}for(var Je,Nt,Ne,rt,Ke={},Pe,we,ze,ve;;){if(Nt=te[te.length-1],this.defaultActions[Nt]?Ne=this.defaultActions[Nt]:((Je===null||typeof Je>"u")&&(Je=qe()),Ne=ge[Nt]&&ge[Nt][Je]),typeof Ne>"u"||!Ne.length||!Ne[0]){var st="";ve=[];for(Pe in ge[Nt])this.terminals_[Pe]&&Pe>De&&ve.push("'"+this.terminals_[Pe]+"'");ke.showPosition?st="Parse error on line "+($e+1)+`:
`+ke.showPosition()+`
Expecting `+ve.join(", ")+", got '"+(this.terminals_[Je]||Je)+"'":st="Parse error on line "+($e+1)+": Unexpected "+(Je==_e?"end of input":"'"+(this.terminals_[Je]||Je)+"'"),this.parseError(st,{text:ke.match,token:this.terminals_[Je]||Je,line:ke.yylineno,loc:Ce,expected:ve})}if(Ne[0]instanceof Array&&Ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Nt+", token: "+Je);switch(Ne[0]){case 1:te.push(Je),me.push(ke.yytext),I.push(ke.yylloc),te.push(Ne[1]),Je=null,Se=ke.yyleng,Y=ke.yytext,$e=ke.yylineno,Ce=ke.yylloc;break;case 2:if(we=this.productions_[Ne[1]][1],Ke.$=me[me.length-we],Ke._$={first_line:I[I.length-(we||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(we||1)].first_column,last_column:I[I.length-1].last_column},Be&&(Ke._$.range=[I[I.length-(we||1)].range[0],I[I.length-1].range[1]]),rt=this.performAction.apply(Ke,[Y,Se,$e,Me.yy,Ne[1],me,I].concat(Te)),typeof rt<"u")return rt;we&&(te=te.slice(0,-1*we*2),me=me.slice(0,-1*we),I=I.slice(0,-1*we)),te.push(this.productions_[Ne[1]][0]),me.push(Ke.$),I.push(Ke._$),ze=ge[te[te.length-2]][te[te.length-1]],te.push(ze);break;case 3:return!0}}return!0}},se=function(){var J={EOF:1,parseError:function(W,te){if(this.yy.parser)this.yy.parser.parseError(W,te);else throw new Error(W)},setInput:function(z,W){return this.yy=W||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var W=z.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var W=z.length,te=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),te.length-1&&(this.yylineno-=te.length-1);var me=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:te?(te.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-te.length].length-te[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[me[0],me[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),W=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+W+"^"},test_match:function(z,W){var te,Q,me;if(this.options.backtrack_lexer&&(me={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(me.yylloc.range=this.yylloc.range.slice(0))),Q=z[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],te=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),te)return te;if(this._backtrack){for(var I in me)this[I]=me[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,W,te,Q;this._more||(this.yytext="",this.match="");for(var me=this._currentRules(),I=0;I<me.length;I++)if(te=this._input.match(this.rules[me[I]]),te&&(!W||te[0].length>W[0].length)){if(W=te,Q=I,this.options.backtrack_lexer){if(z=this.test_match(te,me[I]),z!==!1)return z;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(z=this.test_match(W,me[Q]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var W=this.next();return W||this.lex()},begin:function(W){this.conditionStack.push(W)},popState:function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},pushState:function(W){this.begin(W)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(W,te,Q,me){switch(Q){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return J}();ne.lexer=se;function ee(){this.yy={}}return ee.prototype=ne,ne.Parser=ee,new ee}();r6.parser=r6;const ID=r6,ZYe=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},GYe=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},e7="classid-";let t7=[],lr={},rb=[],RD=0,Zp=[];const ip=t=>Pt.sanitizeText(t,ie()),KYe=function(t,e,n){Vn.parseDirective(this,t,e,n)},Gp=function(t){let e="",n=t;if(t.indexOf("~")>0){let r=t.split("~");n=r[0],e=Pt.sanitizeText(r[1],ie())}return{className:n,type:e}},i6=function(t){let e=Gp(t);lr[e.className]===void 0&&(lr[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:e7+e.className+"-"+RD},RD++)},wR=function(t){const e=Object.keys(lr);for(const n of e)if(lr[n].id===t)return lr[n].domId},JYe=function(){t7=[],lr={},rb=[],Zp=[],Zp.push(SR),Qs()},eUe=function(t){return lr[t]},tUe=function(){return lr},nUe=function(){return t7},rUe=function(){return rb},iUe=function(t){V.debug("Adding relation: "+JSON.stringify(t)),i6(t.id1),i6(t.id2),t.id1=Gp(t.id1).className,t.id2=Gp(t.id2).className,t.relationTitle1=Pt.sanitizeText(t.relationTitle1.trim(),ie()),t.relationTitle2=Pt.sanitizeText(t.relationTitle2.trim(),ie()),t7.push(t)},sUe=function(t,e){const n=Gp(t).className;lr[n].annotations.push(e)},_R=function(t,e){const n=Gp(t).className,r=lr[n];if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(ip(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(ip(i)):i&&r.members.push(ip(i))}},oUe=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(n=>_R(t,n)))},aUe=function(t,e){const n={id:`note${rb.length}`,class:e,text:t};rb.push(n)},lUe=function(t){return t.substring(0,1)===":"?Pt.sanitizeText(t.substr(1).trim(),ie()):ip(t.trim())},n7=function(t,e){t.split(",").forEach(function(n){let r=n;n[0].match(/\d/)&&(r=e7+r),lr[r]!==void 0&&lr[r].cssClasses.push(e)})},cUe=function(t,e){const n=ie();t.split(",").forEach(function(r){e!==void 0&&(lr[r].tooltip=Pt.sanitizeText(e,n))})},uUe=function(t){return lr[t].tooltip},hUe=function(t,e,n){const r=ie();t.split(",").forEach(function(i){let s=i;i[0].match(/\d/)&&(s=e7+s),lr[s]!==void 0&&(lr[s].link=At.formatUrl(e,r),r.securityLevel==="sandbox"?lr[s].linkTarget="_top":typeof n=="string"?lr[s].linkTarget=ip(n):lr[s].linkTarget="_blank")}),n7(t,"clickable")},dUe=function(t,e,n){t.split(",").forEach(function(r){fUe(r,e,n),lr[r].haveCallback=!0}),n7(t,"clickable")},fUe=function(t,e,n){const r=ie();let i=t,s=wR(i);if(r.securityLevel==="loose"&&e!==void 0&&lr[i]!==void 0){let o=[];if(typeof n=="string"){o=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<o.length;a++){let l=o[a].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),o[a]=l}}o.length===0&&o.push(s),Zp.push(function(){const a=document.querySelector(`[id="${s}"]`);a!==null&&a.addEventListener("click",function(){At.runFunc(e,...o)},!1)})}},pUe=function(t){Zp.forEach(function(e){e(t)})},mUe={LINE:0,DOTTED_LINE:1},gUe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},SR=function(t){let e=Le(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Le("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Le(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Le(this);if(i.attr("title")===null)return;const o=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Le(this).classed("hover",!1)})};Zp.push(SR);let CR="TB";const yUe=()=>CR,bUe=t=>{CR=t},ld={parseDirective:KYe,setAccTitle:Os,getAccTitle:zs,getAccDescription:Ws,setAccDescription:Vs,getConfig:()=>ie().class,addClass:i6,bindFunctions:pUe,clear:JYe,getClass:eUe,getClasses:tUe,getNotes:rUe,addAnnotation:sUe,addNote:aUe,getRelations:nUe,addRelation:iUe,getDirection:yUe,setDirection:bUe,addMember:_R,addMembers:oUe,cleanupLabel:lUe,lineType:mUe,relationType:gUe,setClickEvent:dUe,setCssClass:n7,setLink:hUe,getTooltip:uUe,setTooltip:cUe,lookUpDomId:wR,setDiagramTitle:ta,getDiagramTitle:na};let QD=0;const OUe=function(t,e,n,r,i){const s=function(O){switch(O){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(O=>!Number.isNaN(O.y));const o=e.points,a=T0().x(function(O){return O.x}).y(function(O){return O.y}).curve(Zd),l=t.append("path").attr("d",a(o)).attr("id","edge"+QD).attr("class","relation");let u="";r.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),n.relation.lineType==1&&l.attr("class","relation dashed-line"),n.relation.lineType==10&&l.attr("class","relation dotted-line"),n.relation.type1!=="none"&&l.attr("marker-start","url("+u+"#"+s(n.relation.type1)+"Start)"),n.relation.type2!=="none"&&l.attr("marker-end","url("+u+"#"+s(n.relation.type2)+"End)");let h,d;const f=e.points.length;let p=At.calcLabelPosition(e.points);h=p.x,d=p.y;let m,g,y,b;if(f%2!==0&&f>1){let O=At.calcCardinalityPosition(n.relation.type1!=="none",e.points,e.points[0]),w=At.calcCardinalityPosition(n.relation.type2!=="none",e.points,e.points[f-1]);V.debug("cardinality_1_point "+JSON.stringify(O)),V.debug("cardinality_2_point "+JSON.stringify(w)),m=O.x,g=O.y,y=w.x,b=w.y}if(n.title!==void 0){const O=t.append("g").attr("class","classLabel"),w=O.append("text").attr("class","label").attr("x",h).attr("y",d).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=w;const D=w.node().getBBox();O.insert("rect",":first-child").attr("class","box").attr("x",D.x-r.padding/2).attr("y",D.y-r.padding/2).attr("width",D.width+r.padding).attr("height",D.height+r.padding)}V.info("Rendering relation "+JSON.stringify(n)),n.relationTitle1!==void 0&&n.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",m).attr("y",g).attr("fill","black").attr("font-size","6").text(n.relationTitle1),n.relationTitle2!==void 0&&n.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",y).attr("y",b).attr("fill","black").attr("font-size","6").text(n.relationTitle2),QD++},vUe=function(t,e,n,r){V.debug("Rendering class ",e,n);const i=e.id,s={id:i,label:e.id,width:0,height:0},o=t.append("g").attr("id",r.db.lookUpDomId(i)).attr("class","classGroup");let a;e.link?a=o.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):a=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let l=!0;e.annotations.forEach(function(C){const T=a.append("tspan").text("\xAB"+C+"\xBB");l||T.attr("dy",n.textHeight),l=!1});let u=e.id;e.type!==void 0&&e.type!==""&&(u+="<"+e.type+">");const h=a.append("tspan").text(u).attr("class","title");l||h.attr("dy",n.textHeight);const d=a.node().getBBox().height,f=o.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin/2).attr("y2",n.padding+d+n.dividerMargin/2),p=o.append("text").attr("x",n.padding).attr("y",d+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(C){zD(p,C,l,n),l=!1});const m=p.node().getBBox(),g=o.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin+m.height).attr("y2",n.padding+d+n.dividerMargin+m.height),y=o.append("text").attr("x",n.padding).attr("y",d+2*n.dividerMargin+m.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(C){zD(y,C,l,n),l=!1});const b=o.node().getBBox();var O=" ";e.cssClasses.length>0&&(O=O+e.cssClasses.join(" "));const D=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",b.width+2*n.padding).attr("height",b.height+n.padding+.5*n.dividerMargin).attr("class",O).node().getBBox().width;return a.node().childNodes.forEach(function(C){C.setAttribute("x",(D-C.getBBox().width)/2)}),e.tooltip&&a.insert("title").text(e.tooltip),f.attr("x2",D),g.attr("x2",D),s.width=D,s.height=b.height+n.padding+.5*n.dividerMargin,s},xUe=function(t,e,n,r){V.debug("Rendering note ",e,n);const i=e.id,s={id:i,text:e.text,width:0,height:0},o=t.append("g").attr("id",i).attr("class","classGroup");let a=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const l=JSON.parse(`"${e.text}"`).split(`
`);l.forEach(function(f){V.debug(`Adding line: ${f}`),a.append("tspan").text(f).attr("class","title").attr("dy",n.textHeight)});const u=o.node().getBBox(),d=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",u.width+2*n.padding).attr("height",u.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return a.node().childNodes.forEach(function(f){f.setAttribute("x",(d-f.getBBox().width)/2)}),s.width=d,s.height=u.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin,s},ib=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,n=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let r=t.match(e),i=t.match(n);return r&&!i?kUe(r):i?wUe(i):_Ue(t)},kUe=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",s=t[3]?Rc(t[3].trim()):"",o=t[4]?t[4].trim():"",a=t[5]?t[5].trim():"";n=r+i+s+" "+o,e=r7(a)}catch{n=t}return{displayText:n,cssStyle:e}},wUe=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",s=t[3]?Rc(t[3].trim()):"",o=t[4]?t[4].trim():"",a=t[5]?" : "+Rc(t[5]).trim():"";n=r+i+"("+s+")"+a,e=r7(o)}catch{n=t}return{displayText:n,cssStyle:e}},_Ue=function(t){let e="",n="",r="",i=t.indexOf("("),s=t.indexOf(")");if(i>1&&s>i&&s<=t.length){let o="",a="",l=t.substring(0,1);l.match(/\w/)?a=t.substring(0,i).trim():(l.match(/[#+~-]/)&&(o=l),a=t.substring(1,i).trim());const u=t.substring(i+1,s);t.substring(s+1,1),n=r7(t.substring(s+1,s+2)),e=o+a+"("+Rc(u.trim())+")",s<t.length&&(r=t.substring(s+2).trim(),r!==""&&(r=" : "+Rc(r),e+=r))}else e=Rc(t);return{displayText:e,cssStyle:n}},zD=function(t,e,n,r){let i=ib(e);const s=t.append("tspan").attr("x",r.padding).text(i.displayText);i.cssStyle!==""&&s.attr("style",i.cssStyle),n||s.attr("dy",r.textHeight)},r7=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},SO={drawClass:vUe,drawEdge:OUe,drawNote:xUe,parseMember:ib};let C2={};const rg=20,j0=function(t){const e=Object.entries(C2).find(n=>n[1].label===t);if(e)return e[0]},SUe=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},CUe=function(t,e,n,r){const i=ie().class;C2={},V.info("Rendering diagram "+t);const s=ie().securityLevel;let o;s==="sandbox"&&(o=Le("#i"+e));const a=Le(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=a.select(`[id='${e}']`);SUe(l);const u=new Sr({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}});const h=r.db.getClasses(),d=Object.keys(h);for(const O of d){const w=h[O],D=SO.drawClass(l,w,i,r);C2[D.id]=D,u.setNode(D.id,D),V.info("Org height: "+D.height)}r.db.getRelations().forEach(function(O){V.info("tjoho"+j0(O.id1)+j0(O.id2)+JSON.stringify(O)),u.setEdge(j0(O.id1),j0(O.id2),{relation:O},O.title||"DEFAULT")}),r.db.getNotes().forEach(function(O){V.debug(`Adding note: ${JSON.stringify(O)}`);const w=SO.drawNote(l,O,i,r);C2[w.id]=w,u.setNode(w.id,w),O.class&&O.class in h&&u.setEdge(O.id,j0(O.class),{relation:{id1:O.id,id2:O.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),E0(u),u.nodes().forEach(function(O){O!==void 0&&u.node(O)!==void 0&&(V.debug("Node "+O+": "+JSON.stringify(u.node(O))),a.select("#"+(r.db.lookUpDomId(O)||O)).attr("transform","translate("+(u.node(O).x-u.node(O).width/2)+","+(u.node(O).y-u.node(O).height/2)+" )"))}),u.edges().forEach(function(O){O!==void 0&&u.edge(O)!==void 0&&(V.debug("Edge "+O.v+" -> "+O.w+": "+JSON.stringify(u.edge(O))),SO.drawEdge(l,u.edge(O),u.edge(O).relation,i,r))});const m=l.node().getBBox(),g=m.width+rg*2,y=m.height+rg*2;ea(l,y,g,i.useMaxWidth);const b=`${m.x-rg} ${m.y-rg} ${g} ${y}`;V.debug(`viewBox ${b}`),l.attr("viewBox",b)},TUe={draw:CUe},DUe=(t,e,n,r)=>{e.forEach(i=>{IUe[i](t,n,r)})},EUe=(t,e,n)=>{V.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},AUe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},MUe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},PUe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},BUe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},$Ue=(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},LUe=(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},FUe=(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},NUe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},IUe={extension:EUe,composition:AUe,aggregation:MUe,dependency:PUe,lollipop:BUe,point:$Ue,circle:LUe,cross:FUe,barb:NUe},RUe=DUe;function QUe(t,e){e&&t.attr("style",e)}function zUe(t){const e=Le(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=t.label,i=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),QUe(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const VUe=(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Hr(ie().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),V.info("vertexText"+i);const s={isNode:r,label:E7(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return zUe(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},as=VUe,Mi=(t,e,n,r)=>{let i;n?i=n:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",e.labelStyle);let a;e.labelText===void 0?a="":a=typeof e.labelText=="string"?e.labelText:e.labelText[0];const l=o.node().appendChild(as(ko(E7(a),ie()),e.labelStyle,!1,r));let u=l.getBBox();if(Hr(ie().flowchart.htmlLabels)){const d=l.children[0],f=Le(l);u=d.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}const h=e.padding/2;return o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),{shapeSvg:s,bbox:u,halfPadding:h,label:o}},hr=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function Jl(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let Jt={},Wo={},TR={};const WUe=()=>{Wo={},TR={},Jt={}},sb=(t,e)=>(V.trace("In isDecendant",e," ",t," = ",Wo[e].includes(t)),!!Wo[e].includes(t)),qUe=(t,e)=>(V.info("Decendants of ",e," is ",Wo[e]),V.info("Edge is ",t),t.v===e||t.w===e?!1:Wo[e]?Wo[e].includes(t.v)||sb(t.v,e)||sb(t.w,e)||Wo[e].includes(t.w):(V.debug("Tilt, ",e,",not in decendants"),!1)),DR=(t,e,n,r)=>{V.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const i=e.children(t)||[];t!==r&&i.push(t),V.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(s=>{if(e.children(s).length>0)DR(s,e,n,r);else{const o=e.node(s);V.info("cp ",s," to ",r," with parent ",t),n.setNode(s,o),r!==e.parent(s)&&(V.warn("Setting parent",s,e.parent(s)),n.setParent(s,e.parent(s))),t!==r&&s!==t?(V.debug("Setting parent",s,t),n.setParent(s,t)):(V.info("In copy ",t,"root",r,"data",e.node(t),r),V.debug("Not Setting parent for node=",s,"cluster!==rootId",t!==r,"node!==clusterId",s!==t));const a=e.edges(s);V.debug("Copying Edges",a),a.forEach(l=>{V.info("Edge",l);const u=e.edge(l.v,l.w,l.name);V.info("Edge data",u,r);try{qUe(l,r)?(V.info("Copying as ",l.v,l.w,u,l.name),n.setEdge(l.v,l.w,u,l.name),V.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):V.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",r," clusterId:",t)}catch(h){V.error(h)}})}V.debug("Removing node",s),e.removeNode(s)})},ER=(t,e)=>{const n=e.children(t);let r=[...n];for(const i of n)TR[i]=t,r=[...r,...ER(i,e)];return r},Kp=(t,e)=>{V.trace("Searching",t);const n=e.children(t);if(V.trace("Searching children of id ",t,n),n.length<1)return V.trace("This is a valid node",t),t;for(const r of n){const i=Kp(r,e);if(i)return V.trace("Found replacement for",t," => ",i),i}},ig=t=>!Jt[t]||!Jt[t].externalConnections?t:Jt[t]?Jt[t].id:t,XUe=(t,e)=>{if(!t||e>10){V.debug("Opting out, no graph ");return}else V.debug("Opting in, graph ");t.nodes().forEach(function(n){t.children(n).length>0&&(V.warn("Cluster identified",n," Replacement id in edges: ",Kp(n,t)),Wo[n]=ER(n,t),Jt[n]={id:Kp(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const r=t.children(n),i=t.edges();r.length>0?(V.debug("Cluster identified",n,Wo),i.forEach(s=>{if(s.v!==n&&s.w!==n){const o=sb(s.v,n),a=sb(s.w,n);o^a&&(V.warn("Edge: ",s," leaves cluster ",n),V.warn("Decendants of XXX ",n,": ",Wo[n]),Jt[n].externalConnections=!0)}})):V.debug("Not a cluster ",n,Wo)}),t.edges().forEach(function(n){const r=t.edge(n);V.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),V.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let i=n.v,s=n.w;if(V.warn("Fix XXX",Jt,"ids:",n.v,n.w,"Translating: ",Jt[n.v]," --- ",Jt[n.w]),Jt[n.v]&&Jt[n.w]&&Jt[n.v]===Jt[n.w]){V.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),V.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=ig(n.v),s=ig(n.w),t.removeEdge(n.v,n.w,n.name);const o=n.w+"---"+n.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:r.label,padding:0,shape:"labelRect",style:""});const a=JSON.parse(JSON.stringify(r)),l=JSON.parse(JSON.stringify(r));a.label="",a.arrowTypeEnd="none",l.label="",a.fromCluster=n.v,l.toCluster=n.v,t.setEdge(i,o,a,n.name+"-cyclic-special"),t.setEdge(o,s,l,n.name+"-cyclic-special")}else(Jt[n.v]||Jt[n.w])&&(V.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=ig(n.v),s=ig(n.w),t.removeEdge(n.v,n.w,n.name),i!==n.v&&(r.fromCluster=n.v),s!==n.w&&(r.toCluster=n.w),V.warn("Fix Replacing with XXX",i,s,n.name),t.setEdge(i,s,r,n.name))}),V.warn("Adjusted Graph",Dl(t)),AR(t,0),V.trace(Jt)},AR=(t,e)=>{if(V.warn("extractor - ",e,Dl(t),t.children("D")),e>10){V.error("Bailing out");return}let n=t.nodes(),r=!1;for(const i of n){const s=t.children(i);r=r||s.length>0}if(!r){V.debug("Done, no node has children",t.nodes());return}V.debug("Nodes = ",n,e);for(const i of n)if(V.debug("Extracting node",i,Jt,Jt[i]&&!Jt[i].externalConnections,!t.parent(i),t.node(i),t.children("D")," Depth ",e),!Jt[i])V.debug("Not a cluster",i,e);else if(!Jt[i].externalConnections&&t.children(i)&&t.children(i).length>0){V.warn("Cluster without external connections, without a parent and with children",i,e);let o=t.graph().rankdir==="TB"?"LR":"TB";Jt[i]&&Jt[i].clusterData&&Jt[i].clusterData.dir&&(o=Jt[i].clusterData.dir,V.warn("Fixing dir",Jt[i].clusterData.dir,o));const a=new Sr({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});V.warn("Old graph before copy",Dl(t)),DR(i,t,a,i),t.setNode(i,{clusterNode:!0,id:i,clusterData:Jt[i].clusterData,labelText:Jt[i].labelText,graph:a}),V.warn("New graph after copy node: (",i,")",Dl(a)),V.debug("Old graph after copy",Dl(t))}else V.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Jt[i].externalConnections," no parent: ",!t.parent(i)," children ",t.children(i)&&t.children(i).length>0,t.children("D"),e),V.debug(Jt);n=t.nodes(),V.warn("New list of nodes",n);for(const i of n){const s=t.node(i);V.warn(" Now next level",i,s),s.clusterNode&&AR(s.graph,e+1)}},MR=(t,e)=>{if(e.length===0)return[];let n=Object.assign(e);return e.forEach(r=>{const i=t.children(r),s=MR(t,i);n=[...n,...s]}),n},YUe=t=>MR(t,t.children());function UUe(t,e){return t.intersect(e)}function PR(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),u=Math.abs(e*n*o/l);r.x<i&&(u=-u);var h=Math.abs(e*n*a/l);return r.y<s&&(h=-h),{x:i+u,y:s+h}}function jUe(t,e,n){return PR(t,e,e,n)}function HUe(t,e,n,r){var i,s,o,a,l,u,h,d,f,p,m,g,y,b,O;if(i=e.y-t.y,o=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+o*n.y+l,p=i*r.x+o*r.y+l,!(f!==0&&p!==0&&VD(f,p))&&(s=r.y-n.y,a=n.x-r.x,u=r.x*n.y-n.x*r.y,h=s*t.x+a*t.y+u,d=s*e.x+a*e.y+u,!(h!==0&&d!==0&&VD(h,d))&&(m=i*a-s*o,m!==0)))return g=Math.abs(m/2),y=o*u-a*l,b=y<0?(y-g)/m:(y+g)/m,y=s*l-i*u,O=y<0?(y-g)/m:(y+g)/m,{x:b,y:O}}function VD(t,e){return t*e>0}function ZUe(t,e,n){var r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(m){o=Math.min(o,m.x),a=Math.min(a,m.y)}):(o=Math.min(o,e.x),a=Math.min(a,e.y));for(var l=r-t.width/2-o,u=i-t.height/2-a,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=HUe(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(m,g){var y=m.x-n.x,b=m.y-n.y,O=Math.sqrt(y*y+b*b),w=g.x-n.x,D=g.y-n.y,C=Math.sqrt(w*w+D*D);return O<C?-1:O===C?0:1}),s[0]):t}const GUe=(t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,u=a):(i<0&&(o=-o),l=o,u=i===0?0:o*s/i),{x:n+l,y:r+u}},K1=GUe,tr={node:UUe,circle:jUe,ellipse:PR,polygon:ZUe,rect:K1},KUe=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Mi(t,e,"node "+e.classes,!0);V.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),hr(e,s),e.intersect=function(o){return tr.rect(e,o)},n},JUe=KUe,WD=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=i+s,a=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];V.info("Question main (Circle)");const l=Jl(n,o,o,a);return l.attr("style",e.style),hr(e,l),e.intersect=function(u){return V.warn("Intersect called"),tr.polygon(e,a,u)},n},eje=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=28,i=[{x:0,y:r/2},{x:r/2,y:0},{x:0,y:-r/2},{x:-r/2,y:0}];return n.insert("polygon",":first-child").attr("points",i.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(o){return tr.circle(e,14,o)},n},tje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=4,s=r.height+e.padding,o=s/i,a=r.width+2*o+e.padding,l=[{x:o,y:0},{x:a-o,y:0},{x:a,y:-s/2},{x:a-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],u=Jl(n,a,s,l);return u.attr("style",e.style),hr(e,u),e.intersect=function(h){return tr.polygon(e,l,h)},n},nje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return Jl(n,i,s,o).attr("style",e.style),e.width=i+s,e.height=s,e.intersect=function(l){return tr.polygon(e,o,l)},n},rje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},ije=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},sje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},oje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},aje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},lje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=i/2,o=s/(2.5+i/50),a=r.height+o+e.padding,l="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+a+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-a,u=n.attr("label-offset-y",o).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(a/2+o)+")");return hr(e,u),e.intersect=function(h){const d=tr.rect(e,h),f=d.x-e.x;if(s!=0&&(Math.abs(f)<e.width/2||Math.abs(f)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-o)){let p=o*o*(1-f*f/(s*s));p!=0&&(p=Math.sqrt(p)),p=o-p,h.y-e.y>0&&(p=-p),d.y+=p}return d},n},cje=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Mi(t,e,"node "+e.classes,!0);V.trace("Classes = ",e.classes);const s=n.insert("rect",":first-child"),o=r.width+e.padding,a=r.height+e.padding;if(s.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",o).attr("height",a),e.props){const l=new Set(Object.keys(e.props));e.props.borders&&(BR(s,e.props.borders,o,a),l.delete("borders")),l.forEach(u=>{V.warn(`Unknown node property ${u}`)})}return hr(e,s),e.intersect=function(l){return tr.rect(e,l)},n},uje=(t,e)=>{const{shapeSvg:n}=Mi(t,e,"label",!0);V.trace("Classes = ",e.classes);const r=n.insert("rect",":first-child"),i=0,s=0;if(r.attr("width",i).attr("height",s),n.attr("class","label edgeLabel"),e.props){const o=new Set(Object.keys(e.props));e.props.borders&&(BR(r,e.props.borders,i,s),o.delete("borders")),o.forEach(a=>{V.warn(`Unknown node property ${a}`)})}return hr(e,r),e.intersect=function(o){return tr.rect(e,o)},n};function BR(t,e,n,r){const i=[],s=a=>{i.push(a,0)},o=a=>{i.push(0,a)};e.includes("t")?(V.debug("add top border"),s(n)):o(n),e.includes("r")?(V.debug("add right border"),s(r)):o(r),e.includes("b")?(V.debug("add bottom border"),s(n)):o(n),e.includes("l")?(V.debug("add left border"),s(r)):o(r),t.attr("stroke-dasharray",i.join(" "))}const hje=(t,e)=>{let n;e.classes?n="node "+e.classes:n="node default";const r=t.insert("g").attr("class",n).attr("id",e.domId||e.id),i=r.insert("rect",":first-child"),s=r.insert("line"),o=r.insert("g").attr("class","label"),a=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof a=="object"?l=a[0]:l=a,V.info("Label text abc79",l,a,typeof a=="object");const u=o.node().appendChild(as(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(Hr(ie().flowchart.htmlLabels)){const g=u.children[0],y=Le(u);h=g.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}V.info("Text 2",a);const d=a.slice(1,a.length);let f=u.getBBox();const p=o.node().appendChild(as(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(Hr(ie().flowchart.htmlLabels)){const g=p.children[0],y=Le(p);h=g.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}const m=e.padding/2;return Le(p).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+m+5)+")"),Le(u).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", "+0+")"),h=o.node().getBBox(),o.attr("transform","translate("+-h.width/2+", "+(-h.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-m).attr("y",-h.height/2-m).attr("width",h.width+e.padding).attr("height",h.height+e.padding),s.attr("class","divider").attr("x1",-h.width/2-m).attr("x2",h.width/2+m).attr("y1",-h.height/2-m+f.height+m).attr("y2",-h.height/2-m+f.height+m),hr(e,i),e.intersect=function(g){return tr.rect(e,g)},r},dje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.height+e.padding,s=r.width+i/4+e.padding,o=n.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return hr(e,o),e.intersect=function(a){return tr.rect(e,a)},n},fje=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Mi(t,e,void 0,!0),s=n.insert("circle",":first-child");return s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),V.info("Circle main"),hr(e,s),e.intersect=function(o){return V.info("Circle intersect",e,r.width/2+i,o),tr.circle(e,r.width/2+i,o)},n},pje=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Mi(t,e,void 0,!0),s=5,o=n.insert("g",":first-child"),a=o.insert("circle"),l=o.insert("circle");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i+s).attr("width",r.width+e.padding+s*2).attr("height",r.height+e.padding+s*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),V.info("DoubleCircle main"),hr(e,a),e.intersect=function(u){return V.info("DoubleCircle intersect",e,r.width/2+i+s,u),tr.circle(e,r.width/2+i+s,u)},n},mje=(t,e)=>{const{shapeSvg:n,bbox:r}=Mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],a=Jl(n,i,s,o);return a.attr("style",e.style),hr(e,a),e.intersect=function(l){return tr.polygon(e,o,l)},n},gje=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),hr(e,r),e.intersect=function(i){return tr.circle(e,7,i)},n},qD=(t,e,n)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,s=10;n==="LR"&&(i=10,s=70);const o=r.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return hr(e,o),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(a){return tr.rect(e,a)},r},yje=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),hr(e,i),e.intersect=function(s){return tr.circle(e,7,s)},n},bje=(t,e)=>{const n=e.padding/2,r=4,i=8;let s;e.classes?s="node "+e.classes:s="node default";const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),a=o.insert("rect",":first-child"),l=o.insert("line"),u=o.insert("line");let h=0,d=r;const f=o.insert("g").attr("class","label");let p=0;const m=e.classData.annotations&&e.classData.annotations[0],g=e.classData.annotations[0]?"\xAB"+e.classData.annotations[0]+"\xBB":"",y=f.node().appendChild(as(g,e.labelStyle,!0,!0));let b=y.getBBox();if(Hr(ie().flowchart.htmlLabels)){const P=y.children[0],M=Le(y);b=P.getBoundingClientRect(),M.attr("width",b.width),M.attr("height",b.height)}e.classData.annotations[0]&&(d+=b.height+r,h+=b.width);let O=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(ie().flowchart.htmlLabels?O+="&lt;"+e.classData.type+"&gt;":O+="<"+e.classData.type+">");const w=f.node().appendChild(as(O,e.labelStyle,!0,!0));Le(w).attr("class","classTitle");let D=w.getBBox();if(Hr(ie().flowchart.htmlLabels)){const P=w.children[0],M=Le(w);D=P.getBoundingClientRect(),M.attr("width",D.width),M.attr("height",D.height)}d+=D.height+r,D.width>h&&(h=D.width);const C=[];e.classData.members.forEach(P=>{const M=ib(P);let $=M.displayText;ie().flowchart.htmlLabels&&($=$.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const A=f.node().appendChild(as($,M.cssStyle?M.cssStyle:e.labelStyle,!0,!0));let _=A.getBBox();if(Hr(ie().flowchart.htmlLabels)){const L=A.children[0],v=Le(A);_=L.getBoundingClientRect(),v.attr("width",_.width),v.attr("height",_.height)}_.width>h&&(h=_.width),d+=_.height+r,C.push(A)}),d+=i;const T=[];if(e.classData.methods.forEach(P=>{const M=ib(P);let $=M.displayText;ie().flowchart.htmlLabels&&($=$.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const A=f.node().appendChild(as($,M.cssStyle?M.cssStyle:e.labelStyle,!0,!0));let _=A.getBBox();if(Hr(ie().flowchart.htmlLabels)){const L=A.children[0],v=Le(A);_=L.getBoundingClientRect(),v.attr("width",_.width),v.attr("height",_.height)}_.width>h&&(h=_.width),d+=_.height+r,T.push(A)}),d+=i,m){let P=(h-b.width)/2;Le(y).attr("transform","translate( "+(-1*h/2+P)+", "+-1*d/2+")"),p=b.height+r}let E=(h-D.width)/2;return Le(w).attr("transform","translate( "+(-1*h/2+E)+", "+(-1*d/2+p)+")"),p+=D.height+r,l.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,C.forEach(P=>{Le(P).attr("transform","translate( "+-h/2+", "+(-1*d/2+p+i/2)+")"),p+=D.height+r}),p+=i,u.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,T.forEach(P=>{Le(P).attr("transform","translate( "+-h/2+", "+(-1*d/2+p)+")"),p+=D.height+r}),a.attr("class","outer title-state").attr("x",-h/2-n).attr("y",-(d/2)-n).attr("width",h+e.padding).attr("height",d+e.padding),hr(e,a),e.intersect=function(P){return tr.rect(e,P)},o},XD={rhombus:WD,question:WD,rect:cje,labelRect:uje,rectWithTitle:hje,choice:eje,circle:fje,doublecircle:pje,stadium:dje,hexagon:tje,rect_left_inv_arrow:nje,lean_right:rje,lean_left:ije,trapezoid:sje,inv_trapezoid:oje,rect_right_inv_arrow:aje,cylinder:lje,start:gje,end:yje,note:JUe,subroutine:mje,fork:qD,join:qD,class_box:bje};let wd={};const Oje=(t,e,n)=>{let r,i;if(e.link){let s;ie().securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s),i=XD[e.shape](r,e,n)}else i=XD[e.shape](t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),wd[e.id]=r,e.haveCallback&&wd[e.id].attr("class",wd[e.id].attr("class")+" clickable"),r},vje=(t,e)=>{wd[e.id]=t},xje=()=>{wd={}},YD=t=>{const e=wd[t.id];V.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},kje=(t,e)=>{V.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),s=i.node().appendChild(as(e.labelText,e.labelStyle,void 0,!0));let o=s.getBBox();if(Hr(ie().flowchart.htmlLabels)){const d=s.children[0],f=Le(s);o=d.getBoundingClientRect(),f.attr("width",o.width),f.attr("height",o.height)}const a=0*e.padding,l=a/2,u=e.width<=o.width+a?o.width+a:e.width;e.width<=o.width+a?e.diff=(o.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,V.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-u/2).attr("y",e.y-e.height/2-l).attr("width",u).attr("height",e.height+a),i.attr("transform","translate("+(e.x-o.width/2)+", "+(e.y-e.height/2)+")");const h=r.node().getBBox();return e.width=h.width,e.height=h.height,e.intersect=function(d){return K1(e,d)},n},wje=(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(a){return K1(e,a)},n},_je=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),s=n.append("rect"),o=i.node().appendChild(as(e.labelText,e.labelStyle,void 0,!0));let a=o.getBBox();if(Hr(ie().flowchart.htmlLabels)){const f=o.children[0],p=Le(o);a=f.getBoundingClientRect(),p.attr("width",a.width),p.attr("height",a.height)}a=o.getBBox();const l=0*e.padding,u=l/2,h=e.width<=a.width+e.padding?a.width+e.padding:e.width;e.width<=a.width+e.padding?e.diff=(a.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u).attr("width",h+l).attr("height",e.height+l),s.attr("class","inner").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u+a.height-1).attr("width",h+l).attr("height",e.height+l-a.height-3),i.attr("transform","translate("+(e.x-a.width/2)+", "+(e.y-e.height/2-e.padding/3+(Hr(ie().flowchart.htmlLabels)?5:3))+")");const d=r.node().getBBox();return e.height=d.height,e.intersect=function(f){return K1(e,f)},n},Sje=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.diff=-e.padding/2,e.intersect=function(a){return K1(e,a)},n},Cje={rect:kje,roundedWithTitle:_je,noteGroup:wje,divider:Sje};let $R={};const Tje=(t,e)=>{V.trace("Inserting cluster");const n=e.shape||"rect";$R[e.id]=Cje[n](t,e)},Dje=()=>{$R={}};let ob={},ri={};const Eje=()=>{ob={},ri={}},Aje=(t,e)=>{const n=as(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);let s=n.getBBox();if(Hr(ie().flowchart.htmlLabels)){const a=n.children[0],l=Le(n);s=a.getBoundingClientRect(),l.attr("width",s.width),l.attr("height",s.height)}i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),ob[e.id]=r,e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const a=as(e.startLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),ri[e.id]||(ri[e.id]={}),ri[e.id].startLeft=l,sg(o,e.startLabelLeft)}if(e.startLabelRight){const a=as(e.startLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=l.node().appendChild(a),u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),ri[e.id]||(ri[e.id]={}),ri[e.id].startRight=l,sg(o,e.startLabelRight)}if(e.endLabelLeft){const a=as(e.endLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(a),ri[e.id]||(ri[e.id]={}),ri[e.id].endLeft=l,sg(o,e.endLabelLeft)}if(e.endLabelRight){const a=as(e.endLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(a),ri[e.id]||(ri[e.id]={}),ri[e.id].endRight=l,sg(o,e.endLabelRight)}return n};function sg(t,e){ie().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const Mje=(t,e)=>{V.info("Moving label abc78 ",t.id,t.label,ob[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const r=ob[t.id];let i=t.x,s=t.y;if(n){const o=At.calcLabelPosition(n);V.info("Moving label "+t.label+" from (",i,",",s,") to (",o.x,",",o.y,") abc78"),e.updatedPath&&(i=o.x,s=o.y)}r.attr("transform","translate("+i+", "+s+")")}if(t.startLabelLeft){const r=ri[t.id].startLeft;let i=t.x,s=t.y;if(n){const o=At.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.startLabelRight){const r=ri[t.id].startRight;let i=t.x,s=t.y;if(n){const o=At.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.endLabelLeft){const r=ri[t.id].endLeft;let i=t.x,s=t.y;if(n){const o=At.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.endLabelRight){const r=ri[t.id].endRight;let i=t.x,s=t.y;if(n){const o=At.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}},Pje=(t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,a=t.height/2;return i>=o||s>=a},Bje=(t,e,n)=>{V.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let a=n.x<e.x?o-s:o+s;const l=t.height/2,u=Math.abs(e.y-n.y),h=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*l){let d=n.y<e.y?e.y-l-i:i-l-e.y;a=h*d/u;const f={x:n.x<e.x?n.x+a:n.x-h+a,y:n.y<e.y?n.y+u-d:n.y-u+d};return a===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),u===0&&(f.y=e.y),V.warn(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${a}`,f),f}else{n.x<e.x?a=e.x-o-r:a=r-o-e.x;let d=u*a/h,f=n.x<e.x?n.x+h-a:n.x-h+a,p=n.y<e.y?n.y+d:n.y-d;return V.warn(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${a}`,{_x:f,_y:p}),a===0&&(f=e.x,p=e.y),h===0&&(f=e.x),u===0&&(p=e.y),{x:f,y:p}}},UD=(t,e)=>{V.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(V.info("abc88 checking point",s,e),!Pje(e,s)&&!i){const o=Bje(e,r,s);V.warn("abc88 inside",s,r,o),V.warn("abc88 intersection",o);let a=!1;n.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),n.some(l=>l.x===o.x&&l.y===o.y)?V.warn("abc88 no intersect",o,n):n.push(o),i=!0}else V.warn("abc88 outside",s,r),r=s,i||n.push(s)}),V.warn("abc88 returning points",n),n},$je=function(t,e,n,r,i,s){let o=n.points,a=!1;const l=s.node(e.v);var u=s.node(e.w);V.info("abc88 InsertEdge: ",n),u.intersect&&l.intersect&&(o=o.slice(1,n.points.length-1),o.unshift(l.intersect(o[0])),V.info("Last point",o[o.length-1],u,u.intersect(o[o.length-1])),o.push(u.intersect(o[o.length-1]))),n.toCluster&&(V.info("to cluster abc88",r[n.toCluster]),o=UD(n.points,r[n.toCluster].node),a=!0),n.fromCluster&&(V.info("from cluster abc88",r[n.fromCluster]),o=UD(o.reverse(),r[n.fromCluster].node).reverse(),a=!0);const h=o.filter(b=>!Number.isNaN(b.y));let d;i==="graph"||i==="flowchart"?d=n.curve||Zd:d=Zd;const f=T0().x(function(b){return b.x}).y(function(b){return b.y}).curve(d);let p;switch(n.thickness){case"normal":p="edge-thickness-normal";break;case"thick":p="edge-thickness-thick";break;default:p=""}switch(n.pattern){case"solid":p+=" edge-pattern-solid";break;case"dotted":p+=" edge-pattern-dotted";break;case"dashed":p+=" edge-pattern-dashed";break}const m=t.append("path").attr("d",f(h)).attr("id",n.id).attr("class"," "+p+(n.classes?" "+n.classes:"")).attr("style",n.style);let g="";switch((ie().flowchart.arrowMarkerAbsolute||ie().state.arrowMarkerAbsolute)&&(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,g=g.replace(/\(/g,"\\("),g=g.replace(/\)/g,"\\)")),V.info("arrowTypeStart",n.arrowTypeStart),V.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":m.attr("marker-start","url("+g+"#"+i+"-crossStart)");break;case"arrow_point":m.attr("marker-start","url("+g+"#"+i+"-pointStart)");break;case"arrow_barb":m.attr("marker-start","url("+g+"#"+i+"-barbStart)");break;case"arrow_circle":m.attr("marker-start","url("+g+"#"+i+"-circleStart)");break;case"aggregation":m.attr("marker-start","url("+g+"#"+i+"-aggregationStart)");break;case"extension":m.attr("marker-start","url("+g+"#"+i+"-extensionStart)");break;case"composition":m.attr("marker-start","url("+g+"#"+i+"-compositionStart)");break;case"dependency":m.attr("marker-start","url("+g+"#"+i+"-dependencyStart)");break;case"lollipop":m.attr("marker-start","url("+g+"#"+i+"-lollipopStart)");break}switch(n.arrowTypeEnd){case"arrow_cross":m.attr("marker-end","url("+g+"#"+i+"-crossEnd)");break;case"arrow_point":m.attr("marker-end","url("+g+"#"+i+"-pointEnd)");break;case"arrow_barb":m.attr("marker-end","url("+g+"#"+i+"-barbEnd)");break;case"arrow_circle":m.attr("marker-end","url("+g+"#"+i+"-circleEnd)");break;case"aggregation":m.attr("marker-end","url("+g+"#"+i+"-aggregationEnd)");break;case"extension":m.attr("marker-end","url("+g+"#"+i+"-extensionEnd)");break;case"composition":m.attr("marker-end","url("+g+"#"+i+"-compositionEnd)");break;case"dependency":m.attr("marker-end","url("+g+"#"+i+"-dependencyEnd)");break;case"lollipop":m.attr("marker-end","url("+g+"#"+i+"-lollipopEnd)");break}let y={};return a&&(y.updatedPath=o),y.originalPath=n.points,y},LR=(t,e,n,r)=>{V.info("Graph in recursive render: XXX",Dl(e),r);const i=e.graph().rankdir;V.trace("Dir in recursive render - dir:",i);const s=t.insert("g").attr("class","root");e.nodes()?V.info("Recursive render XXX",e.nodes()):V.info("No nodes found for",e),e.edges().length>0&&V.trace("Recursive edges",e.edge(e.edges()[0]));const o=s.insert("g").attr("class","clusters"),a=s.insert("g").attr("class","edgePaths"),l=s.insert("g").attr("class","edgeLabels"),u=s.insert("g").attr("class","nodes");e.nodes().forEach(function(d){const f=e.node(d);if(r!==void 0){const p=JSON.parse(JSON.stringify(r.clusterData));V.info("Setting data for cluster XXX (",d,") ",p,r),e.setNode(r.id,p),e.parent(d)||(V.trace("Setting parent",d,r.id),e.setParent(d,r.id,p))}if(V.info("(Insert) Node XXX"+d+": "+JSON.stringify(e.node(d))),f&&f.clusterNode){V.info("Cluster identified",d,f.width,e.node(d));const p=LR(u,f.graph,n,e.node(d)),m=p.elem;hr(f,m),f.diff=p.diff||0,V.info("Node bounds (abc123)",d,f,f.width,f.x,f.y),vje(m,f),V.warn("Recursive render complete ",m,f)}else e.children(d).length>0?(V.info("Cluster - the non recursive path XXX",d,f.id,f,e),V.info(Kp(f.id,e)),Jt[f.id]={id:Kp(f.id,e),node:f}):(V.info("Node - the non recursive path",d,f.id,f),Oje(u,e.node(d),i))}),e.edges().forEach(function(d){const f=e.edge(d.v,d.w,d.name);V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d)),V.info("Edge "+d.v+" -> "+d.w+": ",d," ",JSON.stringify(e.edge(d))),V.info("Fix",Jt,"ids:",d.v,d.w,"Translateing: ",Jt[d.v],Jt[d.w]),Aje(l,f)}),e.edges().forEach(function(d){V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d))}),V.info("#############################################"),V.info("###                Layout                 ###"),V.info("#############################################"),V.info(e),E0(e),V.info("Graph after layout:",Dl(e));let h=0;return YUe(e).forEach(function(d){const f=e.node(d);V.info("Position "+d+": "+JSON.stringify(e.node(d))),V.info("Position "+d+": ("+f.x,","+f.y,") width: ",f.width," height: ",f.height),f&&f.clusterNode?YD(f):e.children(d).length>0?(Tje(o,f),Jt[f.id].node=f):YD(f)}),e.edges().forEach(function(d){const f=e.edge(d);V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(f),f);const p=$je(a,d,f,Jt,n,e);Mje(f,p)}),e.nodes().forEach(function(d){const f=e.node(d);V.info(d,f.type,f.diff),f.type==="group"&&(h=f.diff)}),{elem:s,diff:h}},i7=(t,e,n,r,i)=>{RUe(t,n,r,i),xje(),Eje(),Dje(),WUe(),V.warn("Graph at first:",Dl(e)),XUe(e),V.warn("Graph after:",Dl(e)),LR(t,e,r)},FR=t=>Pt.sanitizeText(t,ie());let NR={dividerMargin:10,padding:5,textHeight:10};const Lje=function(t,e,n,r){const i=Object.keys(t);V.info("keys:",i),V.info(t),i.forEach(function(s){const o=t[s];let a="";o.cssClasses.length>0&&(a=a+" "+o.cssClasses.join(" "));const l={labelStyle:""};let u=o.text!==void 0?o.text:o.id,h=0,d="";switch(o.type){case"class":d="class_box";break;default:d="class_box"}e.setNode(o.id,{labelStyle:l.labelStyle,shape:d,labelText:FR(u),classData:o,rx:h,ry:h,class:a,style:l.style,id:o.id,domId:o.domId,tooltip:r.db.getTooltip(o.id)||"",haveCallback:o.haveCallback,link:o.link,width:o.type==="group"?500:void 0,type:o.type,padding:ie().flowchart.padding}),V.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,class:a,style:l.style,id:o.id,width:o.type==="group"?500:void 0,type:o.type,padding:ie().flowchart.padding})})},Fje=function(t,e,n,r){V.info(t),t.forEach(function(i,s){const o=i;let a="";const l={labelStyle:"",style:""};let u=o.text,h=0,d="note";if(e.setNode(o.id,{labelStyle:l.labelStyle,shape:d,labelText:FR(u),noteData:o,rx:h,ry:h,class:a,style:l.style,id:o.id,domId:o.id,tooltip:"",type:"note",padding:ie().flowchart.padding}),V.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,style:l.style,id:o.id,type:"note",padding:ie().flowchart.padding}),!o.class||!(o.class in r))return;const f=n+s,p={};p.classes="relation",p.pattern="dotted",p.id=`edgeNote${f}`,p.arrowhead="none",V.info(`Note edge: ${JSON.stringify(p)}, ${JSON.stringify(o)}`),p.startLabelRight="",p.endLabelLeft="",p.arrowTypeStart="none",p.arrowTypeEnd="none";let m="fill:none",g="";p.style=m,p.labelStyle=g,p.curve=Yo(NR.curve,$s),e.setEdge(o.id,o.class,p,f)})},Nje=function(t,e){const n=ie().flowchart;let r=0;t.forEach(function(i){r++;const s={};s.classes="relation",s.pattern=i.relation.lineType==1?"dashed":"solid",s.id="id"+r,i.type==="arrow_open"?s.arrowhead="none":s.arrowhead="normal",V.info(s,i),s.startLabelRight=i.relationTitle1==="none"?"":i.relationTitle1,s.endLabelLeft=i.relationTitle2==="none"?"":i.relationTitle2,s.arrowTypeStart=jD(i.relation.type1),s.arrowTypeEnd=jD(i.relation.type2);let o="",a="";if(i.style!==void 0){const l=nu(i.style);o=l.style,a=l.labelStyle}else o="fill:none";s.style=o,s.labelStyle=a,i.interpolate!==void 0?s.curve=Yo(i.interpolate,$s):t.defaultInterpolate!==void 0?s.curve=Yo(t.defaultInterpolate,$s):s.curve=Yo(n.curve,$s),i.text=i.title,i.text===void 0?i.style!==void 0&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",ie().flowchart.htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+i.text+"</span>"):(s.labelType="text",s.label=i.text.replace(Pt.lineBreakRegex,`
`),i.style===void 0&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,s,r)})},Ije=function(t){Object.keys(t).forEach(function(n){NR[n]=t[n]})},Rje=function(t,e,n,r){V.info("Drawing class - ",e);const i=ie().flowchart,s=ie().securityLevel;V.info("config:",i);const o=i.nodeSpacing||50,a=i.rankSpacing||50,l=new Sr({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:o,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),u=r.db.getClasses(),h=r.db.getRelations(),d=r.db.getNotes();V.info(h),Lje(u,l,e,r),Nje(h,l),Fje(d,l,h.length+1,u);let f;s==="sandbox"&&(f=Le("#i"+e));const p=Le(s==="sandbox"?f.nodes()[0].contentDocument.body:"body"),m=p.select(`[id="${e}"]`),g=p.select("#"+e+" g");if(i7(g,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),At.insertTitle(m,"classTitleText",i.titleTopMargin,r.db.getDiagramTitle()),j4(l,m,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){const y=s==="sandbox"?f.nodes()[0].contentDocument:document,b=y.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const O of b){const w=O.getBBox(),D=y.createElementNS("http://www.w3.org/2000/svg","rect");D.setAttribute("rx",0),D.setAttribute("ry",0),D.setAttribute("width",w.width),D.setAttribute("height",w.height),O.insertBefore(D,O.firstChild)}}};function jD(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const Qje={setConf:Ije,draw:Rje};var s6=function(){var t=function(A,_,L,v){for(L=L||{},v=A.length;v--;L[A[v]]=_);return L},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,31,51],i=[1,17],s=[1,18],o=[1,19],a=[1,20],l=[1,21],u=[1,22],h=[1,25],d=[1,30],f=[1,31],p=[1,32],m=[1,33],g=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],y=[1,45],b=[30,31,48,49],O=[4,6,9,11,23,25,27,29,30,31,51],w=[44,45,46,47],D=[22,37],C=[1,65],T=[1,64],E=[22,37,39,41],P={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(_,L,v,q,x,X,de){var H=X.length-1;switch(x){case 1:break;case 3:this.$=[];break;case 4:X[H-1].push(X[H]),this.$=X[H-1];break;case 5:case 6:this.$=X[H];break;case 7:case 8:this.$=[];break;case 12:q.addEntity(X[H-4]),q.addEntity(X[H-2]),q.addRelationship(X[H-4],X[H],X[H-2],X[H-3]);break;case 13:q.addEntity(X[H-3]),q.addAttributes(X[H-3],X[H-1]);break;case 14:q.addEntity(X[H-2]);break;case 15:q.addEntity(X[H]);break;case 16:case 17:this.$=X[H].trim(),q.setAccTitle(this.$);break;case 18:case 19:this.$=X[H].trim(),q.setAccDescription(this.$);break;case 20:case 43:this.$=X[H];break;case 21:case 41:case 42:this.$=X[H].replace(/"/g,"");break;case 22:case 30:this.$=[X[H]];break;case 23:X[H].push(X[H-1]),this.$=X[H];break;case 24:this.$={attributeType:X[H-1],attributeName:X[H]};break;case 25:this.$={attributeType:X[H-2],attributeName:X[H-1],attributeKeyTypeList:X[H]};break;case 26:this.$={attributeType:X[H-2],attributeName:X[H-1],attributeComment:X[H]};break;case 27:this.$={attributeType:X[H-3],attributeName:X[H-2],attributeKeyTypeList:X[H-1],attributeComment:X[H]};break;case 28:case 29:case 32:this.$=X[H];break;case 31:X[H-2].push(X[H]),this.$=X[H-2];break;case 33:this.$=X[H].replace(/"/g,"");break;case 34:this.$={cardA:X[H],relType:X[H-1],cardB:X[H-2]};break;case 35:this.$=q.Cardinality.ZERO_OR_ONE;break;case 36:this.$=q.Cardinality.ZERO_OR_MORE;break;case 37:this.$=q.Cardinality.ONE_OR_MORE;break;case 38:this.$=q.Cardinality.ONLY_ONE;break;case 39:this.$=q.Identification.NON_IDENTIFYING;break;case 40:this.$=q.Identification.IDENTIFYING;break;case 44:q.parseDirective("%%{","open_directive");break;case 45:q.parseDirective(X[H],"type_directive");break;case 46:X[H]=X[H].trim().replace(/'/g,'"'),q.parseDirective(X[H],"arg_directive");break;case 47:q.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,51:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,51:n},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:s,27:o,29:a,30:l,31:u,51:n},{1:[2,2]},{14:23,15:[1,24],54:h},t([15,54],[2,45]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:s,27:o,29:a,30:l,31:u,51:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,42:29,20:[1,28],44:d,45:f,46:p,47:m}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(g,[2,20]),t(g,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},t(r,[2,5]),{17:40,30:l,31:u},{21:41,22:[1,42],32:43,33:44,37:y},{43:46,48:[1,47],49:[1,48]},t(b,[2,35]),t(b,[2,36]),t(b,[2,37]),t(b,[2,38]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(O,[2,9]),{14:49,54:h},{54:[2,46]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:y},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:d,45:f,46:p,47:m},t(w,[2,39]),t(w,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},t(r,[2,13]),{22:[2,23]},t(D,[2,24],{35:61,36:62,38:63,40:C,41:T}),t([22,37,40,41],[2,29]),t([30,31],[2,34]),t(O,[2,10]),t(r,[2,12]),t(r,[2,41]),t(r,[2,42]),t(r,[2,43]),t(D,[2,25],{36:66,39:[1,67],41:T}),t(D,[2,26]),t(E,[2,30]),t(D,[2,33]),t(E,[2,32]),t(D,[2,27]),{38:68,40:C},t(E,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(_,L){if(L.recoverable)this.trace(_);else{var v=new Error(_);throw v.hash=L,v}},parse:function(_){var L=this,v=[0],q=[],x=[null],X=[],de=this.table,H="",G=0,F=0,B=2,ae=1,be=X.slice.call(arguments,1),ye=Object.create(this.lexer),Z={yy:{}};for(var Qe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qe)&&(Z.yy[Qe]=this.yy[Qe]);ye.setInput(_,Z.yy),Z.yy.lexer=ye,Z.yy.parser=this,typeof ye.yylloc>"u"&&(ye.yylloc={});var ne=ye.yylloc;X.push(ne);var se=ye.options&&ye.options.ranges;typeof Z.yy.parseError=="function"?this.parseError=Z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ee(){var Se;return Se=q.pop()||ye.lex()||ae,typeof Se!="number"&&(Se instanceof Array&&(q=Se,Se=q.pop()),Se=L.symbols_[Se]||Se),Se}for(var J,z,W,te,Q={},me,I,ge,Y;;){if(z=v[v.length-1],this.defaultActions[z]?W=this.defaultActions[z]:((J===null||typeof J>"u")&&(J=ee()),W=de[z]&&de[z][J]),typeof W>"u"||!W.length||!W[0]){var $e="";Y=[];for(me in de[z])this.terminals_[me]&&me>B&&Y.push("'"+this.terminals_[me]+"'");ye.showPosition?$e="Parse error on line "+(G+1)+`:
`+ye.showPosition()+`
Expecting `+Y.join(", ")+", got '"+(this.terminals_[J]||J)+"'":$e="Parse error on line "+(G+1)+": Unexpected "+(J==ae?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError($e,{text:ye.match,token:this.terminals_[J]||J,line:ye.yylineno,loc:ne,expected:Y})}if(W[0]instanceof Array&&W.length>1)throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+J);switch(W[0]){case 1:v.push(J),x.push(ye.yytext),X.push(ye.yylloc),v.push(W[1]),J=null,F=ye.yyleng,H=ye.yytext,G=ye.yylineno,ne=ye.yylloc;break;case 2:if(I=this.productions_[W[1]][1],Q.$=x[x.length-I],Q._$={first_line:X[X.length-(I||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(I||1)].first_column,last_column:X[X.length-1].last_column},se&&(Q._$.range=[X[X.length-(I||1)].range[0],X[X.length-1].range[1]]),te=this.performAction.apply(Q,[H,F,G,Z.yy,W[1],x,X].concat(be)),typeof te<"u")return te;I&&(v=v.slice(0,-1*I*2),x=x.slice(0,-1*I),X=X.slice(0,-1*I)),v.push(this.productions_[W[1]][0]),x.push(Q.$),X.push(Q._$),ge=de[v[v.length-2]][v[v.length-1]],v.push(ge);break;case 3:return!0}}return!0}},M=function(){var A={EOF:1,parseError:function(L,v){if(this.yy.parser)this.yy.parser.parseError(L,v);else throw new Error(L)},setInput:function(_,L){return this.yy=L||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var L=_.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},unput:function(_){var L=_.length,v=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===q.length?this.yylloc.first_column:0)+q[q.length-v.length].length-v[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_){this.unput(this.match.slice(_))},pastInput:function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _=this.pastInput(),L=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+L+"^"},test_match:function(_,L){var v,q,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),q=_[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],v=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var X in x)this[X]=x[X];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,L,v,q;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),X=0;X<x.length;X++)if(v=this._input.match(this.rules[x[X]]),v&&(!L||v[0].length>L[0].length)){if(L=v,q=X,this.options.backtrack_lexer){if(_=this.test_match(v,x[X]),_!==!1)return _;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(_=this.test_match(L,x[q]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var L=this.next();return L||this.lex()},begin:function(L){this.conditionStack.push(L)},popState:function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},pushState:function(L){this.begin(L)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(L,v,q,x){switch(q){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 22:break;case 23:return 40;case 24:return 37;case 25:return 37;case 26:return 41;case 27:break;case 28:return this.popState(),22;case 29:return v.yytext[0];case 30:return 44;case 31:return 46;case 32:return 46;case 33:return 46;case 34:return 44;case 35:return 44;case 36:return 45;case 37:return 45;case 38:return 45;case 39:return 45;case 40:return 45;case 41:return 46;case 42:return 45;case 43:return 46;case 44:return 47;case 45:return 47;case 46:return 47;case 47:return 47;case 48:return 44;case 49:return 45;case 50:return 46;case 51:return 48;case 52:return 49;case 53:return 49;case 54:return 48;case 55:return 48;case 56:return 48;case 57:return 30;case 58:return v.yytext[0];case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};return A}();P.lexer=M;function $(){this.yy={}}return $.prototype=P,P.Parser=$,new $}();s6.parser=s6;const zje=s6,Vje=t=>t.match(/^\s*erDiagram/)!==null;let sp={},s7=[];const Wje={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},qje={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},Xje=function(t,e,n){Vn.parseDirective(this,t,e,n)},IR=function(t){return sp[t]===void 0&&(sp[t]={attributes:[]},V.info("Added new entity :",t)),sp[t]},Yje=()=>sp,Uje=function(t,e){let n=IR(t),r;for(r=e.length-1;r>=0;r--)n.attributes.push(e[r]),V.debug("Added attribute ",e[r].attributeName)},jje=function(t,e,n,r){let i={entityA:t,roleA:e,entityB:n,relSpec:r};s7.push(i),V.debug("Added new relationship :",i)},Hje=()=>s7,Zje=function(){sp={},s7=[],Qs()},Gje={Cardinality:Wje,Identification:qje,parseDirective:Xje,getConfig:()=>ie().er,addEntity:IR,addAttributes:Uje,getEntities:Yje,addRelationship:jje,getRelationships:Hje,clear:Zje,setAccTitle:Os,getAccTitle:zs,setAccDescription:Vs,getAccDescription:Ws,setDiagramTitle:ta,getDiagramTitle:na},dl={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},Kje=function(t,e){let n;t.append("defs").append("marker").attr("id",dl.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",dl.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",dl.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",dl.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",dl.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",dl.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",dl.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",dl.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},fl={ERMarkers:dl,insertMarkers:Kje},Jje=/[^\dA-Za-z](\W)*/g;let Ar={},Jp=new Map;const eHe=function(t){const e=Object.keys(t);for(const n of e)Ar[n]=t[n]},tHe=(t,e,n)=>{const r=Ar.entityPadding/3,i=Ar.entityPadding/3,s=Ar.fontSize*.85,o=e.node().getBBox(),a=[];let l=!1,u=!1,h=0,d=0,f=0,p=0,m=o.height+r*2,g=1;n.forEach(w=>{w.attributeKeyTypeList!==void 0&&w.attributeKeyTypeList.length>0&&(l=!0),w.attributeComment!==void 0&&(u=!0)}),n.forEach(w=>{const D=`${e.node().id}-attr-${g}`;let C=0;const T=Rc(w.attributeType),E=t.append("text").classed("er entityLabel",!0).attr("id",`${D}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ie().fontFamily).style("font-size",s+"px").text(T),P=t.append("text").classed("er entityLabel",!0).attr("id",`${D}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ie().fontFamily).style("font-size",s+"px").text(w.attributeName),M={};M.tn=E,M.nn=P;const $=E.node().getBBox(),A=P.node().getBBox();if(h=Math.max(h,$.width),d=Math.max(d,A.width),C=Math.max($.height,A.height),l){const _=w.attributeKeyTypeList!==void 0?w.attributeKeyTypeList.join(","):"",L=t.append("text").classed("er entityLabel",!0).attr("id",`${D}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ie().fontFamily).style("font-size",s+"px").text(_);M.kn=L;const v=L.node().getBBox();f=Math.max(f,v.width),C=Math.max(C,v.height)}if(u){const _=t.append("text").classed("er entityLabel",!0).attr("id",`${D}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ie().fontFamily).style("font-size",s+"px").text(w.attributeComment||"");M.cn=_;const L=_.node().getBBox();p=Math.max(p,L.width),C=Math.max(C,L.height)}M.height=C,a.push(M),m+=C+r*2,g+=1});let y=4;l&&(y+=2),u&&(y+=2);const b=h+d+f+p,O={width:Math.max(Ar.minEntityWidth,Math.max(o.width+Ar.entityPadding*2,b+i*y)),height:n.length>0?m:Math.max(Ar.minEntityHeight,o.height+Ar.entityPadding*2)};if(n.length>0){const w=Math.max(0,(O.width-b-i*y)/(y/2));e.attr("transform","translate("+O.width/2+","+(r+o.height/2)+")");let D=o.height+r*2,C="attributeBoxOdd";a.forEach(T=>{const E=D+r+T.height/2;T.tn.attr("transform","translate("+i+","+E+")");const P=t.insert("rect","#"+T.tn.node().id).classed(`er ${C}`,!0).attr("x",0).attr("y",D).attr("width",h+i*2+w).attr("height",T.height+r*2),M=parseFloat(P.attr("x"))+parseFloat(P.attr("width"));T.nn.attr("transform","translate("+(M+i)+","+E+")");const $=t.insert("rect","#"+T.nn.node().id).classed(`er ${C}`,!0).attr("x",M).attr("y",D).attr("width",d+i*2+w).attr("height",T.height+r*2);let A=parseFloat($.attr("x"))+parseFloat($.attr("width"));if(l){T.kn.attr("transform","translate("+(A+i)+","+E+")");const _=t.insert("rect","#"+T.kn.node().id).classed(`er ${C}`,!0).attr("x",A).attr("y",D).attr("width",f+i*2+w).attr("height",T.height+r*2);A=parseFloat(_.attr("x"))+parseFloat(_.attr("width"))}u&&(T.cn.attr("transform","translate("+(A+i)+","+E+")"),t.insert("rect","#"+T.cn.node().id).classed(`er ${C}`,"true").attr("x",A).attr("y",D).attr("width",p+i*2+w).attr("height",T.height+r*2)),D+=T.height+r*2,C=C==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else O.height=Math.max(Ar.minEntityHeight,m),e.attr("transform","translate("+O.width/2+","+O.height/2+")");return O},nHe=function(t,e,n){const r=Object.keys(e);let i;return r.forEach(function(s){const o=lHe(s,"entity");Jp.set(s,o);const a=t.append("g").attr("id",o);i=i===void 0?o:i;const l="text-"+o,u=a.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ie().fontFamily).style("font-size",Ar.fontSize+"px").text(s),{width:h,height:d}=tHe(a,u,e[s].attributes),p=a.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",d).node().getBBox();n.setNode(o,{width:p.width,height:p.height,shape:"rect",id:o})}),i},rHe=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")})},RR=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},iHe=function(t,e){return t.forEach(function(n){e.setEdge(Jp.get(n.entityA),Jp.get(n.entityB),{relationship:n},RR(n))}),t};let HD=0;const sHe=function(t,e,n,r,i){HD++;const s=n.edge(Jp.get(e.entityA),Jp.get(e.entityB),RR(e)),o=T0().x(function(m){return m.x}).y(function(m){return m.y}).curve(Zd),a=t.insert("path","#"+r).classed("er relationshipLine",!0).attr("d",o(s.points)).style("stroke",Ar.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&a.attr("stroke-dasharray","8,8");let l="";switch(Ar.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:a.attr("marker-end","url("+l+"#"+fl.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:a.attr("marker-end","url("+l+"#"+fl.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:a.attr("marker-end","url("+l+"#"+fl.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:a.attr("marker-end","url("+l+"#"+fl.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:a.attr("marker-start","url("+l+"#"+fl.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:a.attr("marker-start","url("+l+"#"+fl.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:a.attr("marker-start","url("+l+"#"+fl.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:a.attr("marker-start","url("+l+"#"+fl.ERMarkers.ONLY_ONE_START+")");break}const u=a.node().getTotalLength(),h=a.node().getPointAtLength(u*.5),d="rel"+HD,p=t.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ie().fontFamily).style("font-size",Ar.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",h.x-p.width/2).attr("y",h.y-p.height/2).attr("width",p.width).attr("height",p.height)},oHe=function(t,e,n,r){Ar=ie().er,V.info("Drawing ER diagram");const i=ie().securityLevel;let s;i==="sandbox"&&(s=Le("#i"+e));const a=Le(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);fl.insertMarkers(a,Ar);let l;l=new Sr({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ar.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=nHe(a,r.db.getEntities(),l),h=iHe(r.db.getRelationships(),l);E0(l),rHe(a,l),h.forEach(function(g){sHe(a,g,l,u,r)});const d=Ar.diagramPadding;At.insertTitle(a,"entityTitleText",Ar.titleTopMargin,r.db.getDiagramTitle());const f=a.node().getBBox(),p=f.width+d*2,m=f.height+d*2;ea(a,m,p,Ar.useMaxWidth),a.attr("viewBox",`${f.x-d} ${f.y-d} ${p} ${m}`)},aHe="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function lHe(t="",e=""){const n=t.replace(Jje,"");return`${ZD(e)}${ZD(n)}${Vze(t,aHe)}`}function ZD(t=""){return t.length>0?`${t}-`:""}const cHe={setConf:eHe,draw:oHe};var o6=function(){var t=function(nl,pt,Ot,Gt){for(Ot=Ot||{},Gt=nl.length;Gt--;Ot[nl[Gt]]=pt);return Ot},e=[1,9],n=[1,7],r=[1,6],i=[1,8],s=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],o=[2,10],a=[1,20],l=[1,21],u=[1,22],h=[1,23],d=[1,30],f=[1,32],p=[1,33],m=[1,34],g=[1,62],y=[1,48],b=[1,52],O=[1,36],w=[1,37],D=[1,38],C=[1,39],T=[1,40],E=[1,56],P=[1,63],M=[1,51],$=[1,53],A=[1,55],_=[1,59],L=[1,60],v=[1,41],q=[1,42],x=[1,43],X=[1,44],de=[1,61],H=[1,50],G=[1,54],F=[1,57],B=[1,58],ae=[1,49],be=[1,66],ye=[1,71],Z=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Qe=[1,75],ne=[1,74],se=[1,76],ee=[20,21,23,81,82],J=[1,99],z=[1,104],W=[1,107],te=[1,108],Q=[1,101],me=[1,106],I=[1,109],ge=[1,102],Y=[1,114],$e=[1,113],Se=[1,103],De=[1,105],_e=[1,110],Te=[1,111],ke=[1,112],Me=[1,115],pe=[20,21,22,23,81,82],Ce=[20,21,22,23,53,81,82],Be=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],qe=[20,21,23],Je=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Nt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ne=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],rt=[1,149],Ke=[1,157],Pe=[1,158],we=[1,159],ze=[1,160],ve=[1,144],st=[1,145],he=[1,141],wt=[1,152],xe=[1,153],Tt=[1,154],Vt=[1,155],jt=[1,156],Xt=[1,161],Zt=[1,162],ut=[1,147],_t=[1,150],Yt=[1,146],kt=[1,143],tl=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],mu=[1,165],Ln=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Dt=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],nr=[12,21,22,24],di=[22,106],rr=[1,250],Cr=[1,245],Fn=[1,246],Jr=[1,254],Vr=[1,251],tt=[1,248],oe=[1,247],Ie=[1,249],Ye=[1,252],Wt=[1,253],Cn=[1,255],En=[1,273],dr=[20,21,23,106],Wr=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Kn={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(pt,Ot,Gt,Ze,qn,re,L0){var ce=re.length-1;switch(qn){case 5:Ze.parseDirective("%%{","open_directive");break;case 6:Ze.parseDirective(re[ce],"type_directive");break;case 7:re[ce]=re[ce].trim().replace(/'/g,'"'),Ze.parseDirective(re[ce],"arg_directive");break;case 8:Ze.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(re[ce])||re[ce].length>0)&&re[ce-1].push(re[ce]),this.$=re[ce-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=re[ce];break;case 19:Ze.setDirection("TB"),this.$="TB";break;case 20:Ze.setDirection(re[ce-1]),this.$=re[ce-1];break;case 35:this.$=re[ce-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Ze.addSubGraph(re[ce-6],re[ce-1],re[ce-4]);break;case 42:this.$=Ze.addSubGraph(re[ce-3],re[ce-1],re[ce-3]);break;case 43:this.$=Ze.addSubGraph(void 0,re[ce-1],void 0);break;case 45:this.$=re[ce].trim(),Ze.setAccTitle(this.$);break;case 46:case 47:this.$=re[ce].trim(),Ze.setAccDescription(this.$);break;case 51:Ze.addLink(re[ce-2].stmt,re[ce],re[ce-1]),this.$={stmt:re[ce],nodes:re[ce].concat(re[ce-2].nodes)};break;case 52:Ze.addLink(re[ce-3].stmt,re[ce-1],re[ce-2]),this.$={stmt:re[ce-1],nodes:re[ce-1].concat(re[ce-3].nodes)};break;case 53:this.$={stmt:re[ce-1],nodes:re[ce-1]};break;case 54:this.$={stmt:re[ce],nodes:re[ce]};break;case 55:this.$=[re[ce]];break;case 56:this.$=re[ce-4].concat(re[ce]);break;case 57:this.$=[re[ce-2]],Ze.setClass(re[ce-2],re[ce]);break;case 58:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"square");break;case 59:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"doublecircle");break;case 60:this.$=re[ce-5],Ze.addVertex(re[ce-5],re[ce-2],"circle");break;case 61:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"ellipse");break;case 62:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"stadium");break;case 63:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"subroutine");break;case 64:this.$=re[ce-7],Ze.addVertex(re[ce-7],re[ce-1],"rect",void 0,void 0,void 0,Object.fromEntries([[re[ce-5],re[ce-3]]]));break;case 65:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"cylinder");break;case 66:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"round");break;case 67:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"diamond");break;case 68:this.$=re[ce-5],Ze.addVertex(re[ce-5],re[ce-2],"hexagon");break;case 69:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"odd");break;case 70:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"trapezoid");break;case 71:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"inv_trapezoid");break;case 72:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"lean_right");break;case 73:this.$=re[ce-3],Ze.addVertex(re[ce-3],re[ce-1],"lean_left");break;case 74:this.$=re[ce],Ze.addVertex(re[ce]);break;case 75:re[ce-1].text=re[ce],this.$=re[ce-1];break;case 76:case 77:re[ce-2].text=re[ce-1],this.$=re[ce-2];break;case 78:this.$=re[ce];break;case 79:var qs=Ze.destructLink(re[ce],re[ce-2]);this.$={type:qs.type,stroke:qs.stroke,length:qs.length,text:re[ce-1]};break;case 80:var qs=Ze.destructLink(re[ce]);this.$={type:qs.type,stroke:qs.stroke,length:qs.length};break;case 81:this.$=re[ce-1];break;case 83:case 97:case 153:this.$=re[ce-1]+""+re[ce];break;case 98:case 99:this.$=re[ce-4],Ze.addClass(re[ce-2],re[ce]);break;case 100:this.$=re[ce-4],Ze.setClass(re[ce-2],re[ce]);break;case 101:case 109:this.$=re[ce-1],Ze.setClickEvent(re[ce-1],re[ce]);break;case 102:case 110:this.$=re[ce-3],Ze.setClickEvent(re[ce-3],re[ce-2]),Ze.setTooltip(re[ce-3],re[ce]);break;case 103:this.$=re[ce-2],Ze.setClickEvent(re[ce-2],re[ce-1],re[ce]);break;case 104:this.$=re[ce-4],Ze.setClickEvent(re[ce-4],re[ce-3],re[ce-2]),Ze.setTooltip(re[ce-4],re[ce]);break;case 105:case 111:this.$=re[ce-1],Ze.setLink(re[ce-1],re[ce]);break;case 106:case 112:this.$=re[ce-3],Ze.setLink(re[ce-3],re[ce-2]),Ze.setTooltip(re[ce-3],re[ce]);break;case 107:case 113:this.$=re[ce-3],Ze.setLink(re[ce-3],re[ce-2],re[ce]);break;case 108:case 114:this.$=re[ce-5],Ze.setLink(re[ce-5],re[ce-4],re[ce]),Ze.setTooltip(re[ce-5],re[ce-2]);break;case 115:this.$=re[ce-4],Ze.addVertex(re[ce-2],void 0,void 0,re[ce]);break;case 116:case 118:this.$=re[ce-4],Ze.updateLink(re[ce-2],re[ce]);break;case 117:this.$=re[ce-4],Ze.updateLink([re[ce-2]],re[ce]);break;case 119:this.$=re[ce-8],Ze.updateLinkInterpolate([re[ce-6]],re[ce-2]),Ze.updateLink([re[ce-6]],re[ce]);break;case 120:this.$=re[ce-8],Ze.updateLinkInterpolate(re[ce-6],re[ce-2]),Ze.updateLink(re[ce-6],re[ce]);break;case 121:this.$=re[ce-6],Ze.updateLinkInterpolate([re[ce-4]],re[ce]);break;case 122:this.$=re[ce-6],Ze.updateLinkInterpolate(re[ce-4],re[ce]);break;case 123:case 125:this.$=[re[ce]];break;case 124:case 126:re[ce-2].push(re[ce]),this.$=re[ce-2];break;case 128:this.$=re[ce-1]+re[ce];break;case 150:this.$=re[ce];break;case 151:this.$=re[ce-1]+""+re[ce];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(s,o,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:31,44:f,46:p,48:m,50:35,51:45,52:g,54:46,66:y,67:b,86:O,87:w,88:D,89:C,90:T,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,118:v,119:q,120:x,121:X,122:de,123:H,124:G,125:F,126:B,127:ae},{8:64,10:[1,65],15:be},t([10,15],[2,6]),t(s,[2,17]),t(s,[2,18]),t(s,[2,19]),{20:[1,68],21:[1,69],22:ye,27:67,30:70},t(Z,[2,11]),t(Z,[2,12]),t(Z,[2,13]),t(Z,[2,14]),t(Z,[2,15]),t(Z,[2,16]),{9:72,20:Qe,21:ne,23:se,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Qe,21:ne,23:se},{9:81,20:Qe,21:ne,23:se},{9:82,20:Qe,21:ne,23:se},{9:83,20:Qe,21:ne,23:se},{9:84,20:Qe,21:ne,23:se},{9:86,20:Qe,21:ne,22:[1,85],23:se},t(Z,[2,44]),{45:[1,87]},{47:[1,88]},t(Z,[2,47]),t(ee,[2,54],{30:89,22:ye}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:J,52:z,66:W,67:te,84:[1,97],91:Q,97:96,98:[1,94],100:[1,95],105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Z,[2,158]),t(Z,[2,159]),t(Z,[2,160]),t(Z,[2,161]),t(pe,[2,55],{53:[1,116]}),t(Ce,[2,74],{116:129,40:[1,117],52:g,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:y,67:b,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:E,95:P,105:M,106:$,109:A,111:_,112:L,122:de,123:H,124:G,125:F,126:B,127:ae}),t(Be,[2,150]),t(Be,[2,175]),t(Be,[2,176]),t(Be,[2,177]),t(Be,[2,178]),t(Be,[2,179]),t(Be,[2,180]),t(Be,[2,181]),t(Be,[2,182]),t(Be,[2,183]),t(Be,[2,184]),t(Be,[2,185]),t(Be,[2,186]),t(Be,[2,187]),t(Be,[2,188]),t(Be,[2,189]),t(Be,[2,190]),{9:130,20:Qe,21:ne,23:se},{11:131,14:[1,132]},t(qe,[2,8]),t(s,[2,20]),t(s,[2,26]),t(s,[2,27]),{21:[1,133]},t(Je,[2,34],{30:134,22:ye}),t(Z,[2,35]),{50:135,51:45,52:g,54:46,66:y,67:b,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,122:de,123:H,124:G,125:F,126:B,127:ae},t(Nt,[2,48]),t(Nt,[2,49]),t(Nt,[2,50]),t(Ne,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:rt,24:Ke,26:Pe,38:we,39:139,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(Z,[2,36]),t(Z,[2,37]),t(Z,[2,38]),t(Z,[2,39]),t(Z,[2,40]),{22:rt,24:Ke,26:Pe,38:we,39:163,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(tl,o,{17:164}),t(Z,[2,45]),t(Z,[2,46]),t(ee,[2,53],{52:mu}),{26:J,52:z,66:W,67:te,91:Q,97:166,102:[1,167],105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{95:[1,168],103:169,105:[1,170]},{26:J,52:z,66:W,67:te,91:Q,95:[1,171],97:172,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{26:J,52:z,66:W,67:te,91:Q,97:173,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(qe,[2,101],{22:[1,174],99:[1,175]}),t(qe,[2,105],{22:[1,176]}),t(qe,[2,109],{115:100,117:178,22:[1,177],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,122:Se,123:De,124:_e,125:Te,126:ke,127:Me}),t(qe,[2,111],{22:[1,179]}),t(Ln,[2,152]),t(Ln,[2,154]),t(Ln,[2,155]),t(Ln,[2,156]),t(Ln,[2,157]),t(Dt,[2,162]),t(Dt,[2,163]),t(Dt,[2,164]),t(Dt,[2,165]),t(Dt,[2,166]),t(Dt,[2,167]),t(Dt,[2,168]),t(Dt,[2,169]),t(Dt,[2,170]),t(Dt,[2,171]),t(Dt,[2,172]),t(Dt,[2,173]),t(Dt,[2,174]),{52:g,54:180,66:y,67:b,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,122:de,123:H,124:G,125:F,126:B,127:ae},{22:rt,24:Ke,26:Pe,38:we,39:181,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:182,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:184,42:ze,52:z,57:[1,183],66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:185,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:186,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:187,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{66:[1,188]},{22:rt,24:Ke,26:Pe,38:we,39:189,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:190,42:ze,52:z,66:W,67:te,71:[1,191],73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:192,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:193,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:194,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Be,[2,151]),t(nr,[2,3]),{8:195,15:be},{15:[2,7]},t(s,[2,28]),t(Je,[2,33]),t(ee,[2,51],{30:196,22:ye}),t(Ne,[2,75],{22:[1,197]}),{22:[1,198]},{22:rt,24:Ke,26:Pe,38:we,39:199,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,73:ve,81:st,82:[1,200],83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Dt,[2,82]),t(Dt,[2,84]),t(Dt,[2,140]),t(Dt,[2,141]),t(Dt,[2,142]),t(Dt,[2,143]),t(Dt,[2,144]),t(Dt,[2,145]),t(Dt,[2,146]),t(Dt,[2,147]),t(Dt,[2,148]),t(Dt,[2,149]),t(Dt,[2,85]),t(Dt,[2,86]),t(Dt,[2,87]),t(Dt,[2,88]),t(Dt,[2,89]),t(Dt,[2,90]),t(Dt,[2,91]),t(Dt,[2,92]),t(Dt,[2,93]),t(Dt,[2,94]),t(Dt,[2,95]),{9:203,20:Qe,21:ne,22:rt,23:se,24:Ke,26:Pe,38:we,40:[1,202],42:ze,52:z,66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,204],43:31,44:f,46:p,48:m,50:35,51:45,52:g,54:46,66:y,67:b,86:O,87:w,88:D,89:C,90:T,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,118:v,119:q,120:x,121:X,122:de,123:H,124:G,125:F,126:B,127:ae},{22:ye,30:205},{22:[1,206],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:178,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(di,[2,123]),{22:[1,211]},{22:[1,212],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:178,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:[1,213],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:178,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{84:[1,214]},t(qe,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(Ln,[2,153]),{84:[1,219],101:[1,220]},t(pe,[2,57],{116:129,52:g,66:y,67:b,91:E,95:P,105:M,106:$,109:A,111:_,112:L,122:de,123:H,124:G,125:F,126:B,127:ae}),{22:rt,24:Ke,26:Pe,38:we,41:[1,221],42:ze,52:z,66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,56:[1,222],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:223,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,58:[1,224],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,60:[1,225],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,62:[1,226],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,64:[1,227],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{67:[1,228]},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,70:[1,229],73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,72:[1,230],73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,39:231,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,41:[1,232],42:ze,52:z,66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,73:ve,75:[1,233],77:[1,234],81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,73:ve,75:[1,236],77:[1,235],81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{9:237,20:Qe,21:ne,23:se},t(ee,[2,52],{52:mu}),t(Ne,[2,77]),t(Ne,[2,76]),{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,68:[1,238],73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Ne,[2,79]),t(Dt,[2,83]),{22:rt,24:Ke,26:Pe,38:we,39:239,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(tl,o,{17:240}),t(Z,[2,43]),{51:241,52:g,54:46,66:y,67:b,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,122:de,123:H,124:G,125:F,126:B,127:ae},{22:rr,66:Cr,67:Fn,86:Jr,96:242,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{22:rr,66:Cr,67:Fn,86:Jr,96:256,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{22:rr,66:Cr,67:Fn,86:Jr,96:257,102:Vr,104:[1,258],105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{22:rr,66:Cr,67:Fn,86:Jr,96:259,102:Vr,104:[1,260],105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{105:[1,261]},{22:rr,66:Cr,67:Fn,86:Jr,96:262,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{22:rr,66:Cr,67:Fn,86:Jr,96:263,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{26:J,52:z,66:W,67:te,91:Q,97:264,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(qe,[2,102]),{84:[1,265]},t(qe,[2,106],{22:[1,266]}),t(qe,[2,107]),t(qe,[2,110]),t(qe,[2,112],{22:[1,267]}),t(qe,[2,113]),t(Ce,[2,58]),t(Ce,[2,59]),{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,58:[1,268],66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Ce,[2,66]),t(Ce,[2,61]),t(Ce,[2,62]),t(Ce,[2,63]),{66:[1,269]},t(Ce,[2,65]),t(Ce,[2,67]),{22:rt,24:Ke,26:Pe,38:we,42:ze,52:z,66:W,67:te,72:[1,270],73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Ce,[2,69]),t(Ce,[2,70]),t(Ce,[2,72]),t(Ce,[2,71]),t(Ce,[2,73]),t(nr,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:rt,24:Ke,26:Pe,38:we,41:[1,271],42:ze,52:z,66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,272],43:31,44:f,46:p,48:m,50:35,51:45,52:g,54:46,66:y,67:b,86:O,87:w,88:D,89:C,90:T,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,118:v,119:q,120:x,121:X,122:de,123:H,124:G,125:F,126:B,127:ae},t(pe,[2,56]),t(qe,[2,115],{106:En}),t(dr,[2,125],{108:274,22:rr,66:Cr,67:Fn,86:Jr,102:Vr,105:tt,109:oe,110:Ie,111:Ye,112:Wt,113:Cn}),t(Wr,[2,127]),t(Wr,[2,129]),t(Wr,[2,130]),t(Wr,[2,131]),t(Wr,[2,132]),t(Wr,[2,133]),t(Wr,[2,134]),t(Wr,[2,135]),t(Wr,[2,136]),t(Wr,[2,137]),t(Wr,[2,138]),t(Wr,[2,139]),t(qe,[2,116],{106:En}),t(qe,[2,117],{106:En}),{22:[1,275]},t(qe,[2,118],{106:En}),{22:[1,276]},t(di,[2,124]),t(qe,[2,98],{106:En}),t(qe,[2,99],{106:En}),t(qe,[2,100],{115:100,117:178,26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,122:Se,123:De,124:_e,125:Te,126:ke,127:Me}),t(qe,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Qe,21:ne,23:se},t(Z,[2,42]),{22:rr,66:Cr,67:Fn,86:Jr,102:Vr,105:tt,107:283,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},t(Wr,[2,128]),{26:J,52:z,66:W,67:te,91:Q,97:284,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{26:J,52:z,66:W,67:te,91:Q,97:285,105:me,106:I,109:ge,111:Y,112:$e,115:100,117:98,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(qe,[2,108]),t(qe,[2,114]),t(Ce,[2,60]),{22:rt,24:Ke,26:Pe,38:we,39:286,42:ze,52:z,66:W,67:te,73:ve,81:st,83:140,84:he,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},t(Ce,[2,68]),t(tl,o,{17:287}),t(dr,[2,126],{108:274,22:rr,66:Cr,67:Fn,86:Jr,102:Vr,105:tt,109:oe,110:Ie,111:Ye,112:Wt,113:Cn}),t(qe,[2,121],{115:100,117:178,22:[1,288],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,122:Se,123:De,124:_e,125:Te,126:ke,127:Me}),t(qe,[2,122],{115:100,117:178,22:[1,289],26:J,52:z,66:W,67:te,91:Q,105:me,106:I,109:ge,111:Y,112:$e,122:Se,123:De,124:_e,125:Te,126:ke,127:Me}),{22:rt,24:Ke,26:Pe,38:we,41:[1,290],42:ze,52:z,66:W,67:te,73:ve,81:st,83:201,85:151,86:wt,87:xe,88:Tt,89:Vt,90:jt,91:Xt,92:Zt,94:142,95:ut,105:me,106:I,109:_t,111:Y,112:$e,113:Yt,114:kt,115:148,122:Se,123:De,124:_e,125:Te,126:ke,127:Me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,291],43:31,44:f,46:p,48:m,50:35,51:45,52:g,54:46,66:y,67:b,86:O,87:w,88:D,89:C,90:T,91:E,95:P,105:M,106:$,109:A,111:_,112:L,116:47,118:v,119:q,120:x,121:X,122:de,123:H,124:G,125:F,126:B,127:ae},{22:rr,66:Cr,67:Fn,86:Jr,96:292,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},{22:rr,66:Cr,67:Fn,86:Jr,96:293,102:Vr,105:tt,107:243,108:244,109:oe,110:Ie,111:Ye,112:Wt,113:Cn},t(Ce,[2,64]),t(Z,[2,41]),t(qe,[2,119],{106:En}),t(qe,[2,120],{106:En})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(pt,Ot){if(Ot.recoverable)this.trace(pt);else{var Gt=new Error(pt);throw Gt.hash=Ot,Gt}},parse:function(pt){var Ot=this,Gt=[0],Ze=[],qn=[null],re=[],L0=this.table,ce="",qs=0,x_=0,CY=2,k_=1,TY=re.slice.call(arguments,1),qr=Object.create(this.lexer),gu={yy:{}};for(var x3 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x3)&&(gu.yy[x3]=this.yy[x3]);qr.setInput(pt,gu.yy),gu.yy.lexer=qr,gu.yy.parser=this,typeof qr.yylloc>"u"&&(qr.yylloc={});var k3=qr.yylloc;re.push(k3);var DY=qr.options&&qr.options.ranges;typeof gu.yy.parseError=="function"?this.parseError=gu.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function EY(){var il;return il=Ze.pop()||qr.lex()||k_,typeof il!="number"&&(il instanceof Array&&(Ze=il,il=Ze.pop()),il=Ot.symbols_[il]||il),il}for(var Gi,yu,Xs,w3,Lh={},ym,rl,w_,bm;;){if(yu=Gt[Gt.length-1],this.defaultActions[yu]?Xs=this.defaultActions[yu]:((Gi===null||typeof Gi>"u")&&(Gi=EY()),Xs=L0[yu]&&L0[yu][Gi]),typeof Xs>"u"||!Xs.length||!Xs[0]){var _3="";bm=[];for(ym in L0[yu])this.terminals_[ym]&&ym>CY&&bm.push("'"+this.terminals_[ym]+"'");qr.showPosition?_3="Parse error on line "+(qs+1)+`:
`+qr.showPosition()+`
Expecting `+bm.join(", ")+", got '"+(this.terminals_[Gi]||Gi)+"'":_3="Parse error on line "+(qs+1)+": Unexpected "+(Gi==k_?"end of input":"'"+(this.terminals_[Gi]||Gi)+"'"),this.parseError(_3,{text:qr.match,token:this.terminals_[Gi]||Gi,line:qr.yylineno,loc:k3,expected:bm})}if(Xs[0]instanceof Array&&Xs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+yu+", token: "+Gi);switch(Xs[0]){case 1:Gt.push(Gi),qn.push(qr.yytext),re.push(qr.yylloc),Gt.push(Xs[1]),Gi=null,x_=qr.yyleng,ce=qr.yytext,qs=qr.yylineno,k3=qr.yylloc;break;case 2:if(rl=this.productions_[Xs[1]][1],Lh.$=qn[qn.length-rl],Lh._$={first_line:re[re.length-(rl||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(rl||1)].first_column,last_column:re[re.length-1].last_column},DY&&(Lh._$.range=[re[re.length-(rl||1)].range[0],re[re.length-1].range[1]]),w3=this.performAction.apply(Lh,[ce,x_,qs,gu.yy,Xs[1],qn,re].concat(TY)),typeof w3<"u")return w3;rl&&(Gt=Gt.slice(0,-1*rl*2),qn=qn.slice(0,-1*rl),re=re.slice(0,-1*rl)),Gt.push(this.productions_[Xs[1]][0]),qn.push(Lh.$),re.push(Lh._$),w_=L0[Gt[Gt.length-2]][Gt[Gt.length-1]],Gt.push(w_);break;case 3:return!0}}return!0}},$0=function(){var nl={EOF:1,parseError:function(Ot,Gt){if(this.yy.parser)this.yy.parser.parseError(Ot,Gt);else throw new Error(Ot)},setInput:function(pt,Ot){return this.yy=Ot||this.yy||{},this._input=pt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var pt=this._input[0];this.yytext+=pt,this.yyleng++,this.offset++,this.match+=pt,this.matched+=pt;var Ot=pt.match(/(?:\r\n?|\n).*/g);return Ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),pt},unput:function(pt){var Ot=pt.length,Gt=pt.split(/(?:\r\n?|\n)/g);this._input=pt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ot),this.offset-=Ot;var Ze=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Gt.length-1&&(this.yylineno-=Gt.length-1);var qn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Gt?(Gt.length===Ze.length?this.yylloc.first_column:0)+Ze[Ze.length-Gt.length].length-Gt[0].length:this.yylloc.first_column-Ot},this.options.ranges&&(this.yylloc.range=[qn[0],qn[0]+this.yyleng-Ot]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(pt){this.unput(this.match.slice(pt))},pastInput:function(){var pt=this.matched.substr(0,this.matched.length-this.match.length);return(pt.length>20?"...":"")+pt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var pt=this.match;return pt.length<20&&(pt+=this._input.substr(0,20-pt.length)),(pt.substr(0,20)+(pt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pt=this.pastInput(),Ot=new Array(pt.length+1).join("-");return pt+this.upcomingInput()+`
`+Ot+"^"},test_match:function(pt,Ot){var Gt,Ze,qn;if(this.options.backtrack_lexer&&(qn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qn.yylloc.range=this.yylloc.range.slice(0))),Ze=pt[0].match(/(?:\r\n?|\n).*/g),Ze&&(this.yylineno+=Ze.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ze?Ze[Ze.length-1].length-Ze[Ze.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+pt[0].length},this.yytext+=pt[0],this.match+=pt[0],this.matches=pt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(pt[0].length),this.matched+=pt[0],Gt=this.performAction.call(this,this.yy,this,Ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Gt)return Gt;if(this._backtrack){for(var re in qn)this[re]=qn[re];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var pt,Ot,Gt,Ze;this._more||(this.yytext="",this.match="");for(var qn=this._currentRules(),re=0;re<qn.length;re++)if(Gt=this._input.match(this.rules[qn[re]]),Gt&&(!Ot||Gt[0].length>Ot[0].length)){if(Ot=Gt,Ze=re,this.options.backtrack_lexer){if(pt=this.test_match(Gt,qn[re]),pt!==!1)return pt;if(this._backtrack){Ot=!1;continue}else return!1}else if(!this.options.flex)break}return Ot?(pt=this.test_match(Ot,qn[Ze]),pt!==!1?pt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ot=this.next();return Ot||this.lex()},begin:function(Ot){this.conditionStack.push(Ot)},popState:function(){var Ot=this.conditionStack.length-1;return Ot>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ot){return Ot=this.conditionStack.length-1-Math.abs(Ot||0),Ot>=0?this.conditionStack[Ot]:"INITIAL"},pushState:function(Ot){this.begin(Ot)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Ot,Gt,Ze,qn){switch(Ze){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 36:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 37:return Ot.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return 101;case 44:return this.popState(),25;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return nl}();Kn.lexer=$0;function $h(){this.yy={}}return $h.prototype=Kn,Kn.Parser=$h,new $h}();o6.parser=o6;const GD=o6,uHe=(t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null},hHe=(t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},dHe="flowchart-";let KD=0,o7=ie(),Rn={},Oh=[],cd={},jl=[],ab={},a7={},T2=0,a6=!0,Zs,Z4,G4=[];const K4=t=>Pt.sanitizeText(t,o7),QR=function(t,e,n){Vn.parseDirective(this,t,e,n)},J1=function(t){const e=Object.keys(Rn);for(const n of e)if(Rn[n].id===t)return Rn[n].domId;return t},zR=function(t,e,n,r,i,s,o={}){let a,l=t;l!==void 0&&l.trim().length!==0&&(Rn[l]===void 0&&(Rn[l]={id:l,domId:dHe+l+"-"+KD,styles:[],classes:[]}),KD++,e!==void 0?(o7=ie(),a=K4(e.trim()),a[0]==='"'&&a[a.length-1]==='"'&&(a=a.substring(1,a.length-1)),Rn[l].text=a):Rn[l].text===void 0&&(Rn[l].text=t),n!==void 0&&(Rn[l].type=n),r!=null&&r.forEach(function(u){Rn[l].styles.push(u)}),i!=null&&i.forEach(function(u){Rn[l].classes.push(u)}),s!==void 0&&(Rn[l].dir=s),Rn[l].props===void 0?Rn[l].props=o:o!==void 0&&Object.assign(Rn[l].props,o))},VR=function(t,e,n,r){const o={start:t,end:e,type:void 0,text:""};r=n.text,r!==void 0&&(o.text=K4(r.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length),Oh.push(o)},WR=function(t,e,n,r){let i,s;for(i=0;i<t.length;i++)for(s=0;s<e.length;s++)VR(t[i],e[s],n,r)},qR=function(t,e){t.forEach(function(n){n==="default"?Oh.defaultInterpolate=e:Oh[n].interpolate=e})},XR=function(t,e){t.forEach(function(n){n==="default"?Oh.defaultStyle=e:(At.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),Oh[n].style=e)})},YR=function(t,e){cd[t]===void 0&&(cd[t]={id:t,styles:[],textStyles:[]}),e!=null&&e.forEach(function(n){if(n.match("color")){const i=n.replace("fill","bgFill").replace("color","fill");cd[t].textStyles.push(i)}cd[t].styles.push(n)})},UR=function(t){Zs=t,Zs.match(/.*</)&&(Zs="RL"),Zs.match(/.*\^/)&&(Zs="BT"),Zs.match(/.*>/)&&(Zs="LR"),Zs.match(/.*v/)&&(Zs="TB"),Zs==="TD"&&(Zs="TB")},J4=function(t,e){t.split(",").forEach(function(n){let r=n;Rn[r]!==void 0&&Rn[r].classes.push(e),ab[r]!==void 0&&ab[r].classes.push(e)})},fHe=function(t,e){t.split(",").forEach(function(n){e!==void 0&&(a7[Z4==="gen-1"?J1(n):n]=K4(e))})},pHe=function(t,e,n){let r=J1(t);if(ie().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof n=="string"){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(t),Rn[t]!==void 0&&(Rn[t].haveCallback=!0,G4.push(function(){const s=document.querySelector(`[id="${r}"]`);s!==null&&s.addEventListener("click",function(){At.runFunc(e,...i)},!1)}))},jR=function(t,e,n){t.split(",").forEach(function(r){Rn[r]!==void 0&&(Rn[r].link=At.formatUrl(e,o7),Rn[r].linkTarget=n)}),J4(t,"clickable")},HR=function(t){return a7[t]},ZR=function(t,e,n){t.split(",").forEach(function(r){pHe(r,e,n)}),J4(t,"clickable")},GR=function(t){G4.forEach(function(e){e(t)})},KR=function(){return Zs.trim()},JR=function(){return Rn},eQ=function(){return Oh},tQ=function(){return cd},nQ=function(t){let e=Le(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Le("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Le(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Le(this);if(i.attr("title")===null)return;const o=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Le(this).classed("hover",!1)})};G4.push(nQ);const rQ=function(t="gen-1"){Rn={},cd={},Oh=[],G4=[nQ],jl=[],ab={},T2=0,a7=[],a6=!0,Z4=t,Qs()},iQ=t=>{Z4=t||"gen-2"},sQ=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},oQ=function(t,e,n){let r=t.trim(),i=n;t===n&&n.match(/\s/)&&(r=void 0);function s(h){const d={boolean:{},number:{},string:{}},f=[];let p;return{nodeList:h.filter(function(g){const y=typeof g;return g.stmt&&g.stmt==="dir"?(p=g.value,!1):g.trim()===""?!1:y in d?d[y].hasOwnProperty(g)?!1:d[y][g]=!0:f.includes(g)?!1:f.push(g)}),dir:p}}let o=[];const{nodeList:a,dir:l}=s(o.concat.apply(o,e));if(o=a,Z4==="gen-1")for(let h=0;h<o.length;h++)o[h]=J1(o[h]);r=r||"subGraph"+T2,i=i||"",i=K4(i),T2=T2+1;const u={id:r,nodes:o,title:i.trim(),classes:[],dir:l};return V.info("Adding",u.id,u.nodes,u.dir),u.nodes=mQ(u,jl).nodes,jl.push(u),ab[r]=u,r},mHe=function(t){for(const[e,n]of jl.entries())if(n.id===t)return e;return-1};let Cf=-1;const aQ=[],lQ=function(t,e){const n=jl[e].nodes;if(Cf=Cf+1,Cf>2e3)return;if(aQ[Cf]=e,jl[e].id===t)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){const s=mHe(n[r]);if(s>=0){const o=lQ(t,s);if(o.result)return{result:!0,count:i+o.count};i=i+o.count}r=r+1}return{result:!1,count:i}},cQ=function(t){return aQ[t]},uQ=function(){Cf=-1,jl.length>0&&lQ("none",jl.length-1)},hQ=function(){return jl},dQ=()=>a6?(a6=!1,!0):!1,gHe=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1);break}let r="normal";return e.includes("=")&&(r="thick"),e.includes(".")&&(r="dotted"),{type:n,stroke:r}},yHe=(t,e)=>{const n=e.length;let r=0;for(let i=0;i<n;++i)e[i]===t&&++r;return r},bHe=t=>{const e=t.trim();let n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross",e[0]==="x"&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point",e[0]==="<"&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle",e[0]==="o"&&(r="double_"+r,n=n.slice(1));break}let i="normal",s=n.length-1;n[0]==="="&&(i="thick");let o=yHe(".",n);return o&&(i="dotted",s=o),{type:r,stroke:i,length:s}},fQ=(t,e)=>{const n=bHe(t);let r;if(e){if(r=gHe(e),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(r.type==="arrow_open")r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return r.type==="double_arrow"&&(r.type="double_arrow_point"),r.length=n.length,r}return n},pQ=(t,e)=>{let n=!1;return t.forEach(r=>{r.nodes.indexOf(e)>=0&&(n=!0)}),n},mQ=(t,e)=>{const n=[];return t.nodes.forEach((r,i)=>{pQ(e,r)||n.push(t.nodes[i])}),{nodes:n}},gQ={firstGraph:dQ},va={parseDirective:QR,defaultConfig:()=>Kd.flowchart,setAccTitle:Os,getAccTitle:zs,getAccDescription:Ws,setAccDescription:Vs,addVertex:zR,lookUpDomId:J1,addLink:WR,updateLinkInterpolate:qR,updateLink:XR,addClass:YR,setDirection:UR,setClass:J4,setTooltip:fHe,getTooltip:HR,setClickEvent:ZR,setLink:jR,bindFunctions:GR,getDirection:KR,getVertices:JR,getEdges:eQ,getClasses:tQ,clear:rQ,setGen:iQ,defaultStyle:sQ,addSubGraph:oQ,getDepthFirstPos:cQ,indexNodes:uQ,getSubGraphs:hQ,destructLink:fQ,lex:gQ,exists:pQ,makeUniq:mQ,setDiagramTitle:ta,getDiagramTitle:na},Uut=Object.freeze(Object.defineProperty({__proto__:null,addClass:YR,addLink:WR,addSingleLink:VR,addSubGraph:oQ,addVertex:zR,bindFunctions:GR,clear:rQ,default:va,defaultStyle:sQ,destructLink:fQ,firstGraph:dQ,getClasses:tQ,getDepthFirstPos:cQ,getDirection:KR,getEdges:eQ,getSubGraphs:hQ,getTooltip:HR,getVertices:JR,indexNodes:uQ,lex:gQ,lookUpDomId:J1,parseDirective:QR,setClass:J4,setClickEvent:ZR,setDirection:UR,setGen:iQ,setLink:jR,updateLink:XR,updateLinkInterpolate:qR},Symbol.toStringTag,{value:"Module"}));function yQ(t,e,n){const r=e.width,i=e.height,s=(r+i)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],a=ec(t,s,s,o);return n.intersect=function(l){return Za(n,o,l)},a}function bQ(t,e,n){const i=e.height,s=i/4,o=e.width+2*s,a=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-i/2},{x:o-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],l=ec(t,o,i,a);return n.intersect=function(u){return Za(n,a,u)},l}function OQ(t,e,n){const r=e.width,i=e.height,s=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function vQ(t,e,n){const r=e.width,i=e.height,s=[{x:-2*i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:i/6,y:-i}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function xQ(t,e,n){const r=e.width,i=e.height,s=[{x:2*i/6,y:0},{x:r+i/6,y:0},{x:r-2*i/6,y:-i},{x:-i/6,y:-i}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function kQ(t,e,n){const r=e.width,i=e.height,s=[{x:-2*i/6,y:0},{x:r+2*i/6,y:0},{x:r-i/6,y:-i},{x:i/6,y:-i}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function wQ(t,e,n){const r=e.width,i=e.height,s=[{x:i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function _Q(t,e,n){const r=e.width,i=e.height,s=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function SQ(t,e,n){const r=e.height,i=e.width+r/4,s=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-i/2).attr("y",-r/2).attr("width",i).attr("height",r);return n.intersect=function(o){return I8(n,o)},s}function CQ(t,e,n){const r=e.width,i=e.height,s=[{x:0,y:0},{x:r,y:0},{x:r,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=ec(t,r,i,s);return n.intersect=function(a){return Za(n,s,a)},o}function TQ(t,e,n){const r=e.width,i=r/2,s=i/(2.5+r/50),o=e.height+s,a="M 0,"+s+" a "+i+","+s+" 0,0,0 "+r+" 0 a "+i+","+s+" 0,0,0 "+-r+" 0 l 0,"+o+" a "+i+","+s+" 0,0,0 "+r+" 0 l 0,"+-o,l=t.attr("label-offset-y",s).insert("path",":first-child").attr("d",a).attr("transform","translate("+-r/2+","+-(o/2+s)+")");return n.intersect=function(u){const h=I8(n,u),d=h.x-n.x;if(i!=0&&(Math.abs(d)<n.width/2||Math.abs(d)==n.width/2&&Math.abs(h.y-n.y)>n.height/2-s)){let f=s*s*(1-d*d/(i*i));f!=0&&(f=Math.sqrt(f)),f=s-f,u.y-n.y>0&&(f=-f),h.y+=f}return h},l}function OHe(t){t.shapes().question=yQ,t.shapes().hexagon=bQ,t.shapes().stadium=SQ,t.shapes().subroutine=CQ,t.shapes().cylinder=TQ,t.shapes().rect_left_inv_arrow=OQ,t.shapes().lean_right=vQ,t.shapes().lean_left=xQ,t.shapes().trapezoid=kQ,t.shapes().inv_trapezoid=wQ,t.shapes().rect_right_inv_arrow=_Q}function vHe(t){t({question:yQ}),t({hexagon:bQ}),t({stadium:SQ}),t({subroutine:CQ}),t({cylinder:TQ}),t({rect_left_inv_arrow:OQ}),t({lean_right:vQ}),t({lean_left:xQ}),t({trapezoid:kQ}),t({inv_trapezoid:wQ}),t({rect_right_inv_arrow:_Q})}function ec(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const xHe={addToRender:OHe,addToRenderV2:vHe},DQ={},kHe=function(t){const e=Object.keys(t);for(const n of e)DQ[n]=t[n]},EQ=function(t,e,n,r,i,s){const o=r?r.select(`[id="${n}"]`):Le(`[id="${n}"]`),a=i||document;Object.keys(t).forEach(function(u){const h=t[u];let d="default";h.classes.length>0&&(d=h.classes.join(" "));const f=nu(h.styles);let p=h.text!==void 0?h.text:h.id,m;if(Hr(ie().flowchart.htmlLabels)){const b={label:p.replace(/fa[blrs]?:fa-[\w-]+/g,O=>`<i class='${O.replace(":"," ")}'></i>`)};m=F8(o,b).node(),m.parentNode.removeChild(m)}else{const b=a.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("style",f.labelStyle.replace("color:","fill:"));const O=p.split(Pt.lineBreakRegex);for(const w of O){const D=a.createElementNS("http://www.w3.org/2000/svg","tspan");D.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),D.setAttribute("dy","1em"),D.setAttribute("x","1"),D.textContent=w,b.appendChild(D)}m=b}let g=0,y="";switch(h.type){case"round":g=5,y="rect";break;case"square":y="rect";break;case"diamond":y="question";break;case"hexagon":y="hexagon";break;case"odd":y="rect_left_inv_arrow";break;case"lean_right":y="lean_right";break;case"lean_left":y="lean_left";break;case"trapezoid":y="trapezoid";break;case"inv_trapezoid":y="inv_trapezoid";break;case"odd_right":y="rect_left_inv_arrow";break;case"circle":y="circle";break;case"ellipse":y="ellipse";break;case"stadium":y="stadium";break;case"subroutine":y="subroutine";break;case"cylinder":y="cylinder";break;case"group":y="rect";break;default:y="rect"}V.warn("Adding node",h.id,h.domId),e.setNode(s.db.lookUpDomId(h.id),{labelType:"svg",labelStyle:f.labelStyle,shape:y,label:m,rx:g,ry:g,class:d,style:f.style,id:s.db.lookUpDomId(h.id)})})},AQ=function(t,e,n){let r=0,i,s;if(t.defaultStyle!==void 0){const o=nu(t.defaultStyle);i=o.style,s=o.labelStyle}t.forEach(function(o){r++;var a="L-"+o.start+"-"+o.end,l="LS-"+o.start,u="LE-"+o.end;const h={};o.type==="arrow_open"?h.arrowhead="none":h.arrowhead="normal";let d="",f="";if(o.style!==void 0){const p=nu(o.style);d=p.style,f=p.labelStyle}else switch(o.stroke){case"normal":d="fill:none",i!==void 0&&(d=i),s!==void 0&&(f=s);break;case"dotted":d="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d=" stroke-width: 3.5px;fill:none";break}h.style=d,h.labelStyle=f,o.interpolate!==void 0?h.curve=Yo(o.interpolate,$s):t.defaultInterpolate!==void 0?h.curve=Yo(t.defaultInterpolate,$s):h.curve=Yo(DQ.curve,$s),o.text===void 0?o.style!==void 0&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",Hr(ie().flowchart.htmlLabels)?(h.labelType="html",h.label=`<span id="L-${a}" class="edgeLabel L-${l}' L-${u}" style="${h.labelStyle}">${o.text.replace(/fa[blrs]?:fa-[\w-]+/g,p=>`<i class='${p.replace(":"," ")}'></i>`)}</span>`):(h.labelType="text",h.label=o.text.replace(Pt.lineBreakRegex,`
`),o.style===void 0&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=a,h.class=l+" "+u,h.minlen=o.length||1,e.setEdge(n.db.lookUpDomId(o.start),n.db.lookUpDomId(o.end),h,r)})},wHe=function(t,e){V.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(n){return V.error(n),{}}},_He=function(t,e,n,r){V.info("Drawing flowchart"),r.db.clear();const{securityLevel:i,flowchart:s}=ie();let o;i==="sandbox"&&(o=Le("#i"+e));const a=Le(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;try{r.parser.parse(t)}catch{V.debug("Parsing failed")}let u=r.db.getDirection();u===void 0&&(u="TD");const h=s.nodeSpacing||50,d=s.rankSpacing||50,f=new Sr({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:h,ranksep:d,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let p;const m=r.db.getSubGraphs();for(let T=m.length-1;T>=0;T--)p=m[T],r.db.addVertex(p.id,p.title,"group",void 0,p.classes);const g=r.db.getVertices();V.warn("Get vertices",g);const y=r.db.getEdges();let b=0;for(b=m.length-1;b>=0;b--){p=m[b],O8("cluster").append("text");for(let T=0;T<p.nodes.length;T++)V.warn("Setting subgraph",p.nodes[T],r.db.lookUpDomId(p.nodes[T]),r.db.lookUpDomId(p.id)),f.setParent(r.db.lookUpDomId(p.nodes[T]),r.db.lookUpDomId(p.id))}EQ(g,f,e,a,l,r),AQ(y,f,r);const O=new gVe;xHe.addToRender(O),O.arrows().none=function(E,P,M,$){const _=E.append("marker").attr("id",P).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Ha(_,M[$+"Style"])},O.arrows().normal=function(E,P){E.append("marker").attr("id",P).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const w=a.select(`[id="${e}"]`),D=a.select("#"+e+" g");for(O(D,f),D.selectAll("g.node").attr("title",function(){return r.db.getTooltip(this.id)}),r.db.indexNodes("subGraph"+b),b=0;b<m.length;b++)if(p=m[b],p.title!=="undefined"){const T=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"] rect'),E=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"]'),P=T[0].x.baseVal.value,M=T[0].y.baseVal.value,$=T[0].width.baseVal.value,_=Le(E[0]).select(".label");_.attr("transform",`translate(${P+$/2}, ${M+14})`),_.attr("id",e+"Text");for(let L=0;L<p.classes.length;L++)E[0].classList.add(p.classes[L])}if(!s.htmlLabels){const T=l.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const E of T){const P=E.getBBox(),M=l.createElementNS("http://www.w3.org/2000/svg","rect");M.setAttribute("rx",0),M.setAttribute("ry",0),M.setAttribute("width",P.width),M.setAttribute("height",P.height),E.insertBefore(M,E.firstChild)}}j4(f,w,s.diagramPadding,s.useMaxWidth),Object.keys(g).forEach(function(T){const E=g[T];if(E.link){const P=a.select("#"+e+' [id="'+r.db.lookUpDomId(T)+'"]');if(P){const M=l.createElementNS("http://www.w3.org/2000/svg","a");M.setAttributeNS("http://www.w3.org/2000/svg","class",E.classes.join(" ")),M.setAttributeNS("http://www.w3.org/2000/svg","href",E.link),M.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?M.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):E.linkTarget&&M.setAttributeNS("http://www.w3.org/2000/svg","target",E.linkTarget);const $=P.insert(function(){return M},":first-child"),A=P.select(".label-container");A&&$.append(function(){return A.node()});const _=P.select(".label");_&&$.append(function(){return _.node()})}}})},SHe={setConf:kHe,addVertices:EQ,addEdges:AQ,getClasses:wHe,draw:_He},MQ={},CHe=function(t){const e=Object.keys(t);for(const n of e)MQ[n]=t[n]},PQ=function(t,e,n,r,i,s){const o=r.select(`[id="${n}"]`);Object.keys(t).forEach(function(l){const u=t[l];let h="default";u.classes.length>0&&(h=u.classes.join(" "));const d=nu(u.styles);let f=u.text!==void 0?u.text:u.id,p;if(Hr(ie().flowchart.htmlLabels)){const y={label:f.replace(/fa[blrs]?:fa-[\w-]+/g,b=>`<i class='${b.replace(":"," ")}'></i>`)};p=F8(o,y).node(),p.parentNode.removeChild(p)}else{const y=i.createElementNS("http://www.w3.org/2000/svg","text");y.setAttribute("style",d.labelStyle.replace("color:","fill:"));const b=f.split(Pt.lineBreakRegex);for(const O of b){const w=i.createElementNS("http://www.w3.org/2000/svg","tspan");w.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),w.setAttribute("dy","1em"),w.setAttribute("x","1"),w.textContent=O,y.appendChild(w)}p=y}let m=0,g="";switch(u.type){case"round":m=5,g="rect";break;case"square":g="rect";break;case"diamond":g="question";break;case"hexagon":g="hexagon";break;case"odd":g="rect_left_inv_arrow";break;case"lean_right":g="lean_right";break;case"lean_left":g="lean_left";break;case"trapezoid":g="trapezoid";break;case"inv_trapezoid":g="inv_trapezoid";break;case"odd_right":g="rect_left_inv_arrow";break;case"circle":g="circle";break;case"ellipse":g="ellipse";break;case"stadium":g="stadium";break;case"subroutine":g="subroutine";break;case"cylinder":g="cylinder";break;case"group":g="rect";break;case"doublecircle":g="doublecircle";break;default:g="rect"}e.setNode(u.id,{labelStyle:d.labelStyle,shape:g,labelText:f,rx:m,ry:m,class:h,style:d.style,id:u.id,link:u.link,linkTarget:u.linkTarget,tooltip:s.db.getTooltip(u.id)||"",domId:s.db.lookUpDomId(u.id),haveCallback:u.haveCallback,width:u.type==="group"?500:void 0,dir:u.dir,type:u.type,props:u.props,padding:ie().flowchart.padding}),V.info("setNode",{labelStyle:d.labelStyle,shape:g,labelText:f,rx:m,ry:m,class:h,style:d.style,id:u.id,domId:s.db.lookUpDomId(u.id),width:u.type==="group"?500:void 0,type:u.type,dir:u.dir,props:u.props,padding:ie().flowchart.padding})})},BQ=function(t,e,n){V.info("abc78 edges = ",t);let r=0,i={},s,o;if(t.defaultStyle!==void 0){const a=nu(t.defaultStyle);s=a.style,o=a.labelStyle}t.forEach(function(a){r++;var l="L-"+a.start+"-"+a.end;i[l]===void 0?(i[l]=0,V.info("abc78 new entry",l,i[l])):(i[l]++,V.info("abc78 new entry",l,i[l]));let u=l+"-"+i[l];V.info("abc78 new link id to be used is",l,u,i[l]);var h="LS-"+a.start,d="LE-"+a.end;const f={style:"",labelStyle:""};switch(f.minlen=a.length||1,a.type==="arrow_open"?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",a.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle";break}let p="",m="";switch(a.stroke){case"normal":p="fill:none;",s!==void 0&&(p=s),o!==void 0&&(m=o),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;";break}if(a.style!==void 0){const g=nu(a.style);p=g.style,m=g.labelStyle}f.style=f.style+=p,f.labelStyle=f.labelStyle+=m,a.interpolate!==void 0?f.curve=Yo(a.interpolate,$s):t.defaultInterpolate!==void 0?f.curve=Yo(t.defaultInterpolate,$s):f.curve=Yo(MQ.curve,$s),a.text===void 0?a.style!==void 0&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType="text",f.label=a.text.replace(Pt.lineBreakRegex,`
`),a.style===void 0&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=u,f.classes="flowchart-link "+h+" "+d,e.setEdge(a.start,a.end,f,r)})},THe=function(t,e){V.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},DHe=function(t,e,n,r){V.info("Drawing flowchart"),r.db.clear(),va.setGen("gen-2"),r.parser.parse(t);let i=r.db.getDirection();i===void 0&&(i="TD");const{securityLevel:s,flowchart:o}=ie(),a=o.nodeSpacing||50,l=o.rankSpacing||50;let u;s==="sandbox"&&(u=Le("#i"+e));const h=Le(s==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=s==="sandbox"?u.nodes()[0].contentDocument:document,f=new Sr({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:a,ranksep:l,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let p;const m=r.db.getSubGraphs();V.info("Subgraphs - ",m);for(let C=m.length-1;C>=0;C--)p=m[C],V.info("Subgraph - ",p),r.db.addVertex(p.id,p.title,"group",void 0,p.classes,p.dir);const g=r.db.getVertices(),y=r.db.getEdges();V.info("Edges",y);let b=0;for(b=m.length-1;b>=0;b--){p=m[b],O8("cluster").append("text");for(let C=0;C<p.nodes.length;C++)V.info("Setting up subgraphs",p.nodes[C],p.id),f.setParent(p.nodes[C],p.id)}PQ(g,f,e,h,d,r),BQ(y,f);const O=h.select(`[id="${e}"]`),w=h.select("#"+e+" g");if(i7(w,f,["point","circle","cross"],"flowchart",e),At.insertTitle(O,"flowchartTitleText",o.titleTopMargin,r.db.getDiagramTitle()),j4(f,O,o.diagramPadding,o.useMaxWidth),r.db.indexNodes("subGraph"+b),!o.htmlLabels){const C=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const T of C){const E=T.getBBox(),P=d.createElementNS("http://www.w3.org/2000/svg","rect");P.setAttribute("rx",0),P.setAttribute("ry",0),P.setAttribute("width",E.width),P.setAttribute("height",E.height),T.insertBefore(P,T.firstChild)}}Object.keys(g).forEach(function(C){const T=g[C];if(T.link){const E=Le("#"+e+' [id="'+C+'"]');if(E){const P=d.createElementNS("http://www.w3.org/2000/svg","a");P.setAttributeNS("http://www.w3.org/2000/svg","class",T.classes.join(" ")),P.setAttributeNS("http://www.w3.org/2000/svg","href",T.link),P.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?P.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):T.linkTarget&&P.setAttributeNS("http://www.w3.org/2000/svg","target",T.linkTarget);const M=E.insert(function(){return P},":first-child"),$=E.select(".label-container");$&&M.append(function(){return $.node()});const A=E.select(".label");A&&M.append(function(){return A.node()})}}})},CO={setConf:CHe,addVertices:PQ,addEdges:BQ,getClasses:THe,draw:DHe};var l6=function(){var t=function(P,M,$,A){for($=$||{},A=P.length;A--;$[P[A]]=M);return $},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],i=[1,15],s=[1,16],o=[1,17],a=[1,18],l=[1,19],u=[1,20],h=[1,21],d=[1,22],f=[1,23],p=[1,24],m=[1,25],g=[1,26],y=[1,27],b=[1,29],O=[1,31],w=[1,34],D=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],C={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(M,$,A,_,L,v,q){var x=v.length-1;switch(L){case 2:return v[x-1];case 3:this.$=[];break;case 4:v[x-1].push(v[x]),this.$=v[x-1];break;case 5:case 6:this.$=v[x];break;case 7:case 8:this.$=[];break;case 9:_.setDateFormat(v[x].substr(11)),this.$=v[x].substr(11);break;case 10:_.enableInclusiveEndDates(),this.$=v[x].substr(18);break;case 11:_.TopAxis(),this.$=v[x].substr(8);break;case 12:_.setAxisFormat(v[x].substr(11)),this.$=v[x].substr(11);break;case 13:_.setTickInterval(v[x].substr(13)),this.$=v[x].substr(13);break;case 14:_.setExcludes(v[x].substr(9)),this.$=v[x].substr(9);break;case 15:_.setIncludes(v[x].substr(9)),this.$=v[x].substr(9);break;case 16:_.setTodayMarker(v[x].substr(12)),this.$=v[x].substr(12);break;case 17:_.setDiagramTitle(v[x].substr(6)),this.$=v[x].substr(6);break;case 18:this.$=v[x].trim(),_.setAccTitle(this.$);break;case 19:case 20:this.$=v[x].trim(),_.setAccDescription(this.$);break;case 21:_.addSection(v[x].substr(8)),this.$=v[x].substr(8);break;case 23:_.addTask(v[x-1],v[x]),this.$="task";break;case 27:this.$=v[x-1],_.setClickEvent(v[x-1],v[x],null);break;case 28:this.$=v[x-2],_.setClickEvent(v[x-2],v[x-1],v[x]);break;case 29:this.$=v[x-2],_.setClickEvent(v[x-2],v[x-1],null),_.setLink(v[x-2],v[x]);break;case 30:this.$=v[x-3],_.setClickEvent(v[x-3],v[x-2],v[x-1]),_.setLink(v[x-3],v[x]);break;case 31:this.$=v[x-2],_.setClickEvent(v[x-2],v[x],null),_.setLink(v[x-2],v[x-1]);break;case 32:this.$=v[x-3],_.setClickEvent(v[x-3],v[x-1],v[x]),_.setLink(v[x-3],v[x-2]);break;case 33:this.$=v[x-1],_.setLink(v[x-1],v[x]);break;case 34:case 40:this.$=v[x-1]+" "+v[x];break;case 35:case 36:case 38:this.$=v[x-2]+" "+v[x-1]+" "+v[x];break;case 37:case 39:this.$=v[x-3]+" "+v[x-2]+" "+v[x-1]+" "+v[x];break;case 41:_.parseDirective("%%{","open_directive");break;case 42:_.parseDirective(v[x],"type_directive");break;case 43:v[x]=v[x].trim().replace(/'/g,'"'),_.parseDirective(v[x],"arg_directive");break;case 44:_.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,30:4,40:n},{1:[3]},{3:6,4:2,5:e,30:4,40:n},t(r,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:s,14:o,15:a,16:l,17:u,18:h,19:d,20:f,21:p,23:m,25:g,26:y,27:28,28:b,30:4,35:O,40:n},{32:32,33:[1,33],43:w},t([33,43],[2,42]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:30,10:35,12:i,13:s,14:o,15:a,16:l,17:u,18:h,19:d,20:f,21:p,23:m,25:g,26:y,27:28,28:b,30:4,35:O,40:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),t(r,[2,17]),{22:[1,36]},{24:[1,37]},t(r,[2,20]),t(r,[2,21]),t(r,[2,22]),{29:[1,38]},t(r,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(r,[2,5]),t(r,[2,18]),t(r,[2,19]),t(r,[2,23]),t(r,[2,27],{37:[1,44],38:[1,45]}),t(r,[2,33],{36:[1,46]}),t(D,[2,25]),{32:47,43:w},{43:[2,43]},t(r,[2,28],{38:[1,48]}),t(r,[2,29]),t(r,[2,31],{37:[1,49]}),{11:[1,50]},t(r,[2,30]),t(r,[2,32]),t(D,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(M,$){if($.recoverable)this.trace(M);else{var A=new Error(M);throw A.hash=$,A}},parse:function(M){var $=this,A=[0],_=[],L=[null],v=[],q=this.table,x="",X=0,de=0,H=2,G=1,F=v.slice.call(arguments,1),B=Object.create(this.lexer),ae={yy:{}};for(var be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,be)&&(ae.yy[be]=this.yy[be]);B.setInput(M,ae.yy),ae.yy.lexer=B,ae.yy.parser=this,typeof B.yylloc>"u"&&(B.yylloc={});var ye=B.yylloc;v.push(ye);var Z=B.options&&B.options.ranges;typeof ae.yy.parseError=="function"?this.parseError=ae.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Qe(){var ge;return ge=_.pop()||B.lex()||G,typeof ge!="number"&&(ge instanceof Array&&(_=ge,ge=_.pop()),ge=$.symbols_[ge]||ge),ge}for(var ne,se,ee,J,z={},W,te,Q,me;;){if(se=A[A.length-1],this.defaultActions[se]?ee=this.defaultActions[se]:((ne===null||typeof ne>"u")&&(ne=Qe()),ee=q[se]&&q[se][ne]),typeof ee>"u"||!ee.length||!ee[0]){var I="";me=[];for(W in q[se])this.terminals_[W]&&W>H&&me.push("'"+this.terminals_[W]+"'");B.showPosition?I="Parse error on line "+(X+1)+`:
`+B.showPosition()+`
Expecting `+me.join(", ")+", got '"+(this.terminals_[ne]||ne)+"'":I="Parse error on line "+(X+1)+": Unexpected "+(ne==G?"end of input":"'"+(this.terminals_[ne]||ne)+"'"),this.parseError(I,{text:B.match,token:this.terminals_[ne]||ne,line:B.yylineno,loc:ye,expected:me})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+ne);switch(ee[0]){case 1:A.push(ne),L.push(B.yytext),v.push(B.yylloc),A.push(ee[1]),ne=null,de=B.yyleng,x=B.yytext,X=B.yylineno,ye=B.yylloc;break;case 2:if(te=this.productions_[ee[1]][1],z.$=L[L.length-te],z._$={first_line:v[v.length-(te||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(te||1)].first_column,last_column:v[v.length-1].last_column},Z&&(z._$.range=[v[v.length-(te||1)].range[0],v[v.length-1].range[1]]),J=this.performAction.apply(z,[x,de,X,ae.yy,ee[1],L,v].concat(F)),typeof J<"u")return J;te&&(A=A.slice(0,-1*te*2),L=L.slice(0,-1*te),v=v.slice(0,-1*te)),A.push(this.productions_[ee[1]][0]),L.push(z.$),v.push(z._$),Q=q[A[A.length-2]][A[A.length-1]],A.push(Q);break;case 3:return!0}}return!0}},T=function(){var P={EOF:1,parseError:function($,A){if(this.yy.parser)this.yy.parser.parseError($,A);else throw new Error($)},setInput:function(M,$){return this.yy=$||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var $=M.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var $=M.length,A=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===_.length?this.yylloc.first_column:0)+_[_.length-A.length].length-A[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),$=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+$+"^"},test_match:function(M,$){var A,_,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),_=M[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],A=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var v in L)this[v]=L[v];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,$,A,_;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),v=0;v<L.length;v++)if(A=this._input.match(this.rules[L[v]]),A&&(!$||A[0].length>$[0].length)){if($=A,_=v,this.options.backtrack_lexer){if(M=this.test_match(A,L[v]),M!==!1)return M;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(M=this.test_match($,L[_]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $=this.next();return $||this.lex()},begin:function($){this.conditionStack.push($)},popState:function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},pushState:function($){this.begin($)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($,A,_,L){switch(_){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return P}();C.lexer=T;function E(){this.yy={}}return E.prototype=C,C.Parser=E,new E}();l6.parser=l6;const EHe=l6,AHe=t=>t.match(/^\s*gantt/)!==null;cs.extend(xVe);cs.extend(lU);cs.extend(cU);let Da="",l7="",c7,u7="",em=[],tm=[],h7={},d7=[],lb=[],e0="";const $Q=["active","done","crit","milestone"];let f7=[],nm=!1,p7=!1,c6=0;const MHe=function(t,e,n){Vn.parseDirective(this,t,e,n)},PHe=function(){d7=[],lb=[],e0="",f7=[],D2=0,h6=void 0,E2=void 0,Dr=[],Da="",l7="",c7=void 0,u7="",em=[],tm=[],nm=!1,p7=!1,c6=0,h7={},Qs()},BHe=function(t){l7=t},$He=function(){return l7},LHe=function(t){c7=t},FHe=function(){return c7},NHe=function(t){u7=t},IHe=function(){return u7},RHe=function(t){Da=t},QHe=function(){nm=!0},zHe=function(){return nm},VHe=function(){p7=!0},WHe=function(){return p7},qHe=function(){return Da},XHe=function(t){em=t.toLowerCase().split(/[\s,]+/)},YHe=function(){return em},UHe=function(t){tm=t.toLowerCase().split(/[\s,]+/)},jHe=function(){return tm},HHe=function(){return h7},ZHe=function(t){e0=t,d7.push(t)},GHe=function(){return d7},KHe=function(){let t=JD();const e=10;let n=0;for(;!t&&n<e;)t=JD(),n++;return lb=Dr,lb},LQ=function(t,e,n,r){return r.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&n.includes("weekends")||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(t.format(e.trim()))},FQ=function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=cs(t.startTime):i=cs(t.startTime,e,!0),i=i.add(1,"d");let s;t.endTime instanceof Date?s=cs(t.endTime):s=cs(t.endTime,e,!0);const[o,a]=JHe(i,s,e,n,r);t.endTime=o.toDate(),t.renderEndTime=a},JHe=function(t,e,n,r,i){let s=!1,o=null;for(;t<=e;)s||(o=e.toDate()),s=LQ(t,n,r,i),s&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,o]},u6=function(t,e,n){n=n.trim();const i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(i!==null){let o=null;if(i[1].split(" ").forEach(function(a){let l=A0(a);l!==void 0&&(o?l.endTime>o.endTime&&(o=l):o=l)}),o)return o.endTime;{const a=new Date;return a.setHours(0,0,0,0),a}}let s=cs(n,e.trim(),!0);if(s.isValid())return s.toDate();{V.debug("Invalid date:"+n),V.debug("With date format:"+e.trim());const o=new Date(n);if(o===void 0||isNaN(o.getTime()))throw new Error("Invalid date:"+n);return o}},NQ=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},IQ=function(t,e,n,r=!1){n=n.trim();let i=cs(n,e.trim(),!0);if(i.isValid())return r&&(i=i.add(1,"d")),i.toDate();let s=cs(t);const[o,a]=NQ(n);if(!Number.isNaN(o)){const l=s.add(o,a);l.isValid()&&(s=l)}return s.toDate()};let D2=0;const _d=function(t){return t===void 0?(D2=D2+1,"task"+D2):t},eZe=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};VQ(r,i,$Q);for(let o=0;o<r.length;o++)r[o]=r[o].trim();let s="";switch(r.length){case 1:i.id=_d(),i.startTime=t.endTime,s=r[0];break;case 2:i.id=_d(),i.startTime=u6(void 0,Da,r[0]),s=r[1];break;case 3:i.id=_d(r[0]),i.startTime=u6(void 0,Da,r[1]),s=r[2];break}return s&&(i.endTime=IQ(i.startTime,Da,s,nm),i.manualEndTime=cs(s,"YYYY-MM-DD",!0).isValid(),FQ(i,Da,tm,em)),i},tZe=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};VQ(r,i,$Q);for(let s=0;s<r.length;s++)r[s]=r[s].trim();switch(r.length){case 1:i.id=_d(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=_d(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=_d(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]};break}return i};let h6,E2,Dr=[];const RQ={},nZe=function(t,e){const n={section:e0,type:e0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=tZe(E2,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=E2,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=c6,c6++;const i=Dr.push(n);E2=n.id,RQ[n.id]=i-1},A0=function(t){const e=RQ[t];return Dr[e]},rZe=function(t,e){const n={section:e0,type:e0,description:t,task:t,classes:[]},r=eZe(h6,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,h6=n,lb.push(n)},JD=function(){const t=function(n){const r=Dr[n];let i="";switch(Dr[n].raw.startTime.type){case"prevTaskEnd":{const s=A0(r.prevTaskId);r.startTime=s.endTime;break}case"getStartDate":i=u6(void 0,Da,Dr[n].raw.startTime.startData),i&&(Dr[n].startTime=i);break}return Dr[n].startTime&&(Dr[n].endTime=IQ(Dr[n].startTime,Da,Dr[n].raw.endTime.data,nm),Dr[n].endTime&&(Dr[n].processed=!0,Dr[n].manualEndTime=cs(Dr[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),FQ(Dr[n],Da,tm,em))),Dr[n].processed};let e=!0;for(const[n,r]of Dr.entries())t(n),e=e&&r.processed;return e},iZe=function(t,e){let n=e;ie().securityLevel!=="loose"&&(n=Kl(e)),t.split(",").forEach(function(r){A0(r)!==void 0&&(zQ(r,()=>{window.open(n,"_self")}),h7[r]=n)}),QQ(t,"clickable")},QQ=function(t,e){t.split(",").forEach(function(n){let r=A0(n);r!==void 0&&r.classes.push(e)})},sZe=function(t,e,n){if(ie().securityLevel!=="loose"||e===void 0)return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<r.length;s++){let o=r[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),r[s]=o}}r.length===0&&r.push(t),A0(t)!==void 0&&zQ(t,()=>{At.runFunc(e,...r)})},zQ=function(t,e){f7.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},oZe=function(t,e,n){t.split(",").forEach(function(r){sZe(r,e,n)}),QQ(t,"clickable")},aZe=function(t){f7.forEach(function(e){e(t)})},m7={parseDirective:MHe,getConfig:()=>ie().gantt,clear:PHe,setDateFormat:RHe,getDateFormat:qHe,enableInclusiveEndDates:QHe,endDatesAreInclusive:zHe,enableTopAxis:VHe,topAxisEnabled:WHe,setAxisFormat:BHe,getAxisFormat:$He,setTickInterval:LHe,getTickInterval:FHe,setTodayMarker:NHe,getTodayMarker:IHe,setAccTitle:Os,getAccTitle:zs,setDiagramTitle:ta,getDiagramTitle:na,setAccDescription:Vs,getAccDescription:Ws,addSection:ZHe,getSections:GHe,getTasks:KHe,addTask:nZe,findTaskById:A0,addTaskOrg:rZe,setIncludes:XHe,getIncludes:YHe,setExcludes:UHe,getExcludes:jHe,setClickEvent:oZe,setLink:iZe,getLinks:HHe,bindFunctions:aZe,parseDuration:NQ,isInvalidDate:LQ};function VQ(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(i){const s="^\\s*"+i+"\\s*$",o=new RegExp(s);t[0].match(o)&&(e[i]=!0,t.shift(1),r=!0)})}const lZe=function(){V.debug("Something is calling, setConf, remove the call")};let ll;const cZe=function(t,e,n,r){const i=ie().gantt,s=ie().securityLevel;let o;s==="sandbox"&&(o=Le("#i"+e));const a=Le(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=s==="sandbox"?o.nodes()[0].contentDocument:document,u=l.getElementById(e);ll=u.parentElement.offsetWidth,ll===void 0&&(ll=1200),i.useWidth!==void 0&&(ll=i.useWidth);const h=r.db.getTasks(),d=h.length*(i.barHeight+i.barGap)+2*i.topPadding;u.setAttribute("viewBox","0 0 "+ll+" "+d);const f=a.select(`[id="${e}"]`),p=dIe().domain([YPe(h,function($){return $.startTime}),XPe(h,function($){return $.endTime})]).rangeRound([0,ll-i.leftPadding-i.rightPadding]);let m=[];for(const $ of h)m.push($.type);const g=m;m=E(m);function y($,A){const _=$.startTime,L=A.startTime;let v=0;return _>L?v=1:_<L&&(v=-1),v}h.sort(y),b(h,ll,d),ea(f,d,ll,i.useMaxWidth),f.append("text").text(r.db.getDiagramTitle()).attr("x",ll/2).attr("y",i.titleTopMargin).attr("class","titleText");function b($,A,_){const L=i.barHeight,v=L+i.barGap,q=i.topPadding,x=i.leftPadding,X=SN().domain([0,m.length]).range(["#00B9FA","#F95002"]).interpolate(fLe);w(v,q,x,A,_,$,r.db.getExcludes(),r.db.getIncludes()),D(x,q,A,_),O($,v,q,x,L,X,A),C(v,q),T(x,q,A,_)}function O($,A,_,L,v,q,x){f.append("g").selectAll("rect").data($).enter().append("rect").attr("x",0).attr("y",function(G,F){return F=G.order,F*A+_-2}).attr("width",function(){return x-i.rightPadding/2}).attr("height",A).attr("class",function(G){for(const[F,B]of m.entries())if(G.type===B)return"section section"+F%i.numberSectionStyles;return"section section0"});const X=f.append("g").selectAll("rect").data($).enter(),de=r.db.getLinks();if(X.append("rect").attr("id",function(G){return G.id}).attr("rx",3).attr("ry",3).attr("x",function(G){return G.milestone?p(G.startTime)+L+.5*(p(G.endTime)-p(G.startTime))-.5*v:p(G.startTime)+L}).attr("y",function(G,F){return F=G.order,F*A+_}).attr("width",function(G){return G.milestone?v:p(G.renderEndTime||G.endTime)-p(G.startTime)}).attr("height",v).attr("transform-origin",function(G,F){return F=G.order,(p(G.startTime)+L+.5*(p(G.endTime)-p(G.startTime))).toString()+"px "+(F*A+_+.5*v).toString()+"px"}).attr("class",function(G){const F="task";let B="";G.classes.length>0&&(B=G.classes.join(" "));let ae=0;for(const[ye,Z]of m.entries())G.type===Z&&(ae=ye%i.numberSectionStyles);let be="";return G.active?G.crit?be+=" activeCrit":be=" active":G.done?G.crit?be=" doneCrit":be=" done":G.crit&&(be+=" crit"),be.length===0&&(be=" task"),G.milestone&&(be=" milestone "+be),be+=ae,be+=" "+B,F+be}),X.append("text").attr("id",function(G){return G.id+"-text"}).text(function(G){return G.task}).attr("font-size",i.fontSize).attr("x",function(G){let F=p(G.startTime),B=p(G.renderEndTime||G.endTime);G.milestone&&(F+=.5*(p(G.endTime)-p(G.startTime))-.5*v),G.milestone&&(B=F+v);const ae=this.getBBox().width;return ae>B-F?B+ae+1.5*i.leftPadding>x?F+L-5:B+L+5:(B-F)/2+F+L}).attr("y",function(G,F){return F=G.order,F*A+i.barHeight/2+(i.fontSize/2-2)+_}).attr("text-height",v).attr("class",function(G){const F=p(G.startTime);let B=p(G.endTime);G.milestone&&(B=F+v);const ae=this.getBBox().width;let be="";G.classes.length>0&&(be=G.classes.join(" "));let ye=0;for(const[Qe,ne]of m.entries())G.type===ne&&(ye=Qe%i.numberSectionStyles);let Z="";return G.active&&(G.crit?Z="activeCritText"+ye:Z="activeText"+ye),G.done?G.crit?Z=Z+" doneCritText"+ye:Z=Z+" doneText"+ye:G.crit&&(Z=Z+" critText"+ye),G.milestone&&(Z+=" milestoneText"),ae>B-F?B+ae+1.5*i.leftPadding>x?be+" taskTextOutsideLeft taskTextOutside"+ye+" "+Z:be+" taskTextOutsideRight taskTextOutside"+ye+" "+Z+" width-"+ae:be+" taskText taskText"+ye+" "+Z+" width-"+ae}),ie().securityLevel==="sandbox"){let G;G=Le("#i"+e);const F=G.nodes()[0].contentDocument;X.filter(function(B){return de[B.id]!==void 0}).each(function(B){var ae=F.querySelector("#"+B.id),be=F.querySelector("#"+B.id+"-text");const ye=ae.parentNode;var Z=F.createElement("a");Z.setAttribute("xlink:href",de[B.id]),Z.setAttribute("target","_top"),ye.appendChild(Z),Z.appendChild(ae),Z.appendChild(be)})}}function w($,A,_,L,v,q,x,X){const de=q.reduce((ye,{startTime:Z})=>ye?Math.min(ye,Z):Z,0),H=q.reduce((ye,{endTime:Z})=>ye?Math.max(ye,Z):Z,0),G=r.db.getDateFormat();if(!de||!H)return;const F=[];let B=null,ae=cs(de);for(;ae.valueOf()<=H;)r.db.isInvalidDate(ae,G,x,X)?B?B.end=ae:B={start:ae,end:ae}:B&&(F.push(B),B=null),ae=ae.add(1,"d");f.append("g").selectAll("rect").data(F).enter().append("rect").attr("id",function(ye){return"exclude-"+ye.start.format("YYYY-MM-DD")}).attr("x",function(ye){return p(ye.start)+_}).attr("y",i.gridLineStartPadding).attr("width",function(ye){const Z=ye.end.add(1,"day");return p(Z)-p(ye.start)}).attr("height",v-A-i.gridLineStartPadding).attr("transform-origin",function(ye,Z){return(p(ye.start)+_+.5*(p(ye.end)-p(ye.start))).toString()+"px "+(Z*$+.5*v).toString()+"px"}).attr("class","exclude-range")}function D($,A,_,L){let v=eBe(p).tickSize(-L+A+i.gridLineStartPadding).tickFormat(By(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const x=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||i.tickInterval);if(x!==null){const X=x[1];switch(x[2]){case"minute":v.ticks(Rp.every(X));break;case"hour":v.ticks(Qp.every(X));break;case"day":v.ticks(gh.every(X));break;case"week":v.ticks(Ud.every(X));break;case"month":v.ticks(zp.every(X));break}}if(f.append("g").attr("class","grid").attr("transform","translate("+$+", "+(L-50)+")").call(v).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let X=JPe(p).tickSize(-L+A+i.gridLineStartPadding).tickFormat(By(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(x!==null){const de=x[1];switch(x[2]){case"minute":X.ticks(Rp.every(de));break;case"hour":X.ticks(Qp.every(de));break;case"day":X.ticks(gh.every(de));break;case"week":X.ticks(Ud.every(de));break;case"month":X.ticks(zp.every(de));break}}f.append("g").attr("class","grid").attr("transform","translate("+$+", "+A+")").call(X).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function C($,A){const _=[];let L=0;for(const[v,q]of m.entries())_[v]=[q,M(q,g)];f.append("g").selectAll("text").data(_).enter().append(function(v){const q=v[0].split(Pt.lineBreakRegex),x=-(q.length-1)/2,X=l.createElementNS("http://www.w3.org/2000/svg","text");X.setAttribute("dy",x+"em");for(const[de,H]of q.entries()){const G=l.createElementNS("http://www.w3.org/2000/svg","tspan");G.setAttribute("alignment-baseline","central"),G.setAttribute("x","10"),de>0&&G.setAttribute("dy","1em"),G.textContent=H,X.appendChild(G)}return X}).attr("x",10).attr("y",function(v,q){if(q>0)for(let x=0;x<q;x++)return L+=_[q-1][1],v[1]*$/2+L*$+A;else return v[1]*$/2+A}).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",function(v){for(const[q,x]of m.entries())if(v[0]===x)return"sectionTitle sectionTitle"+q%i.numberSectionStyles;return"sectionTitle"})}function T($,A,_,L){const v=r.db.getTodayMarker();if(v==="off")return;const q=f.append("g").attr("class","today"),x=new Date,X=q.append("line");X.attr("x1",p(x)+$).attr("x2",p(x)+$).attr("y1",i.titleTopMargin).attr("y2",L-i.titleTopMargin).attr("class","today"),v!==""&&X.attr("style",v.replace(/,/g,";"))}function E($){const A={},_=[];for(let L=0,v=$.length;L<v;++L)Object.prototype.hasOwnProperty.call(A,$[L])||(A[$[L]]=!0,_.push($[L]));return _}function P($){let A=$.length;const _={};for(;A;)_[$[--A]]=(_[$[A]]||0)+1;return _}function M($,A){return P(A)[$]||0}},uZe={setConf:lZe,draw:cZe};var d6=function(){var t=function(s,o,a,l){for(a=a||{},l=s.length;l--;a[s[l]]=o);return a},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(o,a,l,u,h,d,f){switch(d.length-1,h){case 1:return u;case 4:break;case 6:u.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(o,a){if(a.recoverable)this.trace(o);else{var l=new Error(o);throw l.hash=a,l}},parse:function(o){var a=this,l=[0],u=[],h=[null],d=[],f=this.table,p="",m=0,g=0,y=2,b=1,O=d.slice.call(arguments,1),w=Object.create(this.lexer),D={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(D.yy[C]=this.yy[C]);w.setInput(o,D.yy),D.yy.lexer=w,D.yy.parser=this,typeof w.yylloc>"u"&&(w.yylloc={});var T=w.yylloc;d.push(T);var E=w.options&&w.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function P(){var H;return H=u.pop()||w.lex()||b,typeof H!="number"&&(H instanceof Array&&(u=H,H=u.pop()),H=a.symbols_[H]||H),H}for(var M,$,A,_,L={},v,q,x,X;;){if($=l[l.length-1],this.defaultActions[$]?A=this.defaultActions[$]:((M===null||typeof M>"u")&&(M=P()),A=f[$]&&f[$][M]),typeof A>"u"||!A.length||!A[0]){var de="";X=[];for(v in f[$])this.terminals_[v]&&v>y&&X.push("'"+this.terminals_[v]+"'");w.showPosition?de="Parse error on line "+(m+1)+`:
`+w.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[M]||M)+"'":de="Parse error on line "+(m+1)+": Unexpected "+(M==b?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(de,{text:w.match,token:this.terminals_[M]||M,line:w.yylineno,loc:T,expected:X})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+M);switch(A[0]){case 1:l.push(M),h.push(w.yytext),d.push(w.yylloc),l.push(A[1]),M=null,g=w.yyleng,p=w.yytext,m=w.yylineno,T=w.yylloc;break;case 2:if(q=this.productions_[A[1]][1],L.$=h[h.length-q],L._$={first_line:d[d.length-(q||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(q||1)].first_column,last_column:d[d.length-1].last_column},E&&(L._$.range=[d[d.length-(q||1)].range[0],d[d.length-1].range[1]]),_=this.performAction.apply(L,[p,g,m,D.yy,A[1],h,d].concat(O)),typeof _<"u")return _;q&&(l=l.slice(0,-1*q*2),h=h.slice(0,-1*q),d=d.slice(0,-1*q)),l.push(this.productions_[A[1]][0]),h.push(L.$),d.push(L._$),x=f[l[l.length-2]][l[l.length-1]],l.push(x);break;case 3:return!0}}return!0}},r=function(){var s={EOF:1,parseError:function(a,l){if(this.yy.parser)this.yy.parser.parseError(a,l);else throw new Error(a)},setInput:function(o,a){return this.yy=a||this.yy||{},this._input=o,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.offset++,this.match+=o,this.matched+=o;var a=o.match(/(?:\r\n?|\n).*/g);return a?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),o},unput:function(o){var a=o.length,l=o.split(/(?:\r\n?|\n)/g);this._input=o+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-a),this.offset-=a;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===u.length?this.yylloc.first_column:0)+u[u.length-l.length].length-l[0].length:this.yylloc.first_column-a},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-a]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(o){this.unput(this.match.slice(o))},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+a+"^"},test_match:function(o,a){var l,u,h;if(this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0))),u=o[0].match(/(?:\r\n?|\n).*/g),u&&(this.yylineno+=u.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],l=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l)return l;if(this._backtrack){for(var d in h)this[d]=h[d];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,a,l,u;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),d=0;d<h.length;d++)if(l=this._input.match(this.rules[h[d]]),l&&(!a||l[0].length>a[0].length)){if(a=l,u=d,this.options.backtrack_lexer){if(o=this.test_match(l,h[d]),o!==!1)return o;if(this._backtrack){a=!1;continue}else return!1}else if(!this.options.flex)break}return a?(o=this.test_match(a,h[u]),o!==!1?o:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(a,l,u,h){switch(u){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return s}();n.lexer=r;function i(){this.yy={}}return i.prototype=n,n.Parser=i,new i}();d6.parser=d6;const hZe=d6;var WQ="",qQ=!1;const dZe=t=>{V.debug("Setting message to: "+t),WQ=t},fZe=()=>WQ,pZe=t=>{qQ=t},mZe=()=>qQ,gZe={setMessage:dZe,getMessage:fZe,setInfo:pZe,getInfo:mZe,clear:Qs},yZe=(t,e,n)=>{try{V.debug(`Rendering info diagram
`+t);const r=ie().securityLevel;let i;r==="sandbox"&&(i=Le("#i"+e));const o=Le(r==="sandbox"?i.nodes()[0].contentDocument.body:"body").select("#"+e);o.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),o.attr("height",100),o.attr("width",400)}catch(r){V.error("Error while rendering info diagram"),V.error(r.message)}},bZe={draw:yZe},OZe=t=>t.match(/^\s*info/)!==null;var f6=function(){var t=function(T,E,P,M){for(P=P||{},M=T.length;M--;P[T[M]]=E);return P},e=[1,4],n=[1,5],r=[1,6],i=[1,7],s=[1,9],o=[1,11,13,15,17,19,20,26,27,28,29],a=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],u=[26,27,28],h=[2,8],d=[1,18],f=[1,19],p=[1,20],m=[1,21],g=[1,22],y=[1,23],b=[1,28],O=[6,26,27,28,29],w={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(E,P,M,$,A,_,L){var v=_.length-1;switch(A){case 4:$.setShowData(!0);break;case 7:this.$=_[v-1];break;case 9:$.addSection(_[v-1],$.cleanupValue(_[v]));break;case 10:this.$=_[v].trim(),$.setDiagramTitle(this.$);break;case 11:this.$=_[v].trim(),$.setAccTitle(this.$);break;case 12:case 13:this.$=_[v].trim(),$.setAccDescription(this.$);break;case 14:$.addSection(_[v].substr(8)),this.$=_[v].substr(8);break;case 21:$.parseDirective("%%{","open_directive");break;case 22:$.parseDirective(_[v],"type_directive");break;case 23:_[v]=_[v].trim().replace(/'/g,'"'),$.parseDirective(_[v],"arg_directive");break;case 24:$.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},t(o,a,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(u,h,{21:8,9:16,10:17,5:24,1:[2,3],11:d,13:f,15:p,17:m,19:g,20:y,29:s}),t(o,a,{7:25}),{23:26,24:[1,27],32:b},t([24,32],[2,22]),t(o,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(u,[2,13]),t(u,[2,14]),t(u,[2,15]),t(u,h,{21:8,9:16,10:17,5:24,1:[2,4],11:d,13:f,15:p,17:m,19:g,20:y,29:s}),t(O,[2,16]),{25:34,31:[1,35]},t(O,[2,24]),t(o,[2,7]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),{23:36,32:b},{32:[2,23]},t(O,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(E,P){if(P.recoverable)this.trace(E);else{var M=new Error(E);throw M.hash=P,M}},parse:function(E){var P=this,M=[0],$=[],A=[null],_=[],L=this.table,v="",q=0,x=0,X=2,de=1,H=_.slice.call(arguments,1),G=Object.create(this.lexer),F={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(F.yy[B]=this.yy[B]);G.setInput(E,F.yy),F.yy.lexer=G,F.yy.parser=this,typeof G.yylloc>"u"&&(G.yylloc={});var ae=G.yylloc;_.push(ae);var be=G.options&&G.options.ranges;typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ye(){var me;return me=$.pop()||G.lex()||de,typeof me!="number"&&(me instanceof Array&&($=me,me=$.pop()),me=P.symbols_[me]||me),me}for(var Z,Qe,ne,se,ee={},J,z,W,te;;){if(Qe=M[M.length-1],this.defaultActions[Qe]?ne=this.defaultActions[Qe]:((Z===null||typeof Z>"u")&&(Z=ye()),ne=L[Qe]&&L[Qe][Z]),typeof ne>"u"||!ne.length||!ne[0]){var Q="";te=[];for(J in L[Qe])this.terminals_[J]&&J>X&&te.push("'"+this.terminals_[J]+"'");G.showPosition?Q="Parse error on line "+(q+1)+`:
`+G.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":Q="Parse error on line "+(q+1)+": Unexpected "+(Z==de?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(Q,{text:G.match,token:this.terminals_[Z]||Z,line:G.yylineno,loc:ae,expected:te})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qe+", token: "+Z);switch(ne[0]){case 1:M.push(Z),A.push(G.yytext),_.push(G.yylloc),M.push(ne[1]),Z=null,x=G.yyleng,v=G.yytext,q=G.yylineno,ae=G.yylloc;break;case 2:if(z=this.productions_[ne[1]][1],ee.$=A[A.length-z],ee._$={first_line:_[_.length-(z||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(z||1)].first_column,last_column:_[_.length-1].last_column},be&&(ee._$.range=[_[_.length-(z||1)].range[0],_[_.length-1].range[1]]),se=this.performAction.apply(ee,[v,x,q,F.yy,ne[1],A,_].concat(H)),typeof se<"u")return se;z&&(M=M.slice(0,-1*z*2),A=A.slice(0,-1*z),_=_.slice(0,-1*z)),M.push(this.productions_[ne[1]][0]),A.push(ee.$),_.push(ee._$),W=L[M[M.length-2]][M[M.length-1]],M.push(W);break;case 3:return!0}}return!0}},D=function(){var T={EOF:1,parseError:function(P,M){if(this.yy.parser)this.yy.parser.parseError(P,M);else throw new Error(P)},setInput:function(E,P){return this.yy=P||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var P=E.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},unput:function(E){var P=E.length,M=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var $=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===$.length?this.yylloc.first_column:0)+$[$.length-M.length].length-M[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(E){this.unput(this.match.slice(E))},pastInput:function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var E=this.pastInput(),P=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+P+"^"},test_match:function(E,P){var M,$,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),$=E[0].match(/(?:\r\n?|\n).*/g),$&&(this.yylineno+=$.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$?$[$.length-1].length-$[$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],M=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var _ in A)this[_]=A[_];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,P,M,$;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),_=0;_<A.length;_++)if(M=this._input.match(this.rules[A[_]]),M&&(!P||M[0].length>P[0].length)){if(P=M,$=_,this.options.backtrack_lexer){if(E=this.test_match(M,A[_]),E!==!1)return E;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(E=this.test_match(P,A[$]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var P=this.next();return P||this.lex()},begin:function(P){this.conditionStack.push(P)},popState:function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},pushState:function(P){this.begin(P)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(P,M,$,A){switch($){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return T}();w.lexer=D;function C(){this.yy={}}return C.prototype=w,w.Parser=C,new C}();f6.parser=f6;const vZe=f6,xZe=t=>t.match(/^\s*pie/)!==null||t.match(/^\s*bar/)!==null;let cb={},g7=!1;const kZe=function(t,e,n){Vn.parseDirective(this,t,e,n)},wZe=function(t,e){t=Pt.sanitizeText(t,ie()),cb[t]===void 0&&(cb[t]=e,V.debug("Added new section :",t))},_Ze=()=>cb,SZe=function(t){g7=t},CZe=function(){return g7},TZe=function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},DZe=function(){cb={},g7=!1,Qs()},EZe={parseDirective:kZe,getConfig:()=>ie().pie,addSection:wZe,getSections:_Ze,cleanupValue:TZe,clear:DZe,setAccTitle:Os,getAccTitle:zs,setDiagramTitle:ta,getDiagramTitle:na,setShowData:SZe,getShowData:CZe,getAccDescription:Ws,setAccDescription:Vs};let cl=ie(),ul;const H0=450,AZe=(t,e,n,r)=>{try{cl=ie(),V.debug(`Rendering info diagram
`+t);const O=ie().securityLevel;let w;O==="sandbox"&&(w=Le("#i"+e));const D=Le(O==="sandbox"?w.nodes()[0].contentDocument.body:"body"),C=O==="sandbox"?w.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),V.debug("Parsed info diagram");const T=C.getElementById(e);ul=T.parentElement.offsetWidth,ul===void 0&&(ul=1200),cl.useWidth!==void 0&&(ul=cl.useWidth),cl.pie.useWidth!==void 0&&(ul=cl.pie.useWidth);const E=D.select("#"+e);ea(E,H0,ul,cl.pie.useMaxWidth),T.setAttribute("viewBox","0 0 "+ul+" "+H0);var i=40,s=18,o=4,a=Math.min(ul,H0)/2-i,l=E.append("g").attr("transform","translate("+ul/2+","+H0/2+")"),u=r.db.getSections(),h=0;Object.keys(u).forEach(function(M){h+=u[M]});const P=cl.themeVariables;var d=[P.pie1,P.pie2,P.pie3,P.pie4,P.pie5,P.pie6,P.pie7,P.pie8,P.pie9,P.pie10,P.pie11,P.pie12],f=kN().range(d),p=Object.entries(u).map(function(M,$){return{order:$,name:M[0],value:M[1]}}),m=SIe().value(function(M){return M.value}).sort(function(M,$){return M.order-$.order}),g=m(p),y=Ix().innerRadius(0).outerRadius(a);l.selectAll("mySlices").data(g).enter().append("path").attr("d",y).attr("fill",function(M){return f(M.data.name)}).attr("class","pieCircle"),l.selectAll("mySlices").data(g).enter().append("text").text(function(M){return(M.data.value/h*100).toFixed(0)+"%"}).attr("transform",function(M){return"translate("+y.centroid(M)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-(H0-50)/2).attr("class","pieTitleText");var b=l.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",function(M,$){const A=s+o,_=A*f.domain().length/2,L=12*s,v=$*A-_;return"translate("+L+","+v+")"});b.append("rect").attr("width",s).attr("height",s).style("fill",f).style("stroke",f),b.data(g).append("text").attr("x",s+o).attr("y",s-o).text(function(M){return r.db.getShowData()||cl.showData||cl.pie.showData?M.data.name+" ["+M.data.value+"]":M.data.name})}catch(O){V.error("Error while rendering info diagram"),V.error(O)}},MZe={draw:AZe};var p6=function(){var t=function(Qe,ne,se,ee){for(se=se||{},ee=Qe.length;ee--;se[Qe[ee]]=ne);return se},e=[1,3],n=[1,5],r=[1,6],i=[1,7],s=[1,8],o=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],a=[1,22],l=[2,13],u=[1,26],h=[1,27],d=[1,28],f=[1,29],p=[1,30],m=[1,31],g=[1,24],y=[1,32],b=[1,33],O=[1,36],w=[71,72],D=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],C=[1,56],T=[1,57],E=[1,58],P=[1,59],M=[1,60],$=[1,61],A=[1,62],_=[62,63],L=[1,74],v=[1,70],q=[1,71],x=[1,72],X=[1,73],de=[1,75],H=[1,79],G=[1,80],F=[1,77],B=[1,78],ae=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],be={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(ne,se,ee,J,z,W,te){var Q=W.length-1;switch(z){case 6:this.$=W[Q].trim(),J.setAccTitle(this.$);break;case 7:case 8:this.$=W[Q].trim(),J.setAccDescription(this.$);break;case 9:J.parseDirective("%%{","open_directive");break;case 10:J.parseDirective(W[Q],"type_directive");break;case 11:W[Q]=W[Q].trim().replace(/'/g,'"'),J.parseDirective(W[Q],"arg_directive");break;case 12:J.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:J.addRequirement(W[Q-3],W[Q-4]);break;case 20:J.setNewReqId(W[Q-2]);break;case 21:J.setNewReqText(W[Q-2]);break;case 22:J.setNewReqRisk(W[Q-2]);break;case 23:J.setNewReqVerifyMethod(W[Q-2]);break;case 26:this.$=J.RequirementType.REQUIREMENT;break;case 27:this.$=J.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=J.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=J.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=J.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=J.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=J.RiskLevel.LOW_RISK;break;case 33:this.$=J.RiskLevel.MED_RISK;break;case 34:this.$=J.RiskLevel.HIGH_RISK;break;case 35:this.$=J.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=J.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=J.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=J.VerifyType.VERIFY_TEST;break;case 39:J.addElement(W[Q-3]);break;case 40:J.setNewElementType(W[Q-2]);break;case 41:J.setNewElementDocRef(W[Q-2]);break;case 44:J.addRelationship(W[Q-2],W[Q],W[Q-4]);break;case 45:J.addRelationship(W[Q-2],W[Q-4],W[Q]);break;case 46:this.$=J.Relationships.CONTAINS;break;case 47:this.$=J.Relationships.COPIES;break;case 48:this.$=J.Relationships.DERIVES;break;case 49:this.$=J.Relationships.SATISFIES;break;case 50:this.$=J.Relationships.VERIFIES;break;case 51:this.$=J.Relationships.REFINES;break;case 52:this.$=J.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:s},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:s},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(o,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:s},{1:[2,2]},{4:21,5:a,7:17,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{11:34,12:[1,35],22:O},t([12,22],[2,10]),t(o,[2,6]),t(o,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:a,7:38,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{4:21,5:a,7:39,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{4:21,5:a,7:40,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{4:21,5:a,7:41,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{4:21,5:a,7:42,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:m,53:g,71:y,72:b},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(w,[2,26]),t(w,[2,27]),t(w,[2,28]),t(w,[2,29]),t(w,[2,30]),t(w,[2,31]),t(D,[2,55]),t(D,[2,56]),t(o,[2,4]),{13:51,21:[1,52]},t(o,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:C,65:T,66:E,67:P,68:M,69:$,70:A},{61:63,64:C,65:T,66:E,67:P,68:M,69:$,70:A},{11:64,22:O},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(_,[2,46]),t(_,[2,47]),t(_,[2,48]),t(_,[2,49]),t(_,[2,50]),t(_,[2,51]),t(_,[2,52]),{63:[1,68]},t(o,[2,5]),{5:L,29:69,30:v,33:q,35:x,37:X,39:de},{5:H,39:G,55:76,56:F,58:B},{32:81,71:y,72:b},{32:82,71:y,72:b},t(ae,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:L,29:87,30:v,33:q,35:x,37:X,39:de},t(ae,[2,25]),t(ae,[2,39]),{31:[1,88]},{31:[1,89]},{5:H,39:G,55:90,56:F,58:B},t(ae,[2,43]),t(ae,[2,44]),t(ae,[2,45]),{32:91,71:y,72:b},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(ae,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(ae,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:L,29:116,30:v,33:q,35:x,37:X,39:de},{5:L,29:117,30:v,33:q,35:x,37:X,39:de},{5:L,29:118,30:v,33:q,35:x,37:X,39:de},{5:L,29:119,30:v,33:q,35:x,37:X,39:de},{5:H,39:G,55:120,56:F,58:B},{5:H,39:G,55:121,56:F,58:B},t(ae,[2,20]),t(ae,[2,21]),t(ae,[2,22]),t(ae,[2,23]),t(ae,[2,40]),t(ae,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(ne,se){if(se.recoverable)this.trace(ne);else{var ee=new Error(ne);throw ee.hash=se,ee}},parse:function(ne){var se=this,ee=[0],J=[],z=[null],W=[],te=this.table,Q="",me=0,I=0,ge=2,Y=1,$e=W.slice.call(arguments,1),Se=Object.create(this.lexer),De={yy:{}};for(var _e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_e)&&(De.yy[_e]=this.yy[_e]);Se.setInput(ne,De.yy),De.yy.lexer=Se,De.yy.parser=this,typeof Se.yylloc>"u"&&(Se.yylloc={});var Te=Se.yylloc;W.push(Te);var ke=Se.options&&Se.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Me(){var we;return we=J.pop()||Se.lex()||Y,typeof we!="number"&&(we instanceof Array&&(J=we,we=J.pop()),we=se.symbols_[we]||we),we}for(var pe,Ce,Be,qe,Je={},Nt,Ne,rt,Ke;;){if(Ce=ee[ee.length-1],this.defaultActions[Ce]?Be=this.defaultActions[Ce]:((pe===null||typeof pe>"u")&&(pe=Me()),Be=te[Ce]&&te[Ce][pe]),typeof Be>"u"||!Be.length||!Be[0]){var Pe="";Ke=[];for(Nt in te[Ce])this.terminals_[Nt]&&Nt>ge&&Ke.push("'"+this.terminals_[Nt]+"'");Se.showPosition?Pe="Parse error on line "+(me+1)+`:
`+Se.showPosition()+`
Expecting `+Ke.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":Pe="Parse error on line "+(me+1)+": Unexpected "+(pe==Y?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(Pe,{text:Se.match,token:this.terminals_[pe]||pe,line:Se.yylineno,loc:Te,expected:Ke})}if(Be[0]instanceof Array&&Be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ce+", token: "+pe);switch(Be[0]){case 1:ee.push(pe),z.push(Se.yytext),W.push(Se.yylloc),ee.push(Be[1]),pe=null,I=Se.yyleng,Q=Se.yytext,me=Se.yylineno,Te=Se.yylloc;break;case 2:if(Ne=this.productions_[Be[1]][1],Je.$=z[z.length-Ne],Je._$={first_line:W[W.length-(Ne||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(Ne||1)].first_column,last_column:W[W.length-1].last_column},ke&&(Je._$.range=[W[W.length-(Ne||1)].range[0],W[W.length-1].range[1]]),qe=this.performAction.apply(Je,[Q,I,me,De.yy,Be[1],z,W].concat($e)),typeof qe<"u")return qe;Ne&&(ee=ee.slice(0,-1*Ne*2),z=z.slice(0,-1*Ne),W=W.slice(0,-1*Ne)),ee.push(this.productions_[Be[1]][0]),z.push(Je.$),W.push(Je._$),rt=te[ee[ee.length-2]][ee[ee.length-1]],ee.push(rt);break;case 3:return!0}}return!0}},ye=function(){var Qe={EOF:1,parseError:function(se,ee){if(this.yy.parser)this.yy.parser.parseError(se,ee);else throw new Error(se)},setInput:function(ne,se){return this.yy=se||this.yy||{},this._input=ne,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ne=this._input[0];this.yytext+=ne,this.yyleng++,this.offset++,this.match+=ne,this.matched+=ne;var se=ne.match(/(?:\r\n?|\n).*/g);return se?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ne},unput:function(ne){var se=ne.length,ee=ne.split(/(?:\r\n?|\n)/g);this._input=ne+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-se),this.offset-=se;var J=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===J.length?this.yylloc.first_column:0)+J[J.length-ee.length].length-ee[0].length:this.yylloc.first_column-se},this.options.ranges&&(this.yylloc.range=[z[0],z[0]+this.yyleng-se]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ne){this.unput(this.match.slice(ne))},pastInput:function(){var ne=this.matched.substr(0,this.matched.length-this.match.length);return(ne.length>20?"...":"")+ne.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ne=this.match;return ne.length<20&&(ne+=this._input.substr(0,20-ne.length)),(ne.substr(0,20)+(ne.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ne=this.pastInput(),se=new Array(ne.length+1).join("-");return ne+this.upcomingInput()+`
`+se+"^"},test_match:function(ne,se){var ee,J,z;if(this.options.backtrack_lexer&&(z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(z.yylloc.range=this.yylloc.range.slice(0))),J=ne[0].match(/(?:\r\n?|\n).*/g),J&&(this.yylineno+=J.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:J?J[J.length-1].length-J[J.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ne[0].length},this.yytext+=ne[0],this.match+=ne[0],this.matches=ne,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ne[0].length),this.matched+=ne[0],ee=this.performAction.call(this,this.yy,this,se,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var W in z)this[W]=z[W];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ne,se,ee,J;this._more||(this.yytext="",this.match="");for(var z=this._currentRules(),W=0;W<z.length;W++)if(ee=this._input.match(this.rules[z[W]]),ee&&(!se||ee[0].length>se[0].length)){if(se=ee,J=W,this.options.backtrack_lexer){if(ne=this.test_match(ee,z[W]),ne!==!1)return ne;if(this._backtrack){se=!1;continue}else return!1}else if(!this.options.flex)break}return se?(ne=this.test_match(se,z[J]),ne!==!1?ne:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var se=this.next();return se||this.lex()},begin:function(se){this.conditionStack.push(se)},popState:function(){var se=this.conditionStack.length-1;return se>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(se){return se=this.conditionStack.length-1-Math.abs(se||0),se>=0?this.conditionStack[se]:"INITIAL"},pushState:function(se){this.begin(se)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(se,ee,J,z){switch(J){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return ee.yytext=ee.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return Qe}();be.lexer=ye;function Z(){this.yy={}}return Z.prototype=be,be.Parser=Z,new Z}();p6.parser=p6;const PZe=p6,BZe=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let y7=[],ls={},op={},Wc={},ap={};const $Ze={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},LZe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},FZe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},NZe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},IZe=function(t,e,n){Vn.parseDirective(this,t,e,n)},RZe=(t,e)=>(op[t]===void 0&&(op[t]={name:t,type:e,id:ls.id,text:ls.text,risk:ls.risk,verifyMethod:ls.verifyMethod}),ls={},op[t]),QZe=()=>op,zZe=t=>{ls!==void 0&&(ls.id=t)},VZe=t=>{ls!==void 0&&(ls.text=t)},WZe=t=>{ls!==void 0&&(ls.risk=t)},qZe=t=>{ls!==void 0&&(ls.verifyMethod=t)},XZe=t=>(ap[t]===void 0&&(ap[t]={name:t,type:Wc.type,docRef:Wc.docRef},V.info("Added new requirement: ",t)),Wc={},ap[t]),YZe=()=>ap,UZe=t=>{Wc!==void 0&&(Wc.type=t)},jZe=t=>{Wc!==void 0&&(Wc.docRef=t)},HZe=(t,e,n)=>{y7.push({type:t,src:e,dst:n})},ZZe=()=>y7,GZe=()=>{y7=[],ls={},op={},Wc={},ap={},Qs()},KZe={RequirementType:$Ze,RiskLevel:LZe,VerifyType:FZe,Relationships:NZe,parseDirective:IZe,getConfig:()=>ie().req,addRequirement:RZe,getRequirements:QZe,setNewReqId:zZe,setNewReqText:VZe,setNewReqRisk:WZe,setNewReqVerifyMethod:qZe,setAccTitle:Os,getAccTitle:zs,setAccDescription:Vs,getAccDescription:Ws,addElement:XZe,getElements:YZe,setNewElementType:UZe,setNewElementDocRef:jZe,addRelationship:HZe,getRelationships:ZZe,clear:GZe},m6={CONTAINS:"contains",ARROW:"arrow"},JZe=(t,e)=>{let n=t.append("defs").append("marker").attr("id",m6.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",m6.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},XQ={ReqMarkers:m6,insertLineEndings:JZe};let Jn={},eE=0;const YQ=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Jn.rect_min_width+"px").attr("height",Jn.rect_min_height+"px"),UQ=(t,e,n)=>{let r=Jn.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",Jn.rect_padding).attr("dominant-baseline","hanging"),s=0;n.forEach(u=>{s==0?i.append("tspan").attr("text-anchor","middle").attr("x",Jn.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",Jn.rect_min_width/2).attr("dy",Jn.line_height*.75).text(u),s++});let o=1.5*Jn.rect_padding,a=s*Jn.line_height*.75,l=o+a;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Jn.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},jQ=(t,e,n,r)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Jn.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),s=0;const o=30;let a=[];return n.forEach(l=>{let u=l.length;for(;u>o&&s<3;){let h=l.substring(0,o);l=l.substring(o,l.length),u=l.length,a[a.length]=h,s++}if(s==3){let h=a[a.length-1];a[a.length-1]=h.substring(0,h.length-4)+"..."}else a[a.length]=l;s=0}),a.forEach(l=>{i.append("tspan").attr("x",Jn.rect_padding).attr("dy",Jn.line_height).text(l)}),i},eGe=(t,e,n,r)=>{const i=e.node().getTotalLength(),s=e.node().getPointAtLength(i*.5),o="rel"+eE;eE++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",s.x-l.width/2).attr("y",s.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},tGe=function(t,e,n,r,i){const s=n.edge(t0(e.src),t0(e.dst)),o=T0().x(function(l){return l.x}).y(function(l){return l.y}),a=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",o(s.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?a.attr("marker-start","url("+Pt.getUrl(Jn.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(a.attr("stroke-dasharray","10,7"),a.attr("marker-end","url("+Pt.getUrl(Jn.arrowMarkerAbsolute)+"#"+XQ.ReqMarkers.ARROW+"_line_ending)")),eGe(t,a,Jn,`<<${e.type}>>`)},nGe=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];r=t0(r),V.info("Added new requirement: ",r);const s=n.append("g").attr("id",r),o="req-"+r,a=YQ(s,o);let l=UQ(s,r+"_title",[`<<${i.type}>>`,`${i.name}`]);jQ(s,r+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],l.y);const u=a.node().getBBox();e.setNode(r,{width:u.width,height:u.height,shape:"rect",id:r})})},rGe=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];const s=t0(r),o=n.append("g").attr("id",s),a="element-"+s,l=YQ(o,a);let u=UQ(o,a+"_title",["<<Element>>",`${r}`]);jQ(o,a+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],u.y);const h=l.node().getBBox();e.setNode(s,{width:h.width,height:h.height,shape:"rect",id:s})})},iGe=(t,e)=>(t.forEach(function(n){let r=t0(n.src),i=t0(n.dst);e.setEdge(r,i,{relationship:n})}),t),sGe=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))})},t0=t=>t.replace(/\s/g,"").replace(/\./g,"_"),oGe=(t,e,n,r)=>{Jn=ie().requirement,r.db.clear(),r.parser.parse(t);const i=Jn.securityLevel;let s;i==="sandbox"&&(s=Le("#i"+e));const a=Le(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);XQ.insertLineEndings(a,Jn);const l=new Sr({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Jn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=r.db.getRequirements(),h=r.db.getElements(),d=r.db.getRelationships();nGe(u,l,a),rGe(h,l,a),iGe(d,l),E0(l),sGe(a,l),d.forEach(function(y){tGe(a,y,l,e,r)});const f=Jn.rect_padding,p=a.node().getBBox(),m=p.width+f*2,g=p.height+f*2;ea(a,g,m,Jn.useMaxWidth),a.attr("viewBox",`${p.x-f} ${p.y-f} ${m} ${g}`)},aGe={draw:oGe};var g6=function(){var t=function(se,ee,J,z){for(J=J||{},z=se.length;z--;J[se[z]]=ee);return J},e=[1,2],n=[1,3],r=[1,5],i=[1,7],s=[2,5],o=[1,15],a=[1,17],l=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],m=[1,31],g=[1,32],y=[1,33],b=[1,34],O=[1,35],w=[1,36],D=[1,37],C=[1,38],T=[1,39],E=[1,40],P=[1,42],M=[1,43],$=[1,45],A=[1,46],_=[1,47],L=[1,48],v=[1,49],q=[1,50],x=[1,53],X=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],de=[4,5,21,54,56],H=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],G=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],F=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],B=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],ae=[71,72,73],be=[1,125],ye=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],Z={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(ee,J,z,W,te,Q,me){var I=Q.length-1;switch(te){case 4:return W.apply(Q[I]),Q[I];case 5:case 10:this.$=[];break;case 6:case 11:Q[I-1].push(Q[I]),this.$=Q[I-1];break;case 7:case 8:case 12:case 13:this.$=Q[I];break;case 9:case 14:this.$=[];break;case 18:Q[I-1].unshift({type:"boxStart",boxData:W.parseBoxData(Q[I-2])}),Q[I-1].push({type:"boxEnd",boxText:Q[I-2]}),this.$=Q[I-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number(Q[I-2]),sequenceIndexStep:Number(Q[I-1]),sequenceVisible:!0,signalType:W.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number(Q[I-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:W.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:W.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:W.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:W.LINETYPE.ACTIVE_START,actor:Q[I-1]};break;case 25:this.$={type:"activeEnd",signalType:W.LINETYPE.ACTIVE_END,actor:Q[I-1]};break;case 31:W.setDiagramTitle(Q[I].substring(6)),this.$=Q[I].substring(6);break;case 32:W.setDiagramTitle(Q[I].substring(7)),this.$=Q[I].substring(7);break;case 33:this.$=Q[I].trim(),W.setAccTitle(this.$);break;case 34:case 35:this.$=Q[I].trim(),W.setAccDescription(this.$);break;case 36:Q[I-1].unshift({type:"loopStart",loopText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.LOOP_START}),Q[I-1].push({type:"loopEnd",loopText:Q[I-2],signalType:W.LINETYPE.LOOP_END}),this.$=Q[I-1];break;case 37:Q[I-1].unshift({type:"rectStart",color:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.RECT_START}),Q[I-1].push({type:"rectEnd",color:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.RECT_END}),this.$=Q[I-1];break;case 38:Q[I-1].unshift({type:"optStart",optText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.OPT_START}),Q[I-1].push({type:"optEnd",optText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.OPT_END}),this.$=Q[I-1];break;case 39:Q[I-1].unshift({type:"altStart",altText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.ALT_START}),Q[I-1].push({type:"altEnd",signalType:W.LINETYPE.ALT_END}),this.$=Q[I-1];break;case 40:Q[I-1].unshift({type:"parStart",parText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.PAR_START}),Q[I-1].push({type:"parEnd",signalType:W.LINETYPE.PAR_END}),this.$=Q[I-1];break;case 41:Q[I-1].unshift({type:"criticalStart",criticalText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.CRITICAL_START}),Q[I-1].push({type:"criticalEnd",signalType:W.LINETYPE.CRITICAL_END}),this.$=Q[I-1];break;case 42:Q[I-1].unshift({type:"breakStart",breakText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.BREAK_START}),Q[I-1].push({type:"breakEnd",optText:W.parseMessage(Q[I-2]),signalType:W.LINETYPE.BREAK_END}),this.$=Q[I-1];break;case 45:this.$=Q[I-3].concat([{type:"option",optionText:W.parseMessage(Q[I-1]),signalType:W.LINETYPE.CRITICAL_OPTION},Q[I]]);break;case 47:this.$=Q[I-3].concat([{type:"and",parText:W.parseMessage(Q[I-1]),signalType:W.LINETYPE.PAR_AND},Q[I]]);break;case 49:this.$=Q[I-3].concat([{type:"else",altText:W.parseMessage(Q[I-1]),signalType:W.LINETYPE.ALT_ELSE},Q[I]]);break;case 50:Q[I-3].type="addParticipant",Q[I-3].description=W.parseMessage(Q[I-1]),this.$=Q[I-3];break;case 51:Q[I-1].type="addParticipant",this.$=Q[I-1];break;case 52:Q[I-3].type="addActor",Q[I-3].description=W.parseMessage(Q[I-1]),this.$=Q[I-3];break;case 53:Q[I-1].type="addActor",this.$=Q[I-1];break;case 54:this.$=[Q[I-1],{type:"addNote",placement:Q[I-2],actor:Q[I-1].actor,text:Q[I]}];break;case 55:Q[I-2]=[].concat(Q[I-1],Q[I-1]).slice(0,2),Q[I-2][0]=Q[I-2][0].actor,Q[I-2][1]=Q[I-2][1].actor,this.$=[Q[I-1],{type:"addNote",placement:W.PLACEMENT.OVER,actor:Q[I-2].slice(0,2),text:Q[I]}];break;case 56:this.$=[Q[I-1],{type:"addLinks",actor:Q[I-1].actor,text:Q[I]}];break;case 57:this.$=[Q[I-1],{type:"addALink",actor:Q[I-1].actor,text:Q[I]}];break;case 58:this.$=[Q[I-1],{type:"addProperties",actor:Q[I-1].actor,text:Q[I]}];break;case 59:this.$=[Q[I-1],{type:"addDetails",actor:Q[I-1].actor,text:Q[I]}];break;case 62:this.$=[Q[I-2],Q[I]];break;case 63:this.$=Q[I];break;case 64:this.$=W.PLACEMENT.LEFTOF;break;case 65:this.$=W.PLACEMENT.RIGHTOF;break;case 66:this.$=[Q[I-4],Q[I-1],{type:"addMessage",from:Q[I-4].actor,to:Q[I-1].actor,signalType:Q[I-3],msg:Q[I]},{type:"activeStart",signalType:W.LINETYPE.ACTIVE_START,actor:Q[I-1]}];break;case 67:this.$=[Q[I-4],Q[I-1],{type:"addMessage",from:Q[I-4].actor,to:Q[I-1].actor,signalType:Q[I-3],msg:Q[I]},{type:"activeEnd",signalType:W.LINETYPE.ACTIVE_END,actor:Q[I-4]}];break;case 68:this.$=[Q[I-3],Q[I-1],{type:"addMessage",from:Q[I-3].actor,to:Q[I-1].actor,signalType:Q[I-2],msg:Q[I]}];break;case 69:this.$={type:"addParticipant",actor:Q[I]};break;case 70:this.$=W.LINETYPE.SOLID_OPEN;break;case 71:this.$=W.LINETYPE.DOTTED_OPEN;break;case 72:this.$=W.LINETYPE.SOLID;break;case 73:this.$=W.LINETYPE.DOTTED;break;case 74:this.$=W.LINETYPE.SOLID_CROSS;break;case 75:this.$=W.LINETYPE.DOTTED_CROSS;break;case 76:this.$=W.LINETYPE.SOLID_POINT;break;case 77:this.$=W.LINETYPE.DOTTED_POINT;break;case 78:this.$=W.parseMessage(Q[I].trim().substring(1));break;case 79:W.parseDirective("%%{","open_directive");break;case 80:W.parseDirective(Q[I],"type_directive");break;case 81:Q[I]=Q[I].trim().replace(/'/g,'"'),W.parseDirective(Q[I],"arg_directive");break;case 82:W.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:n,6:4,7:r,14:6,83:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,14:6,83:i},{3:9,4:e,5:n,6:4,7:r,14:6,83:i},{3:10,4:e,5:n,6:4,7:r,14:6,83:i},t([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],s,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{16:51,17:[1,52],86:x},t([17,86],[2,80]),t(X,[2,6]),{6:41,10:54,13:18,14:6,19:l,22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},t(X,[2,8]),t(X,[2,9]),t(X,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:q},{27:61,73:q},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},t(X,[2,31]),t(X,[2,32]),{37:[1,67]},{39:[1,68]},t(X,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},t(X,[2,43]),{27:76,73:q},{27:77,73:q},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:q},{27:92,73:q},{27:93,73:q},{27:94,73:q},t([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},t(X,[2,7]),t(de,[2,10],{11:98}),t(X,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},t(X,[2,23]),{5:[1,102]},{5:[1,103]},t(X,[2,26]),t(X,[2,27]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),t(X,[2,33]),t(X,[2,34]),t(H,s,{8:104}),t(H,s,{8:105}),t(H,s,{8:106}),t(G,s,{45:107,8:108}),t(F,s,{47:109,8:110}),t(B,s,{49:111,8:112}),t(H,s,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:q},t(ae,[2,70]),t(ae,[2,71]),t(ae,[2,72]),t(ae,[2,73]),t(ae,[2,74]),t(ae,[2,75]),t(ae,[2,76]),t(ae,[2,77]),{27:121,73:q},{27:123,61:122,73:q},{73:[2,64]},{73:[2,65]},{59:124,82:be},{59:126,82:be},{59:127,82:be},{59:128,82:be},t(ye,[2,15]),{16:129,86:x},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:P,56:M},{5:[1,135]},t(X,[2,21]),t(X,[2,22]),t(X,[2,24]),t(X,[2,25]),{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,136],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,137],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,138],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{21:[1,139]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,48],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,53:[1,140],54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{21:[1,141]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,46],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,52:[1,142],54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{21:[1,143]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,44],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,51:[1,144],54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,145],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:m,38:g,40:y,41:b,42:O,43:w,44:D,46:C,48:T,50:E,54:P,56:M,57:$,62:A,63:_,64:L,65:v,73:q,83:i},{20:[1,146]},t(X,[2,51]),{20:[1,147]},t(X,[2,53]),{27:148,73:q},{27:149,73:q},{59:150,82:be},{59:151,82:be},{59:152,82:be},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},t(X,[2,18]),t(de,[2,11]),{13:155,54:P,56:M},t(de,[2,13]),t(de,[2,14]),t(X,[2,20]),t(X,[2,36]),t(X,[2,37]),t(X,[2,38]),t(X,[2,39]),{20:[1,156]},t(X,[2,40]),{20:[1,157]},t(X,[2,41]),{20:[1,158]},t(X,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:be},{59:162,82:be},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:q},t(ye,[2,16]),t(de,[2,12]),t(G,s,{8:108,45:164}),t(F,s,{8:110,47:165}),t(B,s,{8:112,49:166}),t(X,[2,50]),t(X,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(ee,J){if(J.recoverable)this.trace(ee);else{var z=new Error(ee);throw z.hash=J,z}},parse:function(ee){var J=this,z=[0],W=[],te=[null],Q=[],me=this.table,I="",ge=0,Y=0,$e=2,Se=1,De=Q.slice.call(arguments,1),_e=Object.create(this.lexer),Te={yy:{}};for(var ke in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ke)&&(Te.yy[ke]=this.yy[ke]);_e.setInput(ee,Te.yy),Te.yy.lexer=_e,Te.yy.parser=this,typeof _e.yylloc>"u"&&(_e.yylloc={});var Me=_e.yylloc;Q.push(Me);var pe=_e.options&&_e.options.ranges;typeof Te.yy.parseError=="function"?this.parseError=Te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ce(){var ve;return ve=W.pop()||_e.lex()||Se,typeof ve!="number"&&(ve instanceof Array&&(W=ve,ve=W.pop()),ve=J.symbols_[ve]||ve),ve}for(var Be,qe,Je,Nt,Ne={},rt,Ke,Pe,we;;){if(qe=z[z.length-1],this.defaultActions[qe]?Je=this.defaultActions[qe]:((Be===null||typeof Be>"u")&&(Be=Ce()),Je=me[qe]&&me[qe][Be]),typeof Je>"u"||!Je.length||!Je[0]){var ze="";we=[];for(rt in me[qe])this.terminals_[rt]&&rt>$e&&we.push("'"+this.terminals_[rt]+"'");_e.showPosition?ze="Parse error on line "+(ge+1)+`:
`+_e.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[Be]||Be)+"'":ze="Parse error on line "+(ge+1)+": Unexpected "+(Be==Se?"end of input":"'"+(this.terminals_[Be]||Be)+"'"),this.parseError(ze,{text:_e.match,token:this.terminals_[Be]||Be,line:_e.yylineno,loc:Me,expected:we})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qe+", token: "+Be);switch(Je[0]){case 1:z.push(Be),te.push(_e.yytext),Q.push(_e.yylloc),z.push(Je[1]),Be=null,Y=_e.yyleng,I=_e.yytext,ge=_e.yylineno,Me=_e.yylloc;break;case 2:if(Ke=this.productions_[Je[1]][1],Ne.$=te[te.length-Ke],Ne._$={first_line:Q[Q.length-(Ke||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Ke||1)].first_column,last_column:Q[Q.length-1].last_column},pe&&(Ne._$.range=[Q[Q.length-(Ke||1)].range[0],Q[Q.length-1].range[1]]),Nt=this.performAction.apply(Ne,[I,Y,ge,Te.yy,Je[1],te,Q].concat(De)),typeof Nt<"u")return Nt;Ke&&(z=z.slice(0,-1*Ke*2),te=te.slice(0,-1*Ke),Q=Q.slice(0,-1*Ke)),z.push(this.productions_[Je[1]][0]),te.push(Ne.$),Q.push(Ne._$),Pe=me[z[z.length-2]][z[z.length-1]],z.push(Pe);break;case 3:return!0}}return!0}},Qe=function(){var se={EOF:1,parseError:function(J,z){if(this.yy.parser)this.yy.parser.parseError(J,z);else throw new Error(J)},setInput:function(ee,J){return this.yy=J||this.yy||{},this._input=ee,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ee=this._input[0];this.yytext+=ee,this.yyleng++,this.offset++,this.match+=ee,this.matched+=ee;var J=ee.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ee},unput:function(ee){var J=ee.length,z=ee.split(/(?:\r\n?|\n)/g);this._input=ee+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===W.length?this.yylloc.first_column:0)+W[W.length-z.length].length-z[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[te[0],te[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ee){this.unput(this.match.slice(ee))},pastInput:function(){var ee=this.matched.substr(0,this.matched.length-this.match.length);return(ee.length>20?"...":"")+ee.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ee=this.match;return ee.length<20&&(ee+=this._input.substr(0,20-ee.length)),(ee.substr(0,20)+(ee.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ee=this.pastInput(),J=new Array(ee.length+1).join("-");return ee+this.upcomingInput()+`
`+J+"^"},test_match:function(ee,J){var z,W,te;if(this.options.backtrack_lexer&&(te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(te.yylloc.range=this.yylloc.range.slice(0))),W=ee[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ee[0].length},this.yytext+=ee[0],this.match+=ee[0],this.matches=ee,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ee[0].length),this.matched+=ee[0],z=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var Q in te)this[Q]=te[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ee,J,z,W;this._more||(this.yytext="",this.match="");for(var te=this._currentRules(),Q=0;Q<te.length;Q++)if(z=this._input.match(this.rules[te[Q]]),z&&(!J||z[0].length>J[0].length)){if(J=z,W=Q,this.options.backtrack_lexer){if(ee=this.test_match(z,te[Q]),ee!==!1)return ee;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(ee=this.test_match(J,te[W]),ee!==!1?ee:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var J=this.next();return J||this.lex()},begin:function(J){this.conditionStack.push(J)},popState:function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},pushState:function(J){this.begin(J)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(J,z,W,te){switch(W){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 53:return 5;case 54:return z.yytext=z.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return se}();Z.lexer=Qe;function ne(){this.yy={}}return ne.prototype=Z,Z.Parser=ne,new ne}();g6.parser=g6;const lGe=g6,cGe=t=>t.match(/^\s*sequenceDiagram/)!==null;let Z0,Dc={},n0=[],Ro=[],e3=!1,y6,ml;const uGe=function(t,e,n){Vn.parseDirective(this,t,e,n)},hGe=function(t){n0.push({name:t.text,wrap:t.wrap===void 0&&vh()||!!t.wrap,fill:t.color,actorKeys:[]}),ml=n0.slice(-1)[0]},b6=function(t,e,n,r){let i=ml;const s=Dc[t];if(s){if(ml&&s.box&&ml!==s.box)throw new Error("A same participant should only be defined in one Box: "+s.name+" can't be in '"+s.box.name+"' and in '"+ml.name+"' at the same time.");if(i=s.box?s.box:ml,s.box=i,s&&e===s.name&&n==null)return}(n==null||n.text==null)&&(n={text:e,wrap:null,type:r}),(r==null||n.text==null)&&(n={text:e,wrap:null,type:r}),Dc[t]={box:i,name:e,description:n.text,wrap:n.wrap===void 0&&vh()||!!n.wrap,prevActor:Z0,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},Z0&&Dc[Z0]&&(Dc[Z0].nextActor=t),ml&&ml.actorKeys.push(t),Z0=t},dGe=t=>{let e,n=0;for(e=0;e<Ro.length;e++)Ro[e].type===e1.ACTIVE_START&&Ro[e].from.actor===t&&n++,Ro[e].type===e1.ACTIVE_END&&Ro[e].from.actor===t&&n--;return n},fGe=function(t,e,n,r){Ro.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&vh()||!!n.wrap,answer:r})},ir=function(t,e,n={text:void 0,wrap:void 0},r){if(r===e1.ACTIVE_END&&dGe(t.actor)<1){let s=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return Ro.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&vh()||!!n.wrap,type:r}),!0},pGe=function(){return n0.length>0},mGe=function(){return n0.some(t=>t.name)},gGe=function(){return Ro},yGe=function(){return n0},bGe=function(){return Dc},rm=function(t){return Dc[t]},OGe=function(){return Object.keys(Dc)},vGe=function(){e3=!0},xGe=function(){e3=!1},kGe=()=>e3,wGe=function(t){y6=t},vh=()=>y6!==void 0?y6:ie().sequence.wrap,_Ge=function(){Dc={},n0=[],Ro=[],e3=!1,Qs()},SGe=function(t){const e=t.trim(),n={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:e.match(/^:?wrap:/)!==null?!0:e.match(/^:?nowrap:/)!==null?!1:void 0};return V.debug("parseMessage:",n),n},CGe=function(t){const e=t.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let n=e!=null&&e[1]?e[1].trim():"transparent",r=e!=null&&e[2]?e[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",n)||(n="transparent",r=t.trim());else{const s=new Option().style;s.color=n,s.color!==n&&(n="transparent",r=t.trim())}return{color:n,text:r!==void 0?ko(r.replace(/^:?(?:no)?wrap:/,""),ie()):void 0,wrap:r!==void 0?r.match(/^:?wrap:/)!==null?!0:r.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},e1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},TGe={FILLED:0,OPEN:1},DGe={LEFTOF:0,RIGHTOF:1,OVER:2},HQ=function(t,e,n){n.text,n.wrap===void 0&&vh()||n.wrap;const r=[].concat(t,t);Ro.push({from:r[0],to:r[1],message:n.text,wrap:n.wrap===void 0&&vh()||!!n.wrap,type:e1.NOTE,placement:e})},ZQ=function(t,e){const n=rm(t);try{let r=ko(e.text,ie());r=r.replace(/&amp;/g,"&"),r=r.replace(/&equals;/g,"=");const i=JSON.parse(r);b7(n,i)}catch(r){V.error("error while parsing actor link text",r)}},EGe=function(t,e){const n=rm(t);try{const o={};let a=ko(e.text,ie());var r=a.indexOf("@");a=a.replace(/&amp;/g,"&"),a=a.replace(/&equals;/g,"=");var i=a.slice(0,r-1).trim(),s=a.slice(r+1).trim();o[i]=s,b7(n,o)}catch(o){V.error("error while parsing actor link text",o)}};function b7(t,e){if(t.links==null)t.links=e;else for(let n in e)t.links[n]=e[n]}const GQ=function(t,e){const n=rm(t);try{let r=ko(e.text,ie());const i=JSON.parse(r);KQ(n,i)}catch(r){V.error("error while parsing actor properties text",r)}};function KQ(t,e){if(t.properties==null)t.properties=e;else for(let n in e)t.properties[n]=e[n]}function AGe(){ml=void 0}const JQ=function(t,e){const n=rm(t),r=document.getElementById(e.text);try{const i=r.innerHTML,s=JSON.parse(i);s.properties&&KQ(n,s.properties),s.links&&b7(n,s.links)}catch(i){V.error("error while parsing actor details text",i)}},MGe=function(t,e){if(t!==void 0&&t.properties!==void 0)return t.properties[e]},ez=function(t){if(Array.isArray(t))t.forEach(function(e){ez(e)});else switch(t.type){case"sequenceIndex":Ro.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":b6(t.actor,t.actor,t.description,"participant");break;case"addActor":b6(t.actor,t.actor,t.description,"actor");break;case"activeStart":ir(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":ir(t.actor,void 0,void 0,t.signalType);break;case"addNote":HQ(t.actor,t.placement,t.text);break;case"addLinks":ZQ(t.actor,t.text);break;case"addALink":EGe(t.actor,t.text);break;case"addProperties":GQ(t.actor,t.text);break;case"addDetails":JQ(t.actor,t.text);break;case"addMessage":ir(t.from,t.to,t.msg,t.signalType);break;case"boxStart":hGe(t.boxData);break;case"boxEnd":AGe();break;case"loopStart":ir(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":ir(void 0,void 0,void 0,t.signalType);break;case"rectStart":ir(void 0,void 0,t.color,t.signalType);break;case"rectEnd":ir(void 0,void 0,void 0,t.signalType);break;case"optStart":ir(void 0,void 0,t.optText,t.signalType);break;case"optEnd":ir(void 0,void 0,void 0,t.signalType);break;case"altStart":ir(void 0,void 0,t.altText,t.signalType);break;case"else":ir(void 0,void 0,t.altText,t.signalType);break;case"altEnd":ir(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Os(t.text);break;case"parStart":ir(void 0,void 0,t.parText,t.signalType);break;case"and":ir(void 0,void 0,t.parText,t.signalType);break;case"parEnd":ir(void 0,void 0,void 0,t.signalType);break;case"criticalStart":ir(void 0,void 0,t.criticalText,t.signalType);break;case"option":ir(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":ir(void 0,void 0,void 0,t.signalType);break;case"breakStart":ir(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":ir(void 0,void 0,void 0,t.signalType);break}},tE={addActor:b6,addMessage:fGe,addSignal:ir,addLinks:ZQ,addDetails:JQ,addProperties:GQ,autoWrap:vh,setWrap:wGe,enableSequenceNumbers:vGe,disableSequenceNumbers:xGe,showSequenceNumbers:kGe,getMessages:gGe,getActors:bGe,getActor:rm,getActorKeys:OGe,getActorProperty:MGe,getAccTitle:zs,getBoxes:yGe,getDiagramTitle:na,setDiagramTitle:ta,parseDirective:uGe,getConfig:()=>ie().sequence,clear:_Ge,parseMessage:SGe,parseBoxData:CGe,LINETYPE:e1,ARROWTYPE:TGe,PLACEMENT:DGe,addNote:HQ,setAccTitle:Os,apply:ez,setAccDescription:Vs,getAccDescription:Ws,hasAtLeastOneBox:pGe,hasAtLeastOneBoxWithTitle:mGe};let O6=[];const PGe=t=>{O6.push(t)},tz=()=>{O6.forEach(t=>{t()}),O6=[]},t3=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},nz=(t,e)=>{PGe(()=>{const n=document.querySelectorAll(t);n.length!==0&&(n[0].addEventListener("mouseover",function(){FGe("actor"+e+"_popup")}),n[0].addEventListener("mouseout",function(){NGe("actor"+e+"_popup")}))})},BGe=function(t,e,n,r,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const s=e.links,o=e.actorCnt,a=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+o+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l),nz("#actor"+o+"_popup",o);var h="";a.class!==void 0&&(h=" "+a.class);let d=a.width>n?a.width:n;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",a.x),f.attr("y",a.height),f.attr("fill",a.fill),f.attr("stroke",a.stroke),f.attr("width",d),f.attr("height",a.height),f.attr("rx",a.rx),f.attr("ry",a.ry),s!=null){var p=20;for(let y in s){var m=u.append("a"),g=Kl(s[y]);m.attr("xlink:href",g),m.attr("target","_blank"),KGe(r)(y,m,a.x+10,a.height+p,d,20,{class:"actor"},r),p+=30}}return f.attr("height",p),{height:a.height+p,width:d}},rz=function(t,e,n,r){const i=t.append("image");i.attr("x",e),i.attr("y",n);var s=Kl(r);i.attr("xlink:href",s)},iz=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var s=Kl(r);i.attr("xlink:href","#"+s)},$Ge=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},LGe=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},FGe=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},NGe=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},r0=function(t,e){let n=0,r=0;const i=e.text.split(Pt.lineBreakRegex),[s,o]=Z1(e.fontSize);let a=[],l=0,u=()=>e.y;if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":u=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":u=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin);break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,d]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&s!==void 0&&(l=h*s);const f=t.append("text");if(f.attr("x",e.x),f.attr("y",u()),e.anchor!==void 0&&f.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&f.style("font-family",e.fontFamily),o!==void 0&&f.style("font-size",o),e.fontWeight!==void 0&&f.style("font-weight",e.fontWeight),e.fill!==void 0&&f.attr("fill",e.fill),e.class!==void 0&&f.attr("class",e.class),e.dy!==void 0?f.attr("dy",e.dy):l!==0&&f.attr("dy",l),e.tspan){const p=f.append("tspan");p.attr("x",e.x),e.fill!==void 0&&p.attr("fill",e.fill),p.text(d)}else f.text(d);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(r+=(f._groups||f)[0][0].getBBox().height,n=r),a.push(f)}return a},sz=function(t,e){function n(i,s,o,a,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+a-l)+" "+(i+o-l*1.2)+","+(s+a)+" "+i+","+(s+a)}const r=t.append("polygon");return r.attr("points",n(e.x,e.y,e.width,e.height,7)),r.attr("class","labelBox"),e.y=e.y+e.height/2,r0(t,e),r};let xa=-1;const oz=(t,e)=>{!t.selectAll||t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},IGe=function(t,e,n,r){const i=e.x+e.width/2,s=e.y+5,o=t.append("g");var a=o;r||(xa++,a.append("line").attr("id","actor"+xa).attr("x1",i).attr("y1",s).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=o.append("g"),e.actorCnt=xa,e.links!=null&&(a.attr("id","root-"+xa),nz("#root-"+xa,xa)));const l=n3();var u="actor";e.properties!=null&&e.properties.class?u=e.properties.class:l.fill="#eaeaea",l.x=e.x,l.y=e.y,l.width=e.width,l.height=e.height,l.class=u,l.rx=3,l.ry=3;const h=t3(a,l);if(e.rectData=l,e.properties!=null&&e.properties.icon){const f=e.properties.icon.trim();f.charAt(0)==="@"?iz(a,l.x+l.width-20,l.y+10,f.substr(1)):rz(a,l.x+l.width-20,l.y+10,f)}O7(n)(e.description,a,l.x,l.y,l.width,l.height,{class:"actor"},n);let d=e.height;if(h.node){const f=h.node().getBBox();e.height=f.height,d=f.height}return d},RGe=function(t,e,n,r){const i=e.x+e.width/2,s=e.y+80;r||(xa++,t.append("line").attr("id","actor"+xa).attr("x1",i).attr("y1",s).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const o=t.append("g");o.attr("class","actor-man");const a=n3();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,o.append("line").attr("id","actor-man-torso"+xa).attr("x1",i).attr("y1",e.y+25).attr("x2",i).attr("y2",e.y+45),o.append("line").attr("id","actor-man-arms"+xa).attr("x1",i-18).attr("y1",e.y+33).attr("x2",i+18).attr("y2",e.y+33),o.append("line").attr("x1",i-18).attr("y1",e.y+60).attr("x2",i).attr("y2",e.y+45),o.append("line").attr("x1",i).attr("y1",e.y+45).attr("x2",i+16).attr("y2",e.y+60);const l=o.append("circle");l.attr("cx",e.x+e.width/2),l.attr("cy",e.y+10),l.attr("r",15),l.attr("width",e.width),l.attr("height",e.height);const u=o.node().getBBox();return e.height=u.height,O7(n)(e.description,o,a.x,a.y+35,a.width,a.height,{class:"actor"},n),e.height},QGe=function(t,e,n,r){switch(e.type){case"actor":return RGe(t,e,n,r);case"participant":return IGe(t,e,n,r)}},zGe=function(t,e,n){const i=t.append("g");az(i,e),e.name&&O7(n)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},n),i.lower()},VGe=function(t){return t.append("g")},WGe=function(t,e,n,r,i){const s=n3(),o=e.anchored;s.x=e.startx,s.y=e.starty,s.class="activation"+i%3,s.width=e.stopx-e.startx,s.height=n-e.starty,t3(o,s)},qGe=function(t,e,n,r){const{boxMargin:i,boxTextMargin:s,labelBoxHeight:o,labelBoxWidth:a,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=r,d=t.append("g"),f=function(g,y,b,O){return d.append("line").attr("x1",g).attr("y1",y).attr("x2",b).attr("y2",O).attr("class","loopLine")};f(e.startx,e.starty,e.stopx,e.starty),f(e.stopx,e.starty,e.stopx,e.stopy),f(e.startx,e.stopy,e.stopx,e.stopy),f(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(g){f(e.startx,g.y,e.stopx,g.y).style("stroke-dasharray","3, 3")});let p=v6();p.text=n,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=a||50,p.height=o||20,p.textMargin=s,p.class="labelText",sz(d,p),p=v6(),p.text=e.title,p.x=e.startx+a/2+(e.stopx-e.startx)/2,p.y=e.starty+i+s,p.anchor="middle",p.valign="middle",p.textMargin=s,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let m=r0(d,p);return e.sectionTitles!==void 0&&e.sectionTitles.forEach(function(g,y){if(g.message){p.text=g.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[y].y+i+s,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,m=r0(d,p);let b=Math.round(m.map(O=>(O._groups||O)[0][0].getBBox().height).reduce((O,w)=>O+w));e.sections[y].height+=b-(i+s)}}),e.height=Math.round(e.stopy-e.starty),d},az=function(t,e){t3(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"}).lower()},XGe=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},YGe=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},UGe=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},jGe=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},HGe=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},ZGe=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},GGe=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},v6=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},n3=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},O7=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:m}=d,[g,y]=Z1(f),b=i.split(Pt.lineBreakRegex);for(let O=0;O<b.length;O++){const w=O*g-g*(b.length-1)/2,D=s.append("text").attr("x",o+l/2).attr("y",a).style("text-anchor","middle").style("font-size",y).style("font-weight",m).style("font-family",p);D.append("tspan").attr("x",o+l/2).attr("dy",w).text(b[O]),D.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(D,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(m,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),KGe=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o).attr("y",a).style("text-anchor","start").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:m}=d,g=i.split(Pt.lineBreakRegex);for(let y=0;y<g.length;y++){const b=y*f-f*(g.length-1)/2,O=s.append("text").attr("x",o).attr("y",a).style("text-anchor","start").style("font-size",f).style("font-weight",m).style("font-family",p);O.append("tspan").attr("x",o).attr("dy",b).text(g[y]),O.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(m,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),Un={drawRect:t3,drawText:r0,drawLabel:sz,drawActor:QGe,drawBox:zGe,drawPopup:BGe,drawImage:rz,drawEmbeddedImage:iz,anchorElement:VGe,drawActivation:WGe,drawLoop:qGe,drawBackgroundRect:az,insertArrowHead:jGe,insertArrowFilledHead:HGe,insertSequenceNumber:ZGe,insertArrowCrossHead:GGe,insertDatabaseIcon:XGe,insertComputerIcon:YGe,insertClockIcon:UGe,getTextObj:v6,getNoteRect:n3,popupMenu:$Ge,popdownMenu:LGe,fixLifeLineHeights:oz,sanitizeUrl:Kl};let ue={};const Ve={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(t){this.boxes.push(t)},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,cz(ie())},updateVal:function(t,e,n,r){t[e]===void 0?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=this;let s=0;function o(a){return function(u){s++;const h=i.sequenceItems.length-s+1;i.updateVal(u,"starty",e-h*ue.boxMargin,Math.min),i.updateVal(u,"stopy",r+h*ue.boxMargin,Math.max),i.updateVal(Ve.data,"startx",t-h*ue.boxMargin,Math.min),i.updateVal(Ve.data,"stopx",n+h*ue.boxMargin,Math.max),a!=="activation"&&(i.updateVal(u,"startx",t-h*ue.boxMargin,Math.min),i.updateVal(u,"stopx",n+h*ue.boxMargin,Math.max),i.updateVal(Ve.data,"starty",e-h*ue.boxMargin,Math.min),i.updateVal(Ve.data,"stopy",r+h*ue.boxMargin,Math.max))}}this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(t,e,n,r){const i=Math.min(t,n),s=Math.max(t,n),o=Math.min(e,r),a=Math.max(e,r);this.updateVal(Ve.data,"startx",i,Math.min),this.updateVal(Ve.data,"starty",o,Math.min),this.updateVal(Ve.data,"stopx",s,Math.max),this.updateVal(Ve.data,"stopy",a,Math.max),this.updateBounds(i,o,s,a)},newActivation:function(t,e,n){const r=n[t.from.actor],i=r3(t.from.actor).length||0,s=r.x+r.width/2+(i-1)*ue.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+ue.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Un.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(n){return n.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Ve.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},JGe=function(t,e){Ve.bumpVerticalPos(ue.boxMargin),e.height=ue.boxMargin,e.starty=Ve.getVerticalPos();const n=Un.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||ue.width,n.class="note";const r=t.append("g"),i=Un.drawRect(r,n),s=Un.getTextObj();s.x=e.startx,s.y=e.starty,s.width=n.width,s.dy="1em",s.text=e.message,s.class="noteText",s.fontFamily=ue.noteFontFamily,s.fontSize=ue.noteFontSize,s.fontWeight=ue.noteFontWeight,s.anchor=ue.noteAlign,s.textMargin=ue.noteMargin,s.valign="center";const o=r0(r,s),a=Math.round(o.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",a+2*ue.noteMargin),e.height+=a+2*ue.noteMargin,Ve.bumpVerticalPos(a+2*ue.noteMargin),e.stopy=e.starty+a+2*ue.noteMargin,e.stopx=e.startx+n.width,Ve.insert(e.startx,e.starty,e.stopx,e.stopy),Ve.models.addNote(e)},xh=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),jh=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),x6=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function eKe(t,e){Ve.bumpVerticalPos(10);const{startx:n,stopx:r,message:i}=e,s=Pt.splitBreaks(i).length,o=At.calculateTextDimensions(i,xh(ue)),a=o.height/s;e.height+=a,Ve.bumpVerticalPos(a);let l,u=o.height-10;const h=o.width;if(n===r){l=Ve.getVerticalPos()+u,ue.rightAngles||(u+=ue.boxMargin,l=Ve.getVerticalPos()+u),u+=30;const d=Math.max(h/2,ue.width/2);Ve.insert(n-d,Ve.getVerticalPos()-10+u,r+d,Ve.getVerticalPos()+30+u)}else u+=ue.boxMargin,l=Ve.getVerticalPos()+u,Ve.insert(n,l-10,r,l);return Ve.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,Ve.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}const tKe=function(t,e,n,r){const{startx:i,stopx:s,starty:o,message:a,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=At.calculateTextDimensions(a,xh(ue)),f=Un.getTextObj();f.x=i,f.y=o+10,f.width=s-i,f.class="messageText",f.dy="1em",f.text=a,f.fontFamily=ue.messageFontFamily,f.fontSize=ue.messageFontSize,f.fontWeight=ue.messageFontWeight,f.anchor=ue.messageAlign,f.valign="center",f.textMargin=ue.wrapPadding,f.tspan=!1,r0(t,f);const p=d.width;let m;i===s?ue.rightAngles?m=t.append("path").attr("d",`M  ${i},${n} H ${i+Math.max(ue.width/2,p/2)} V ${n+25} H ${i}`):m=t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):(m=t.append("line"),m.attr("x1",i),m.attr("y1",n),m.attr("x2",s),m.attr("y2",n)),l===r.db.LINETYPE.DOTTED||l===r.db.LINETYPE.DOTTED_CROSS||l===r.db.LINETYPE.DOTTED_POINT||l===r.db.LINETYPE.DOTTED_OPEN?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let g="";ue.arrowMarkerAbsolute&&(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,g=g.replace(/\(/g,"\\("),g=g.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(l===r.db.LINETYPE.SOLID||l===r.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+g+"#arrowhead)"),(l===r.db.LINETYPE.SOLID_POINT||l===r.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+g+"#filled-head)"),(l===r.db.LINETYPE.SOLID_CROSS||l===r.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+g+"#crosshead)"),(h||ue.showSequenceNumbers)&&(m.attr("marker-start","url("+g+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},k6=function(t,e,n,r,i,s,o){if(i.hideUnusedParticipants===!0){const d=new Set;s.forEach(f=>{d.add(f.from),d.add(f.to)}),n=n.filter(f=>d.has(f))}let a=0,l=0,u=0,h;for(const d of n){const f=e[d],p=f.box;h&&h!=p&&(o||Ve.models.addBox(h),l+=ue.boxMargin+h.margin),p&&p!=h&&(o||(p.x=a+l,p.y=r),l+=p.margin),f.width=f.width||ue.width,f.height=Math.max(f.height||ue.height,ue.height),f.margin=f.margin||ue.actorMargin,f.x=a+l,f.y=Ve.getVerticalPos();const m=Un.drawActor(t,f,ue,o);u=Math.max(u,m),Ve.insert(f.x,r,f.x+f.width,f.height),a+=f.width+l,f.box&&(f.box.width=a+p.margin-f.box.x),l=f.margin,h=f.box,Ve.models.addActor(f)}h&&!o&&Ve.models.addBox(h),Ve.bumpVerticalPos(u)},lz=function(t,e,n,r){let i=0,s=0;for(const o of n){const a=e[o],l=iKe(a),u=Un.drawPopup(t,a,l,ue,ue.forceMenus,r);u.height>i&&(i=u.height),u.width+a.x>s&&(s=u.width+a.x)}return{maxHeight:i,maxWidth:s}},cz=function(t){jr(ue,t),t.fontFamily&&(ue.actorFontFamily=ue.noteFontFamily=ue.messageFontFamily=t.fontFamily),t.fontSize&&(ue.actorFontSize=ue.noteFontSize=ue.messageFontSize=t.fontSize),t.fontWeight&&(ue.actorFontWeight=ue.noteFontWeight=ue.messageFontWeight=t.fontWeight)},r3=function(t){return Ve.activations.filter(function(e){return e.actor===t})},nE=function(t,e){const n=e[t],r=r3(t),i=r.reduce(function(o,a){return Math.min(o,a.startx)},n.x+n.width/2),s=r.reduce(function(o,a){return Math.max(o,a.stopx)},n.x+n.width/2);return[i,s]};function aa(t,e,n,r,i){Ve.bumpVerticalPos(n);let s=r;if(e.id&&e.message&&t[e.id]){const o=t[e.id].width,a=xh(ue);e.message=At.wrapLabel(`[${e.message}]`,o-2*ue.wrapPadding,a),e.width=o,e.wrap=!0;const l=At.calculateTextDimensions(e.message,a),u=Math.max(l.height,ue.labelBoxHeight);s=r+u,V.debug(`${u} - ${e.message}`)}i(e),Ve.bumpVerticalPos(s)}const nKe=function(t,e,n,r){const{securityLevel:i,sequence:s}=ie();ue=s,r.db.clear(),r.parser.parse(t);let o;i==="sandbox"&&(o=Le("#i"+e));const a=Le(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;Ve.init(),V.debug(r.db);const u=i==="sandbox"?a.select(`[id="${e}"]`):Le(`[id="${e}"]`),h=r.db.getActors(),d=r.db.getBoxes(),f=r.db.getActorKeys(),p=r.db.getMessages(),m=r.db.getDiagramTitle(),g=r.db.hasAtLeastOneBox(),y=r.db.hasAtLeastOneBoxWithTitle(),b=rKe(h,p,r);ue.height=sKe(h,b,d),Un.insertComputerIcon(u),Un.insertDatabaseIcon(u),Un.insertClockIcon(u),g&&(Ve.bumpVerticalPos(ue.boxMargin),y&&Ve.bumpVerticalPos(d[0].textMaxHeight)),k6(u,h,f,0,ue,p,!1);const O=lKe(p,h,b,r);Un.insertArrowHead(u),Un.insertArrowCrossHead(u),Un.insertArrowFilledHead(u),Un.insertSequenceNumber(u);function w(q,x){const X=Ve.endActivation(q);X.starty+18>x&&(X.starty=x-6,x+=12),Un.drawActivation(u,X,x,ue,r3(q.from.actor).length),Ve.insert(X.startx,x-10,X.stopx,x)}let D=1,C=1;const T=[];p.forEach(function(q){let x,X,de;switch(q.type){case r.db.LINETYPE.NOTE:X=q.noteModel,JGe(u,X);break;case r.db.LINETYPE.ACTIVE_START:Ve.newActivation(q,u,h);break;case r.db.LINETYPE.ACTIVE_END:w(q,Ve.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.LOOP_END:x=Ve.endLoop(),Un.drawLoop(u,x,"loop",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;case r.db.LINETYPE.RECT_START:aa(O,q,ue.boxMargin,ue.boxMargin,H=>Ve.newLoop(void 0,H.message));break;case r.db.LINETYPE.RECT_END:x=Ve.endLoop(),Un.drawBackgroundRect(u,x),Ve.models.addLoop(x),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos());break;case r.db.LINETYPE.OPT_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.OPT_END:x=Ve.endLoop(),Un.drawLoop(u,x,"opt",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;case r.db.LINETYPE.ALT_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.ALT_ELSE:aa(O,q,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,H=>Ve.addSectionToLoop(H));break;case r.db.LINETYPE.ALT_END:x=Ve.endLoop(),Un.drawLoop(u,x,"alt",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;case r.db.LINETYPE.PAR_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.PAR_AND:aa(O,q,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,H=>Ve.addSectionToLoop(H));break;case r.db.LINETYPE.PAR_END:x=Ve.endLoop(),Un.drawLoop(u,x,"par",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;case r.db.LINETYPE.AUTONUMBER:D=q.message.start||D,C=q.message.step||C,q.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.CRITICAL_OPTION:aa(O,q,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,H=>Ve.addSectionToLoop(H));break;case r.db.LINETYPE.CRITICAL_END:x=Ve.endLoop(),Un.drawLoop(u,x,"critical",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;case r.db.LINETYPE.BREAK_START:aa(O,q,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,H=>Ve.newLoop(H));break;case r.db.LINETYPE.BREAK_END:x=Ve.endLoop(),Un.drawLoop(u,x,"break",ue),Ve.bumpVerticalPos(x.stopy-Ve.getVerticalPos()),Ve.models.addLoop(x);break;default:try{de=q.msgModel,de.starty=Ve.getVerticalPos(),de.sequenceIndex=D,de.sequenceVisible=r.db.showSequenceNumbers();const H=eKe(u,de);T.push({messageModel:de,lineStartY:H}),Ve.models.addMessage(de)}catch(H){V.error("error while drawing message",H)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(q.type)&&(D=D+C)}),T.forEach(q=>tKe(u,q.messageModel,q.lineStartY,r)),ue.mirrorActors&&(Ve.bumpVerticalPos(ue.boxMargin*2),k6(u,h,f,Ve.getVerticalPos(),ue,p,!0),Ve.bumpVerticalPos(ue.boxMargin),oz(u,Ve.getVerticalPos())),Ve.models.boxes.forEach(function(q){q.height=Ve.getVerticalPos()-q.y,Ve.insert(q.x,q.y,q.x+q.width,q.height),q.startx=q.x,q.starty=q.y,q.stopx=q.startx+q.width,q.stopy=q.starty+q.height,q.stroke="rgb(0,0,0, 0.5)",Un.drawBox(u,q,ue)}),g&&Ve.bumpVerticalPos(ue.boxMargin);const E=lz(u,h,f,l),{bounds:P}=Ve.getBounds();V.debug("For line height fix Querying: #"+e+" .actor-line"),O8("#"+e+" .actor-line").attr("y2",P.stopy);let $=P.stopy-P.starty;$<E.maxHeight&&($=E.maxHeight);let A=$+2*ue.diagramMarginY;ue.mirrorActors&&(A=A-ue.boxMargin+ue.bottomMarginAdj);let _=P.stopx-P.startx;_<E.maxWidth&&(_=E.maxWidth);const L=_+2*ue.diagramMarginX;m&&u.append("text").text(m).attr("x",(P.stopx-P.startx)/2-2*ue.diagramMarginX).attr("y",-25),ea(u,A,L,ue.useMaxWidth);const v=m?40:0;u.attr("viewBox",P.startx-ue.diagramMarginX+" -"+(ue.diagramMarginY+v)+" "+L+" "+(A+v)),V.debug("models:",Ve.models)};function rKe(t,e,n){const r={};return e.forEach(function(i){if(t[i.to]&&t[i.from]){const s=t[i.to];if(i.placement===n.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===n.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;const o=i.placement!==void 0,a=!o,l=o?jh(ue):xh(ue),u=i.wrap?At.wrapLabel(i.message,ue.width-2*ue.wrapPadding,l):i.message,d=At.calculateTextDimensions(u,l).width+2*ue.wrapPadding;a&&i.from===s.nextActor?r[i.to]=Math.max(r[i.to]||0,d):a&&i.from===s.prevActor?r[i.from]=Math.max(r[i.from]||0,d):a&&i.from===i.to?(r[i.from]=Math.max(r[i.from]||0,d/2),r[i.to]=Math.max(r[i.to]||0,d/2)):i.placement===n.db.PLACEMENT.RIGHTOF?r[i.from]=Math.max(r[i.from]||0,d):i.placement===n.db.PLACEMENT.LEFTOF?r[s.prevActor]=Math.max(r[s.prevActor]||0,d):i.placement===n.db.PLACEMENT.OVER&&(s.prevActor&&(r[s.prevActor]=Math.max(r[s.prevActor]||0,d/2)),s.nextActor&&(r[i.from]=Math.max(r[i.from]||0,d/2)))}}),V.debug("maxMessageWidthPerActor:",r),r}const iKe=function(t){let e=0;const n=x6(ue);for(const r in t.links){const s=At.calculateTextDimensions(r,n).width+2*ue.wrapPadding+2*ue.boxMargin;e<s&&(e=s)}return e};function sKe(t,e,n){let r=0;Object.keys(t).forEach(s=>{const o=t[s];o.wrap&&(o.description=At.wrapLabel(o.description,ue.width-2*ue.wrapPadding,x6(ue)));const a=At.calculateTextDimensions(o.description,x6(ue));o.width=o.wrap?ue.width:Math.max(ue.width,a.width+2*ue.wrapPadding),o.height=o.wrap?Math.max(a.height,ue.height):ue.height,r=Math.max(r,o.height)});for(const s in e){const o=t[s];if(!o)continue;const a=t[o.nextActor];if(!a){const d=e[s]+ue.actorMargin-o.width/2;o.margin=Math.max(d,ue.actorMargin);continue}const u=e[s]+ue.actorMargin-o.width/2-a.width/2;o.margin=Math.max(u,ue.actorMargin)}let i=0;return n.forEach(s=>{const o=xh(ue);let a=s.actorKeys.reduce((h,d)=>h+=t[d].width+(t[d].margin||0),0);a-=2*ue.boxTextMargin,s.wrap&&(s.name=At.wrapLabel(s.name,a-2*ue.wrapPadding,o));const l=At.calculateTextDimensions(s.name,o);i=Math.max(l.height,i);const u=Math.max(a,l.width+2*ue.wrapPadding);if(s.margin=ue.boxTextMargin,a<u){const h=(u-a)/2;s.margin+=h}}),n.forEach(s=>s.textMaxHeight=i),Math.max(r,ue.height)}const oKe=function(t,e,n){const r=e[t.from].x,i=e[t.to].x,s=t.wrap&&t.message;let o=At.calculateTextDimensions(s?At.wrapLabel(t.message,ue.width,jh(ue)):t.message,jh(ue));const a={width:s?ue.width:Math.max(ue.width,o.width+2*ue.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(a.width=s?Math.max(ue.width,o.width):Math.max(e[t.from].width/2+e[t.to].width/2,o.width+2*ue.noteMargin),a.startx=r+(e[t.from].width+ue.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(a.width=Math.max(s?ue.width:e[t.from].width/2+e[t.to].width/2,o.width+2*ue.noteMargin),a.startx=r-a.width+(e[t.from].width-ue.actorMargin)/2):t.to===t.from?(o=At.calculateTextDimensions(s?At.wrapLabel(t.message,Math.max(ue.width,e[t.from].width),jh(ue)):t.message,jh(ue)),a.width=s?Math.max(ue.width,e[t.from].width):Math.max(e[t.from].width,ue.width,o.width+2*ue.noteMargin),a.startx=r+(e[t.from].width-a.width)/2):(a.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+ue.actorMargin,a.startx=r<i?r+e[t.from].width/2-ue.actorMargin/2:i+e[t.to].width/2-ue.actorMargin/2),s&&(a.message=At.wrapLabel(t.message,a.width-2*ue.wrapPadding,jh(ue))),V.debug(`NM:[${a.startx},${a.stopx},${a.starty},${a.stopy}:${a.width},${a.height}=${t.message}]`),a},aKe=function(t,e,n){let r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const i=nE(t.from,e),s=nE(t.to,e),o=i[0]<=s[0]?1:0,a=i[0]<s[0]?0:1,l=[...i,...s],u=Math.abs(s[a]-i[o]);t.wrap&&t.message&&(t.message=At.wrapLabel(t.message,Math.max(u+2*ue.wrapPadding,ue.width),xh(ue)));const h=At.calculateTextDimensions(t.message,xh(ue));return{width:Math.max(t.wrap?0:h.width+2*ue.wrapPadding,u+2*ue.wrapPadding,ue.width),height:0,startx:i[o],stopx:s[a],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},lKe=function(t,e,n,r){const i={},s=[];let o,a,l;return t.forEach(function(u){switch(u.id=At.random({length:10}),u.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:s.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:u.message&&(o=s.pop(),i[o.id]=o,i[u.id]=o,s.push(o));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:o=s.pop(),i[o.id]=o;break;case r.db.LINETYPE.ACTIVE_START:{const d=e[u.from?u.from.actor:u.to.actor],f=r3(u.from?u.from.actor:u.to.actor).length,p=d.x+d.width/2+(f-1)*ue.activationWidth/2,m={startx:p,stopx:p+ue.activationWidth,actor:u.from.actor,enabled:!0};Ve.activations.push(m)}break;case r.db.LINETYPE.ACTIVE_END:{const d=Ve.activations.map(f=>f.actor).lastIndexOf(u.from.actor);delete Ve.activations.splice(d,1)[0]}break}u.placement!==void 0?(a=oKe(u,e,r),u.noteModel=a,s.forEach(d=>{o=d,o.from=Math.min(o.from,a.startx),o.to=Math.max(o.to,a.startx+a.width),o.width=Math.max(o.width,Math.abs(o.from-o.to))-ue.labelBoxWidth})):(l=aKe(u,e,r),u.msgModel=l,l.startx&&l.stopx&&s.length>0&&s.forEach(d=>{if(o=d,l.startx===l.stopx){const f=e[u.from],p=e[u.to];o.from=Math.min(f.x-l.width/2,f.x-f.width/2,o.from),o.to=Math.max(p.x+l.width/2,p.x+f.width/2,o.to),o.width=Math.max(o.width,Math.abs(o.to-o.from))-ue.labelBoxWidth}else o.from=Math.min(l.startx,o.from),o.to=Math.max(l.stopx,o.to),o.width=Math.max(o.width,l.width)-ue.labelBoxWidth}))}),Ve.activations=[],V.debug("Loop type widths:",i),i},rE={bounds:Ve,drawActors:k6,drawActorsPopup:lz,setConf:cz,draw:nKe};var w6=function(){var t=function(G,F,B,ae){for(B=B||{},ae=G.length;ae--;B[G[ae]]=F);return B},e=[1,2],n=[1,3],r=[1,5],i=[1,7],s=[2,5],o=[1,15],a=[1,17],l=[1,21],u=[1,22],h=[1,23],d=[1,24],f=[1,37],p=[1,25],m=[1,26],g=[1,27],y=[1,28],b=[1,29],O=[1,32],w=[1,33],D=[1,34],C=[1,35],T=[1,36],E=[1,39],P=[1,40],M=[1,41],$=[1,42],A=[1,38],_=[1,45],L=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],v=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],q=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],x=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],X={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(F,B,ae,be,ye,Z,Qe){var ne=Z.length-1;switch(ye){case 4:return be.setRootDoc(Z[ne]),Z[ne];case 5:this.$=[];break;case 6:Z[ne]!="nl"&&(Z[ne-1].push(Z[ne]),this.$=Z[ne-1]);break;case 7:case 8:this.$=Z[ne];break;case 9:this.$="nl";break;case 12:this.$=Z[ne];break;case 13:const z=Z[ne-1];z.description=be.trimColon(Z[ne]),this.$=z;break;case 14:this.$={stmt:"relation",state1:Z[ne-2],state2:Z[ne]};break;case 15:const W=be.trimColon(Z[ne]);this.$={stmt:"relation",state1:Z[ne-3],state2:Z[ne-1],description:W};break;case 19:this.$={stmt:"state",id:Z[ne-3],type:"default",description:"",doc:Z[ne-1]};break;case 20:var se=Z[ne],ee=Z[ne-2].trim();if(Z[ne].match(":")){var J=Z[ne].split(":");se=J[0],ee=[ee,J[1]]}this.$={stmt:"state",id:se,type:"default",description:ee};break;case 21:this.$={stmt:"state",id:Z[ne-3],type:"default",description:Z[ne-5],doc:Z[ne-1]};break;case 22:this.$={stmt:"state",id:Z[ne],type:"fork"};break;case 23:this.$={stmt:"state",id:Z[ne],type:"join"};break;case 24:this.$={stmt:"state",id:Z[ne],type:"choice"};break;case 25:this.$={stmt:"state",id:be.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Z[ne-1].trim(),note:{position:Z[ne-2].trim(),text:Z[ne].trim()}};break;case 30:this.$=Z[ne].trim(),be.setAccTitle(this.$);break;case 31:case 32:this.$=Z[ne].trim(),be.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:Z[ne-1].trim(),classes:Z[ne].trim()};break;case 35:this.$={stmt:"applyClass",id:Z[ne-1].trim(),styleClass:Z[ne].trim()};break;case 38:be.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:be.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:be.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:be.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:Z[ne].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:Z[ne-2].trim(),classes:[Z[ne].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:Z[ne-2].trim(),classes:[Z[ne].trim()],type:"default",description:""};break;case 50:be.parseDirective("%%{","open_directive");break;case 51:be.parseDirective(Z[ne],"type_directive");break;case 52:Z[ne]=Z[ne].trim().replace(/'/g,'"'),be.parseDirective(Z[ne],"arg_directive");break;case 53:be.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:n,6:4,7:r,45:6,60:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,45:6,60:i},{3:9,4:e,5:n,6:4,7:r,45:6,60:i},{3:10,4:e,5:n,6:4,7:r,45:6,60:i},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],s,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,22:d,24:f,25:p,26:m,27:g,28:y,29:b,32:31,33:O,35:w,37:D,38:C,42:T,45:6,50:E,51:P,52:M,53:$,56:A,60:i},{47:43,48:[1,44],63:_},t([48,63],[2,51]),t(L,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:l,17:u,19:h,22:d,24:f,25:p,26:m,27:g,28:y,29:b,32:31,33:O,35:w,37:D,38:C,42:T,45:6,50:E,51:P,52:M,53:$,56:A,60:i},t(L,[2,8]),t(L,[2,9]),t(L,[2,10]),t(L,[2,11]),t(L,[2,12],{14:[1,47],15:[1,48]}),t(L,[2,16]),{18:[1,49]},t(L,[2,18],{20:[1,50]}),{23:[1,51]},t(L,[2,22]),t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(L,[2,28]),t(L,[2,29]),{34:[1,56]},{36:[1,57]},t(L,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(v,[2,44],{57:[1,61]}),t(v,[2,45],{57:[1,62]}),t(L,[2,38]),t(L,[2,39]),t(L,[2,40]),t(L,[2,41]),t(q,[2,36]),{49:63,62:[1,64]},t(q,[2,53]),t(L,[2,7]),t(L,[2,13]),{13:65,24:f,56:A},t(L,[2,17]),t(x,s,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(L,[2,30]),t(L,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:_},{63:[2,52]},t(L,[2,14],{14:[1,76]}),{4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,21:[1,77],22:d,24:f,25:p,26:m,27:g,28:y,29:b,32:31,33:O,35:w,37:D,38:C,42:T,45:6,50:E,51:P,52:M,53:$,56:A,60:i},t(L,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(v,[2,46]),t(v,[2,47]),t(q,[2,37]),t(L,[2,15]),t(L,[2,19]),t(x,s,{8:81}),t(L,[2,26]),t(L,[2,27]),{4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,21:[1,82],22:d,24:f,25:p,26:m,27:g,28:y,29:b,32:31,33:O,35:w,37:D,38:C,42:T,45:6,50:E,51:P,52:M,53:$,56:A,60:i},t(L,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(F,B){if(B.recoverable)this.trace(F);else{var ae=new Error(F);throw ae.hash=B,ae}},parse:function(F){var B=this,ae=[0],be=[],ye=[null],Z=[],Qe=this.table,ne="",se=0,ee=0,J=2,z=1,W=Z.slice.call(arguments,1),te=Object.create(this.lexer),Q={yy:{}};for(var me in this.yy)Object.prototype.hasOwnProperty.call(this.yy,me)&&(Q.yy[me]=this.yy[me]);te.setInput(F,Q.yy),Q.yy.lexer=te,Q.yy.parser=this,typeof te.yylloc>"u"&&(te.yylloc={});var I=te.yylloc;Z.push(I);var ge=te.options&&te.options.ranges;typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(){var qe;return qe=be.pop()||te.lex()||z,typeof qe!="number"&&(qe instanceof Array&&(be=qe,qe=be.pop()),qe=B.symbols_[qe]||qe),qe}for(var $e,Se,De,_e,Te={},ke,Me,pe,Ce;;){if(Se=ae[ae.length-1],this.defaultActions[Se]?De=this.defaultActions[Se]:(($e===null||typeof $e>"u")&&($e=Y()),De=Qe[Se]&&Qe[Se][$e]),typeof De>"u"||!De.length||!De[0]){var Be="";Ce=[];for(ke in Qe[Se])this.terminals_[ke]&&ke>J&&Ce.push("'"+this.terminals_[ke]+"'");te.showPosition?Be="Parse error on line "+(se+1)+`:
`+te.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[$e]||$e)+"'":Be="Parse error on line "+(se+1)+": Unexpected "+($e==z?"end of input":"'"+(this.terminals_[$e]||$e)+"'"),this.parseError(Be,{text:te.match,token:this.terminals_[$e]||$e,line:te.yylineno,loc:I,expected:Ce})}if(De[0]instanceof Array&&De.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Se+", token: "+$e);switch(De[0]){case 1:ae.push($e),ye.push(te.yytext),Z.push(te.yylloc),ae.push(De[1]),$e=null,ee=te.yyleng,ne=te.yytext,se=te.yylineno,I=te.yylloc;break;case 2:if(Me=this.productions_[De[1]][1],Te.$=ye[ye.length-Me],Te._$={first_line:Z[Z.length-(Me||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Me||1)].first_column,last_column:Z[Z.length-1].last_column},ge&&(Te._$.range=[Z[Z.length-(Me||1)].range[0],Z[Z.length-1].range[1]]),_e=this.performAction.apply(Te,[ne,ee,se,Q.yy,De[1],ye,Z].concat(W)),typeof _e<"u")return _e;Me&&(ae=ae.slice(0,-1*Me*2),ye=ye.slice(0,-1*Me),Z=Z.slice(0,-1*Me)),ae.push(this.productions_[De[1]][0]),ye.push(Te.$),Z.push(Te._$),pe=Qe[ae[ae.length-2]][ae[ae.length-1]],ae.push(pe);break;case 3:return!0}}return!0}},de=function(){var G={EOF:1,parseError:function(B,ae){if(this.yy.parser)this.yy.parser.parseError(B,ae);else throw new Error(B)},setInput:function(F,B){return this.yy=B||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var B=F.match(/(?:\r\n?|\n).*/g);return B?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},unput:function(F){var B=F.length,ae=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var be=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ae.length-1&&(this.yylineno-=ae.length-1);var ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ae?(ae.length===be.length?this.yylloc.first_column:0)+be[be.length-ae.length].length-ae[0].length:this.yylloc.first_column-B},this.options.ranges&&(this.yylloc.range=[ye[0],ye[0]+this.yyleng-B]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(F){this.unput(this.match.slice(F))},pastInput:function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var F=this.pastInput(),B=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+B+"^"},test_match:function(F,B){var ae,be,ye;if(this.options.backtrack_lexer&&(ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ye.yylloc.range=this.yylloc.range.slice(0))),be=F[0].match(/(?:\r\n?|\n).*/g),be&&(this.yylineno+=be.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:be?be[be.length-1].length-be[be.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],ae=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ae)return ae;if(this._backtrack){for(var Z in ye)this[Z]=ye[Z];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,B,ae,be;this._more||(this.yytext="",this.match="");for(var ye=this._currentRules(),Z=0;Z<ye.length;Z++)if(ae=this._input.match(this.rules[ye[Z]]),ae&&(!B||ae[0].length>B[0].length)){if(B=ae,be=Z,this.options.backtrack_lexer){if(F=this.test_match(ae,ye[Z]),F!==!1)return F;if(this._backtrack){B=!1;continue}else return!1}else if(!this.options.flex)break}return B?(F=this.test_match(B,ye[be]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var B=this.next();return B||this.lex()},begin:function(B){this.conditionStack.push(B)},popState:function(){var B=this.conditionStack.length-1;return B>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(B){return B=this.conditionStack.length-1-Math.abs(B||0),B>=0?this.conditionStack[B]:"INITIAL"},pushState:function(B){this.begin(B)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(B,ae,be,ye){switch(be){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),ae.yytext=ae.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),ae.yytext=ae.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),ae.yytext=ae.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),ae.yytext=ae.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),ae.yytext=ae.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),ae.yytext=ae.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),ae.yytext=ae.yytext.substr(2).trim(),31;case 69:return this.popState(),ae.yytext=ae.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return ae.yytext=ae.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return G}();X.lexer=de;function H(){this.yy={}}return H.prototype=X,X.Parser=H,new H}();w6.parser=w6;const iE=w6,cKe=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},uKe=(t,e)=>{var n;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},hKe="LR",dKe="TB",ub="state",v7="relation",fKe="classDef",pKe="applyClass",im="default",uz="divider",x7="[*]",hz="start",dz=x7,fz="end",sE="color",oE="fill",mKe="bgFill",gKe=",";function pz(){return{}}let mz=hKe,hb=[],lp=pz();const gz=()=>({relations:[],states:{},documents:{}});let db={root:gz()},vi=db.root,t1=0,aE=0;const yKe={LINE:0,DOTTED_LINE:1},bKe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},og=t=>JSON.parse(JSON.stringify(t)),OKe=function(t,e,n){Vn.parseDirective(this,t,e,n)},vKe=t=>{V.info("Setting root doc",t),hb=t},xKe=()=>hb,A2=(t,e,n)=>{if(e.stmt===v7)A2(t,e.state1,!0),A2(t,e.state2,!1);else if(e.stmt===ub&&(e.id==="[*]"?(e.id=n?t.id+"_start":t.id+"_end",e.start=n):e.id=e.id.trim()),e.doc){const r=[];let i=[],s;for(s=0;s<e.doc.length;s++)if(e.doc[s].type===uz){const o=og(e.doc[s]);o.doc=og(i),r.push(o),i=[]}else i.push(e.doc[s]);if(r.length>0&&i.length>0){const o={stmt:ub,id:VI(),type:"divider",doc:og(i)};r.push(og(o)),e.doc=r}e.doc.forEach(o=>A2(e,o,!0))}},kKe=()=>(A2({id:"root"},{id:"root",doc:hb},!0),{id:"root",doc:hb}),wKe=t=>{let e;t.doc?e=t.doc:e=t,V.info(e),yz(!0),V.info("Extract",e),e.forEach(n=>{switch(n.stmt){case ub:kh(n.id.trim(),n.type,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles);break;case v7:bz(n.state1,n.state2,n.description);break;case fKe:Oz(n.id.trim(),n.classes);break;case pKe:k7(n.id.trim(),n.styleClass);break}})},kh=function(t,e=im,n=null,r=null,i=null,s=null,o=null,a=null){const l=t==null?void 0:t.trim();vi.states[l]===void 0?(V.info("Adding state ",l,r),vi.states[l]={id:l,descriptions:[],type:e,doc:n,note:i,classes:[],styles:[],textStyles:[]}):(vi.states[l].doc||(vi.states[l].doc=n),vi.states[l].type||(vi.states[l].type=e)),r&&(V.info("Setting state description",l,r),typeof r=="string"&&C6(l,r.trim()),typeof r=="object"&&r.forEach(u=>C6(l,u.trim()))),i&&(vi.states[l].note=i,vi.states[l].note.text=Pt.sanitizeText(vi.states[l].note.text,ie())),s&&(V.info("Setting state classes",l,s),(typeof s=="string"?[s]:s).forEach(h=>k7(l,h.trim()))),o&&(V.info("Setting state styles",l,o),(typeof o=="string"?[o]:o).forEach(h=>BKe(l,h.trim()))),a&&(V.info("Setting state styles",l,o),(typeof a=="string"?[a]:a).forEach(h=>$Ke(l,h.trim())))},yz=function(t){db={root:gz()},vi=db.root,t1=0,lp=pz(),t||Qs()},n1=function(t){return vi.states[t]},_Ke=function(){return vi.states},SKe=function(){V.info("Documents = ",db)},CKe=function(){return vi.relations};function _6(t=""){let e=t;return t===x7&&(t1++,e=`${hz}${t1}`),e}function S6(t="",e=im){return t===x7?hz:e}function TKe(t=""){let e=t;return t===dz&&(t1++,e=`${fz}${t1}`),e}function DKe(t="",e=im){return t===dz?fz:e}function EKe(t,e,n){let r=_6(t.id.trim()),i=S6(t.id.trim(),t.type),s=_6(e.id.trim()),o=S6(e.id.trim(),e.type);kh(r,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),kh(s,o,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),vi.relations.push({id1:r,id2:s,relationTitle:Pt.sanitizeText(n,ie())})}const bz=function(t,e,n){if(typeof t=="object")EKe(t,e,n);else{const r=_6(t.trim()),i=S6(t),s=TKe(e.trim()),o=DKe(e);kh(r,i),kh(s,o),vi.relations.push({id1:r,id2:s,title:Pt.sanitizeText(n,ie())})}},C6=function(t,e){const n=vi.states[t],r=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(Pt.sanitizeText(r,ie()))},AKe=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},MKe=()=>(aE++,"divider-id-"+aE),Oz=function(t,e=""){lp[t]===void 0&&(lp[t]={id:t,styles:[],textStyles:[]});const n=lp[t];e!=null&&e.split(gKe).forEach(r=>{const i=r.replace(/([^;]*);/,"$1").trim();if(r.match(sE)){const o=i.replace(oE,mKe).replace(sE,oE);n.textStyles.push(o)}n.styles.push(i)})},PKe=function(){return lp},k7=function(t,e){t.split(",").forEach(function(n){let r=n1(n);if(r===void 0){const i=n.trim();kh(i),r=n1(i)}r.classes.push(e)})},BKe=function(t,e){const n=n1(t);n!==void 0&&n.textStyles.push(e)},$Ke=function(t,e){const n=n1(t);n!==void 0&&n.textStyles.push(e)},LKe=()=>mz,FKe=t=>{mz=t},NKe=t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),xl={parseDirective:OKe,getConfig:()=>ie().state,addState:kh,clear:yz,getState:n1,getStates:_Ke,getRelations:CKe,getClasses:PKe,getDirection:LKe,addRelation:bz,getDividerId:MKe,setDirection:FKe,cleanupLabel:AKe,lineType:yKe,relationType:bKe,logDocuments:SKe,getRootDoc:xKe,setRootDoc:vKe,getRootDocV2:kKe,extract:wKe,trimColon:NKe,getAccTitle:zs,setAccTitle:Os,getAccDescription:Ws,setAccDescription:Vs,addStyleClass:Oz,setCssClass:k7,addDescription:C6,setDiagramTitle:ta,getDiagramTitle:na},IKe=t=>t.append("circle").attr("class","start-state").attr("r",ie().state.sizeUnit).attr("cx",ie().state.padding+ie().state.sizeUnit).attr("cy",ie().state.padding+ie().state.sizeUnit),RKe=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ie().state.textHeight).attr("class","divider").attr("x2",ie().state.textHeight*2).attr("y1",0).attr("y2",0),QKe=(t,e)=>{const n=t.append("text").attr("x",2*ie().state.padding).attr("y",ie().state.textHeight+2*ie().state.padding).attr("font-size",ie().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();return t.insert("rect",":first-child").attr("x",ie().state.padding).attr("y",ie().state.padding).attr("width",r.width+2*ie().state.padding).attr("height",r.height+2*ie().state.padding).attr("rx",ie().state.radius),n},zKe=(t,e)=>{const n=function(f,p,m){const g=f.append("tspan").attr("x",2*ie().state.padding).text(p);m||g.attr("dy",ie().state.textHeight)},i=t.append("text").attr("x",2*ie().state.padding).attr("y",ie().state.textHeight+1.3*ie().state.padding).attr("font-size",ie().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),s=i.height,o=t.append("text").attr("x",ie().state.padding).attr("y",s+ie().state.padding*.4+ie().state.dividerMargin+ie().state.textHeight).attr("class","state-description");let a=!0,l=!0;e.descriptions.forEach(function(f){a||(n(o,f,l),l=!1),a=!1});const u=t.append("line").attr("x1",ie().state.padding).attr("y1",ie().state.padding+s+ie().state.dividerMargin/2).attr("y2",ie().state.padding+s+ie().state.dividerMargin/2).attr("class","descr-divider"),h=o.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*ie().state.padding),t.insert("rect",":first-child").attr("x",ie().state.padding).attr("y",ie().state.padding).attr("width",d+2*ie().state.padding).attr("height",h.height+s+2*ie().state.padding).attr("rx",ie().state.radius),t},VKe=(t,e,n)=>{const r=ie().state.padding,i=2*ie().state.padding,s=t.node().getBBox(),o=s.width,a=s.x,l=t.append("text").attr("x",0).attr("y",ie().state.titleShift).attr("font-size",ie().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let d=Math.max(h,o);d===o&&(d=d+i);let f;const p=t.node().getBBox();e.doc,f=a-r,h>o&&(f=(o-d)/2+r),Math.abs(a-p.x)<r&&h>o&&(f=a-(h-o)/2);const m=1-ie().state.textHeight;return t.insert("rect",":first-child").attr("x",f).attr("y",m).attr("class",n?"alt-composit":"composit").attr("width",d).attr("height",p.height+ie().state.textHeight+ie().state.titleShift+1).attr("rx","0"),l.attr("x",f+r),h<=o&&l.attr("x",a+(d-i)/2-h/2+r),t.insert("rect",":first-child").attr("x",f).attr("y",ie().state.titleShift-ie().state.textHeight-ie().state.padding).attr("width",d).attr("height",ie().state.textHeight*3).attr("rx",ie().state.radius),t.insert("rect",":first-child").attr("x",f).attr("y",ie().state.titleShift-ie().state.textHeight-ie().state.padding).attr("width",d).attr("height",p.height+3+2*ie().state.textHeight).attr("rx",ie().state.radius),t},WKe=t=>(t.append("circle").attr("class","end-state-outer").attr("r",ie().state.sizeUnit+ie().state.miniPadding).attr("cx",ie().state.padding+ie().state.sizeUnit+ie().state.miniPadding).attr("cy",ie().state.padding+ie().state.sizeUnit+ie().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",ie().state.sizeUnit).attr("cx",ie().state.padding+ie().state.sizeUnit+2).attr("cy",ie().state.padding+ie().state.sizeUnit+2)),qKe=(t,e)=>{let n=ie().state.forkWidth,r=ie().state.forkHeight;if(e.parentId){let i=n;n=r,r=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",ie().state.padding).attr("y",ie().state.padding)},XKe=(t,e,n,r)=>{let i=0;const s=r.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let o=t.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");const a=o.split(Pt.lineBreakRegex);let l=1.25*ie().state.noteMargin;for(const u of a){const h=u.trim();if(h.length>0){const d=s.append("tspan");if(d.text(h),l===0){const f=d.node().getBBox();l+=f.height}i+=l,d.attr("x",e+ie().state.noteMargin),d.attr("y",n+i+1.25*ie().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},YKe=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",ie().state.padding),r=e.append("g"),{textWidth:i,textHeight:s}=XKe(t,0,0,r);return n.attr("height",s+2*ie().state.noteMargin),n.attr("width",i+ie().state.noteMargin*2),n},lE=function(t,e){const n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");e.type==="start"&&IKe(i),e.type==="end"&&WKe(i),(e.type==="fork"||e.type==="join")&&qKe(i,e),e.type==="note"&&YKe(e.note.text,i),e.type==="divider"&&RKe(i),e.type==="default"&&e.descriptions.length===0&&QKe(i,e),e.type==="default"&&e.descriptions.length>0&&zKe(i,e);const s=i.node().getBBox();return r.width=s.width+2*ie().state.padding,r.height=s.height+2*ie().state.padding,r};let cE=0;const UKe=function(t,e,n){const r=function(l){switch(l){case xl.relationType.AGGREGATION:return"aggregation";case xl.relationType.EXTENSION:return"extension";case xl.relationType.COMPOSITION:return"composition";case xl.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,s=T0().x(function(l){return l.x}).y(function(l){return l.y}).curve(Zd),o=t.append("path").attr("d",s(i)).attr("id","edge"+cE).attr("class","transition");let a="";if(ie().state.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),o.attr("marker-end","url("+a+"#"+r(xl.relationType.DEPENDENCY)+"End)"),n.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=At.calcLabelPosition(e.points),d=Pt.getRows(n.title);let f=0;const p=[];let m=0,g=0;for(let O=0;O<=d.length;O++){const w=l.append("text").attr("text-anchor","middle").text(d[O]).attr("x",u).attr("y",h+f),D=w.node().getBBox();m=Math.max(m,D.width),g=Math.min(g,D.x),V.info(D.x,u,h+f),f===0&&(f=w.node().getBBox().height,V.info("Title height",f,h)),p.push(w)}let y=f*d.length;if(d.length>1){const O=(d.length-1)*f*.5;p.forEach((w,D)=>w.attr("y",h+D*f-O)),y=f*d.length}const b=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-m/2-ie().state.padding/2).attr("y",h-y/2-ie().state.padding/2-3.5).attr("width",m+ie().state.padding).attr("height",y+ie().state.padding),V.info(b)}cE++};let Ss;const TO={},jKe=function(){},HKe=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},ZKe=function(t,e,n,r){Ss=ie().state;const i=ie().securityLevel;let s;i==="sandbox"&&(s=Le("#i"+e));const o=Le(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),a=i==="sandbox"?s.nodes()[0].contentDocument:document;V.debug("Rendering diagram "+t);const l=o.select(`[id='${e}']`);HKe(l),new Sr({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const h=r.db.getRootDoc();vz(h,l,void 0,!1,o,a,r);const d=Ss.padding,f=l.node().getBBox(),p=f.width+d*2,m=f.height+d*2,g=p*1.75;ea(l,m,g,Ss.useMaxWidth),l.attr("viewBox",`${f.x-Ss.padding}  ${f.y-Ss.padding} `+p+" "+m)},GKe=t=>t?t.length*Ss.fontSizeFactor:1,vz=(t,e,n,r,i,s,o)=>{const a=new Sr({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}n?a.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Ss.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):a.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Ss.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),a.setDefaultEdgeLabel(function(){return{}}),o.db.extract(t);const h=o.db.getStates(),d=o.db.getRelations(),f=Object.keys(h);for(const b of f){const O=h[b];n&&(O.parentId=n);let w;if(O.doc){let D=e.append("g").attr("id",O.id).attr("class","stateGroup");w=vz(O.doc,D,O.id,!r,i,s,o);{D=VKe(D,O,r);let C=D.node().getBBox();w.width=C.width,w.height=C.height+Ss.padding/2,TO[O.id]={y:Ss.compositTitleSize}}}else w=lE(e,O);if(O.note){const D={descriptions:[],id:O.id+"-note",note:O.note,type:"note"},C=lE(e,D);O.note.position==="left of"?(a.setNode(w.id+"-note",C),a.setNode(w.id,w)):(a.setNode(w.id,w),a.setNode(w.id+"-note",C)),a.setParent(w.id,w.id+"-group"),a.setParent(w.id+"-note",w.id+"-group")}else a.setNode(w.id,w)}V.debug("Count=",a.nodeCount(),a);let p=0;d.forEach(function(b){p++,V.debug("Setting edge",b),a.setEdge(b.id1,b.id2,{relation:b,width:GKe(b.title),height:Ss.labelHeight*Pt.getRows(b.title).length,labelpos:"c"},"id"+p)}),E0(a),V.debug("Graph after layout",a.nodes());const m=e.node();a.nodes().forEach(function(b){b!==void 0&&a.node(b)!==void 0?(V.warn("Node "+b+": "+JSON.stringify(a.node(b))),i.select("#"+m.id+" #"+b).attr("transform","translate("+(a.node(b).x-a.node(b).width/2)+","+(a.node(b).y+(TO[b]?TO[b].y:0)-a.node(b).height/2)+" )"),i.select("#"+m.id+" #"+b).attr("data-x-shift",a.node(b).x-a.node(b).width/2),s.querySelectorAll("#"+m.id+" #"+b+" .divider").forEach(w=>{const D=w.parentElement;let C=0,T=0;D&&(D.parentElement&&(C=D.parentElement.getBBox().width),T=parseInt(D.getAttribute("data-x-shift"),10),Number.isNaN(T)&&(T=0)),w.setAttribute("x1",0-T+8),w.setAttribute("x2",C-T-8)})):V.debug("No Node "+b+": "+JSON.stringify(a.node(b)))});let g=m.getBBox();a.edges().forEach(function(b){b!==void 0&&a.edge(b)!==void 0&&(V.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(a.edge(b))),UKe(e,a.edge(b),a.edge(b).relation))}),g=m.getBBox();const y={id:n||"root",label:n||"root",width:0,height:0};return y.width=g.width+2*Ss.padding,y.height=g.height+2*Ss.padding,V.debug("Doc rendered",y,a),y},KKe={setConf:jKe,draw:ZKe},M2="rect",DO="rectWithTitle",JKe="start",eJe="end",tJe="divider",nJe="roundedWithTitle",rJe="note",iJe="noteGroup",i0="statediagram",sJe="state",oJe=`${i0}-${sJe}`,xz="transition",aJe="note",lJe="note-edge",cJe=`${xz} ${lJe}`,uJe=`${i0}-${aJe}`,hJe="cluster",dJe=`${i0}-${hJe}`,fJe="cluster-alt",pJe=`${i0}-${fJe}`,kz="parent",wz="note",mJe="state",w7="----",gJe=`${w7}${wz}`,uE=`${w7}${kz}`,_z="fill:none",Sz="fill: #333",Cz="c",Tz="text",Dz="normal";let P2={},xc=0;const yJe=function(t){const e=Object.keys(t);for(const n of e)t[n]},bJe=function(t,e){V.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(n){return n}};function OJe(t){return t==null?"":t.classes?t.classes.join(" "):""}function EO(t="",e=0,n="",r=w7){const i=n!==null&&n.length>0?`${r}${n}`:"";return`${mJe}-${t}${i}-${e}`}const Tf=(t,e,n,r,i,s)=>{const o=n.id,a=OJe(r[o]);if(o!=="root"){let l=M2;n.start===!0&&(l=JKe),n.start===!1&&(l=eJe),n.type!==im&&(l=n.type),P2[o]||(P2[o]={id:o,shape:l,description:Pt.sanitizeText(o,ie()),classes:`${a} ${oJe}`});const u=P2[o];n.description&&(Array.isArray(u.description)?(u.shape=DO,u.description.push(n.description)):u.description.length>0?(u.shape=DO,u.description===o?u.description=[n.description]:u.description=[u.description,n.description]):(u.shape=M2,u.description=n.description),u.description=Pt.sanitizeTextOrArray(u.description,ie())),u.description.length===1&&u.shape===DO&&(u.shape=M2),!u.type&&n.doc&&(V.info("Setting cluster for ",o,T6(n)),u.type="group",u.dir=T6(n),u.shape=n.type===uz?tJe:nJe,u.classes=u.classes+" "+dJe+" "+(s?pJe:""));const h={labelStyle:"",shape:u.shape,labelText:u.description,classes:u.classes,style:"",id:o,dir:u.dir,domId:EO(o,xc),type:u.type,padding:15};if(n.note){const d={labelStyle:"",shape:rJe,labelText:n.note.text,classes:uJe,style:"",id:o+gJe+"-"+xc,domId:EO(o,xc,wz),type:u.type,padding:15},f={labelStyle:"",shape:iJe,labelText:n.note.text,classes:u.classes,style:"",id:o+uE,domId:EO(o,xc,kz),type:"group",padding:0};xc++;const p=o+uE;t.setNode(p,f),t.setNode(d.id,d),t.setNode(o,h),t.setParent(o,p),t.setParent(d.id,p);let m=o,g=d.id;n.note.position==="left of"&&(m=d.id,g=o),t.setEdge(m,g,{arrowhead:"none",arrowType:"",style:_z,labelStyle:"",classes:cJe,arrowheadStyle:Sz,labelpos:Cz,labelType:Tz,thickness:Dz})}else t.setNode(o,h)}e&&e.id!=="root"&&(V.trace("Setting node ",o," to be child of its parent ",e.id),t.setParent(o,e.id)),n.doc&&(V.trace("Adding nodes children "),vJe(t,n,n.doc,r,i,!s))},vJe=(t,e,n,r,i,s)=>{V.trace("items",n),n.forEach(o=>{switch(o.stmt){case ub:Tf(t,e,o,r,i,s);break;case im:Tf(t,e,o,r,i,s);break;case v7:{Tf(t,e,o.state1,r,i,s),Tf(t,e,o.state2,r,i,s);const a={id:"edge"+xc,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:_z,labelStyle:"",label:Pt.sanitizeText(o.description,ie()),arrowheadStyle:Sz,labelpos:Cz,labelType:Tz,thickness:Dz,classes:xz};t.setEdge(o.state1.id,o.state2.id,a,xc),xc++}break}})},T6=(t,e=dKe)=>{let n=e;if(t.doc)for(let r=0;r<t.doc.length;r++){const i=t.doc[r];i.stmt==="dir"&&(n=i.value)}return n},xJe=function(t,e,n,r){V.info("Drawing state diagram (v2)",e),P2={},r.db.getDirection();const{securityLevel:i,state:s}=ie(),o=s.nodeSpacing||50,a=s.rankSpacing||50;V.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),V.info(r.db.getRootDocV2());const l=r.db.getStates(),u=new Sr({multigraph:!0,compound:!0}).setGraph({rankdir:T6(r.db.getRootDocV2()),nodesep:o,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Tf(u,void 0,r.db.getRootDocV2(),l,r.db,!0);let h;i==="sandbox"&&(h=Le("#i"+e));const d=Le(i==="sandbox"?h.nodes()[0].contentDocument.body:"body"),f=d.select(`[id="${e}"]`),p=d.select("#"+e+" g");i7(p,u,["barb"],i0,e);const m=8;At.insertTitle(f,"statediagramTitleText",s.titleTopMargin,r.db.getDiagramTitle());const g=f.node().getBBox(),y=g.width+m*2,b=g.height+m*2;f.attr("class",i0);const O=f.node().getBBox();ea(f,b,y,s.useMaxWidth);const w=`${O.x-m} ${O.y-m} ${y} ${b}`;V.debug(`viewBox ${w}`),f.attr("viewBox",w);const D=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const C of D){const T=C.getBBox(),E=document.createElementNS("http://www.w3.org/2000/svg",M2);E.setAttribute("rx",0),E.setAttribute("ry",0),E.setAttribute("width",T.width),E.setAttribute("height",T.height),C.insertBefore(E,C.firstChild)}},kJe={setConf:yJe,getClasses:bJe,draw:xJe};var D6=function(){var t=function(g,y,b,O){for(b=b||{},O=g.length;O--;b[g[O]]=y);return b},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],s=[1,16],o=[1,17],a=[1,18],l=[1,19],u=[1,20],h=[1,24],d=[4,6,9,11,17,18,20,22,23,24,26],f={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(y,b,O,w,D,C,T){var E=C.length-1;switch(D){case 1:return C[E-1];case 3:this.$=[];break;case 4:C[E-1].push(C[E]),this.$=C[E-1];break;case 5:case 6:this.$=C[E];break;case 7:case 8:this.$=[];break;case 11:w.setDiagramTitle(C[E].substr(6)),this.$=C[E].substr(6);break;case 12:this.$=C[E].trim(),w.setAccTitle(this.$);break;case 13:case 14:this.$=C[E].trim(),w.setAccDescription(this.$);break;case 15:w.addSection(C[E].substr(8)),this.$=C[E].substr(8);break;case 16:w.addTask(C[E-1],C[E]),this.$="task";break;case 18:w.parseDirective("%%{","open_directive");break;case 19:w.parseDirective(C[E],"type_directive");break;case 20:C[E]=C[E].trim().replace(/'/g,'"'),w.parseDirective(C[E],"arg_directive");break;case 21:w.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:s,20:o,22:a,23:l,24:u,26:n},{1:[2,2]},{14:22,15:[1,23],29:h},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:s,20:o,22:a,23:l,24:u,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(d,[2,9]),{14:32,29:h},{29:[2,20]},{11:[1,33]},t(d,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(y,b){if(b.recoverable)this.trace(y);else{var O=new Error(y);throw O.hash=b,O}},parse:function(y){var b=this,O=[0],w=[],D=[null],C=[],T=this.table,E="",P=0,M=0,$=2,A=1,_=C.slice.call(arguments,1),L=Object.create(this.lexer),v={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(v.yy[q]=this.yy[q]);L.setInput(y,v.yy),v.yy.lexer=L,v.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var x=L.yylloc;C.push(x);var X=L.options&&L.options.ranges;typeof v.yy.parseError=="function"?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function de(){var se;return se=w.pop()||L.lex()||A,typeof se!="number"&&(se instanceof Array&&(w=se,se=w.pop()),se=b.symbols_[se]||se),se}for(var H,G,F,B,ae={},be,ye,Z,Qe;;){if(G=O[O.length-1],this.defaultActions[G]?F=this.defaultActions[G]:((H===null||typeof H>"u")&&(H=de()),F=T[G]&&T[G][H]),typeof F>"u"||!F.length||!F[0]){var ne="";Qe=[];for(be in T[G])this.terminals_[be]&&be>$&&Qe.push("'"+this.terminals_[be]+"'");L.showPosition?ne="Parse error on line "+(P+1)+`:
`+L.showPosition()+`
Expecting `+Qe.join(", ")+", got '"+(this.terminals_[H]||H)+"'":ne="Parse error on line "+(P+1)+": Unexpected "+(H==A?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(ne,{text:L.match,token:this.terminals_[H]||H,line:L.yylineno,loc:x,expected:Qe})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+G+", token: "+H);switch(F[0]){case 1:O.push(H),D.push(L.yytext),C.push(L.yylloc),O.push(F[1]),H=null,M=L.yyleng,E=L.yytext,P=L.yylineno,x=L.yylloc;break;case 2:if(ye=this.productions_[F[1]][1],ae.$=D[D.length-ye],ae._$={first_line:C[C.length-(ye||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(ye||1)].first_column,last_column:C[C.length-1].last_column},X&&(ae._$.range=[C[C.length-(ye||1)].range[0],C[C.length-1].range[1]]),B=this.performAction.apply(ae,[E,M,P,v.yy,F[1],D,C].concat(_)),typeof B<"u")return B;ye&&(O=O.slice(0,-1*ye*2),D=D.slice(0,-1*ye),C=C.slice(0,-1*ye)),O.push(this.productions_[F[1]][0]),D.push(ae.$),C.push(ae._$),Z=T[O[O.length-2]][O[O.length-1]],O.push(Z);break;case 3:return!0}}return!0}},p=function(){var g={EOF:1,parseError:function(b,O){if(this.yy.parser)this.yy.parser.parseError(b,O);else throw new Error(b)},setInput:function(y,b){return this.yy=b||this.yy||{},this._input=y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var y=this._input[0];this.yytext+=y,this.yyleng++,this.offset++,this.match+=y,this.matched+=y;var b=y.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),y},unput:function(y){var b=y.length,O=y.split(/(?:\r\n?|\n)/g);this._input=y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var w=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===w.length?this.yylloc.first_column:0)+w[w.length-O.length].length-O[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(y){this.unput(this.match.slice(y))},pastInput:function(){var y=this.matched.substr(0,this.matched.length-this.match.length);return(y.length>20?"...":"")+y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var y=this.match;return y.length<20&&(y+=this._input.substr(0,20-y.length)),(y.substr(0,20)+(y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var y=this.pastInput(),b=new Array(y.length+1).join("-");return y+this.upcomingInput()+`
`+b+"^"},test_match:function(y,b){var O,w,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),w=y[0].match(/(?:\r\n?|\n).*/g),w&&(this.yylineno+=w.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+y[0].length},this.yytext+=y[0],this.match+=y[0],this.matches=y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(y[0].length),this.matched+=y[0],O=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var C in D)this[C]=D[C];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var y,b,O,w;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),C=0;C<D.length;C++)if(O=this._input.match(this.rules[D[C]]),O&&(!b||O[0].length>b[0].length)){if(b=O,w=C,this.options.backtrack_lexer){if(y=this.test_match(O,D[C]),y!==!1)return y;if(this._backtrack){b=!1;continue}else return!1}else if(!this.options.flex)break}return b?(y=this.test_match(b,D[w]),y!==!1?y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b||this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){var b=this.conditionStack.length-1;return b>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){return b=this.conditionStack.length-1-Math.abs(b||0),b>=0?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,O,w,D){switch(w){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return g}();f.lexer=p;function m(){this.yy={}}return m.prototype=f,f.Parser=m,new m}();D6.parser=D6;const wJe=D6,_Je=t=>t.match(/^\s*journey/)!==null;let s0="";const _7=[],r1=[],i1=[],SJe=function(t,e,n){Vn.parseDirective(this,t,e,n)},CJe=function(){_7.length=0,r1.length=0,s0="",i1.length=0,Qs()},TJe=function(t){s0=t,_7.push(t)},DJe=function(){return _7},EJe=function(){let t=hE();const e=100;let n=0;for(;!t&&n<e;)t=hE(),n++;return r1.push(...i1),r1},AJe=function(){const t=[];return r1.forEach(n=>{n.people&&t.push(...n.people)}),[...new Set(t)].sort()},MJe=function(t,e){const n=e.substr(1).split(":");let r=0,i=[];n.length===1?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));const s=i.map(a=>a.trim()),o={section:s0,type:s0,people:s,task:t,score:r};i1.push(o)},PJe=function(t){const e={section:s0,type:s0,description:t,task:t,classes:[]};r1.push(e)},hE=function(){const t=function(n){return i1[n].processed};let e=!0;for(const[n,r]of i1.entries())t(n),e=e&&r.processed;return e},BJe=function(){return AJe()},dE={parseDirective:SJe,getConfig:()=>ie().journey,clear:CJe,setDiagramTitle:ta,getDiagramTitle:na,setAccTitle:Os,getAccTitle:zs,setAccDescription:Vs,getAccDescription:Ws,addSection:TJe,getSections:DJe,getTasks:EJe,addTask:MJe,addTaskOrg:PJe,getActors:BJe},i3=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},$Je=function(t,e){const r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(l){const u=Ix().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function o(l){const u=Ix().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function a(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?s(i):e.score<3?o(i):a(i),r},Ez=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),n.class!==void 0&&n.attr("class",n.class),e.title!==void 0&&n.append("title").text(e.title),n},Az=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),e.class!==void 0&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(n),r},LJe=function(t,e){function n(i,s,o,a,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+a-l)+" "+(i+o-l*1.2)+","+(s+a)+" "+i+","+(s+a)}const r=t.append("polygon");r.attr("points",n(e.x,e.y,50,20,7)),r.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Az(t,e)},FJe=function(t,e,n){const r=t.append("g"),i=S7();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,i3(r,i),Mz(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let fE=-1;const NJe=function(t,e,n){const r=e.x+n.width/2,i=t.append("g");fE++;const s=300+5*30;i.append("line").attr("id","task"+fE).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),$Je(i,{cx:r,cy:300+(5-e.score)*30,score:e.score});const o=S7();o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=n.width,o.height=n.height,o.class="task task-type-"+e.num,o.rx=3,o.ry=3,i3(i,o);let a=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:a,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};Ez(i,h),a+=10}),Mz(n)(e.task,i,o.x,o.y,o.width,o.height,{class:"task"},n,e.colour)},IJe=function(t,e){i3(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},RJe=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},S7=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},Mz=function(){function t(i,s,o,a,l,u,h,d){const f=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);r(f,h)}function e(i,s,o,a,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:m}=d,g=i.split(/<br\s*\/?>/gi);for(let y=0;y<g.length;y++){const b=y*p-p*(g.length-1)/2,O=s.append("text").attr("x",o+l/2).attr("y",a).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",m);O.append("tspan").attr("x",o+l/2).attr("dy",b).text(g[y]),O.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(m,h)}function r(i,s){for(const o in s)o in s&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),QJe=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},s1={drawRect:i3,drawCircle:Ez,drawSection:FJe,drawText:Az,drawLabel:LJe,drawTask:NJe,drawBackgroundRect:IJe,getTextObj:RJe,getNoteRect:S7,initGraphics:QJe},zJe=function(t){Object.keys(t).forEach(function(n){s3[n]=t[n]})},Al={};function VJe(t){const e=ie().journey;let n=60;Object.keys(Al).forEach(r=>{const i=Al[r].color,s={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:Al[r].position};s1.drawCircle(t,s);const o={x:40,y:n+7,fill:"#666",text:r,textMargin:e.boxTextMargin|5};s1.drawText(t,o),n+=20})}const s3=ie().journey,Nu=s3.leftMargin,WJe=function(t,e,n,r){const i=ie().journey;r.db.clear(),r.parser.parse(t+`
`);const s=ie().securityLevel;let o;s==="sandbox"&&(o=Le("#i"+e));const a=Le(s==="sandbox"?o.nodes()[0].contentDocument.body:"body");Ks.init();const l=a.select("#"+e);s1.initGraphics(l);const u=r.db.getTasks(),h=r.db.getDiagramTitle(),d=r.db.getActors();for(const b in Al)delete Al[b];let f=0;d.forEach(b=>{Al[b]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),VJe(l),Ks.insert(0,0,Nu,Object.keys(Al).length*50),qJe(l,u,0);const p=Ks.getBounds();h&&l.append("text").text(h).attr("x",Nu).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const m=p.stopy-p.starty+2*i.diagramMarginY,g=Nu+p.stopx+2*i.diagramMarginX;ea(l,m,g,i.useMaxWidth),l.append("line").attr("x1",Nu).attr("y1",i.height*4).attr("x2",g-Nu-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const y=h?70:0;l.attr("viewBox",`${p.startx} -25 ${g} ${m+y}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",m+y+25)},Ks={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){t[e]===void 0?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=ie().journey,s=this;let o=0;function a(l){return function(h){o++;const d=s.sequenceItems.length-o+1;s.updateVal(h,"starty",e-d*i.boxMargin,Math.min),s.updateVal(h,"stopy",r+d*i.boxMargin,Math.max),s.updateVal(Ks.data,"startx",t-d*i.boxMargin,Math.min),s.updateVal(Ks.data,"stopx",n+d*i.boxMargin,Math.max),l!=="activation"&&(s.updateVal(h,"startx",t-d*i.boxMargin,Math.min),s.updateVal(h,"stopx",n+d*i.boxMargin,Math.max),s.updateVal(Ks.data,"starty",e-d*i.boxMargin,Math.min),s.updateVal(Ks.data,"stopy",r+d*i.boxMargin,Math.max))}}this.sequenceItems.forEach(a())},insert:function(t,e,n,r){const i=Math.min(t,n),s=Math.max(t,n),o=Math.min(e,r),a=Math.max(e,r);this.updateVal(Ks.data,"startx",i,Math.min),this.updateVal(Ks.data,"starty",o,Math.min),this.updateVal(Ks.data,"stopx",s,Math.max),this.updateVal(Ks.data,"stopy",a,Math.max),this.updateBounds(i,o,s,a)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},AO=s3.sectionFills,pE=s3.sectionColours,qJe=function(t,e,n){const r=ie().journey;let i="";const s=r.height*2+r.diagramMarginY,o=n+s;let a=0,l="#CCC",u="black",h=0;for(const[d,f]of e.entries()){if(i!==f.section){l=AO[a%AO.length],h=a%AO.length,u=pE[a%pE.length];const m={x:d*r.taskMargin+d*r.width+Nu,y:50,text:f.section,fill:l,num:h,colour:u};s1.drawSection(t,m,r),i=f.section,a++}const p=f.people.reduce((m,g)=>(Al[g]&&(m[g]=Al[g]),m),{});f.x=d*r.taskMargin+d*r.width+Nu,f.y=o,f.width=r.diagramMarginX,f.height=r.diagramMarginY,f.colour=u,f.fill=l,f.num=h,f.actors=p,s1.drawTask(t,f,r),Ks.insert(f.x,f.y,f.x+f.width+r.taskMargin,300+5*30)}},mE={setConf:zJe,draw:WJe};let gE={};const XJe=function(t){gE={...gE,...t}},YJe=(t,e,n)=>{try{V.debug(`Renering svg for syntax error
`);const r=Le("#"+e),i=r.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),r.attr("height",100),r.attr("width",500),r.attr("viewBox","768 0 912 512")}catch(r){V.error("Error while rendering info diagram"),V.error(Hqe(r))}},fb={setConf:XJe,draw:YJe},Pz="flowchart-elk",UJe=(t,e)=>{var n;return!!(t.match(/^\s*flowchart-elk/)||t.match(/^\s*flowchart|graph/)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk")},jJe=async()=>{const{diagram:t}=await Lk(()=>import("./flowchart-elk-definition-170a3958.71e11c55.js"),["assets/flowchart-elk-definition-170a3958.71e11c55.js","assets/index.4e24e414.js","assets/index.6b1de505.css","assets/SplitPane.a7162a6b.js","assets/SplitPane.573107f2.css"]);return{id:Pz,diagram:t}},HJe={id:Pz,detector:UJe,loader:jJe},ZJe=HJe,Bz="timeline",GJe=t=>t.match(/^\s*timeline/)!==null,KJe=async()=>{const{diagram:t}=await Lk(()=>import("./timeline-definition-8e5a9bc6.6da8c13e.js"),["assets/timeline-definition-8e5a9bc6.6da8c13e.js","assets/index.4e24e414.js","assets/index.6b1de505.css","assets/is_dark.b6876d4e.js","assets/SplitPane.a7162a6b.js","assets/SplitPane.573107f2.css"]);return{id:Bz,diagram:t}},JJe={id:Bz,detector:GJe,loader:KJe},eet=JJe,$z="mindmap",tet=t=>t.match(/^\s*mindmap/)!==null,net=async()=>{const{diagram:t}=await Lk(()=>import("./mindmap-definition-44684416.e7224212.js"),["assets/mindmap-definition-44684416.e7224212.js","assets/index.4e24e414.js","assets/index.6b1de505.css","assets/is_dark.b6876d4e.js","assets/SplitPane.a7162a6b.js","assets/SplitPane.573107f2.css"]);return{id:$z,diagram:t}},ret={id:$z,detector:tet,loader:net},iet=ret;let yE=!1;const sm=()=>{yE||(yE=!0,RI(ZJe,eet,iet),Tr("error",{db:{clear:()=>{}},styles:Kx,renderer:fb,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),Tr("---",{db:{clear:()=>{}},styles:Kx,renderer:fb,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},t=>t.toLowerCase().trimStart().startsWith("---")),Tr("c4",{parser:rYe,db:mR,renderer:ND,styles:iR,init:t=>{ND.setConf(t.c4)}},iYe),Tr("class",{parser:ID,db:ld,renderer:TUe,styles:rp,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ld.clear()}},ZYe),Tr("classDiagram",{parser:ID,db:ld,renderer:Qje,styles:rp,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ld.clear()}},GYe),Tr("er",{parser:zje,db:Gje,renderer:cHe,styles:GI},Vje),Tr("gantt",{parser:EHe,db:m7,renderer:uZe,styles:KI},AHe),Tr("info",{parser:hZe,db:gZe,renderer:bZe,styles:JI},OZe),Tr("pie",{parser:vZe,db:EZe,renderer:MZe,styles:eR},xZe),Tr("requirement",{parser:PZe,db:KZe,renderer:aGe,styles:tR},BZe),Tr("sequence",{parser:lGe,db:tE,renderer:rE,styles:nR,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");tE.setWrap(t.wrap),rE.setConf(t.sequence)}},cGe),Tr("state",{parser:iE,db:xl,renderer:KKe,styles:Yy,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,xl.clear()}},cKe),Tr("stateDiagram",{parser:iE,db:xl,renderer:kJe,styles:Yy,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,xl.clear()}},uKe),Tr("journey",{parser:wJe,db:dE,renderer:mE,styles:rR,init:t=>{mE.setConf(t.journey),dE.clear()}},_Je),Tr("flowchart",{parser:GD,db:va,renderer:CO,styles:Xy,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,SHe.setConf(t.flowchart),va.clear(),va.setGen("gen-1")}},uHe),Tr("flowchart-v2",{parser:GD,db:va,renderer:CO,styles:Xy,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,UI({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),CO.setConf(t.flowchart),va.clear(),va.setGen("gen-2")}},hHe),Tr("gitGraph",{parser:CXe,db:YXe,renderer:eYe,styles:nYe},TXe))};class E6{constructor(e,n){var r,i;this.txt=e,this.type="graph",this.detectTypeFailed=!1;const s=ie();this.txt=e;try{this.type=W8(e,s)}catch(l){this.handleError(l,n),this.type="error",this.detectTypeFailed=!0}const o=aR(this.type);V.debug("Type "+this.type),this.db=o.db,(i=(r=this.db).clear)==null||i.call(r),this.renderer=o.renderer,this.parser=o.parser;const a=this.parser.parse.bind(this.parser);this.parser.parse=l=>a(Eqe(l,this.db)),this.parser.parser.yy=this.db,o.init&&(o.init(s),V.info("Initialized diagram "+this.type,s)),this.txt+=`
`,this.parse(this.txt,n)}parse(e,n){var r,i;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(i=(r=this.db).clear)==null||i.call(r),this.parser.parse(e),!0}catch(s){this.handleError(s,n)}return!1}handleError(e,n){if(n===void 0)throw e;if(X8(e)){n(e.str,e.hash);return}n(e)}getParser(){return this.parser}getType(){return this.type}}const C7=(t,e)=>{const n=W8(t,ie());try{aR(n)}catch{const i=Pqe(n);if(!i)throw new Error(`Diagram ${n} not found.`);return i().then(({diagram:s})=>(Tr(n,s,void 0),new E6(t,e)))}return new E6(t,e)},T7=E6,set="graphics-document document";function oet(t,e){t.attr("role",set),pd(e)||t.attr("aria-roledescription",e)}function aet(t,e,n,r){if(t.insert!==void 0)if(e||n){if(n){const i="chart-desc-"+r;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i="chart-title-"+r;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}else return}const D7=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],Lz="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Fz="sandbox",Nz="loose",cet="http://www.w3.org/2000/svg",Iz="http://www.w3.org/1999/xlink",Rz="http://www.w3.org/1999/xhtml",uet="100%",het="100%",det="border:0;margin:0;",fet="margin:0",pet="allow-top-navigation-by-user-activation allow-popups",met='The "iframe" tag is not supported by your browser.',Qz=["foreignobject"],zz=["dominant-baseline"];function get(t,e){return sm(),new T7(t,e).parse(t,e)}async function yet(t,e){return sm(),(await C7(t,e)).parse(t,e)}const Vz=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?"\uFB02\xB0\xB0"+r+"\xB6\xDF":"\uFB02\xB0"+r+"\xB6\xDF"}),e},E7=function(t){let e=t;return e=e.replace(//g,"&#"),e=e.replace(//g,"&"),e=e.replace(//g,";"),e},bE=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,bet=(t,e,n={})=>{var r;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!pd(n)&&D7.includes(e)){const l=t.htmlLabels||((r=t.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const u in n){const h=n[u];pd(h.styles)||l.forEach(d=>{i+=bE(h.id,d,h.styles)}),pd(h.textStyles)||(i+=bE(h.id,"tspan",h.textStyles))}}return i},Wz=(t,e,n,r)=>{const i=bet(t,e,n),s=yXe(e,i,t.themeVariables);return Uu(mP(`${r}{${s}}`),gP)},qz=(t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),r=E7(r),r=r.replace(/<br>/g,"<br/>"),r},Xz=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":het,r=btoa('<body style="'+fet+'">'+t+"</body>");return`<iframe style="width:${uet};height:${n};${det}" src="data:text/html;base64,${r}" sandbox="${pet}">
  ${met}
</iframe>`},pb=(t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",cet);return i&&o.attr("xmlns:xlink",i),o.append("g"),t};function mb(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const Yz=(t,e,n,r)=>{var i,s,o;(i=t.getElementById(e))==null||i.remove(),(s=t.getElementById(n))==null||s.remove(),(o=t.getElementById(r))==null||o.remove()},Oet=function(t,e,n,r){var de;var i,s,o,a;sm(),Yp();const l=At.detectInit(e);l&&(yh(l),Y8(l));const u=ie();V.debug(u),e.length>((de=u==null?void 0:u.maxTextSize)!=null?de:5e4)&&(e=Lz),e=e.replace(/\r\n?/g,`
`);const h="#"+t,d="i"+t,f="#"+d,p="d"+t,m="#"+p;let g=Le("body");const y=u.securityLevel===Fz,b=u.securityLevel===Nz,O=u.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const H=mb(Le(r),d);g=Le(H.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Le(r);pb(g,t,p,`font-family: ${O}`,Iz)}else{if(Yz(document,t,p,d),y){const H=mb(Le("body"),d);g=Le(H.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Le("body");pb(g,t,p)}e=Vz(e);let w,D;try{if(w=C7(e),"then"in w)throw new Error("Diagram is a promise. Use renderAsync.")}catch(H){w=new T7("error"),D=H}const C=g.select(m).node(),T=w.type,E=C.firstChild,P=E.firstChild,M=D7.includes(T)?w.renderer.getClasses(e,w):{},$=Wz(u,T,M,h),A=document.createElement("style");A.innerHTML=$,E.insertBefore(A,P);try{w.renderer.draw(e,t,qy,w)}catch(H){throw fb.draw(e,t,qy),H}const _=g.select(`${m} svg`),L=(s=(i=w.db).getAccTitle)==null?void 0:s.call(i),v=(a=(o=w.db).getAccDescription)==null?void 0:a.call(o);Uz(T,_,L,v),g.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Rz);let q=g.select(m).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",u.arrowMarkerAbsolute),q=qz(q,y,Hr(u.arrowMarkerAbsolute)),y){const H=g.select(m+" svg").node();q=Xz(q,H)}else b||(q=Wp.sanitize(q,{ADD_TAGS:Qz,ADD_ATTR:zz}));if(n!==void 0)switch(T){case"flowchart":case"flowchart-v2":n(q,va.bindFunctions);break;case"gantt":n(q,m7.bindFunctions);break;case"class":case"classDiagram":n(q,ld.bindFunctions);break;default:n(q)}else V.debug("CB = undefined!");tz();const X=Le(y?f:m).node();if(X&&"remove"in X&&X.remove(),D)throw D;return q},vet=async function(t,e,n,r){var de;var i,s,o,a;sm(),Yp();const l=At.detectInit(e);l&&(yh(l),Y8(l));const u=ie();V.debug(u),e.length>((de=u==null?void 0:u.maxTextSize)!=null?de:5e4)&&(e=Lz),e=e.replace(/\r\n?/g,`
`);const h="#"+t,d="i"+t,f="#"+d,p="d"+t,m="#"+p;let g=Le("body");const y=u.securityLevel===Fz,b=u.securityLevel===Nz,O=u.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const H=mb(Le(r),d);g=Le(H.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Le(r);pb(g,t,p,`font-family: ${O}`,Iz)}else{if(Yz(document,t,p,d),y){const H=mb(Le("body"),d);g=Le(H.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Le("body");pb(g,t,p)}e=Vz(e);let w,D;try{w=await C7(e)}catch(H){w=new T7("error"),D=H}const C=g.select(m).node(),T=w.type,E=C.firstChild,P=E.firstChild,M=D7.includes(T)?w.renderer.getClasses(e,w):{},$=Wz(u,T,M,h),A=document.createElement("style");A.innerHTML=$,E.insertBefore(A,P);try{await w.renderer.draw(e,t,qy,w)}catch(H){throw fb.draw(e,t,qy),H}const _=g.select(`${m} svg`),L=(s=(i=w.db).getAccTitle)==null?void 0:s.call(i),v=(a=(o=w.db).getAccDescription)==null?void 0:a.call(o);Uz(T,_,L,v),g.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Rz);let q=g.select(m).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",u.arrowMarkerAbsolute),q=qz(q,y,Hr(u.arrowMarkerAbsolute)),y){const H=g.select(m+" svg").node();q=Xz(q,H)}else b||(q=Wp.sanitize(q,{ADD_TAGS:Qz,ADD_ATTR:zz}));if(n!==void 0)switch(T){case"flowchart":case"flowchart-v2":n(q,va.bindFunctions);break;case"gantt":n(q,m7.bindFunctions);break;case"class":case"classDiagram":n(q,ld.bindFunctions);break;default:n(q)}else V.debug("CB = undefined!");tz();const X=Le(y?f:m).node();if(X&&"remove"in X&&X.remove(),D)throw D;return q};function xet(t={}){var e;(t==null?void 0:t.fontFamily)&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),Kqe(t),(t==null?void 0:t.theme)&&t.theme in Fl?t.themeVariables=Fl[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Fl.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?Gqe(t):YI();R8(n.logLevel),sm()}function Uz(t,e,n,r){oet(e,t),aet(e,n,r,e.attr("id"))}const Vn=Object.freeze({render:Oet,renderAsync:vet,parse:get,parseAsync:yet,parseDirective:sR,initialize:xet,getConfig:ie,setConfig:UI,getSiteConfig:YI,updateSiteConfig:Jqe,reset:()=>{Yp()},globalReset:()=>{Yp(Kd)},defaultConfig:Kd});R8(ie().logLevel);Yp(ie());const ket=async function(t,e,n){try{await Hz(t,e,n)}catch(r){V.warn("Syntax Error rendering"),X8(r)&&V.warn(r.str),ps.parseError&&ps.parseError(r)}},jz=(t,e,n)=>{V.warn(t),X8(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},wet=function(t,e,n){const r=Vn.getConfig();t&&(ps.sequenceConfig=t),V.debug(`${n?"":"No "}Callback function found`);let i;if(e===void 0)i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");V.debug(`Found ${i.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(V.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Vn.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const s=new At.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){V.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;o=l.innerHTML,o=NF(At.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=At.detectInit(o);h&&V.debug("Detected early reinit: ",h);try{Vn.render(u,o,(d,f)=>{l.innerHTML=d,n!==void 0&&n(u),f&&f(l)},l)}catch(d){jz(d,a,ps.parseError)}}if(a.length>0)throw a[0]},_et=async(...t)=>{V.debug(`Loading ${t.length} external diagrams`);const n=(await Promise.allSettled(t.map(async({id:r,detector:i,loader:s})=>{const{diagram:o}=await s();Tr(r,o,i)}))).filter(r=>r.status==="rejected");if(n.length>0){V.error(`Failed to load ${n.length} external diagrams`);for(const r of n)V.error(r);throw new Error(`Failed to load ${n.length} external diagrams`)}},Hz=async function(t,e,n){const r=Vn.getConfig();t&&(ps.sequenceConfig=t),V.debug(`${n?"":"No "}Callback function found`);let i;if(e===void 0)i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");V.debug(`Found ${i.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(V.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Vn.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const s=new At.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){V.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;o=l.innerHTML,o=NF(At.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=At.detectInit(o);h&&V.debug("Detected early reinit: ",h);try{await Vn.renderAsync(u,o,(d,f)=>{l.innerHTML=d,n!==void 0&&n(u),f&&f(l)},l)}catch(d){jz(d,a,ps.parseError)}}if(a.length>0)throw a[0]},Cet=function(t){Vn.initialize(t)},Tet=async(t,{lazyLoad:e=!0}={})=>{e?RI(...t):await _et(...t)},Zz=function(){if(ps.startOnLoad){const{startOnLoad:t}=Vn.getConfig();t&&ps.init().catch(e=>V.error("Mermaid failed to initialize",e))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",Zz,!1)}const Det=function(t){ps.parseError=t},Eet=t=>Vn.parse(t,ps.parseError),gb=[];let MO=!1;const Gz=async()=>{if(!MO){for(MO=!0;gb.length>0;){const t=gb.shift();if(t)try{await t()}catch(e){V.error("Error executing queue",e)}}MO=!1}},Aet=t=>new Promise((e,n)=>{const r=()=>new Promise((i,s)=>{Vn.parseAsync(t,ps.parseError).then(o=>{i(o),e(o)},o=>{V.error("Error parsing",o),s(o),n(o)})});gb.push(r),Gz().catch(n)}),Met=(t,e,n,r)=>new Promise((i,s)=>{const o=()=>new Promise((a,l)=>{Vn.renderAsync(t,e,n,r).then(u=>{a(u),i(u)},u=>{V.error("Error parsing",u),l(u),s(u)})});gb.push(o),Gz().catch(s)}),ps={startOnLoad:!0,diagrams:{},mermaidAPI:Vn,parse:Eet,parseAsync:Aet,render:Vn.render,renderAsync:Met,init:ket,initThrowsErrors:wet,initThrowsErrorsAsync:Hz,registerExternalDiagrams:Tet,initialize:Cet,parseError:void 0,contentLoaded:Zz,setParseErrorHandler:Det},Pet=t=>{const e=_o(t),n=e("line"),r=e("solid"),i=e("neutral"),s=e("background");return Object.entries({background:s,primaryColor:s,secondaryColor:n,primaryTextColor:i,noteBkgColor:s,noteTextColor:r,fontSize:"16px"}).filter(([o,a])=>(a==null?void 0:a.length)>0).map(([o,a])=>`'${o}':'${a}'`).join(", ")},Bet=vw("abcedfghicklmn",10),ag=t=>{var e;return((e=t==null?void 0:t.attrs)==null?void 0:e.identity)||Bet()},$et=/^```mermaid$/,Let=rn("TurnIntoDiagram"),Fet=wr((t,e)=>{var n,r,i;const s=(n=e==null?void 0:e.theme)!=null?n:void 0,o=(r=e==null?void 0:e.themeCSS)!=null?r:void 0,a="diagram";ps.startOnLoad=!1,ps.initialize({startOnLoad:!1,theme:s,themeCSS:o});const l={empty:"Empty",error:"Syntax Error",...(i=e==null?void 0:e.placeholder)!=null?i:{}};return{id:a,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:`div[data-type="${a}"]`,preserveWhitespace:"full",getAttrs:u=>{if(!(u instanceof HTMLElement))throw Nr(u);return{value:u.dataset.value,identity:u.id}}}],toDOM:u=>["div",{id:ag(u),class:t.getClassName(u.attrs,"mermaid"),"data-type":a,"data-value":u.attrs.value||u.textContent||""},0],parseMarkdown:{match:({type:u})=>u===a,runner:(u,h,d)=>{const f=h.value;u.openNode(d,{value:f}),f&&u.addText(f),u.closeNode()}},toMarkdown:{match:u=>u.type.name===a,runner:(u,h)=>{var d;u.addNode("code",void 0,((d=h.content.firstChild)==null?void 0:d.text)||"",{lang:"mermaid"})}}}),commands:u=>[sn(Let,()=>$c(u,{id:ag()}))],view:u=>(h,d,f)=>{const p=ag(h);let m="",g=h;u.get(Er).onFlush(()=>{m=`%%{init: {'theme': 'base', 'themeVariables': { ${Pet(t.themeManager)} }}}%%
`});const y=t.themeManager.get("inner-editor",{view:d,getPos:f,render:P=>{try{P?y.preview.innerHTML=ps.render(p,m+P):y.preview.innerHTML=l.empty}catch{const M=document.getElementById(`d${p}`);M&&M.remove(),y.preview.innerHTML=l.error}finally{y.dom.appendChild(y.preview)}}});if(!y)return{};const{onUpdate:b,editor:O,dom:w,onFocus:D,onBlur:C,onDestroy:T,stopEvent:E}=y;return O.dataset.type=a,w.classList.add("mermaid","diagram"),b(g,!0),u.get(Er).onFlush(()=>{b(g,!1)},!1),{dom:w,update:P=>P.sameMarkup(g)?(g=P,b(g,!1),!0):!1,selectNode:()=>{D(g)},deselectNode:()=>{C(g)},stopEvent:E,ignoreMutation:()=>!0,destroy(){T()}}},inputRules:u=>[new Ei($et,(h,d,f,p)=>{const m=h.doc.resolve(f);if(!m.node(-1).canReplaceWith(m.index(-1),m.indexAfter(-1),u))return null;const g=h.tr.delete(f,p).setBlockType(f,f,u,{id:ag()});return g.setSelection(gt.create(g.doc,f-1))})],remarkPlugins:()=>[Ret]}}),Net=t=>({type:"diagram",value:t}),Iet=t=>E1(t,"code",(e,n,r)=>{const{lang:i,value:s}=e;if(i!=="mermaid")return e;const o=Net(s);return r&&n!=null&&r.children.splice(n,1,o),e}),Ret=()=>{function t(e){Iet(e)}return t},Qet=Ai.create([Fet()]),zet=(t,e)=>{const{doc:n,selection:r}=t;if(!n||!r||!(r instanceof Mt||r instanceof ds))return t;const{to:i}=r,s=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return t.insertText(s,i)},Vet=(t,e)=>{t.type==="tab"&&e.getStyle(({injectGlobal:n})=>n`
                .milkdown {
                    tab-size: ${t.size};
                }
            `)};rn("Indent");const Wet=Is((t,e)=>({prosePlugins:()=>{const n={type:"tab",size:4,...e!=null?e:{}};return t.themeManager.onFlush(()=>{Vet(n,t)}),[Id({Tab:(r,i)=>{const{tr:s}=r,o=zet(s,n);return o.docChanged?(i==null||i(o),!0):!1}})]}})),qet=Ai.create([Wet()]),Xet=t=>new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e({alt:t.name,src:n.result})},!1),n.readAsDataURL(t)}),Yet=async(t,e)=>{const n=[];for(let i=0;i<t.length;i++){const s=t.item(i);!s||!s.type.includes("image")||n.push(s)}const{image:r}=e.nodes;if(!r)throw hj("image");return(await Promise.all(n.map(i=>Xet(i)))).map(({alt:i,src:s})=>r.createAndFill({src:s,alt:i}))},Uet=new pn("MILKDOWN_UPLOAD"),Kz=Is((t,e)=>{var n;const r=(n=e==null?void 0:e.uploader)!=null?n:Yet;return{prosePlugins:(i,s)=>{const o=s.get(Lr),a=new cn({key:Uet,state:{init(){return gn.empty},apply(d,f){const p=f.map(d.mapping,d.doc),m=d.getMeta(this);if(!m)return p;if(m.add){const g=document.createElement("span"),y=s.get(Er).get(gr,"loading");if(!y)throw dj("loading");g.appendChild(y.dom);const b=$r.widget(m.add.pos,g,{id:m.add.id});return p.add(d.doc,[b])}return m.remove?p.remove(p.find(void 0,void 0,g=>g.id===m.remove.id)):p}},props:{decorations(d){return this.getState(d)}}}),l=(d,f)=>{var p,m;const g=a.getState(d);if(!g)return-1;const y=g.find(void 0,void 0,b=>b.id===f);return y.length&&(m=(p=y[0])==null?void 0:p.from)!=null?m:-1},u=(d,f,p)=>{var m,g;if(!p||p.length<=0)return!1;const y=Symbol("upload symbol"),{tr:b}=d.state,O=f instanceof DragEvent&&(g=(m=d.posAtCoords({left:f.clientX,top:f.clientY}))==null?void 0:m.pos)!=null?g:b.selection.from;return d.dispatch(b.setMeta(a,{add:{id:y,pos:O}})),r(p,o).then(w=>{const D=l(d.state,y);D<0||d.dispatch(d.state.tr.replaceWith(D,D,w).setMeta(a,{remove:{id:y}}))}).catch(w=>{console.error(w)}),!0},h=new cn({props:{handlePaste:(d,f)=>{var p,m;return!(f instanceof ClipboardEvent)||!(e!=null&&e.enableHtmlFileUploader)&&((p=f.clipboardData)==null?void 0:p.getData("text/html"))?!1:u(d,f,(m=f.clipboardData)==null?void 0:m.files)},handleDrop:(d,f)=>{var p;return f instanceof DragEvent?u(d,f,(p=f.dataTransfer)==null?void 0:p.files):!1}}});return[a,h]}}}),jet=Ai.create([Kz()]),Het=new pn("MILKDOWN_TRAILING"),Zet=Is((t,e)=>({prosePlugins:()=>{var n;const r=(n=e==null?void 0:e.shouldAppend)!=null?n:s=>!(!s||["heading","paragraph"].includes(s.type.name)),i=new cn({key:Het,state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return r(a,o)},apply:(s,o,a,l)=>{if(!s.docChanged)return o;const u=s.doc.lastChild;return r(u,l)}},appendTransaction:(s,o,a)=>{var l,u,h;const{doc:d,tr:f,schema:p}=a,m=(h=(l=e==null?void 0:e.getNode)==null?void 0:l.call(e,a))!=null?h:(u=p.nodes.paragraph)==null?void 0:u.create(),g=i.getState(a),y=d.content.size;if(!(!g||!m))return f.insert(y,m)}});return[i]}})),Get=Ai.create([Zet()]);var Ket=Object.defineProperty,Jet=(t,e,n)=>e in t?Ket(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gl=(t,e,n)=>(Jet(t,typeof e!="symbol"?e+"":e,n),n),A7=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Rt=(t,e,n)=>(A7(t,e,"read from private field"),n?n.call(t):e.get(t)),jn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},xi=(t,e,n,r)=>(A7(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yb=(t,e,n)=>(A7(t,e,"access private method"),n);const ett=()=>[{id:"text",icon:"text",content:"Text",command:t=>t.get(Hn).call("TurnIntoHeading",0),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h1",icon:"h1",content:"Heading 1",command:t=>t.get(Hn).call("TurnIntoHeading",1),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h2",icon:"h2",content:"Heading 2",command:t=>t.get(Hn).call("TurnIntoHeading",2),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h3",icon:"h3",content:"Heading 3",command:t=>t.get(Hn).call("TurnIntoHeading",3),disabled:(t,e)=>!e.node.type.isTextblock},{id:"bullet_list",icon:"bulletList",content:"Bullet list",command:t=>t.get(Hn).call("WrapInBulletList"),disabled:t=>{const e=t.get(Qn),n=Lu("bullet_list",e.state.schema);return!Qo(n)(e.state)}},{id:"ordered_list",icon:"orderedList",content:"Ordered list",command:t=>t.get(Hn).call("WrapInOrderedList"),disabled:t=>{const e=t.get(Qn),n=Lu("ordered_list",e.state.schema);return!Qo(n)(e.state)}},{id:"task_list",icon:"taskList",content:"Task list",command:t=>t.get(Hn).call("TurnIntoTaskList"),disabled:t=>{const e=t.get(Qn),n=Lu("task_list_item",e.state.schema);return!Qo(n)(e.state)}},{id:"blockquote",icon:"quote",content:"Blockquote",command:t=>t.get(Hn).call("WrapInBlockquote"),disabled:t=>{const e=t.get(Qn),n=Lu("blockquote",e.state.schema);return!Qo(n)(e.state)}},{id:"code_fence",icon:"code",content:"Code",command:t=>t.get(Hn).call("TurnIntoCodeFence"),disabled:t=>{const e=t.get(Qn),n=Lu("fence",e.state.schema);return!$c(n)(e.state)}}];var cp,A6,Jz,M6,eV;class ttt{constructor(e){jn(this,A6),jn(this,M6),gl(this,"dom$"),jn(this,cp,void 0),xi(this,cp,e),this.dom$=yb(this,M6,eV).call(this),yb(this,A6,Jz).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.classList.remove("hide")}toggle(){this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$)}unmount(){this.dom$.remove()}render(e,n){const r=e.dom.parentElement;if(!r)throw ms();const i=n.getBoundingClientRect(),s=r.getBoundingClientRect(),o=this.dom$.getBoundingClientRect(),a=i.left-s.left-o.width,l=i.top-s.top+r.scrollTop;this.dom$.style.left=`${a}px`,this.dom$.style.top=`${l}px`}}cp=new WeakMap,A6=new WeakSet,Jz=function(){const{themeManager:t,getStyle:e}=Rt(this,cp);t.onFlush(()=>{if(!this.dom$)return;const n=e(({css:r})=>{const i=_o(t);return r`
                    position: absolute;
                    color: ${i("solid")};
                    cursor: grab;
                    border-radius: ${t.get(yn,"radius")};
                    transition: background-color 0.4s;
                    height: 24px;
                    line-height: 24px;
                    &:hover {
                        color: ${i("primary")};
                        background-color: ${i("background")};
                    }
                    &.hide {
                        display: none;
                    }
                `});if(n){const r=["block-handle",n,"hide"].filter(i=>i!=null).join(" ");this.dom$.className=r}})},M6=new WeakSet,eV=function(){const{themeManager:t}=Rt(this,cp),e=document.createElement("div");e.draggable=!0;const n=t.get(gr,"dragHandle");return e.appendChild(n.dom),e};var up,Hh,B2,ud,Df,Ef,P6,tV,B6,nV,$2;class ntt{constructor(e,n,r,i,s){jn(this,P6),jn(this,B6),gl(this,"dom$"),jn(this,up,void 0),jn(this,Hh,void 0),jn(this,B2,void 0),jn(this,ud,void 0),jn(this,Df,void 0),jn(this,Ef,void 0),jn(this,$2,o=>{let a=o.target;for(;a&&!a.dataset.id&&a.parentElement;)a=a.parentElement;if(a){const l=a.dataset.id,u=Rt(this,ud).find(d=>d.id===l),h=Rt(this,Ef).call(this);h&&(u==null||u.command(Rt(this,Hh),h))}Rt(this,Df).hide(),this.hide()}),xi(this,up,e),xi(this,Hh,n),xi(this,B2,r),xi(this,Df,i),xi(this,ud,Rt(this,B2).call(this,Rt(this,Hh))),xi(this,Ef,s),this.dom$=yb(this,B6,nV).call(this),yb(this,P6,tV).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.style.maxHeight="",this.dom$.classList.remove("hide")}toggle(){this.dom$.style.maxHeight="",this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$),this.dom$.addEventListener("click",Rt(this,$2))}unmount(){this.dom$.remove(),this.dom$.removeEventListener("click",Rt(this,$2))}render(e,n){const r=e.dom.parentElement;if(!r)throw ms();if(Rt(this,ud).reduce((p,{disabled:m,id:g})=>{const y=Rt(this,Ef).call(this);if(!y)return p;const b=m(Rt(this,Hh),y),O=this.dom$.querySelector(`[data-id="${g}"]`);return O?b?(O.classList.add("hide"),p):(O.classList.remove("hide"),!1):p},!0)){this.hide();return}const i=r.getBoundingClientRect(),s=Rt(this,Df).dom$.getBoundingClientRect(),o=this.dom$.getBoundingClientRect(),a=n.left-i.left-s.width;let l,u;const h=n.top-i.top,d=i.height+i.top-(s.height+n.top);d>=o.height+14?l="bottom":h>=o.height+14?l="top":d>=h?(l="bottom",u=d-14):(l="top",u=h-14);const f=l==="top"?n.top-i.top-(u!=null?u:o.height)-2+r.scrollTop:n.top-i.top+r.scrollTop+s.height;this.dom$.style.left=`${a}px`,this.dom$.style.top=`${f}px`,this.dom$.style.maxHeight=u!==void 0&&u>0?`${u}px`:""}}up=new WeakMap,Hh=new WeakMap,B2=new WeakMap,ud=new WeakMap,Df=new WeakMap,Ef=new WeakMap,P6=new WeakSet,tV=function(){const{themeManager:t,getStyle:e}=Rt(this,up);t.onFlush(()=>{if(!this.dom$)return;const n=e(({css:r})=>{const i=_o(t);return r`
                    position: absolute;
                    cursor: pointer;
                    background: ${i("surface")};
                    z-index: 2;
                    border-radius: ${t.get(yn,"radius")};
                    width: 140px;
                    overflow-y: auto;

                    ${t.get(Ba,["y"])}
                    ${t.get(jo,void 0)};
                    ${t.get(ci,void 0)}

                    &.hide {
                        display: none;
                    }

                    .block-menu_item {
                        font-size: 14px;
                        display: flex;
                        height: 24px;
                        padding: 4px 10px;
                        align-items: center;
                        justify-content: start;
                        gap: 10px;
                        transition: all 0.4s;

                        &:hover {
                            background: ${i("secondary",.12)};
                            color: ${i("primary")};
                        }

                        &.hide {
                            display: none;
                        }
                    }
                `});if(n){const r=["block-menu",n,"hide"].filter(i=>i!=null).join(" ");this.dom$.className=r}})},B6=new WeakSet,nV=function(){const t=document.createElement("div");return Rt(this,ud).forEach(({icon:e,content:n,id:r})=>{const i=document.createElement("div"),s=document.createElement("span");s.textContent=n;let o;typeof e=="string"?o=Rt(this,up).themeManager.get(gr,e).dom:o=e,i.appendChild(o),i.appendChild(s),i.dataset.id=r,i.classList.add("block-menu_item"),t.appendChild(i)}),t},$2=new WeakMap;const rtt=(t,e)=>{var n;const{state:r}=t,i=r.selection.$anchor;for(let s=i.depth;s>0;s--)if(i.node(s).type.spec.tableRole==="table"){const o=t.posAtCoords({left:e.clientX,top:e.clientY});if(!o)return null;const a=(n=t.dragging)==null?void 0:n.slice;if(!a)return null;const l=t.state.doc.resolve(o.pos),u=Uk(t.state.doc,l.pos,a);if(u==null||u<0)return null;let h=r.tr;h=h.delete(i.before(s),i.after(s));const d=h.mapping.map(u);return h=h.replaceRange(d,d,a),h}return null},itt=(t,e,n)=>{const{node:r}=t.domAtPos(n.pos);let i=r,s=i.parentElement;for(;s&&s!==e&&n.pos===t.posAtDOM(s,0);)i=s,s=s.parentElement;return i},stt=t=>!t.type.isBlock,ott=t=>{let e=t.parent;const n=t.node();return e===n&&(e=t.node(t.depth-1)),!e||e.type.name==="doc"?!1:e.firstChild===n},att=(t,e,n)=>{const r=e.dom.parentElement;if(!r)throw ms();const i=e.posAtDOM(t,0);if(i===0)return null;let s=e.state.doc.resolve(i),o=s.node();for(;o&&(stt(o)||ott(s)||!n(o));)s=e.state.doc.resolve(s.before()),o=s.node();s=e.state.doc.resolve(s.pos-s.parentOffset);const a=itt(e,r,s);return{node:o,$pos:s,el:a}};let OE=null;function ltt(){return OE||(OE=document.implementation.createHTMLDocument("title"))}const ctt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};function utt(t,e){const n=[];let{openStart:r,openEnd:i,content:s}=e;for(;r>1&&i>1&&s.childCount===1&&s.firstChild.childCount===1;){r-=1,i-=1;const p=s.firstChild;n.push(p.type.name,p.attrs!==p.type.defaultAttrs?p.attrs:null),s=p.content}const o=t.someProp("clipboardSerializer")||Sa.fromSchema(t.state.schema),a=ltt(),l=a.createElement("div");l.appendChild(o.serializeFragment(s,{document:a}));let u=l.firstChild,h,d=0;for(;u&&u.nodeType===1&&(h=ctt[u.nodeName.toLowerCase()]);){for(let p=h.length-1;p>=0;p--){const m=a.createElement(h[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}u=l.firstChild}u&&u.nodeType===1&&u.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);const f=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}const vE=td.ie&&td.ie_version<15||td.ios&&td.webkit_version<604,xE=20;var $6,Af,Mu,Mf,da,bb,L2,fc,Pu,F2,N2,I2;class htt{constructor(e,n,r,i){jn(this,fc),gl(this,"blockHandle$"),gl(this,"blockMenu$"),jn(this,$6,()=>{if(!Rt(this,Mu))return null;const s=Rt(this,Mu),o=Rt(this,fc,Pu);if(gt.isSelectable(s.node)){const a=gt.create(o.state.doc,s.$pos.pos-1);return o.dispatch(o.state.tr.setSelection(a)),o.focus(),xi(this,Af,a),a}return null}),jn(this,Af,null),jn(this,Mu,null),jn(this,Mf,void 0),jn(this,da,!1),jn(this,bb,void 0),jn(this,L2,void 0),jn(this,F2,()=>{var s;xi(this,Mf,(s=Rt(this,Mu))==null?void 0:s.el.getBoundingClientRect()),Rt(this,$6).call(this)}),jn(this,N2,()=>{if(!Rt(this,da)){requestAnimationFrame(()=>{!Rt(this,Mf)||(this.blockMenu$.toggle(),this.blockMenu$.render(Rt(this,fc,Pu),Rt(this,Mf)),Rt(this,fc,Pu).focus())});return}xi(this,da,!1),xi(this,Af,null)}),jn(this,I2,s=>{xi(this,da,!0);const o=Rt(this,Af);if(s.dataTransfer&&o){const a=Rt(this,fc,Pu),l=o.content();s.dataTransfer.effectAllowed="copyMove";const{dom:u,text:h}=utt(a,l);s.dataTransfer.clearData(),s.dataTransfer.setData(vE?"Text":"text/html",u.innerHTML),vE||s.dataTransfer.setData("text/plain",h),a.dragging={slice:l,move:!0}}}),gl(this,"keydownCallback",()=>(this.blockMenu$.hide(),this.blockHandle$.hide(),!1)),gl(this,"mousedownCallback",()=>(this.blockMenu$.hide(),!1)),gl(this,"mousemoveCallback",(s,o)=>{if(!s.editable)return!1;const a=o.target;if(!(a instanceof Element))return Rt(this,da)||this.blockHandle$.hide(),!1;const l=att(a,s,Rt(this,L2));return xi(this,Mu,l),l?(this.blockHandle$.show(),this.blockHandle$.render(s,l.el),!1):(Rt(this,da)||this.blockHandle$.hide(),!1)}),gl(this,"dragoverCallback",(s,o)=>{if(Rt(this,da)){const a=Rt(this,fc,Pu).dom.parentElement;if(!a)return!1;const l=a.scrollHeight>a.clientHeight,u=a.getBoundingClientRect();if(l){if(a.scrollTop>0&&Math.abs(o.y-u.y)<xE){const d=a.scrollTop>10?a.scrollTop-10:0;return a.scrollTop=d,!1}const h=Math.round(Rt(this,fc,Pu).dom.getBoundingClientRect().height);if(Math.round(a.scrollTop+u.height)<h&&Math.abs(o.y-(u.height+u.y))<xE){const d=a.scrollTop+10;return a.scrollTop=d,!1}}}return!1}),gl(this,"dropCallback",(s,o)=>{if(Rt(this,da)){this.blockMenu$.hide();const a=o,l=rtt(s,a);if(xi(this,da,!1),l)return s.dispatch(l),a.preventDefault(),!0}return!1}),xi(this,bb,e),xi(this,L2,r),this.blockHandle$=new ttt(n),this.blockMenu$=new ntt(n,e,i,this.blockHandle$,()=>Rt(this,Mu))}mount(e){this.blockHandle$.dom$.addEventListener("mousedown",Rt(this,F2)),this.blockHandle$.dom$.addEventListener("mouseup",Rt(this,N2)),this.blockHandle$.dom$.addEventListener("dragstart",Rt(this,I2)),this.blockHandle$.mount(e),this.blockMenu$.mount(e)}unmount(){this.blockHandle$.dom$.removeEventListener("mousedown",Rt(this,F2)),this.blockHandle$.dom$.removeEventListener("mouseup",Rt(this,N2)),this.blockHandle$.dom$.removeEventListener("dragstart",Rt(this,I2)),this.blockHandle$.unmount(),this.blockMenu$.unmount()}}$6=new WeakMap,Af=new WeakMap,Mu=new WeakMap,Mf=new WeakMap,da=new WeakMap,bb=new WeakMap,L2=new WeakMap,fc=new WeakSet,Pu=function(){return Rt(this,bb).get(Qn)},F2=new WeakMap,N2=new WeakMap,I2=new WeakMap;const dtt=new pn("MILKDOWN_BLOCK"),ftt=(t,e,n,r)=>{const i=new htt(t,e,n,r);return new cn({key:dtt,props:{handleDOMEvents:{drop:(s,o)=>i.dropCallback(s,o),mousemove:(s,o)=>i.mousemoveCallback(s,o),mousedown:()=>i.mousedownCallback(),keydown:()=>i.keydownCallback(),dragover:(s,o)=>i.dragoverCallback(s,o)}},view:s=>(i.mount(s),{destroy:()=>{i.unmount()}})})},ptt=t=>{const{name:e}=t.type;return!(e.startsWith("table")&&e!=="table")},mtt=Is((t,e)=>{var n,r;const i=(n=e==null?void 0:e.filterNodes)!=null?n:ptt,s=(r=e==null?void 0:e.configBuilder)!=null?r:ett;return{prosePlugins:(o,a)=>[ftt(a,t,i,s)]}}),gtt=Ai.create([mtt()]);const kE={__name:"Milkdown",props:{md:String,preview:Boolean,codeType:String,id:Number,pattern:Number},emits:["update:md","update:outline"],setup(t,{emit:e}){const n=t;Fk().getters.getProjectId;const i=yt("");i.value=n.md;const s=yt(!0);s.value=n.preview;const o=yt("");o.value=n.codeType;const a=yt(0);a.value=n.id;const l=yt(!1),u=yt(0);u.value=n.pattern,yt(""),Gs(n,(C,T)=>{s.value==!0&&(i.value=C.md,y().action(gre(i.value))),s.value!=C.preview&&(s.value=C.preview,y().action(mre())),C.codeType!=o.value&&(o.value=C.codeType),C.id!=a.value&&(a.value=C.id),C.pattern!=u.value&&(u.value=C.pattern,d())});const h=()=>{var T;let C=(T=document.querySelector(".milkdown .editor"))==null?void 0:T.querySelectorAll("h1,h2,h3,h4,h5,h6");return Array.from(C||[]).map((E,P)=>({level:parseInt(E.tagName.replace("H","")),text:E.textContent||"",node:E,id:P}))},d=()=>{e("update:outline",h())},f=setInterval(()=>{d()},1e3);e4(()=>{f&&clearInterval(f)});const p=()=>!s.value,m=C=>{e("update:md",C),i.value=C},{editor:g,getInstance:y,getDom:b}=hre(C=>wne.make().config(T=>{T.set(bd,C),T.set(e2,i.value),T.get(ux).markdownUpdated((E,P)=>{s.value==!1&&m(P)}),T.set(Uf,{editable:p})}).use(jEe).use(Kne).use(b9e).use(k9e).use(vL).use(O).use(F9e).use(oTe).use(cPe).use(OPe).use(kPe).use(Qet).use(qet).use(jet.configure(Kz,{uploader:w})).use(Get).use(gtt)),O=G9e.configure(bL,{config:gL.map(C=>C.map(T=>{switch(T.type=="select"&&(T.text="\u6807\u9898",T.options=[{id:"0",text:"\u6B63\u6587"},{id:"1",text:"\u6807\u9898 1"},{id:"2",text:"\u6807\u9898 2"},{id:"3",text:"\u6807\u9898 3"},{id:"4",text:"\u6807\u9898 4"}]),T.key=="Undo"&&(T.options={tlabel:"1"}),T.type){case"select":break;case"undo":T.key="\u64A4\u9500";break}return T}))}),w=async(C,T)=>{for(let E=0;E<C.length;E++){const P=C.item(E);if(!!P){if(!P.type.includes("image")){D(P);continue}D(P)}}},D=C=>{let T=new FormData;o.value=="note"&&(T.append("id",a.value),T.append("file",C),l.value=!0,mr.post("/api/note/assert",T).then(E=>{if(E.data.docType=="file"){const P="["+C.name+"]("+E.data.uri+")";y().action(Tm(P)),y().action(Tm(""))}else if(E.data.docType=="image"){const P="!["+C.name+"]("+E.data.uri+")";y().action(Tm(P)),y().action(Tm(""))}l.value=!1}).catch(E=>{Nn.error({message:E.response.data,duration:2e3,showClose:!0}),l.value=!1}))};return(C,T)=>{const E=Nk("loading");return Nf((nn(),Xr(yv(Y$),{"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"\u6570\u636E\u52A0\u8F7D\u4E2D...",editor:yv(g)},null,8,["editor"])),[[E,l.value]])}}};class un{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),wa.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),wa.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new hp(this),s=new hp(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new hp(this,e)}iterRange(e,n=this.length){return new rV(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new iV(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?un.empty:e.length<=32?new sr(e):wa.from(sr.split(e,[]))}}class sr extends un{constructor(e,n=ytt(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new btt(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new sr(wE(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=R2(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new sr(a,o.length+s.length));else{let l=a.length>>1;r.push(new sr(a.slice(0,l)),new sr(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof sr))return super.replace(e,n,r);let i=R2(this.text,R2(r.text,wE(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new sr(i,s):wa.from(sr.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new sr(r,i)),r=[],i=-1);return i>-1&&n.push(new sr(r,i)),n}}class wa extends un{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let h=this.children.slice();return h[i]=l,new wa(h,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof wa))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let m of e)m.flatten(p);return new sr(p,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,h=[];function d(p){let m;if(p.lines>s&&p instanceof wa)for(let g of p.children)d(g);else p.lines>o&&(l>o||!l)?(f(),a.push(p)):p instanceof sr&&l&&(m=h[h.length-1])instanceof sr&&p.lines+m.lines<=32?(l+=p.lines,u+=p.length+1,h[h.length-1]=new sr(m.text.concat(p.text),m.length+1+p.length)):(l+p.lines>i&&f(),l+=p.lines,u+=p.length+1,h.push(p))}function f(){l!=0&&(a.push(h.length==1?h[0]:wa.from(h,u)),u=-1,l=h.length=0)}for(let p of e)d(p);return f(),a.length==1?a[0]:new wa(a,n)}}un.empty=new sr([""],0);function ytt(t){let e=-1;for(let n of t)e+=n.length+1;return e}function R2(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function wE(t,e,n){return R2(t,[""],e,n)}class hp{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof sr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof sr?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof sr){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof sr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class rV{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new hp(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class iV{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(un.prototype[Symbol.iterator]=function(){return this.iter()},hp.prototype[Symbol.iterator]=rV.prototype[Symbol.iterator]=iV.prototype[Symbol.iterator]=function(){return this});class btt{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Sd="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Sd.length;t++)Sd[t]+=Sd[t-1];function Ott(t){for(let e=1;e<Sd.length;e+=2)if(Sd[e]>t)return Sd[e-1]<=t;return!1}function _E(t){return t>=127462&&t<=127487}const SE=8205;function Qi(t,e,n=!0,r=!0){return(n?sV:vtt)(t,e,r)}function sV(t,e,n){if(e==t.length)return e;e&&oV(t.charCodeAt(e))&&aV(t.charCodeAt(e-1))&&e--;let r=ai(t,e);for(e+=oo(r);e<t.length;){let i=ai(t,e);if(r==SE||i==SE||n&&Ott(i))e+=oo(i),r=i;else if(_E(i)){let s=0,o=e-2;for(;o>=0&&_E(ai(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function vtt(t,e,n){for(;e>0;){let r=sV(t,e-2,n);if(r<e)return r;e--}return 0}function oV(t){return t>=56320&&t<57344}function aV(t){return t>=55296&&t<56320}function ai(t,e){let n=t.charCodeAt(e);if(!aV(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return oV(r)?(n-55296<<10)+(r-56320)+65536:n}function M7(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function oo(t){return t<65536?1:2}const L6=/\r\n?|\n/;var li=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(li||(li={}));class Ia{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){F6(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Ia(e)}composeDesc(e){return this.empty?e:e.empty?this:lV(this,e)}mapDesc(e,n=!1){return e.empty?this:N6(this,e,n)}mapPos(e,n=-1,r=li.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=li.Simple&&u>=e&&(r==li.TrackDel&&i<e&&u>e||r==li.TrackBefore&&i<e||r==li.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ia(e)}static create(e){return new Ia(e)}}class Mr extends Ia{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return F6(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return N6(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(un.empty);r.push(o?e.slice(s,s+o):un.empty)}s+=o}return new Mr(n,r)}compose(e){return this.empty?e:e.empty?this:lV(this,e,!0)}map(e,n=!1){return e.empty?this:N6(this,e,n,!0)}iterChanges(e,n=!1){F6(this,e,n)}get desc(){return Ia.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new o1(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);ki(i,h,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;ki(n,h,d),d>0&&Ec(r,n,s.text),s.forward(h),a+=h}let u=e[o++];for(;a<u;){if(s.done)break e;let h=Math.min(s.len,u-a);ki(n,h,-1),ki(i,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new Mr(n,r),filtered:Ia.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!i.length)return;o<n&&ki(i,n-o,-1);let d=new Mr(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function u(h){if(Array.isArray(h))for(let d of h)u(d);else if(h instanceof Mr){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:d,to:f=d,insert:p}=h;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let m=p?typeof p=="string"?un.of(p.split(r||L6)):p:un.empty,g=m.length;if(d==f&&g==0)return;d<o&&l(),d>o&&ki(i,d-o,-1),ki(i,f-d,g),Ec(s,i,m),o=f}}return u(e),l(!a),a}static empty(e){return new Mr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(un.empty);r[i]=un.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Mr(n,r)}static createSet(e,n){return new Mr(e,n)}}function ki(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Ec(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(un.empty);t.push(n)}}function F6(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,h=s,d=un.empty;for(;u+=a,h+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,h,d),i=u,s=h}}}function N6(t,e,n,r=!1){let i=[],s=r?[]:null,o=new o1(t),a=new o1(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);ki(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(ki(i,a.ins,-1);u;){let h=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=h&&(ki(i,0,o.ins),s&&Ec(s,i,o.text),l=o.i),o.forward(h),u-=h}a.next()}else if(o.ins>=0){let u=0,h=o.len;for(;h;)if(a.ins==-1){let d=Math.min(h,a.len);u+=d,h-=d,a.forward(d)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;ki(i,u,l<o.i?o.ins:0),s&&l<o.i&&Ec(s,i,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?Mr.createSet(i,s):Ia.create(i);throw new Error("Mismatched change set lengths")}}function lV(t,e,n=!1){let r=[],i=n?[]:null,s=new o1(t),o=new o1(e);for(let a=!1;;){if(s.done&&o.done)return i?Mr.createSet(r,i):Ia.create(r);if(s.ins==0)ki(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)ki(r,0,o.ins,a),i&&Ec(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;ki(r,l,h,a),i&&h&&Ec(i,r,o.text)}else o.ins==-1?(ki(r,s.off?0:s.len,l,a),i&&Ec(i,r,s.textBit(l))):(ki(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Ec(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class o1{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?un.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?un.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class qu{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new qu(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Ee.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ee.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ee.range(e.anchor,e.head)}static create(e,n,r){return new qu(e,n,r)}}class Ee{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Ee.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ee([this.main],0)}addRange(e,n=!0){return Ee.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Ee.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ee(e.ranges.map(n=>qu.fromJSON(n)),e.main)}static single(e,n=e){return new Ee([Ee.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Ee.normalized(e.slice(),n);r=s.to}return new Ee(e,n)}static cursor(e,n=0,r,i){return qu.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i!=null?i:33554431)<<5)}static range(e,n,r,i){let s=(r!=null?r:33554431)<<5|(i==null?3:Math.min(2,i));return n<e?qu.create(n,e,24|s):qu.create(e,n,(n>e?4:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Ee.range(l,a):Ee.range(a,l))}}return new Ee(e,n)}}function cV(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let P7=0;class at{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=P7++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new at(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:B7),!!e.static,e.enables)}of(e){return new Q2([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Q2(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Q2(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function B7(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Q2{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=P7++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,h=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?u=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&h.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||I6(d,h)){let p=r(d);if(a?!CE(p,d.values[o],i):!i(p,d.values[o]))return d.values[o]=p,1}return 0},reconfigure:(d,f)=>{let p,m=f.config.address[s];if(m!=null){let g=vb(f,m);if(this.dependencies.every(y=>y instanceof at?f.facet(y)===d.facet(y):y instanceof Kr?f.field(y,!1)==d.field(y,!1):!0)||(a?CE(p=r(d),g,i):i(p=r(d),g)))return d.values[o]=g,0}else p=r(d);return d.values[o]=p,1}}}}function CE(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function I6(t,e){let n=!1;for(let r of e)dp(t,r)&1&&(n=!0);return n}function xtt(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let h=0;h<r.length;h++){let d=vb(l,r[h]);if(i[h]==2)for(let f of d)u.push(f);else u.push(d)}return e.combine(u)}return{create(l){for(let u of r)dp(l,u);return l.values[o]=a(l),1},update(l,u){if(!I6(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,u){let h=I6(l,r),d=u.config.facets[e.id],f=u.facet(e);if(d&&!h&&B7(n,d))return l.values[o]=f,0;let p=a(l);return e.compare(p,f)?(l.values[o]=f,0):(l.values[o]=p,1)}}}const TE=at.define({static:!0});class Kr{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Kr(P7++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(TE).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,TE.of({field:this,create:e})]}get extension(){return this}}const Iu={lowest:4,low:3,default:2,high:1,highest:0};function G0(t){return e=>new uV(e,t)}const fu={highest:G0(Iu.highest),high:G0(Iu.high),default:G0(Iu.default),low:G0(Iu.low),lowest:G0(Iu.lowest)};class uV{constructor(e,n){this.inner=e,this.prec=n}}class om{of(e){return new R6(this,e)}reconfigure(e){return om.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class R6{constructor(e,n){this.compartment=e,this.inner=n}}class Ob{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of ktt(e,n,o))f instanceof Kr?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of i)a[f.id]=u.length<<1,u.push(p=>f.slot(p));let h=r==null?void 0:r.config.facets;for(let f in s){let p=s[f],m=p[0].facet,g=h&&h[f]||[];if(p.every(y=>y.type==0))if(a[m.id]=l.length<<1|1,B7(g,p))l.push(r.facet(m));else{let y=m.combine(p.map(b=>b.value));l.push(r&&m.compare(y,r.facet(m))?r.facet(m):y)}else{for(let y of p)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=u.length<<1,u.push(b=>y.dynamicSlot(b)));a[m.id]=u.length<<1,u.push(y=>xtt(y,m,p))}}let d=u.map(f=>f(a));return new Ob(e,o,d,a,l,s)}}function ktt(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof R6&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof R6){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof uV)s(o.inner,o.prec);else if(o instanceof Kr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Q2)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Iu.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Iu.default),r.reduce((o,a)=>o.concat(a))}function dp(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function vb(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const hV=at.define(),dV=at.define({combine:t=>t.some(e=>e),static:!0}),fV=at.define({combine:t=>t.length?t[0]:void 0,static:!0}),pV=at.define(),mV=at.define(),gV=at.define(),yV=at.define({combine:t=>t.length?t[0]:!1});class tc{constructor(e,n){this.type=e,this.value=n}static define(){return new wtt}}class wtt{of(e){return new tc(this,e)}}class _tt{constructor(e){this.map=e}of(e){return new zt(this,e)}}class zt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new zt(this.type,n)}is(e){return this.type==e}static define(e={}){return new _tt(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}zt.reconfigure=zt.define();zt.appendConfig=zt.define();class Fr{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&cV(r,n.newLength),s.some(a=>a.type==Fr.time)||(this.annotations=s.concat(Fr.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Fr(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Fr.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Fr.time=tc.define();Fr.userEvent=tc.define();Fr.addToHistory=tc.define();Fr.remote=tc.define();function Stt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function bV(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Mr.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:zt.mapEffects(t.effects,i).concat(zt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Q6(t,e,n){let r=e.selection,i=Cd(e.annotations);return e.userEvent&&(i=i.concat(Fr.userEvent.of(e.userEvent))),{changes:e.changes instanceof Mr?e.changes:Mr.of(e.changes||[],n,t.facet(fV)),selection:r&&(r instanceof Ee?r:Ee.single(r.anchor,r.head)),effects:Cd(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function OV(t,e,n){let r=Q6(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=bV(r,Q6(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Fr.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Ttt(n?Ctt(i):i)}function Ctt(t){let e=t.startState,n=!0;for(let i of e.facet(pV)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Stt(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Mr.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Fr.create(e,i,t.selection&&t.selection.map(s),zt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(mV);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Fr?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Fr?t=s[0]:t=OV(e,Cd(s),!1)}return t}function Ttt(t){let e=t.startState,n=e.facet(gV),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=bV(r,Q6(e,s,t.changes.newLength),!0))}return r==t?t:Fr.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Dtt=[];function Cd(t){return t==null?Dtt:Array.isArray(t)?t:[t]}var zn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(zn||(zn={}));const Ett=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let z6;try{z6=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Att(t){if(z6)return z6.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Ett.test(n)))return!0}return!1}function Mtt(t){return e=>{if(!/\S/.test(e))return zn.Space;if(Att(e))return zn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return zn.Word;return zn.Other}}class en{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)dp(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return dp(this,r),vb(this,r)}update(...e){return OV(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(om.reconfigure)?(n&&(i=new Map,n.compartments.forEach((a,l)=>i.set(l,a)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(zt.reconfigure)?(n=null,r=o.value):o.is(zt.appendConfig)&&(n=null,r=Cd(r).concat(o.value));let s;n?s=e.startState.values.slice():(n=Ob.resolve(r,i,this),s=new en(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new en(n,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Ee.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Cd(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),h=u.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(h);let d=i.mapDesc(u,!0);s.push(l.range.map(d)),i=i.compose(h),o=zt.mapEffects(o,h).concat(zt.mapEffects(Cd(l.effects),d))}return{changes:i,selection:Ee.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Mr?e:Mr.of(e,this.doc.length,this.facet(en.lineSeparator))}toText(e){return un.of(e.split(this.facet(en.lineSeparator)||L6))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(dp(this,n),vb(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Kr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return en.create({doc:e.doc,selection:Ee.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Ob.resolve(e.extensions||[],new Map),r=e.doc instanceof un?e.doc:un.of((e.doc||"").split(n.staticFacet(en.lineSeparator)||L6)),i=e.selection?e.selection instanceof Ee?e.selection:Ee.single(e.selection.anchor,e.selection.head):Ee.single(0);return cV(i,r.length),n.staticFacet(dV)||(i=i.asSingle()),new en(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(en.tabSize)}get lineBreak(){return this.facet(en.lineSeparator)||`
`}get readOnly(){return this.facet(yV)}phrase(e,...n){for(let r of this.facet(en.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(hV))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Mtt(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=Qi(n,o,!1);if(s(n.slice(l,o))!=zn.Word)break;o=l}for(;a<i;){let l=Qi(n,a);if(s(n.slice(a,l))!=zn.Word)break;a=l}return o==a?null:Ee.range(o+r,a+r)}}en.allowMultipleSelections=dV;en.tabSize=at.define({combine:t=>t.length?t[0]:4});en.lineSeparator=fV;en.readOnly=yV;en.phrases=at.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});en.languageData=hV;en.changeFilter=pV;en.transactionFilter=mV;en.transactionExtender=gV;om.reconfigure=zt.define();function Ga(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class wh{eq(e){return this==e}range(e,n=e){return a1.create(e,n,this)}}wh.prototype.startSide=wh.prototype.endSide=0;wh.prototype.point=!1;wh.prototype.mapMode=li.TrackDel;class a1{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new a1(e,n,r)}}function V6(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class $7{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],h=this.from[l]+e,d=this.to[l]+e,f,p;if(h==d){let m=n.mapPos(h,u.startSide,u.mapMode);if(m==null||(f=p=m,u.startSide!=u.endSide&&(p=n.mapPos(h,u.endSide),p<f)))continue}else if(f=n.mapPos(h,u.startSide),p=n.mapPos(d,u.endSide),f>p||f==p&&u.startSide>0&&u.endSide<=0)continue;(p-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,p-f)),r.push(u),i.push(f-o),s.push(p-o))}return{mapped:r.length?new $7(i,s,r,a):null,pos:o}}}class bn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new bn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(V6)),this.isEmpty)return n.length?bn.of(n):this;let a=new vV(this,null,-1).goto(0),l=0,u=[],h=new ru;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];h.addInner(d.from,d.to,d.value)||u.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||u.push(a1.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!u.length?bn.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:h,pos:d}=l.map(a,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new bn(r,n,s||bn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return l1.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return l1.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=DE(o,a,r),u=new K0(o,l,s),h=new K0(a,l,s);r.iterGaps((d,f,p)=>EE(u,d,h,f,p,i)),r.empty&&r.length==0&&EE(u,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let s=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),o=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=DE(s,o),l=new K0(s,a,0).goto(r),u=new K0(o,a,0).goto(r);for(;;){if(l.to!=u.to||!W6(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new K0(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let h=o.activeForPoint(o.to),d=o.pointFrom<n?h.length+1:Math.min(h.length,l);i.point(a,u,o.point,h,d,o.pointRank),l=Math.min(o.openEnd(u),h.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new ru;for(let i of e instanceof a1?[e]:n?Ptt(e):e)r.add(i.from,i.to,i.value);return r.finish()}}bn.empty=new bn([],[],null,-1);function Ptt(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(V6(e,r)>0)return t.slice().sort(V6);e=r}return t}bn.empty.nextLayer=bn.empty;class ru{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new $7(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ru)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(bn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=bn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function DE(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class vV{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class l1{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new vV(o,n,r,s));return i.length==1?i[0]:new l1(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)PO(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)PO(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),PO(this.heap,0)}}}function PO(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class K0{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=l1.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){lg(this.active,e),lg(this.activeTo,e),lg(this.activeRank,e),this.minActive=AE(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;cg(this.active,n,r),cg(this.activeTo,n,i),cg(this.activeRank,n,s),e&&cg(e,n,this.cursor.from),this.minActive=AE(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&lg(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function EE(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,h=u<0?t.to+l:n.to,d=Math.min(h,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&W6(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!W6(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),h>o)break;a=h,u<=0&&t.next(),u>=0&&n.next()}}function W6(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function lg(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function cg(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function AE(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function am(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Qi(t,i));return r}function q6(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Qi(t,i)}return r===!0?-1:t.length}const X6="\u037C",ME=typeof Symbol>"u"?"__"+X6:Symbol.for(X6),Y6=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class iu{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let h=[],d=/^@(\w+)\b/.exec(o[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let p in a){let m=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(g=>o.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),m,l);else if(m&&typeof m=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),m,h,f)}else m!=null&&h.push(p.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(h.length||f)&&l.push((r&&!d&&!u?o.map(r):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=PE[ME]||1;return PE[ME]=e+1,X6+e.toString(36)}static mount(e,n){(e[Y6]||new Btt(e)).mount(Array.isArray(n)?n:[n])}}let ug=null;class Btt{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(ug)return e.adoptedStyleSheets=[ug.sheet,...e.adoptedStyleSheets],e[Y6]=ug;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],ug=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Y6]=this}mount(e){let n=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,o),n)for(let l=0;l<o.rules.length;l++)n.insertRule(o.rules[l],r++)}else{for(;i<a;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(!n){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}function xb(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function o0(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function $tt(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function z2(t,e){if(!e.anchorNode)return!1;try{return o0(t,e.anchorNode)}catch{return!1}}function c1(t){return t.nodeType==3?a0(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function kb(t,e,n,r){return n?BE(t,e,n,r,-1)||BE(t,e,n,r,1):!1}function wb(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function BE(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:u1(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=wb(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?u1(t):0}else return!1}}function u1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const xV={left:0,right:0,top:0,bottom:0};function L7(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Ltt(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Ftt(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let h=t;h;)if(h.nodeType==1){let d,f=h==l.body;if(f)d=Ltt(u);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let g=h.getBoundingClientRect();d={left:g.left,right:g.left+h.clientWidth,top:g.top,bottom:g.top+h.clientHeight}}let p=0,m=0;if(i=="nearest")e.top<d.top?(m=-(d.top-e.top+o),n>0&&e.bottom>d.bottom+m&&(m=e.bottom-d.bottom+m+o)):e.bottom>d.bottom&&(m=e.bottom-d.bottom+o,n<0&&e.top-m<d.top&&(m=-(d.top+m-e.top+o)));else{let g=e.bottom-e.top,y=d.bottom-d.top;m=(i=="center"&&g<=y?e.top+g/2-y/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-y+o)-d.top}if(r=="nearest"?e.left<d.left?(p=-(d.left-e.left+s),n>0&&e.right>d.right+p&&(p=e.right-d.right+p+s)):e.right>d.right&&(p=e.right-d.right+s,n<0&&e.left<d.left+p&&(p=-(d.left+p-e.left+s))):p=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,p||m)if(f)u.scrollBy(p,m);else{let g=0,y=0;if(m){let b=h.scrollTop;h.scrollTop+=m,y=h.scrollTop-b}if(p){let b=h.scrollLeft;h.scrollLeft+=p,g=h.scrollLeft-b}e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y},g&&Math.abs(g-p)<1&&(r="nearest"),y&&Math.abs(y-m)<1&&(i="nearest")}if(f)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Ntt(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class Itt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Qh=null;function kV(t){if(t.setActive)return t.setActive();if(Qh)return t.focus(Qh);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Qh==null?{get preventScroll(){return Qh={preventScroll:!0},!0}}:void 0),!Qh){Qh=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let $E;function a0(t,e,n=e){let r=$E||($E=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Td(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function Rtt(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function wV(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Qtt(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(;;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=u1(n))}else{if(n==t)return!0;r=wb(n),n=n.parentNode}}class Ci{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ci(e.parentNode,wb(e),n)}static after(e,n){return new Ci(e.parentNode,wb(e)+1,n)}}const F7=[];class Bn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Bn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.dirty=0}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=LE(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=LE(s)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=u1(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Bn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,h=r;l<this.children.length;l++){let d=this.children[l],f=u+d.length;if(u<e&&f>n)return d.domBoundsAround(e,n,u);if(f>=e&&i==-1&&(i=l,s=u),u>n&&d.dom.parentNode==this.dom){o=l,a=h;break}h=f,u=f+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=F7){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new _V(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Bn.prototype.breakAfter=0;function LE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class _V{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function SV(t,e,n,r,i,s,o,a,l){let{children:u}=t,h=u.length?u[e]:null,d=s.length?s[s.length-1]:null,f=d?d.breakAfter:o;if(!(e==r&&h&&!o&&!f&&s.length<2&&h.merge(n,i,s.length?d:null,n==0,a,l))){if(r<u.length){let p=u[r];p&&i<p.length?(e==r&&(p=p.split(i),i=0),!f&&d&&p.merge(0,i,d,!0,0,l)?s[s.length-1]=p:(i&&p.merge(0,i,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,n>0&&(!o&&s.length&&h.merge(n,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(n<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(n,h.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function CV(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:h}=o.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,SV(t,u,h,a,l,r,0,i,s)}let Ds=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},U6=typeof document<"u"?document:{documentElement:{style:{}}};const j6=/Edge\/(\d+)/.exec(Ds.userAgent),TV=/MSIE \d/.test(Ds.userAgent),H6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ds.userAgent),o3=!!(TV||H6||j6),FE=!o3&&/gecko\/(\d+)/i.test(Ds.userAgent),BO=!o3&&/Chrome\/(\d+)/.exec(Ds.userAgent),NE="webkitFontSmoothing"in U6.documentElement.style,DV=!o3&&/Apple Computer/.test(Ds.vendor),IE=DV&&(/Mobile\/\w+/.test(Ds.userAgent)||Ds.maxTouchPoints>2);var ct={mac:IE||/Mac/.test(Ds.platform),windows:/Win/.test(Ds.platform),linux:/Linux|X11/.test(Ds.platform),ie:o3,ie_version:TV?U6.documentMode||6:H6?+H6[1]:j6?+j6[1]:0,gecko:FE,gecko_version:FE?+(/Firefox\/(\d+)/.exec(Ds.userAgent)||[0,0])[1]:0,chrome:!!BO,chrome_version:BO?+BO[1]:0,ios:IE,android:/Android\b/.test(Ds.userAgent),webkit:NE,safari:DV,webkit_version:NE?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:U6.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const ztt=256;class su extends Bn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof su)||this.length-(n-e)+r.length>ztt)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new su(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ci(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Z6(this.dom,e,n)}}class Va extends Bn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(wV(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Va&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(CV(this,e,n,r?r.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Va(this.mark,n,o)}domAtPos(e){return MV(this,e)}coordsAt(e,n){return BV(this,e,n)}}function Z6(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?ct.chrome||ct.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=a0(t,i,s).getClientRects();if(!a.length)return xV;let l=a[(o?o<0:n>=0)?0:a.length-1];return ct.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?L7(l,o<0):l||null}class Ac extends Bn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||Ac)(e,n,r)}split(e){let n=Ac.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Ac)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof Ac&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return un.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):un.empty}domAtPos(e){return e==0?Ci.before(this.dom):Ci.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.dom.getClientRects(),i=null;if(!r.length)return xV;for(let s=e>0?r.length-1:0;i=r[s],!(e>0?s==0:s==r.length-1||i.top<i.bottom);s+=e>0?-1:1);return this.length?i:L7(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class EV extends Ac{domAtPos(e){let{topView:n,text:r}=this.widget;return n?G6(e,0,n,r,(i,s)=>i.domAtPos(s),i=>new Ci(r,Math.min(i,r.nodeValue.length))):new Ci(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?AV(e,n,r,i):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?G6(e,n,r,i,(s,o,a)=>s.coordsAt(o,a),(s,o)=>Z6(i,s,o)):Z6(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function G6(t,e,n,r,i,s){if(n instanceof Va){for(let o=n.dom.firstChild;o;o=o.nextSibling){let a=Bn.get(o);if(!a)return s(t,e);let l=o0(o,r),u=a.length+(l?r.nodeValue.length:0);if(t<u||t==u&&a.getSide()<=0)return l?G6(t,e,a,r,i,s):i(a,t,e);t-=u}return i(n,n.length,-1)}else return n.dom==r?s(t,e):i(n,t,e)}function AV(t,e,n,r){if(n instanceof Va)for(let i of n.children){let s=0,o=o0(i.dom,r);if(o0(i.dom,t))return s+(o?AV(t,e,i,r):i.localPosFromDOM(t,e));s+=o?r.nodeValue.length:i.length}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class l0 extends Bn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof l0&&e.side==this.side}split(){return new l0(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ci.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),r=Vtt(this,this.side>0?-1:1);return r&&r.top<n.bottom&&r.bottom>n.top?{left:n.left,right:n.right,top:r.top,bottom:r.bottom}:n}get overrideDOMText(){return un.empty}}su.prototype.children=Ac.prototype.children=l0.prototype.children=F7;function Vtt(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let i=n.children[r+e];if(i instanceof su){let s=i.coordsAt(e<0?i.length:0,e);if(s)return s}r+=e}else if(n instanceof Va&&n.parent)r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let i=n.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function MV(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Ci(n,0)}function PV(t,e,n){let r,{children:i}=t;n>0&&e instanceof Va&&i.length&&(r=i[i.length-1])instanceof Va&&r.mark.eq(e.mark)?PV(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function BV(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,h){for(let d=0,f=0;d<u.children.length&&f<=h;d++){let p=u.children[d],m=f+p.length;m>=h&&(p.children.length?a(p,h-f):!s&&(m>h||f==m&&p.getSide()>0)?(s=p,o=h-f):(f<h||f==m&&p.getSide()<0)&&(r=p,i=h-f)),f=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):Wtt(t)}function Wtt(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=c1(e);return n[n.length-1]||null}function K6(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function N7(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function J6(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class Ka{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var _n=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(_n||(_n={}));class ft extends wh{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new a3(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new _h(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=$V(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new _h(e,r,i,n,e.widget||null,!0)}static line(e){return new lm(e)}static set(e,n=!1){return bn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ft.none=bn.empty;class a3 extends ft{constructor(e){let{start:n,end:r}=$V(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof a3&&this.tagName==e.tagName&&this.class==e.class&&N7(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}a3.prototype.point=!1;class lm extends ft{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof lm&&this.spec.class==e.spec.class&&N7(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}lm.prototype.mapMode=li.TrackBefore;lm.prototype.point=!0;class _h extends ft{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?li.TrackBefore:li.TrackAfter:li.TrackDel}get type(){return this.startSide<this.endSide?_n.WidgetRange:this.startSide<=0?_n.WidgetBefore:_n.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof _h&&qtt(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}_h.prototype.point=!0;function $V(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n!=null?n:e,end:r!=null?r:e}}function qtt(t,e){return t==e||!!(t&&e&&t.compare(e))}function ek(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class zi extends Bn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof zi))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),CV(this,e,n,r?r.children:[],s,o),!0}split(e){let n=new zi;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){N7(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){PV(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=K6(n,this.attrs||{})),r&&(this.attrs=K6({class:r},this.attrs||{}))}domAtPos(e){return MV(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(wV(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(J6(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Bn.get(i)instanceof Va;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Bn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ct.ios||!this.children.some(s=>s instanceof su))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let n of this.children){if(!(n instanceof su)||/[^ -~]/.test(n.text))return null;let r=c1(n.dom);if(r.length!=1)return null;e+=r[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,n){return BV(this,e,n)}become(e){return!1}get type(){return _n.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof zi)return s;if(o>n)break}i=o+s.breakAfter}return null}}class sh extends Bn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof sh)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ci.before(this.dom):Ci.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new sh(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return F7}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):un.empty}domBoundsAround(){return null}become(e){return e instanceof sh&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class I7{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof sh&&e.type==_n.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new zi),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(hg(new l0(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(hg(new su(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof _h){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof _h)if(r.block){let{type:l}=r;l==_n.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new sh(r.widget||new RE("div"),a,l))}else{let l=Ac.create(r.widget||new RE("span"),a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),h=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(d.append(hg(new l0(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(hg(l,i),s),this.atCursorPos=h,this.pendingBuffer=h?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new I7(e,n,r,s);return o.openEnd=bn.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function hg(t,e){for(let n of e)t=new Va(n,[t],t.length);return t}class RE extends Ka{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const LV=at.define(),FV=at.define(),NV=at.define(),IV=at.define(),tk=at.define(),RV=at.define(),QV=at.define(),zV=at.define({combine:t=>t.some(e=>e)}),VV=at.define({combine:t=>t.some(e=>e)});class _b{constructor(e,n="nearest",r="nearest",i=5,s=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new _b(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const QE=zt.define({map:(t,e)=>t.map(e)});function Ls(t,e,n){let r=t.facet(IV);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const l3=at.define({combine:t=>t.length?t[0]:!0});let Xtt=0;const Pf=at.define();class ur{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:s}=n||{};return new ur(Xtt++,e,r,o=>{let a=[Pf.of(o)];return s&&a.push(h1.of(l=>{let u=l.plugin(o);return u?s(u):ft.none})),i&&a.push(i(o)),a})}static fromClass(e,n){return ur.define(r=>new e(r),n)}}class $O{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Ls(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Ls(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Ls(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const WV=at.define(),R7=at.define(),h1=at.define(),qV=at.define(),XV=at.define(),Bf=at.define();class Ra{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Ra(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,h=l?l.fromB:1e9;for(;s<n.length&&n[s]<h;){let d=n[s],f=n[s+1],p=Math.max(a,d),m=Math.min(h,f);if(p<=m&&new Ra(p+u,m+u,p,m).addToSet(r),f>h)break;s+=2}if(!l)return r;new Ra(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Sb{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Mr.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Ra(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Sb(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Gn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Gn||(Gn={}));const nk=Gn.LTR,Ytt=Gn.RTL;function YV(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Utt=YV("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),jtt=YV("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),rk=Object.create(null),la=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);rk[e]=n,rk[n]=-e}function Htt(t){return t<=247?Utt[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?jtt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const Ztt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Dd{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?Ytt:nk}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const Xn=[];function Gtt(t,e){let n=t.length,r=e==nk?1:2,i=e==nk?2:1;if(!t||r==1&&!Ztt.test(t))return UV(n);for(let o=0,a=r,l=r;o<n;o++){let u=Htt(t.charCodeAt(o));u==512?u=a:u==8&&l==4&&(u=16),Xn[o]=u==4?2:u,u&7&&(l=u),a=u}for(let o=0,a=r,l=r;o<n;o++){let u=Xn[o];if(u==128)o<n-1&&a==Xn[o+1]&&a&24?u=Xn[o]=a:Xn[o]=256;else if(u==64){let h=o+1;for(;h<n&&Xn[h]==64;)h++;let d=o&&a==8||h<n&&Xn[h]==8?l==1?1:8:256;for(let f=o;f<h;f++)Xn[f]=d;o=h-1}else u==8&&l==1&&(Xn[o]=1);a=u,u&7&&(l=u)}for(let o=0,a=0,l=0,u,h,d;o<n;o++)if(h=rk[u=t.charCodeAt(o)])if(h<0){for(let f=a-3;f>=0;f-=3)if(la[f+1]==-h){let p=la[f+2],m=p&2?r:p&4?p&1?i:r:0;m&&(Xn[o]=Xn[la[f]]=m),a=f;break}}else{if(la.length==189)break;la[a++]=o,la[a++]=u,la[a++]=l}else if((d=Xn[o])==2||d==1){let f=d==r;l=f?0:1;for(let p=a-3;p>=0;p-=3){let m=la[p+2];if(m&2)break;if(f)la[p+2]|=2;else{if(m&4)break;la[p+2]|=4}}}for(let o=0;o<n;o++)if(Xn[o]==256){let a=o+1;for(;a<n&&Xn[a]==256;)a++;let l=(o?Xn[o-1]:r)==1,u=(a<n?Xn[a]:r)==1,h=l==u?l?1:2:r;for(let d=o;d<a;d++)Xn[d]=h;o=a-1}let s=[];if(r==1)for(let o=0;o<n;){let a=o,l=Xn[o++]!=1;for(;o<n&&l==(Xn[o]!=1);)o++;if(l)for(let u=o;u>a;){let h=u,d=Xn[--u]!=2;for(;u>a&&d==(Xn[u-1]!=2);)u--;s.push(new Dd(u,h,d?2:1))}else s.push(new Dd(a,o,0))}else for(let o=0;o<n;){let a=o,l=Xn[o++]==2;for(;o<n&&l==(Xn[o]==2);)o++;s.push(new Dd(a,o,l?1:2))}return s}function UV(t){return[new Dd(0,t,0)]}let jV="";function Ktt(t,e,n,r,i){var s;let o=r.head-t.from,a=-1;if(o==0){if(!i||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),a=0)}else if(o==t.length){if(i)return null;let f=e[e.length-1];f.level!=n&&(o=f.side(!0,n),a=e.length-1)}a<0&&(a=Dd.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[a];o==l.side(i,n)&&(l=e[a+=i?1:-1],o=l.side(!i,n));let u=i==(l.dir==n),h=Qi(t.text,o,u);if(jV=t.text.slice(Math.min(o,h),Math.max(o,h)),h!=l.side(i,n))return Ee.cursor(h+t.from,u?-1:1,l.level);let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return!d&&l.level!=n?Ee.cursor(i?t.to:t.from,i?-1:1,n):d&&d.level<l.level?Ee.cursor(d.side(!i,n)+t.from,i?1:-1,d.level):Ee.cursor(h+t.from,i?-1:1,l.level)}const Mc="\uFFFF";class HV{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(en.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Mc}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let s=i.nextSibling;if(s==n)break;let o=Bn.get(i),a=Bn.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:zE(i))||zE(s)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=Bn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function zE(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class VE{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class WE extends Bn{constructor(e){super(),this.view=e,this.compositionDeco=ft.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new zi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ra(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ft.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=ent(this.view,e.changes)),(ct.ie||ct.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),s=int(r,i,e.changes);return n=Ra.extendWithRanges(n,s),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ct.chrome||ct.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof sh&&s.widget instanceof qE&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:u}=s,{content:h,breakAtStart:d,openStart:f,openEnd:p}=I7.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:m,off:g}=r.findPos(a,1),{i:y,off:b}=r.findPos(o,-1);SV(this,y,b,m,g,h,d,f,p)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.domAtPos(i.anchor),o=i.empty?s:this.domAtPos(i.head);if(ct.gecko&&i.empty&&Jtt(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new Ci(l,0),r=!0}let a=this.view.observer.selectionRange;(r||!a.focusNode||!kb(s.node,s.offset,a.anchorNode,a.anchorOffset)||!kb(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{ct.android&&ct.chrome&&this.dom.contains(a.focusNode)&&snt(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=xb(this.view.root);if(l)if(i.empty){if(ct.gecko){let u=nnt(s.node,s.offset);if(u&&u!=3){let h=GV(s.node,s.offset,u==1?1:-1);h&&(s=new Ci(h,u==1?0:h.nodeValue.length))}}l.collapse(s.node,s.offset),i.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=i.bidiLevel)}else if(l.extend){l.collapse(s.node,s.offset);try{l.extend(o.node,o.offset)}catch{}}else{let u=document.createRange();i.anchor>i.head&&([s,o]=[o,s]),u.setEnd(o.node,o.offset),u.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(u)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new Ci(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new Ci(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=xb(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=zi.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let h=this.domAtPos(n.head+n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||z2(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let r=Bn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof zi)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],o=r-s.breakAfter-s.length;if(e>o||e==o&&s.type!=_n.WidgetBefore&&s.type!=_n.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==_n.WidgetBefore&&n>-2))return s.coordsAt(e-o,n);r=o}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Gn.LTR;for(let u=0,h=0;h<this.children.length;h++){let d=this.children[h],f=u+d.length;if(f>i)break;if(u>=r){let p=d.dom.getBoundingClientRect();if(n.push(p.height),o){let m=d.dom.lastChild,g=m?c1(m):[];if(g.length){let y=g[g.length-1],b=l?y.right-p.left:p.right-y.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Gn.RTL:Gn.LTR}measureTextSize(){for(let i of this.children)if(i instanceof zi){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=c1(e.firstChild)[0];n=e.getBoundingClientRect().height,r=i?i.width/27:7,e.remove()}),{lineHeight:n,charWidth:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new _V(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=n.lineBlockAt(o).bottom-n.lineBlockAt(r).top;e.push(ft.replace({widget:new qE(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return ft.set(e)}updateDeco(){let e=this.view.state.facet(h1).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=0,o=0,a=0,l=0;for(let h of this.view.state.facet(XV).map(d=>d(this.view)))if(h){let{left:d,right:f,top:p,bottom:m}=h;d!=null&&(s=Math.max(s,d)),f!=null&&(o=Math.max(o,f)),p!=null&&(a=Math.max(a,p)),m!=null&&(l=Math.max(l,m))}let u={left:r.left-s,top:r.top-a,right:r.right+o,bottom:r.bottom+l};Ftt(this.view.scrollDOM,u,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Gn.LTR)}}function Jtt(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class qE extends Ka{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function ZV(t){let e=t.observer.selectionRange,n=e.focusNode&&GV(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof zi){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!Bn.get(s);)s=s.previousSibling;let o=s?Bn.get(s).posAtEnd:r.posAtStart;return{from:o,to:o,node:i,text:n}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof zi)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function ent(t,e){let n=ZV(t);if(!n)return ft.none;let{from:r,to:i,node:s,text:o}=n,a=e.mapPos(r,1),l=Math.max(a,e.mapPos(i,-1)),{state:u}=t,h=s.nodeType==3?s.nodeValue:new HV([],u).readRange(s.firstChild,null).text;if(l-a<h.length)if(u.doc.sliceString(a,Math.min(u.doc.length,a+h.length),Mc)==h)l=a+h.length;else if(u.doc.sliceString(Math.max(0,l-h.length),l,Mc)==h)a=l-h.length;else return ft.none;else if(u.doc.sliceString(a,l,Mc)!=h)return ft.none;let d=Bn.get(s);return d instanceof EV?d=d.widget.topView:d&&(d.parent=null),ft.set(ft.replace({widget:new tnt(s,o,d),inclusive:!0}).range(a,l))}class tnt extends Ka{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return EV}}function GV(t,e,n){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&n<=0)t=t.childNodes[e-1],e=u1(t);else if(t.nodeType==1&&e<t.childNodes.length&&n>=0)t=t.childNodes[e],e=0;else return null}}function nnt(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class rnt{constructor(){this.changes=[]}compareRange(e,n){ek(e,n,this.changes)}comparePoint(e,n){ek(e,n,this.changes)}}function int(t,e,n){let r=new rnt;return bn.compare(t,e,n,r),r.changes}function snt(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function ont(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ee.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=Qi(i.text,s,!1):a=Qi(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=Qi(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=Qi(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return Ee.range(o+i.from,a+i.from)}function ant(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function lnt(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function LO(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function XE(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function YE(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function ik(t,e,n){let r,i,s,o,a=!1,l,u,h,d;for(let m=t.firstChild;m;m=m.nextSibling){let g=c1(m);for(let y=0;y<g.length;y++){let b=g[y];i&&LO(i,b)&&(b=XE(YE(b,i.bottom),i.top));let O=ant(e,b),w=lnt(n,b);if(O==0&&w==0)return m.nodeType==3?UE(m,e,n):ik(m,e,n);if(!r||o>w||o==w&&s>O){r=m,i=b,s=O,o=w;let D=w?n<b.top?-1:1:O?e<b.left?-1:1:0;a=!D||(D>0?y<g.length-1:y>0)}O==0?n>b.bottom&&(!h||h.bottom<b.bottom)?(l=m,h=b):n<b.top&&(!d||d.top>b.top)&&(u=m,d=b):h&&LO(h,b)?h=YE(h,b.bottom):d&&LO(d,b)&&(d=XE(d,b.top))}}if(h&&h.bottom>=n?(r=l,i=h):d&&d.top<=n&&(r=u,i=d),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return UE(r,f,n);if(a&&r.contentEditable!="false")return ik(r,f,n);let p=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:p}}function UE(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=a0(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let h=l[u];if(h.top==h.bottom)continue;o||(o=e-h.left);let d=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<s){let f=e>=(h.left+h.right)/2,p=f;if((ct.chrome||ct.gecko)&&a0(t,a).getBoundingClientRect().left==h.right&&(p=!f),d<=0)return{node:t,offset:a+(p?1:0)};i=a+(p?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function KV(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:h,y:d}=e,f=d-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let D=t.defaultLineHeight/2,C=!1;l=t.elementAtHeight(f),l.type!=_n.Text;)for(;f=r>0?l.bottom+D:l.top-D,!(f>=0&&f<=u);){if(C)return n?null:0;C=!0,r=-r}d=a+f;let p=l.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:jE(t,o,l,h,d);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:jE(t,o,l,h,d);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,y=g.elementFromPoint(h,d);y&&!t.contentDOM.contains(y)&&(y=null),y||(h=Math.max(o.left+1,Math.min(o.right-1,h)),y=g.elementFromPoint(h,d),y&&!t.contentDOM.contains(y)&&(y=null));let b,O=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let D=m.caretPositionFromPoint(h,d);D&&({offsetNode:b,offset:O}=D)}else if(m.caretRangeFromPoint){let D=m.caretRangeFromPoint(h,d);D&&({startContainer:b,startOffset:O}=D,(!t.contentDOM.contains(b)||ct.safari&&cnt(b,O,h)||ct.chrome&&unt(b,O,h))&&(b=void 0))}}if(!b||!t.docView.dom.contains(b)){let D=zi.find(t.docView,p);if(!D)return f>l.top+l.height/2?l.to:l.from;({node:b,offset:O}=ik(D.dom,h,d))}let w=t.docView.nearest(b);if(!w)return null;if(w.isWidget&&((s=w.dom)===null||s===void 0?void 0:s.nodeType)==1){let D=w.dom.getBoundingClientRect();return e.y<D.top||e.y<=D.bottom&&e.x<=(D.left+D.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(b,O)+w.posAtStart}function jE(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=Math.floor((i-n.top)/t.defaultLineHeight);s+=a*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+q6(o,s,t.state.tabSize)}function cnt(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return a0(t,r-1,r).getBoundingClientRect().left>n}function unt(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():a0(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function hnt(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(i.from),h=t.posAtCoords({x:n==(u==Gn.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(h!=null)return Ee.cursor(h,n?-1:1)}let o=zi.find(t.docView,e.head),a=o?n?o.posAtEnd:o.posAtStart:n?i.to:i.from;return Ee.cursor(a,n?-1:1)}function HE(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=Ktt(i,s,o,a,n),h=jV;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=Ee.cursor(n?i.from:i.to)}if(l){if(!l(h))return a}else{if(!r)return u;l=r(h)}a=u}}function dnt(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==zn.Space&&(i=o),i==o}}function fnt(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Ee.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),h=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-p.from))),a=(s<0?p.top:p.bottom)+h}let d=l.left+o,f=r!=null?r:t.defaultLineHeight>>1;for(let p=0;;p+=10){let m=a+(f+p)*s,g=KV(t,{x:d,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<i:g>i))return Ee.cursor(g,e.assoc,void 0,o)}}function FO(t,e,n){let r=t.state.facet(qV).map(i=>i(t));for(;;){let i=!1;for(let s of r)s.between(n.from-1,n.from+1,(o,a,l)=>{n.from>o&&n.from<a&&(n=e.head>n.from?Ee.cursor(o,1):Ee.cursor(a,-1),i=!0)});if(!i)return n}}class pnt{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Ir){let i=Ir[r];e.contentDOM.addEventListener(r,s=>{ZE(e,s)&&n(i,s)},sk[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(Ir.mousedown,r)}),ct.chrome&&ct.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ct.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let s of n)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let o in i)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{!ZE(e,a)||this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(o){Ls(n.state,o)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(s){Ls(e.state,s)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ct.android&&ct.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return ct.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=JV.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||mnt.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Td(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ct.safari&&!ct.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const JV=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],mnt="dthko",eW=[16,17,18,20,91,92,224,225];function dg(t){return t*.7+8}class gnt{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Ntt(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(en.allowMultipleSelections)&&ynt(e,n),this.dragMove=bnt(e,n),this.dragging=Ont(e,n)&&iW(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?r=-dg(s.left-e.clientX):e.clientX>=s.right&&(r=dg(e.clientX-s.right)),e.clientY<=s.top?i=-dg(s.top-e.clientY):e.clientY>=s.bottom&&(i=dg(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ynt(t,e){let n=t.state.facet(LV);return n.length?n[0](e):ct.mac?e.metaKey:e.ctrlKey}function bnt(t,e){let n=t.state.facet(FV);return n.length?n[0](e):ct.mac?!e.altKey:!e.ctrlKey}function Ont(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=xb(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function ZE(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Bn.get(n))&&r.ignoreEvent(e))return!1;return!0}const Ir=Object.create(null),sk=Object.create(null),tW=ct.ie&&ct.ie_version<15||ct.ios&&ct.webkit_version<604;function vnt(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),nW(t,n.value)},50)}function nW(t,e){let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(ok!=null&&n.selection.ranges.every(l=>l.empty)&&ok==s.toString()){let l=-1;r=n.changeByRange(u=>{let h=n.doc.lineAt(u.from);if(h.from==l)return{range:u};l=h.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:d},range:Ee.cursor(u.from+d.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Ee.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ir.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():eW.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};Ir.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Ir.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};sk.touchstart=sk.touchmove={passive:!0};Ir.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(NV))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=wnt(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new gnt(t,e,n,r)),r&&t.observer.ignore(()=>kV(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function GE(t,e,n,r){if(r==1)return Ee.cursor(e,n);if(r==2)return ont(t.state,e,n);{let i=zi.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Ee.range(o,a)}}let rW=(t,e)=>t>=e.top&&t<=e.bottom,KE=(t,e,n)=>rW(e,n)&&t>=n.left&&t<=n.right;function xnt(t,e,n,r){let i=zi.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&KE(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&KE(n,r,a)?1:o&&rW(r,o)?-1:1}function JE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:xnt(t,n,e.clientX,e.clientY)}}const knt=ct.ie&&ct.ie_version<=11;let eA=null,tA=0,nA=0;function iW(t){if(!knt)return t.detail;let e=eA,n=nA;return eA=t,nA=Date.now(),tA=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(tA+1)%3:1}function wnt(t,e){let n=JE(t,e),r=iW(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=JE(t,s),u=GE(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let h=GE(t,n.pos,n.bias,r),d=Math.min(h.from,u.from),f=Math.max(h.to,u.to);u=d<u.from?Ee.range(d,f):Ee.range(f,d)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&i.ranges.length>1&&i.ranges.some(h=>h.eq(u))?_nt(i,u):a?i.addRange(u):Ee.create([u])}}}function _nt(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return Ee.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}Ir.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function rA(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}Ir.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&rA(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}}else rA(t,e,e.dataTransfer.getData("Text"),!0)};Ir.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=tW?null:e.clipboardData;n?(nW(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):vnt(t)};function Snt(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Cnt(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let ok=null;Ir.copy=Ir.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Cnt(t.state);if(!n&&!i)return;ok=i?n:null;let s=tW?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):Snt(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const sW=tc.define();function oW(t,e){let n=[];for(let r of t.facet(QV)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:sW.of(!0)}):null}function aW(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=oW(t.state,e);n?t.dispatch(n):t.update([])}},10)}Ir.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),aW(t)};Ir.blur=t=>{t.observer.clearSelectionRange(),aW(t)};Ir.compositionstart=Ir.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Ir.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,ct.chrome&&ct.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};Ir.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ir.beforeinput=(t,e)=>{var n;let r;if(ct.chrome&&ct.android&&(r=JV.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const iA=["pre-wrap","normal","pre-line","break-spaces"];class Tnt{constructor(e){this.lineWrapping=e,this.doc=un.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return iA.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s){let o=iA.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.lineLength=i,a){this.heightSamples={};for(let l=0;l<s.length;l++){let u=s[l];u<0?l++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class Dnt{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class kl{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new kl(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Mn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Mn||(Mn={}));const V2=.001;class qi{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>V2&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return qi.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:h,toB:d}=i[a],f=s.lineAt(l,Mn.ByPosNoHeight,r.setDoc(n),0,0),p=f.to>=u?f:s.lineAt(u,Mn.ByPosNoHeight,r,0,0);for(d+=p.to-u,u=p.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,h=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Mn.ByPosNoHeight,r,0,0));h+=f.from-l,l=f.from;let m=Q7.build(r.setDoc(o),e,h,d);s=s.replace(l,u,m)}return s.updateHeight(r,0)}static empty(){return new ws(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new Ent(qi.of(e.slice(0,n)),o,qi.of(e.slice(r)))}}qi.prototype.size=1;class lW extends qi{constructor(e,n,r){super(e,n),this.type=r}blockAt(e,n,r,i){return new kl(i,this.length,r,this.height,this.type)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ws extends lW{constructor(e,n){super(e,n,_n.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ws||i instanceof ii&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ii?i=new ws(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):qi.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ii extends qi{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,a=(this.height-l)/(this.length-s-1)}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),h=n.doc.lineAt(u),d=a+h.length*l,f=Math.max(r,e-d/2);return new kl(h.from,h.length,f,d,_n.Text)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:h,length:d}=n.doc.line(s+u);return new kl(h,d,r+a*u,a,_n.Text)}}lineAt(e,n,r,i,s){if(n==Mn.ByHeight)return this.blockAt(e,r,i,s);if(n==Mn.ByPosNoHeight){let{from:p,to:m}=r.doc.lineAt(e);return new kl(p,m-p,0,0,_n.Text)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),h=a+u.length*l,d=u.number-o,f=i+a*d+l*(u.from-s-d);return new kl(u.from,u.length,Math.max(i,Math.min(f,i+this.height-h)),h,_n.Text)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let h=e,d=i;h<=n;){let f=r.doc.lineAt(h);if(h==e){let m=f.number-a;d+=l*m+u*(e-s-m)}let p=l+u*f.length;o(new kl(f.from,f.length,d,p,_n.Text)),d+=p,h=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof ii?r[r.length-1]=new ii(s.length+i):r.push(null,new ii(i-1))}if(e>0){let s=r[0];s instanceof ii?r[0]=new ii(e+s.length):r.unshift(new ii(e-1),null)}return qi.of(r)}decomposeLeft(e,n){n.push(new ii(e-1),null)}decomposeRight(e,n){n.push(null,new ii(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new ii(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=V2&&(l=-2);let f=new ws(h,d);f.outdated=!1,o.push(f),a+=h+1}a<=s&&o.push(null,new ii(s-a).updateHeight(e,a));let u=qi.of(o);return(l<0||Math.abs(u.height-this.height)>=V2||Math.abs(l-this.heightMetrics(e,n).perLine)>=V2)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ent extends qi{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Mn.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let h=n==Mn.ByPosNoHeight?Mn.ByPosNoHeight:Mn.ByPos;return l?u.join(this.right.lineAt(a,h,r,o,a)):this.left.lineAt(a,h,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,Mn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&sA(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),sA(s,a)}return qi.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?qi.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function sA(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ii&&(r=t[e+1])instanceof ii&&t.splice(e-1,3,new ii(n.length+1+r.length))}const Ant=5;class Q7{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ws?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ws(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new lW(s,i,r.type)):(s||i>=Ant)&&this.addLineDeco(i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ws(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ii(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ws)return e;let n=new ws(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==_n.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=_n.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ws)&&!this.isCovered?this.nodes.push(new ws(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ws&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new Q7(r,e);return bn.spans(n,r,i,s,0),s.finish(r)}}function Mnt(t,e,n){let r=new Pnt;return bn.compare(t,e,n,r,0),r.changes}class Pnt{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&ek(e,n,this.changes,5)}}function Bnt(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let h=u,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=u==t.parentNode?f.bottom:Math.min(l,f.bottom)}u=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function $nt(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class NO{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return ft.replace({widget:new Lnt(this.size,e)}).range(this.from,this.to)}}class Lnt extends Ka{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class oA{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=aA,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(R7).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Tnt(n),this.stateDeco=e.facet(h1).filter(r=>typeof r!="function"),this.heightMap=qi.empty().applyChanges(this.stateDeco,un.empty,this.heightOracle.setDoc(e.doc),[new Ra(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ft.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new fg(s,o))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?aA:new Int(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:$f(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(h1).filter(u=>typeof u!="function");let i=e.changedRanges,s=Ra.extendWithRanges(i,Mnt(r,this.stateDeco,e?e.changes:Mr.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(VV)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Gn.RTL:Gn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,h=0,d=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=(this.printing?$nt:Bnt)(n,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:C}=e.docView.measureTextSize();o=D>0&&i.refresh(s,D,C,b/C,w),o&&(e.docView.minWidth=0,u|=8)}m>0&&g>0?h=Math.max(m,g):m<0&&g<0&&(h=Math.min(m,g)),i.heightChanged=!1;for(let D of this.viewports){let C=D.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?qi.empty().applyChanges(this.stateDeco,un.empty,this.heightOracle,[new Ra(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Dnt(D.from,C))}i.heightChanged&&(u|=2)}let O=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(u&2||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new fg(i.lineAt(o-r*1e3,Mn.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Mn.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,Mn.ByPos,s,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=d.top:f=d.bottom-h,l=new fg(i.lineAt(f-1e3/2,Mn.ByHeight,s,0,0).from,i.lineAt(f+h+1e3/2,Mn.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new fg(this.heightMap.lineAt(r,Mn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Mn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Mn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Mn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new NO(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Gn.LTR&&!r)return[];let a=[],l=(u,h,d,f)=>{if(h-u<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let y of m)if(y>u&&y<h){l(u,y-10,d,f),l(y+10,h,d,f);return}let g=Nnt(e,y=>y.from>=d.from&&y.to<=d.to&&Math.abs(y.from-u)<s&&Math.abs(y.to-h)<s&&!m.some(b=>y.from<b&&y.to>b));if(!g){if(h<d.to&&n&&r&&n.visibleRanges.some(y=>y.from<=h&&y.to>=h)){let y=n.moveToLineBoundary(Ee.cursor(h),!1,!0).head;y>u&&(h=y)}g=new NO(u,h,this.gapSize(d,u,h,f))}a.push(g)};for(let u of this.viewportLines){if(u.length<o)continue;let h=Fnt(u.from,u.to,this.stateDeco);if(h.total<o)continue;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(d!=null){let b=mg(h,d),O=((this.visibleBottom-this.visibleTop)/2+m)/u.height;g=b-O,y=b+O}else g=(this.visibleTop-u.top-m)/u.height,y=(this.visibleBottom-u.top+m)/u.height;f=pg(h,g),p=pg(h,y)}else{let m=h.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,y,b;if(d!=null){let O=mg(h,d),w=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/m;y=O-w,b=O+w}else y=(this.pixelViewport.left-g)/m,b=(this.pixelViewport.right+g)/m;f=pg(h,y),p=pg(h,b)}f>u.from&&l(u.from,f,u,h),p<u.to&&l(p,u.to,u,h)}return a}gapSize(e,n,r,i){let s=mg(i,r)-mg(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){NO.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ft.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];bn.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||$f(this.heightMap.lineAt(e,Mn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return $f(this.heightMap.lineAt(this.scaler.fromDOM(e),Mn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return $f(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class fg{constructor(e,n){this.from=e,this.to=n}}function Fnt(t,e,n){let r=[],i=t,s=0;return bn.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function pg({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function mg(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Nnt(t,e){for(let n of t)if(e(n))return n}const aA={toDOM(t){return t},fromDOM(t){return t},scale:1};class Int{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,Mn.ByPos,e,0,0).top,h=n.lineAt(l,Mn.ByPos,e,0,0).bottom;return i+=h-u,{from:a,to:l,top:u,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function $f(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new kl(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(i=>$f(i,e)):t.type)}const gg=at.define({combine:t=>t.join(" ")}),ak=at.define({combine:t=>t.indexOf(!0)>-1}),lk=iu.newName(),cW=iu.newName(),uW=iu.newName(),hW={"&light":"."+cW,"&dark":"."+uW};function ck(t,e,n){return new iu(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Rnt=ck("."+lk,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hW);class Qnt{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:Vnt(e),l=new HV(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Wnt(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!o0(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!o0(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=Ee.single(u,l)}}}function dW(t,e){let n,{newSel:r}=e,i=t.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,a=i.from,l=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||ct.android&&e.text.length<o-s)&&(a=i.to,l="end");let u=znt(t.state.doc.sliceString(s,o,Mc),e.text,a-s,l);u&&(ct.chrome&&t.inputState.lastKeyCode==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Mc+Mc&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:un.of(e.text.slice(u.from,u.toB).split(Mc))})}else r&&(!t.hasFocus&&t.state.facet(l3)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(ct.mac||ct.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:un.of([" "])}):ct.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:un.of([" "])}),n){let s=t.state;if(ct.ios&&t.inputState.flushIOSKey(t)||ct.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&Td(t.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&n.insert.length==0&&Td(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Td(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();if(t.state.facet(RV).some(u=>u(t,n.from,n.to,o)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let a;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let u=i.from<n.from?s.sliceDoc(i.from,n.from):"",h=i.to>n.to?s.sliceDoc(n.to,i.to):"";a=s.replaceSelection(t.state.toText(u+n.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let u=s.changes(n),h=r&&!s.selection.main.eq(r.main)&&r.main.to<=u.newLength?r.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let d=t.state.sliceDoc(n.from,n.to),f=ZV(t)||t.state.doc.lineAt(i.head),p=i.to-n.to,m=i.to-i.from;a=s.changeByRange(g=>{if(g.from==i.from&&g.to==i.to)return{changes:u,range:h||g.map(u)};let y=g.to-p,b=y-d.length;if(g.to-g.from!=m||t.state.sliceDoc(b,y)!=d||f&&g.to>=f.from&&g.from<=f.to)return{range:g};let O=s.changes({from:b,to:y,insert:n.insert}),w=g.to-i.to;return{changes:O,range:h?Ee.range(Math.max(0,h.anchor+w),Math.max(0,h.head+w)):g.map(O)}})}else a={changes:u,selection:h&&s.selection.replaceRange(h)}}let l="input.type";return t.composing&&(l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(a,{scrollIntoView:!0,userEvent:l}),!0}else if(r&&!r.main.eq(i)){let s=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),o=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:o}),!0}else return!1}function znt(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Vnt(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new VE(n,r)),(i!=n||s!=r)&&e.push(new VE(i,s))),e}function Wnt(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Ee.single(n+e,r+e):null}const qnt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},IO=ct.ie&&ct.ie_version<=11;class Xnt{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Itt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ct.ie&&ct.ie_version<=11||ct.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),IO&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(l3)?r.root.activeElement!=this.dom:!z2(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ct.ie&&ct.ie_version<=11||ct.android&&ct.chrome)&&!r.state.selection.main.empty&&i.focusNode&&kb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ct.safari&&e.root.nodeType==11&&$tt(this.dom.ownerDocument)==this.dom&&Ynt(this.view)||xb(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=z2(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Qtt(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,qnt),IO&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),IO&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&Td(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);!o||(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&z2(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Qnt(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=dW(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=lA(n,e.previousSibling||e.target.previousSibling,-1),i=lA(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function lA(t,e,n){for(;e;){let r=Bn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Ynt(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return kb(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}class ot{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||Rtt(e.parent)||document,this.viewState=new oA(e.state||en.create(e)),this.plugins=this.state.facet(Pf).map(n=>new $O(n));for(let n of this.plugins)n.update(this);this.observer=new Xnt(this),this.inputState=new pnt(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new WE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Fr?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(sW))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=oW(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,h=null;if(u?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(en.phrases)!=this.state.facet(en.phrases))return this.setState(s);i=Sb.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;d=new _b(p.empty?p:Ee.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(QE)&&(d=p.value)}this.viewState.update(i,d),this.bidiCache=Cb.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Bf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(gg)!=i.state.facet(gg)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let f of this.state.facet(tk))f(i);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!dW(this,h)&&u.force&&Td(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new oA(e),this.plugins=e.facet(Pf).map(r=>new $O(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new WE(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Pf),r=e.state.facet(Pf);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new $O(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:s}=this.scrollDOM,o=i>r-s-4?r:i;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,u=this.viewState.lineBlockAtHeight(o),h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];h&4||([this.measureRequests,d]=[d,this.measureRequests]);let f=d.map(y=>{try{return y.read(this)}catch(b){return Ls(this.state,b),cA}}),p=Sb.create(this,this.state,[]),m=!1,g=!1;p.flags|=h,n?n.flags|=h:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),m=this.docView.update(p));for(let y=0;y<d.length;y++)if(f[y]!=cA)try{let b=d[y];b.write&&b.write(f[y],this)}catch(b){Ls(this.state,b)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let y=this.viewState.lineBlockAt(u.from).top-u.top;(y>1||y<-1)&&(this.scrollDOM.scrollTop+=y,g=!0)}if(m&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(tk))a(n)}get themeClasses(){return lk+" "+(this.state.facet(ak)?uW:cW)+" "+this.state.facet(gg)}updateAttrs(){let e=uA(this,WV,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(l3)?"true":"false",class:"cm-content",style:`${ct.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),uA(this,R7,n);let r=this.observer.ignore(()=>{let i=J6(this.contentDOM,this.contentAttrs,n),s=J6(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(ot.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Bf),iu.mount(this.root,this.styleModules.concat(Rnt).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return FO(this,e,HE(this,e,n,r))}moveByGroup(e,n){return FO(this,e,HE(this,e,n,r=>dnt(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return hnt(this,e,n,r)}moveVertically(e,n,r){return FO(this,e,fnt(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),KV(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Dd.find(s,e-i.from,-1,n)];return L7(r,o.dir==Gn.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(zV)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Unt)return UV(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=Gtt(e.text,n);return this.bidiCache.push(new Cb(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ct.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{kV(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return QE.of(new _b(typeof e=="number"?Ee.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return ur.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=iu.newName(),i=[gg.of(r),Bf.of(ck(`.${r}`,e))];return n&&n.dark&&i.push(ak.of(!0)),i}static baseTheme(e){return fu.lowest(Bf.of(ck("."+lk,e,hW)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Bn.get(r)||Bn.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}ot.styleModule=Bf;ot.inputHandler=RV;ot.focusChangeEffect=QV;ot.perLineTextDirection=zV;ot.exceptionSink=IV;ot.updateListener=tk;ot.editable=l3;ot.mouseSelectionStyle=NV;ot.dragMovesSelection=FV;ot.clickAddsSelectionRange=LV;ot.decorations=h1;ot.atomicRanges=qV;ot.scrollMargins=XV;ot.darkTheme=ak;ot.contentAttributes=R7;ot.editorAttributes=WV;ot.lineWrapping=ot.contentAttributes.of({class:"cm-lineWrapping"});ot.announce=zt.define();const Unt=4096,cA={};class Cb{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Gn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Cb(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.order))}return r}}function uA(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&K6(o,n)}return n}const jnt=ct.mac?"mac":ct.windows?"win":ct.linux?"linux":"key";function Hnt(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function yg(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Znt=fu.default(ot.domEventHandlers({keydown(t,e){return pW(fW(e.state),t,e,"editor")}})),Ph=at.define({enables:Znt}),hA=new WeakMap;function fW(t){let e=t.facet(Ph),n=hA.get(e);return n||hA.set(e,n=Jnt(e.reduce((r,i)=>r.concat(i),[]))),n}function Gnt(t,e,n){return pW(fW(t.state),e,t,n)}let kc=null;const Knt=4e3;function Jnt(t,e=jnt){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u)=>{var h,d;let f=n[o]||(n[o]=Object.create(null)),p=a.split(/ (?!$)/).map(y=>Hnt(y,e));for(let y=1;y<p.length;y++){let b=p.slice(0,y).join(" ");i(b,!0),f[b]||(f[b]={preventDefault:!0,run:[O=>{let w=kc={view:O,prefix:b,scope:o};return setTimeout(()=>{kc==w&&(kc=null)},Knt),!0}]})}let m=p.join(" ");i(m,!1);let g=f[m]||(f[m]={preventDefault:!1,run:((d=(h=f._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let h=n[u]||(n[u]=Object.create(null));h._any||(h._any={preventDefault:!1,run:[]});for(let d in h)h[d].run.push(o.any)}let l=o[e]||o.key;if(!!l)for(let u of a)s(u,l,o.run,o.preventDefault),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault)}return n}function pW(t,e,n,r){let i=$$(e),s=ai(i,0),o=oo(s)==i.length&&i!=" ",a="",l=!1;kc&&kc.view==n&&kc.scope==r&&(a=kc.prefix+" ",(l=eW.indexOf(e.keyCode)<0)&&(kc=null));let u=new Set,h=m=>{if(m){for(let g of m.run)if(!u.has(g)&&(u.add(g),g(n,e)))return!0;m.preventDefault&&(l=!0)}return!1},d=t[r],f,p;if(d){if(h(d[a+yg(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ct.windows&&e.ctrlKey&&e.altKey)&&(f=Rl[e.keyCode])&&f!=i){if(h(d[a+yg(f,e,!0)]))return!0;if(e.shiftKey&&(p=Tp[e.keyCode])!=i&&p!=f&&h(d[a+yg(p,e,!1)]))return!0}else if(o&&e.shiftKey&&h(d[a+yg(i,e,!0)]))return!0;if(h(d._any))return!0}return l}class cm{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=mW(e);return[new cm(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return ert(e,n,r)}}function mW(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Gn.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function dA(t,e,n){let r=Ee.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:_n.Text}}function fA(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==_n.Text))return r}return n}function ert(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Gn.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=mW(t),u=o.querySelector(".cm-line"),h=u&&window.getComputedStyle(u),d=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=a.right-(h?parseInt(h.paddingRight):0),p=fA(t,r),m=fA(t,i),g=p.type==_n.Text?p:null,y=m.type==_n.Text?m:null;if(t.lineWrapping&&(g&&(g=dA(t,r,g)),y&&(y=dA(t,i,y))),g&&y&&g.from==y.from)return O(w(n.from,n.to,g));{let C=g?w(n.from,null,g):D(p,!1),T=y?w(null,n.to,y):D(m,!0),E=[];return(g||p).to<(y||m).from-1?E.push(b(d,C.bottom,f,T.top)):C.bottom<T.top&&t.elementAtHeight((C.bottom+T.top)/2).type==_n.Text&&(C.bottom=T.top=(C.bottom+T.top)/2),O(C).concat(E).concat(O(T))}function b(C,T,E,P){return new cm(e,C-l.left,T-l.top-.01,E-C,P-T+.01)}function O({top:C,bottom:T,horizontal:E}){let P=[];for(let M=0;M<E.length;M+=2)P.push(b(E[M],C,E[M+1],T));return P}function w(C,T,E){let P=1e9,M=-1e9,$=[];function A(v,q,x,X,de){let H=t.coordsAtPos(v,v==E.to?-2:2),G=t.coordsAtPos(x,x==E.from?2:-2);P=Math.min(H.top,G.top,P),M=Math.max(H.bottom,G.bottom,M),de==Gn.LTR?$.push(s&&q?d:H.left,s&&X?f:G.right):$.push(!s&&X?d:G.left,!s&&q?f:H.right)}let _=C!=null?C:E.from,L=T!=null?T:E.to;for(let v of t.visibleRanges)if(v.to>_&&v.from<L)for(let q=Math.max(v.from,_),x=Math.min(v.to,L);;){let X=t.state.doc.lineAt(q);for(let de of t.bidiSpans(X)){let H=de.from+X.from,G=de.to+X.from;if(H>=x)break;G>q&&A(Math.max(H,q),C==null&&H<=_,Math.min(G,x),T==null&&G>=L,de.dir)}if(q=X.to+1,q>=x)break}return $.length==0&&A(_,C==null,L,T==null,t.textDirection),{top:P,bottom:M,horizontal:$}}function D(C,T){let E=a.top+(T?C.top:C.bottom);return{top:E,bottom:E,horizontal:[]}}}function trt(t,e){return t.constructor==e.constructor&&t.eq(e)}class nrt{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(W2)!=e.state.facet(W2)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(W2);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!trt(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const W2=at.define();function gW(t){return[ur.define(e=>new nrt(e,t)),W2.of(t)]}const yW=!ct.ios,d1=at.define({combine(t){return Ga(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function bW(t={}){return[d1.of(t),rrt,irt,srt,VV.of(!0)]}function OW(t){return t.startState.facet(d1)!=t.state.facet(d1)}const rrt=gW({above:!0,markers(t){let{state:e}=t,n=e.facet(d1),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||yW:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Ee.cursor(i.head,i.head>i.anchor?-1:1);for(let l of cm.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=OW(t);return n&&pA(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){pA(e.state,t)},class:"cm-cursorLayer"});function pA(t,e){e.style.animationDuration=t.facet(d1).cursorBlinkRate+"ms"}const irt=gW({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:cm.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||OW(t)},class:"cm-selectionLayer"}),vW={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};yW&&(vW[".cm-line"].caretColor="transparent !important");const srt=fu.highest(ot.theme(vW)),xW=zt.define({map(t,e){return t==null?null:e.mapPos(t)}}),Lf=Kr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(xW)?r.value:n,t)}}),ort=ur.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Lf);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Lf)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Lf),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Lf)!=t&&this.view.dispatch({effects:xW.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function kW(){return[Lf,ort]}function mA(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function art(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class lrt{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,h)=>i(h,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,h)=>{let d=r(a,l,u);d&&h(u,u+a[0].length,d)};else if(r)this.addMatch=(a,l,u,h)=>h(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new ru,r=n.add.bind(n);for(let{from:i,to:s}of art(e,this.maxLength))mA(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),d=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){d=a;break}}let f=[],p,m=(g,y,b)=>f.push(b.range(g,y));if(l==u)for(this.regexp.lastIndex=h-l.from;(p=this.regexp.exec(l.text))&&p.index<d-l.from;)this.addMatch(p,e,p.index+l.from,m);else mA(e.state.doc,this.regexp,h,d,(g,y)=>this.addMatch(y,e,g,m));n=n.update({filterFrom:h,filterTo:d,filter:(g,y)=>g<h||y>d,add:f})}}return n}}const uk=/x/.unicode!=null?"gu":"g",crt=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,uk),urt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let RO=null;function hrt(){var t;if(RO==null&&typeof document<"u"&&document.body){let e=document.body.style;RO=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return RO||!1}const q2=at.define({combine(t){let e=Ga(t,{render:null,specialChars:crt,addSpecialChars:null});return(e.replaceTabs=!hrt())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,uk)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,uk)),e}});function wW(t={}){return[q2.of(t),drt()]}let gA=null;function drt(){return gA||(gA=ur.fromClass(class{constructor(t){this.view=t,this.decorations=ft.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(q2)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new lrt({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=ai(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=am(o.text,a,r-o.from);return ft.replace({widget:new grt((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=ft.replace({widget:new mrt(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(q2);t.startState.facet(q2)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const frt="\u2022";function prt(t){return t>=32?frt:t==10?"\u2424":String.fromCharCode(9216+t)}class mrt extends Ka{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=prt(this.code),r=e.state.phrase("Control character")+" "+(urt[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class grt extends Ka{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function _W(){return brt}const yrt=ft.line({class:"cm-activeLine"}),brt=ur.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(yrt.range(i.from)),e=i.from)}return ft.set(n)}},{decorations:t=>t.decorations});class Ort extends Ka{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}ignoreEvent(){return!1}}function vrt(t){return ur.fromClass(class{constructor(e){this.view=e,this.placeholder=ft.set([ft.widget({widget:new Ort(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ft.none:this.placeholder}},{decorations:e=>e.decorations})}const hk=2e3;function xrt(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>hk||n.off>hk||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(Ee.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),h=q6(u.text,o,t.tabSize,!0);if(h<0)s.push(Ee.cursor(u.to));else{let d=q6(u.text,a,t.tabSize);s.push(Ee.range(u.from+h,u.from+d))}}}return s}function krt(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function yA(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>hk?-1:i==r.length?krt(t,e.clientX):am(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function wrt(t,e){let n=yA(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=yA(t,i);if(!a)return r;let l=xrt(t.state,n,a);return l.length?o?Ee.create(l.concat(r.ranges)):Ee.create(l):r}}:null}function SW(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return ot.mouseSelectionStyle.of((n,r)=>e(r)?wrt(n,r):null)}const _rt={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},Srt={style:"cursor: crosshair"};function CW(t={}){let[e,n]=_rt[t.key||"Alt"],r=ur.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ot.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?Srt:null})]}const bg="-10000px";class TW{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var n;let r=e.state.facet(this.facet),i=r.filter(o=>o);if(r===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<i.length;o++){let a=i[o],l=-1;if(!!a){for(let u=0;u<this.tooltips.length;u++){let h=this.tooltips[u];h&&h.create==a.create&&(l=u)}if(l<0)s[o]=this.createTooltipView(a);else{let u=s[o]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(n=o.destroy)===null||n===void 0||n.call(o));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function Crt(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const QO=at.define({combine:t=>{var e,n,r;return{position:ct.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Crt}}}),bA=new WeakMap,DW=ur.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(QO);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TW(t,z7,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(QO);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=bg,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let r=this.manager.tooltipViews[n];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(QO).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:r}=t,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],a=this.manager.tooltipViews[s],{dom:l}=a,u=t.pos[s],h=t.size[s];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){l.style.top=bg;continue}let d=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,f=d?7:0,p=h.right-h.left,m=(e=bA.get(a))!==null&&e!==void 0?e:h.bottom-h.top,g=a.offset||Drt,y=this.view.textDirection==Gn.LTR,b=h.width>r.right-r.left?y?r.left:r.right-h.width:y?Math.min(u.left-(d?14:0)+g.x,r.right-p):Math.max(r.left,u.left-p+(d?14:0)-g.x),O=!!o.above;!o.strictSide&&(O?u.top-(h.bottom-h.top)-g.y<r.top:u.bottom+(h.bottom-h.top)+g.y>r.bottom)&&O==r.bottom-u.bottom>u.top-r.top&&(O=!O);let w=(O?u.top-r.top:r.bottom-u.bottom)-f;if(w<m&&a.resize!==!1){if(w<this.view.defaultLineHeight){l.style.top=bg;continue}bA.set(a,m),l.style.height=(m=w)+"px"}else l.style.height&&(l.style.height="");let D=O?u.top-m-f-g.y:u.bottom+f+g.y,C=b+p;if(a.overlap!==!0)for(let T of i)T.left<C&&T.right>b&&T.top<D+m&&T.bottom>D&&(D=O?T.top-m-2-f:T.bottom+f+2);this.position=="absolute"?(l.style.top=D-t.parent.top+"px",l.style.left=b-t.parent.left+"px"):(l.style.top=D+"px",l.style.left=b+"px"),d&&(d.style.left=`${u.left+(y?g.x:-g.x)-(b+14-7)}px`),a.overlap!==!0&&i.push({left:b,top:D,right:C,bottom:D+m}),l.classList.toggle("cm-tooltip-above",O),l.classList.toggle("cm-tooltip-below",!O),a.positioned&&a.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=bg}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Trt=ot.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Drt={x:0,y:0},z7=at.define({enables:[DW,Trt]}),Tb=at.define();class V7{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TW(e,Tb,n=>this.createHostedView(n))}static create(e){return new V7(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}}const Ert=z7.compute([Tb],t=>{let e=t.facet(Tb).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:V7.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Art{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let r=this.view.coordsAtPos(n);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(a=>a.from<=n&&a.to>=n),s=i&&i.dir==Gn.RTL?-1:1,o=this.source(this.view,n,e.x<r.left?-s:s);if(o!=null&&o.then){let a=this.pending={pos:n};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>Ls(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!OA(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!Mrt(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!OA(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function OA(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Mrt(t,e,n,r,i,s){let o=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let u=o.getClientRects();o.detach();for(let h=0;h<u.length;h++){let d=u[h];if(Math.max(d.top-i,i-d.bottom,d.left-r,r-d.right)<=s)return!0}return!1}function Prt(t,e={}){let n=zt.define(),r=Kr.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let o=s.changes.mapPos(i.pos,-1,li.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),i);a.pos=o,i.end!=null&&(a.end=s.changes.mapPos(i.end)),i=a}for(let o of s.effects)o.is(n)&&(i=o.value),o.is($rt)&&(i=null);return i},provide:i=>Tb.from(i)});return[r,ur.define(i=>new Art(i,t,r,n,e.hoverTime||300)),Ert]}function Brt(t,e){let n=t.plugin(DW);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const $rt=zt.define(),vA=at.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function f1(t,e){let n=t.plugin(EW),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const EW=ur.fromClass(class{constructor(t){this.input=t.state.facet(p1),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(vA);this.top=new Og(t,!0,e.topContainer),this.bottom=new Og(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(vA);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Og(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Og(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(p1);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),h;u<0?(h=l(t.view),a.push(h)):(h=this.panels[u],h.update&&h.update(t)),i.push(h),(h.top?s:o).push(h)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ot.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Og{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=xA(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=xA(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function xA(t){let e=t.nextSibling;return t.remove(),e}const p1=at.define({enables:EW});class Hl extends wh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Hl.prototype.elementClass="";Hl.prototype.toDOM=void 0;Hl.prototype.mapMode=li.TrackBefore;Hl.prototype.startSide=Hl.prototype.endSide=-1;Hl.prototype.point=!0;const X2=at.define(),Lrt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>bn.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fp=at.define();function Frt(t){return[AW(),fp.of(Object.assign(Object.assign({},Lrt),t))]}const dk=at.define({combine:t=>t.some(e=>e)});function AW(t){let e=[Nrt];return t&&t.fixed===!1&&e.push(dk.of(!0)),e}const Nrt=ur.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(fp).map(e=>new wA(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(dk),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(dk)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=bn.iter(this.view.state.facet(X2),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Irt(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==_n.Text){o=a;break}}else o=s.type==_n.Text?s:void 0;if(!!o){r.length&&(r=[]),MW(n,r,s.from);for(let a of i)a.line(this.view,o,r)}}for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(fp),n=t.state.facet(fp),r=t.docChanged||t.heightChanged||t.viewportChanged||!bn.eq(t.startState.facet(X2),t.state.facet(X2),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new wA(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ot.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Gn.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function kA(t){return Array.isArray(t)?t:[t]}function MW(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Irt{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=bn.iter(e.markers,n.from)}line(e,n,r){let i=[];MW(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;if(i.length==0&&!o.config.renderEmptyElements)return;let a=n.top-this.height;if(this.i==o.elements.length){let l=new PW(e,n.height,a,i);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,n.height,a,i);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class wA{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=kA(n.markers(e)),n.initialSpacer&&(this.spacer=new PW(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=kA(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!bn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class PW{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Rrt(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let h=l.elementClass;h&&(r+=" "+h);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,u=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Rrt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Qrt=at.define(),hd=at.define({combine(t){return Ga(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class zO extends Hl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function VO(t,e){return t.state.facet(hd).formatNumber(e,t.state)}const zrt=fp.compute([hd],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Qrt)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new zO(VO(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(hd)!=e.state.facet(hd),initialSpacer(e){return new zO(VO(e,_A(e.state.doc.lines)))},updateSpacer(e,n){let r=VO(n.view,_A(n.view.state.doc.lines));return r==e.number?e:new zO(r)},domEventHandlers:t.facet(hd).domEventHandlers}));function Vrt(t={}){return[hd.of(t),AW(),zrt]}function _A(t){let e=9;for(;e<t;)e=e*10+9;return e}const Wrt=new class extends Hl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},qrt=X2.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Wrt.range(i)))}return bn.of(e)});function BW(){return qrt}const $W=1024;let Xrt=0;class uo{constructor(e,n){this.from=e,this.to=n}}class Ft{constructor(e={}){this.id=Xrt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Qr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ft.closedBy=new Ft({deserialize:t=>t.split(" ")});Ft.openedBy=new Ft({deserialize:t=>t.split(" ")});Ft.group=new Ft({deserialize:t=>t.split(" ")});Ft.contextHash=new Ft({perNode:!0});Ft.lookAhead=new Ft({perNode:!0});Ft.mounted=new Ft({perNode:!0});class Yrt{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}}const Urt=Object.create(null);class Qr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Urt,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Qr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ft.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ft.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Qr.none=new Qr("",Object.create(null),0,8);class um{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new Qr(r.name,i,r.id,r.flags):r)}return new um(n)}}const vg=new WeakMap,SA=new WeakMap;var Pn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Pn||(Pn={}));class On{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(Ft.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new m1(this.topNode,e)}cursorAt(e,n=0,r=0){let i=vg.get(this)||this.topNode,s=new m1(i);return s.moveTo(e,n),vg.set(this,s._tree),s}get topNode(){return new mo(this,0,0,null)}resolve(e,n=0){let r=c0(vg.get(this)||this.topNode,e,n,!1);return vg.set(this,r),r}resolveInner(e,n=0){let r=c0(SA.get(this)||this.topNode,e,n,!0);return SA.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Pn.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=i&&(o.type.isAnonymous||n(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:X7(Qr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new On(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new On(Qr.none,n,r,i)))}static build(e){return Hrt(e)}}On.empty=new On(Qr.none,[],[],0);class W7{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new W7(this.buffer,this.index)}}class Bh{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Qr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(LW(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Bh(s,o,this.set)}}function LW(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function FW(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function c0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof mo&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Pn.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof mo&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class mo{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let h=a[e],d=l[e]+o.from;if(!!LW(i,r,d,d+h.length)){if(h instanceof Bh){if(s&Pn.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,n,r-d,i);if(f>-1)return new Ea(new jrt(o,h,e,d),null,f)}else if(s&Pn.IncludeAnonymous||!h.type.isAnonymous||q7(h)){let f;if(!(s&Pn.IgnoreMounts)&&h.props&&(f=h.prop(Ft.mounted))&&!f.overlay)return new mo(f.tree,d,e,o);let p=new mo(h,d,e,o);return s&Pn.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?h.children.length-1:0,n,r,i)}}}if(s&Pn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Pn.IgnoreOverlays)&&(i=this._tree.prop(Ft.mounted))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new mo(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new m1(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return c0(this,e,n,!1)}resolveInner(e,n=0){return c0(this,e,n,!0)}enterUnfinishedNodesBefore(e){return FW(this,e)}getChild(e,n=null,r=null){let i=Db(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Db(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Eb(this,e)}}function Db(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Eb(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class jrt{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Ea{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Ea(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Pn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Ea(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ea(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Ea(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new m1(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new On(this.type,e,n,this.to-this.from)}resolve(e,n=0){return c0(this,e,n,!1)}resolveInner(e,n=0){return c0(this,e,n,!0)}enterUnfinishedNodesBefore(e){return FW(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=Db(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Db(this,e,n,r)}get node(){return this}matchContext(e){return Eb(this,e)}}class m1{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof mo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof mo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Pn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Pn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Pn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Pn.IncludeAnonymous||a instanceof Bh||!a.type.isAnonymous||q7(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer){e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}}for(let i=r;i<this.stack.length;i++)n=new Ea(this.buffer,n,this.stack[i]);return this.bufferNode=new Ea(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Eb(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Eb(this.node,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function q7(t){return t.children.some(e=>e instanceof Bh||!e.type.isAnonymous||q7(e))}function Hrt(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=$W,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new W7(n,n.length):n,l=r.types,u=0,h=0;function d(D,C,T,E,P){let{id:M,start:$,end:A,size:_}=a,L=h;for(;_<0;)if(a.next(),_==-1){let de=s[M];T.push(de),E.push($-D);return}else if(_==-3){u=M;return}else if(_==-4){h=M;return}else throw new RangeError(`Unrecognized record size: ${_}`);let v=l[M],q,x,X=$-D;if(A-$<=i&&(x=g(a.pos-C,P))){let de=new Uint16Array(x.size-x.skip),H=a.pos-x.size,G=de.length;for(;a.pos>H;)G=y(x.start,de,G);q=new Bh(de,A-x.start,r),X=x.start-D}else{let de=a.pos-_;a.next();let H=[],G=[],F=M>=o?M:-1,B=0,ae=A;for(;a.pos>de;)F>=0&&a.id==F&&a.size>=0?(a.end<=ae-i&&(p(H,G,$,B,a.end,ae,F,L),B=H.length,ae=a.end),a.next()):d($,de,H,G,F);if(F>=0&&B>0&&B<H.length&&p(H,G,$,B,$,ae,F,L),H.reverse(),G.reverse(),F>-1&&B>0){let be=f(v);q=X7(v,H,G,0,H.length,0,A-$,be,be)}else q=m(v,H,G,A-$,L-A)}T.push(q),E.push(X)}function f(D){return(C,T,E)=>{let P=0,M=C.length-1,$,A;if(M>=0&&($=C[M])instanceof On){if(!M&&$.type==D&&$.length==E)return $;(A=$.prop(Ft.lookAhead))&&(P=T[M]+$.length+A)}return m(D,C,T,E,P)}}function p(D,C,T,E,P,M,$,A){let _=[],L=[];for(;D.length>E;)_.push(D.pop()),L.push(C.pop()+T-P);D.push(m(r.types[$],_,L,M-P,A-M)),C.push(P-T)}function m(D,C,T,E,P=0,M){if(u){let $=[Ft.contextHash,u];M=M?[$].concat(M):[$]}if(P>25){let $=[Ft.lookAhead,P];M=M?[$].concat(M):[$]}return new On(D,C,T,E,M)}function g(D,C){let T=a.fork(),E=0,P=0,M=0,$=T.end-i,A={size:0,start:0,skip:0};e:for(let _=T.pos-D;T.pos>_;){let L=T.size;if(T.id==C&&L>=0){A.size=E,A.start=P,A.skip=M,M+=4,E+=4,T.next();continue}let v=T.pos-L;if(L<0||v<_||T.start<$)break;let q=T.id>=o?4:0,x=T.start;for(T.next();T.pos>v;){if(T.size<0)if(T.size==-3)q+=4;else break e;else T.id>=o&&(q+=4);T.next()}P=x,E+=L,M+=q}return(C<0||E==D)&&(A.size=E,A.start=P,A.skip=M),A.size>4?A:void 0}function y(D,C,T){let{id:E,start:P,end:M,size:$}=a;if(a.next(),$>=0&&E<o){let A=T;if($>4){let _=a.pos-($-4);for(;a.pos>_;)T=y(D,C,T)}C[--T]=A,C[--T]=M-D,C[--T]=P-D,C[--T]=E}else $==-3?u=E:$==-4&&(h=E);return T}let b=[],O=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,b,O,-1);let w=(e=t.length)!==null&&e!==void 0?e:b.length?O[0]+b[0].length:0;return new On(l[t.topID],b.reverse(),O.reverse(),w)}const CA=new WeakMap;function Y2(t,e){if(!t.isAnonymous||e instanceof Bh||e.type!=t)return 1;let n=CA.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof On)){n=1;break}n+=Y2(t,r)}CA.set(e,n)}return n}function X7(t,e,n,r,i,s,o,a,l){let u=0;for(let m=r;m<i;m++)u+=Y2(t,e[m]);let h=Math.ceil(u*1.5/8),d=[],f=[];function p(m,g,y,b,O){for(let w=y;w<b;){let D=w,C=g[w],T=Y2(t,m[w]);for(w++;w<b;w++){let E=Y2(t,m[w]);if(T+E>=h)break;T+=E}if(w==D+1){if(T>h){let E=m[D];p(E.children,E.positions,0,E.children.length,g[D]+O);continue}d.push(m[D])}else{let E=g[w-1]+m[w-1].length-C;d.push(X7(t,m,g,D,w,C,E,null,l))}f.push(C+O-s)}}return p(e,n,r,i,0),(a||l)(d,f,o)}class NW{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Ea?this.setBuffer(e.context.buffer,e.index,n):e instanceof mo&&this.map.set(e.tree,n)}get(e){return e instanceof Ea?this.getBuffer(e.context.buffer,e.index):e instanceof mo?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Nl{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Nl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let h=a<n.length?n[a]:null,d=h?h.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||u){let p=Math.max(f.from,l)-u,m=Math.min(f.to,d)-u;f=p>=m?null:new Nl(p,m,f.tree,f.offset+u,a>0,!!h)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,u=h.toA-h.toB}return i}}class Y7{startParse(e,n,r){return typeof e=="string"&&(e=new Zrt(e)),r=r?r.length?r.map(i=>new uo(i.from,i.to)):[new uo(0,0)]:[new uo(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class Zrt{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function IW(t){return(e,n,r,i)=>new Krt(e,t,n,r,i)}class TA{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.ranges=s}}class Grt{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const fk=new Ft({perNode:!0});class Krt{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new On(r.type,r.children,r.positions,r.length,r.propValues.concat([[fk,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ft.mounted.id]=new Yrt(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].ranges[0].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new tit(this.fragments),n=null,r=null,i=new m1(new mo(this.baseTree,this.ranges[0].from,0,null),Pn.IncludeAnonymous|Pn.IgnoreMounts);e:for(let s,o;this.stoppedAt==null||i.from<this.stoppedAt;){let a=!0,l;if(e.hasNode(i)){if(n){let u=n.mounts.find(h=>h.frag.from<=i.from&&h.frag.to>=i.to&&h.mount.overlay);if(u)for(let h of u.mount.overlay){let d=h.from+u.pos,f=h.to+u.pos;d>=i.from&&f<=i.to&&!n.ranges.some(p=>p.from<f&&p.to>d)&&n.ranges.push({from:d,to:f})}}a=!1}else if(r&&(o=Jrt(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&i.from<i.to&&(s=this.nest(i,this.input))){i.tree||eit(i);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new Grt(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,n);else{let h=AA(this.ranges,s.overlay||[new uo(i.from,i.to)]);h.length&&this.inner.push(new TA(s.parser,s.parser.startParse(this.input,MA(u,h),h),s.overlay?s.overlay.map(d=>new uo(d.from-i.from,d.to-i.from)):null,i.tree,h)),s.overlay?h.length&&(r={ranges:h,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new uo(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=AA(this.ranges,n.ranges);u.length&&this.inner.splice(n.index,0,new TA(n.parser,n.parser.startParse(this.input,MA(n.mounts,u),u),n.ranges.map(h=>new uo(h.from-n.start,h.to-n.start)),n.target,u)),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function Jrt(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function DA(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function eit(t){let{node:e}=t,n=0;do t.parent(),n++;while(!t.tree);let r=0,i=t.tree,s=0;for(;s=i.positions[r]+t.from,!(s<=e.from&&s+i.children[r].length>=e.to);r++);let o=i.children[r],a=o.buffer;function l(u,h,d,f,p){let m=u;for(;a[m+2]+s<=e.from;)m=a[m+3];let g=[],y=[];DA(o,u,m,g,y,f);let b=a[m+1],O=a[m+2],w=b+s==e.from&&O+s==e.to&&a[m]==e.type.id;return g.push(w?e.toTree():l(m+4,a[m+3],o.set.types[a[m]],b,O-b)),y.push(b-f),DA(o,a[m+3],h,g,y,f),new On(d,g,y,p)}i.children[r]=l(0,a.length,Qr.none,0,o.length);for(let u=0;u<=n;u++)t.childAfter(e.from)}class EA{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Pn.IncludeAnonymous|Pn.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Pn.IgnoreOverlays|Pn.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof On)n=n.children[0];else break}return!1}}class tit{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(fk))!==null&&n!==void 0?n:r.to,this.inner=new EA(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(fk))!==null&&e!==void 0?e:n.to,this.inner=new EA(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Ft.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function AA(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new uo(l.from,o),l.to>a&&n.splice(s+1,0,new uo(a,l.to))):l.to>a?n[s--]=new uo(a,l.to):n.splice(s--,1))}}return r}function nit(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let h=i==t.length?1e9:o?t[i].to:t[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),p=Math.min(h,d,r);f<p&&u.push(new uo(f,p))}if(l=Math.min(h,d),l==1e9)break;h==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return u}function MA(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(i.overlay){let h=i.overlay.map(f=>new uo(f.from+r,f.to+r)),d=nit(e,h,l,u);for(let f=0,p=l;;f++){let m=f==d.length,g=m?u:d[f].from;if(g>p&&n.push(new Nl(p,g,i.tree,-o,s.from>=p||s.openStart,s.to<=g||s.openEnd)),m)break;p=d[f].to}}else n.push(new Nl(l,u,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let rit=0;class Lo{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=rit++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Lo([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new Ab;return n=>n.modified.indexOf(e)>-1?n:Ab.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let iit=0;class Ab{constructor(){this.instances=[],this.id=iit++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&sit(n,a.modified));if(r)return r;let i=[],s=new Lo(i,e,n);for(let a of n)a.instances.push(s);let o=oit(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Ab.get(a,l));return s}}function sit(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function oit(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function M0(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let p=i[d++];if(d==i.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let h=new Mb(r,o,l>0?s.slice(0,l):null);e[u]=h.sort(e[u])}}return RW.add(e)}const RW=new Ft;class Mb{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Mb.empty=new Mb([],2,null);function QW(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function ait(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function lit(t,e,n,r=0,i=t.length){let s=new cit(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class cit{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let u=i,h=uit(e)||Mb.empty,d=ait(s,h.tags);if(d&&(u&&(u+=" "),u+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(e.from,u),h.opaque)return;let f=e.tree&&e.tree.prop(Ft.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),g=e.firstChild();for(let y=0,b=a;;y++){let O=y<f.overlay.length?f.overlay[y]:null,w=O?O.from+a:l,D=Math.max(n,b),C=Math.min(r,w);if(D<C&&g)for(;e.from<C&&(this.highlightRange(e,D,C,i,s),this.startSpan(Math.min(C,e.to),u),!(e.to>=w||!e.nextSibling())););if(!O||w>r)break;b=O.to+a,b>n&&(this.highlightRange(p.cursor(),Math.max(n,O.from+a),Math.min(r,b),i,m),this.startSpan(b,u))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function uit(t){let e=t.type.prop(RW);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Ge=Lo.define,xg=Ge(),gc=Ge(),PA=Ge(gc),BA=Ge(gc),yc=Ge(),kg=Ge(yc),WO=Ge(yc),fa=Ge(),Tu=Ge(fa),ca=Ge(),ua=Ge(),pk=Ge(),J0=Ge(pk),wg=Ge(),K={comment:xg,lineComment:Ge(xg),blockComment:Ge(xg),docComment:Ge(xg),name:gc,variableName:Ge(gc),typeName:PA,tagName:Ge(PA),propertyName:BA,attributeName:Ge(BA),className:Ge(gc),labelName:Ge(gc),namespace:Ge(gc),macroName:Ge(gc),literal:yc,string:kg,docString:Ge(kg),character:Ge(kg),attributeValue:Ge(kg),number:WO,integer:Ge(WO),float:Ge(WO),bool:Ge(yc),regexp:Ge(yc),escape:Ge(yc),color:Ge(yc),url:Ge(yc),keyword:ca,self:Ge(ca),null:Ge(ca),atom:Ge(ca),unit:Ge(ca),modifier:Ge(ca),operatorKeyword:Ge(ca),controlKeyword:Ge(ca),definitionKeyword:Ge(ca),moduleKeyword:Ge(ca),operator:ua,derefOperator:Ge(ua),arithmeticOperator:Ge(ua),logicOperator:Ge(ua),bitwiseOperator:Ge(ua),compareOperator:Ge(ua),updateOperator:Ge(ua),definitionOperator:Ge(ua),typeOperator:Ge(ua),controlOperator:Ge(ua),punctuation:pk,separator:Ge(pk),bracket:J0,angleBracket:Ge(J0),squareBracket:Ge(J0),paren:Ge(J0),brace:Ge(J0),content:fa,heading:Tu,heading1:Ge(Tu),heading2:Ge(Tu),heading3:Ge(Tu),heading4:Ge(Tu),heading5:Ge(Tu),heading6:Ge(Tu),contentSeparator:Ge(fa),list:Ge(fa),quote:Ge(fa),emphasis:Ge(fa),strong:Ge(fa),link:Ge(fa),monospace:Ge(fa),strikethrough:Ge(fa),inserted:Ge(),deleted:Ge(),changed:Ge(),invalid:Ge(),meta:wg,documentMeta:Ge(wg),annotation:Ge(wg),processingInstruction:Ge(wg),definition:Lo.defineModifier(),constant:Lo.defineModifier(),function:Lo.defineModifier(),standard:Lo.defineModifier(),local:Lo.defineModifier(),special:Lo.defineModifier()};QW([{tag:K.link,class:"tok-link"},{tag:K.heading,class:"tok-heading"},{tag:K.emphasis,class:"tok-emphasis"},{tag:K.strong,class:"tok-strong"},{tag:K.keyword,class:"tok-keyword"},{tag:K.atom,class:"tok-atom"},{tag:K.bool,class:"tok-bool"},{tag:K.url,class:"tok-url"},{tag:K.labelName,class:"tok-labelName"},{tag:K.inserted,class:"tok-inserted"},{tag:K.deleted,class:"tok-deleted"},{tag:K.literal,class:"tok-literal"},{tag:K.string,class:"tok-string"},{tag:K.number,class:"tok-number"},{tag:[K.regexp,K.escape,K.special(K.string)],class:"tok-string2"},{tag:K.variableName,class:"tok-variableName"},{tag:K.local(K.variableName),class:"tok-variableName tok-local"},{tag:K.definition(K.variableName),class:"tok-variableName tok-definition"},{tag:K.special(K.variableName),class:"tok-variableName2"},{tag:K.definition(K.propertyName),class:"tok-propertyName tok-definition"},{tag:K.typeName,class:"tok-typeName"},{tag:K.namespace,class:"tok-namespace"},{tag:K.className,class:"tok-className"},{tag:K.macroName,class:"tok-macroName"},{tag:K.propertyName,class:"tok-propertyName"},{tag:K.operator,class:"tok-operator"},{tag:K.comment,class:"tok-comment"},{tag:K.meta,class:"tok-meta"},{tag:K.invalid,class:"tok-invalid"},{tag:K.punctuation,class:"tok-punctuation"}]);var qO;const Xu=new Ft;function U7(t){return at.define({combine:t?e=>e.concat(t):void 0})}const j7=new Ft;class ho{constructor(e,n,r=[],i=""){this.data=e,this.name=i,en.prototype.hasOwnProperty("tree")||Object.defineProperty(en.prototype,"tree",{get(){return $n(this)}}),this.parser=n,this.extension=[ou.of(this),en.languageData.of((s,o,a)=>{let l=$A(s,o,a),u=l.type.prop(Xu);if(!u)return[];let h=s.facet(u),d=l.type.prop(j7);if(d){let f=l.resolve(o-l.from,a);for(let p of d)if(p.test(f,s)){let m=s.facet(p.facet);return p.type=="replace"?m:m.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return $A(e,n,r).type.prop(Xu)==this.data}findRegions(e){let n=e.facet(ou);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Xu)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ft.mounted);if(a){if(a.tree.prop(Xu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof On&&i(u,s.positions[l]+o)}};return i($n(e),0),r}get allowsNesting(){return!0}}ho.setState=zt.define();function $A(t,e,n){let r=t.facet(ou),i=$n(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Pn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class u0 extends ho{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=U7(e.languageData);return new u0(n,e.parser.configure({props:[Xu.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new u0(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function $n(t){let e=t.field(ho.state,!1);return e?e.tree:On.empty}class hit{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let ef=null;class g1{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new g1(e,n,[],On.empty,0,r,[],null)}startParse(){return this.parser.startParse(new hit(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=On.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Nl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n!=null?n:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Nl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ef;ef=this;try{return e()}finally{ef=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=LA(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,h,d,f)=>l.push({fromA:u,toA:h,fromB:d,toB:f})),r=Nl.applyChanges(r,l),i=On.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let h=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);h<d&&a.push({from:h,to:d})}}}return new g1(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=LA(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Y7{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=ef;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new On(Qr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ef}}function LA(t,e,n){return Nl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class h0{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new h0(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=g1.create(e.facet(ou).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new h0(r)}}ho.state=Kr.define({create:h0.init,update(t,e){for(let n of e.effects)if(n.is(ho.setState))return n.value;return e.startState.facet(ou)!=e.state.facet(ou)?h0.init(e.state):t.apply(e)}});let zW=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(zW=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const XO=typeof navigator<"u"&&((qO=navigator.scheduling)===null||qO===void 0?void 0:qO.isInputPending)?()=>navigator.scheduling.isInputPending():null,dit=ur.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ho.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ho.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=zW(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ho.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!XO?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>XO&&XO()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ho.setState.of(new h0(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Ls(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ou=at.define({combine(t){return t.length?t[0]:null},enables:t=>[ho.state,dit,ot.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class y1{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Pb{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Pb(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const fit=at.define(),hm=at.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Bb(t){let e=t.facet(hm);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function b1(t,e){let n="",r=t.tabSize,i=t.facet(hm)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function H7(t,e){t instanceof en&&(t=new c3(t));for(let r of t.state.facet(fit)){let i=r(t,e);if(i!==void 0)return i}let n=$n(t.state);return n?pit(t,n,e):null}class c3{constructor(e,n={}){this.state=e,this.options=n,this.unit=Bb(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return am(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const dm=new Ft;function pit(t,e,n){return VW(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function mit(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function git(t){let e=t.type.prop(dm);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ft.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>WW(o,!0,1,void 0,s&&!mit(o)?i.from:void 0)}return t.parent==null?yit:null}function VW(t,e,n){for(;t;t=t.parent){let r=git(t);if(r)return r(Z7.create(n,e,t))}return null}function yit(){return 0}class Z7 extends c3{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new Z7(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(bit(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?VW(e,this.pos,this.base):0}}function bit(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Oit(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function vit({closing:t,align:e=!0,units:n=1}){return r=>WW(r,e,n,t)}function WW(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?Oit(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const xit=t=>t.baseIndent;function U2({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const kit=200;function qW(){return en.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+kit)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let h=o.doc.lineAt(u);if(h.from==a)continue;a=h.from;let d=H7(o,h.from);if(d==null)continue;let f=/^\s*/.exec(h.text)[0],p=b1(o,d);f!=p&&l.push({from:h.from,to:h.from+f.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}const XW=at.define(),fm=new Ft;function YW(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function wit(t,e,n){let r=$n(t);if(r.length<n)return null;let i=r.resolveInner(n,1),s=null;for(let o=i;o;o=o.parent){if(o.to<=n||o.from>n)continue;if(s&&o.from<e)break;let a=o.type.prop(fm);if(a&&(o.to<r.length-50||r.length==t.doc.length||!_it(o))){let l=a(o,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(s=l)}}return s}function _it(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function $b(t,e,n){for(let r of t.facet(XW)){let i=r(t,e,n);if(i)return i}return wit(t,e,n)}function UW(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const u3=zt.define({map:UW}),pm=zt.define({map:UW});function jW(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Sh=Kr.define({create(){return ft.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(u3)&&!Sit(t,n.value.from,n.value.to)?t=t.update({add:[FA.range(n.value.from,n.value.to)]}):n.is(pm)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>ot.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(FA.range(r,i))}return ft.set(e,!0)}});function Lb(t,e,n){var r;let i=null;return(r=t.field(Sh,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function Sit(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function HW(t,e){return t.field(Sh,!1)?e:e.concat(zt.appendConfig.of(JW()))}const Cit=t=>{for(let e of jW(t)){let n=$b(t.state,e.from,e.to);if(n)return t.dispatch({effects:HW(t.state,[u3.of(n),ZW(t,n)])}),!0}return!1},Tit=t=>{if(!t.state.field(Sh,!1))return!1;let e=[];for(let n of jW(t)){let r=Lb(t.state,n.from,n.to);r&&e.push(pm.of(r),ZW(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function ZW(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ot.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Dit=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=$b(e,i.from,i.to);s&&n.push(u3.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:HW(t.state,n)}),!!n.length},Eit=t=>{let e=t.state.field(Sh,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(pm.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},GW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Cit},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Tit},{key:"Ctrl-Alt-[",run:Dit},{key:"Ctrl-Alt-]",run:Eit}],Ait={placeholderDOM:null,placeholderText:"\u2026"},KW=at.define({combine(t){return Ga(t,Ait)}});function JW(t){let e=[Sh,Pit];return t&&e.push(KW.of(t)),e}const FA=ft.replace({widget:new class extends Ka{toDOM(t){let{state:e}=t,n=e.facet(KW),r=s=>{let o=t.lineBlockAt(t.posAtDOM(s.target)),a=Lb(t.state,o.from,o.to);a&&t.dispatch({effects:pm.of(a)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),Mit={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class YO extends Hl{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function eq(t={}){let e=Object.assign(Object.assign({},Mit),t),n=new YO(e,!0),r=new YO(e,!1),i=ur.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(ou)!=o.state.facet(ou)||o.startState.field(Sh,!1)!=o.state.field(Sh,!1)||$n(o.startState)!=$n(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new ru;for(let l of o.viewportLineBlocks){let u=Lb(o.state,l.from,l.to)?r:$b(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Frt({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||bn.empty},initialSpacer(){return new YO(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=Lb(o.state,a.from,a.to);if(u)return o.dispatch({effects:pm.of(u)}),!0;let h=$b(o.state,a.from,a.to);return h?(o.dispatch({effects:u3.of(h)}),!0):!1}})}),JW()]}const Pit=ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class h3{constructor(e,n){this.specs=e;let r;function i(a){let l=iu.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof ho?a=>a.prop(Xu)==o.data:o?a=>a==o:void 0,this.style=QW(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new iu(r):null,this.themeType=n.themeType}static define(e,n){return new h3(e,n||{})}}const mk=at.define(),tq=at.define({combine(t){return t.length?[t[0]]:null}});function UO(t){let e=t.facet(mk);return e.length?e:t.facet(tq)}function nq(t,e){let n=[$it],r;return t instanceof h3&&(t.module&&n.push(ot.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(tq.of(t)):r?n.push(mk.computeN([ot.darkTheme],i=>i.facet(ot.darkTheme)==(r=="dark")?[t]:[])):n.push(mk.of(t)),n}class Bit{constructor(e){this.markCache=Object.create(null),this.tree=$n(e.state),this.decorations=this.buildDeco(e,UO(e.state))}update(e){let n=$n(e.state),r=UO(e.state),i=r!=UO(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return ft.none;let r=new ru;for(let{from:i,to:s}of e.visibleRanges)lit(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=ft.mark({class:l})))},i,s);return r.finish()}}const $it=fu.high(ur.fromClass(Bit,{decorations:t=>t.decorations})),rq=h3.define([{tag:K.meta,color:"#404740"},{tag:K.link,textDecoration:"underline"},{tag:K.heading,textDecoration:"underline",fontWeight:"bold"},{tag:K.emphasis,fontStyle:"italic"},{tag:K.strong,fontWeight:"bold"},{tag:K.strikethrough,textDecoration:"line-through"},{tag:K.keyword,color:"#708"},{tag:[K.atom,K.bool,K.url,K.contentSeparator,K.labelName],color:"#219"},{tag:[K.literal,K.inserted],color:"#164"},{tag:[K.string,K.deleted],color:"#a11"},{tag:[K.regexp,K.escape,K.special(K.string)],color:"#e40"},{tag:K.definition(K.variableName),color:"#00f"},{tag:K.local(K.variableName),color:"#30a"},{tag:[K.typeName,K.namespace],color:"#085"},{tag:K.className,color:"#167"},{tag:[K.special(K.variableName),K.macroName],color:"#256"},{tag:K.definition(K.propertyName),color:"#00c"},{tag:K.comment,color:"#940"},{tag:K.invalid,color:"#f00"}]),Lit=ot.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),iq=1e4,sq="()[]{}",oq=at.define({combine(t){return Ga(t,{afterCursor:!0,brackets:sq,maxScanDistance:iq,renderMatch:Iit})}}),Fit=ft.mark({class:"cm-matchingBracket"}),Nit=ft.mark({class:"cm-nonmatchingBracket"});function Iit(t){let e=[],n=t.matched?Fit:Nit;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Rit=Kr.define({create(){return ft.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(oq);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Aa(e.state,i.head,-1,r)||i.head>0&&Aa(e.state,i.head-1,1,r)||r.afterCursor&&(Aa(e.state,i.head,1,r)||i.head<e.state.doc.length&&Aa(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return ft.set(n,!0)},provide:t=>ot.decorations.from(t)}),Qit=[Rit,Lit];function aq(t={}){return[oq.of(t),Qit]}const lq=new Ft;function gk(t,e,n){let r=t.prop(e<0?Ft.openedBy:Ft.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function yk(t){let e=t.type.prop(lq);return e?e(t.node):t}function Aa(t,e,n,r={}){let i=r.maxScanDistance||iq,s=r.brackets||sq,o=$n(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=gk(l.type,n,s);if(u&&l.from<l.to){let h=yk(l);if(h&&(n>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return zit(t,e,n,l,h,u,s)}}return Vit(t,e,n,o,a.type,i,s)}function zit(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,h=a==null?void 0:a.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do if(n<0?h.to<=r.from:h.from>=r.to){if(u==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let d=yk(h);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(gk(h.type,n,o))u++;else if(gk(h.type,-n,o)){if(u==0){let d=yk(h);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(n<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function Vit(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!h.next().done&&f<=s;){let p=h.value;n<0&&(f+=p.length);let m=e+f*n;for(let g=n>0?0:p.length-1,y=n>0?p.length:-1;g!=y;g+=n){let b=o.indexOf(p[g]);if(!(b<0||r.resolveInner(m+g,1).type!=i))if(b%2==0==n>0)d++;else{if(d==1)return{start:u,end:{from:m+g,to:m+g+1},matched:b>>1==l>>1};d--}}n>0&&(f+=p.length)}return h.done?{start:u,matched:!1}:null}const Wit=Object.create(null),NA=[Qr.none],IA=[],qit=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])qit[t]=Xit(Wit,e);function jO(t,e){IA.indexOf(t)>-1||(IA.push(t),console.warn(e))}function Xit(t,e){let n=null;for(let s of e.split(".")){let o=t[s]||K[s];o?typeof o=="function"?n?n=o(n):jO(s,`Modifier ${s} used at start of tag`):n?jO(s,`Tag ${s} used as modifier`):n=o:jO(s,`Unknown highlighting tag ${s}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=Qr.define({id:NA.length,name:r,props:[M0({[r]:n})]});return NA.push(i),i.id}const Yit=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=K7(t.state,n.from);return r.line?Uit(t):r.block?Hit(t):!1};function G7(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Uit=G7(Kit,0),jit=G7(cq,0),Hit=G7((t,e)=>cq(t,e,Git(e)),0);function K7(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const tf=50;function Zit(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-tf,r),o=t.sliceDoc(i,i+tf),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let h,d;i-r<=2*tf?h=d=t.sliceDoc(r,i):(h=t.sliceDoc(r,r+tf),d=t.sliceDoc(i-tf,i));let f=/^\s*/.exec(h)[0].length,p=/\s*$/.exec(d)[0].length,m=d.length-p-n.length;return h.slice(f,f+e.length)==e&&d.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function Git(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from,to:i.to})}return e}function cq(t,e,n=e.selection.ranges){let r=n.map(s=>K7(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>Zit(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:h}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function Kit(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=K7(e,s).line;if(!!u){for(let h=s;h<=o;){let d=e.doc.lineAt(h);if(d.from>i&&(s==o||o>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,p=f==d.length,m=d.text.slice(f,f+u.length)==u?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:m,token:u,indent:f,empty:p,single:!1})}h=d.to+1}if(l<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:h,single:d}of r)(d||!h)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,h=u+l.length;o.text[h-o.from]==" "&&h++,s.push({from:u,to:h})}return{changes:s}}return null}const bk=tc.define(),Jit=tc.define(),est=at.define(),uq=at.define({combine(t){return Ga(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function tst(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const hq=Kr.define({create(){return Ma.empty},update(t,e){let n=e.state.facet(uq),r=e.annotation(bk);if(r){let l=e.docChanged?Ee.single(tst(e.changes)):void 0,u=hs.fromTransaction(e,l),h=r.side,d=h==0?t.undone:t.done;return u?d=Fb(d,d.length,n.minDepth,u):d=mq(d,e.startState.selection),new Ma(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(Jit);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Fr.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=hs.fromTransaction(e),o=e.annotation(Fr.time),a=e.annotation(Fr.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ma(t.done.map(hs.fromJSON),t.undone.map(hs.fromJSON))}});function dq(t={}){return[hq,uq.of(t),ot.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?fq:e.inputType=="historyRedo"?Ok:null;return r?(e.preventDefault(),r(n)):!1}})]}function d3(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(hq,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const fq=d3(0,!1),Ok=d3(1,!1),nst=d3(0,!0),rst=d3(1,!0);class hs{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new hs(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new hs(e.changes&&Mr.fromJSON(e.changes),[],e.mapped&&Ia.fromJSON(e.mapped),e.startSelection&&Ee.fromJSON(e.startSelection),e.selectionsAfter.map(Ee.fromJSON))}static fromTransaction(e,n){let r=fo;for(let i of e.startState.facet(est)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new hs(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,fo)}static selection(e){return new hs(void 0,fo,void 0,void 0,e)}}function Fb(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function ist(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],h=n[l++];a>=u&&o<=h&&(r=!0)}}),r}function sst(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function pq(t,e){return t.length?e.length?t.concat(e):t:e}const fo=[],ost=200;function mq(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-ost));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Fb(t,t.length-1,1e9,n.setSelAfter(r)))}else return[hs.selection([e])]}function ast(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function HO(t,e){if(!t.length)return t;let n=t.length,r=fo;for(;n;){let i=lst(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[hs.selection(r)]:fo}function lst(t,e,n){let r=pq(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):fo,n);if(!t.changes)return hs.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new hs(i,zt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const cst=/^(input\.type|delete)($|\.)/;class Ma{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Ma(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||cst.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,ist(a.changes,e.changes))||r=="input.type.compose")?o=Fb(o,o.length-1,i.minDepth,new hs(e.changes.compose(a.changes),pq(e.effects,a.effects),a.mapped,a.startSelection,fo)):o=Fb(o,o.length,i.minDepth,e),new Ma(o,fo,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:fo;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&sst(s[s.length-1],e)?this:new Ma(mq(this.done,e),this.undone,n,r)}addMapping(e){return new Ma(HO(this.done,e),HO(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:bk.of({side:e,rest:ast(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=i.length==1?fo:i.slice(0,i.length-1);return s.mapped&&(o=HO(o,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:bk.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ma.empty=new Ma(fo,fo);const gq=[{key:"Mod-z",run:fq,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ok,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ok,preventDefault:!0},{key:"Mod-u",run:nst,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:rst,preventDefault:!0}];function P0(t,e){return Ee.create(t.ranges.map(e),t.mainIndex)}function Ja(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ra({state:t,dispatch:e},n){let r=P0(t.selection,n);return r.eq(t.selection)?!1:(e(Ja(t,r)),!0)}function f3(t,e){return Ee.cursor(e?t.to:t.from)}function yq(t,e){return ra(t,n=>n.empty?t.moveByChar(n,e):f3(n,e))}function Pi(t){return t.textDirectionAt(t.state.selection.main.head)==Gn.LTR}const bq=t=>yq(t,!Pi(t)),Oq=t=>yq(t,Pi(t));function vq(t,e){return ra(t,n=>n.empty?t.moveByGroup(n,e):f3(n,e))}const ust=t=>vq(t,!Pi(t)),hst=t=>vq(t,Pi(t));function dst(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function p3(t,e,n){let r=$n(t).resolveInner(e.head),i=n?Ft.closedBy:Ft.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;dst(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?Aa(t,r.from,1):Aa(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Ee.cursor(a,n?-1:1)}const fst=t=>ra(t,e=>p3(t.state,e,!Pi(t))),pst=t=>ra(t,e=>p3(t.state,e,Pi(t)));function xq(t,e){return ra(t,n=>{if(!n.empty)return f3(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const kq=t=>xq(t,!1),wq=t=>xq(t,!0);function _q(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(ot.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Sq(t,e){let n=_q(t),{state:r}=t,i=P0(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):f3(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=ot.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Ja(r,i),{effects:s}),!0}const RA=t=>Sq(t,!1),vk=t=>Sq(t,!0);function pu(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Ee.cursor(r.from+s))}return i}const mst=t=>ra(t,e=>pu(t,e,!0)),gst=t=>ra(t,e=>pu(t,e,!1)),yst=t=>ra(t,e=>pu(t,e,!Pi(t))),bst=t=>ra(t,e=>pu(t,e,Pi(t))),Ost=t=>ra(t,e=>Ee.cursor(t.lineBlockAt(e.head).from,1)),vst=t=>ra(t,e=>Ee.cursor(t.lineBlockAt(e.head).to,-1));function xst(t,e,n){let r=!1,i=P0(t.selection,s=>{let o=Aa(t,s.head,-1)||Aa(t,s.head,1)||s.head>0&&Aa(t,s.head-1,1)||s.head<t.doc.length&&Aa(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return n?Ee.range(s.anchor,a):Ee.cursor(a)});return r?(e(Ja(t,i)),!0):!1}const kst=({state:t,dispatch:e})=>xst(t,e,!1);function Co(t,e){let n=P0(t.state.selection,r=>{let i=e(r);return Ee.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Ja(t.state,n)),!0)}function Cq(t,e){return Co(t,n=>t.moveByChar(n,e))}const Tq=t=>Cq(t,!Pi(t)),Dq=t=>Cq(t,Pi(t));function Eq(t,e){return Co(t,n=>t.moveByGroup(n,e))}const wst=t=>Eq(t,!Pi(t)),_st=t=>Eq(t,Pi(t)),Sst=t=>Co(t,e=>p3(t.state,e,!Pi(t))),Cst=t=>Co(t,e=>p3(t.state,e,Pi(t)));function Aq(t,e){return Co(t,n=>t.moveVertically(n,e))}const Mq=t=>Aq(t,!1),Pq=t=>Aq(t,!0);function Bq(t,e){return Co(t,n=>t.moveVertically(n,e,_q(t).height))}const QA=t=>Bq(t,!1),zA=t=>Bq(t,!0),Tst=t=>Co(t,e=>pu(t,e,!0)),Dst=t=>Co(t,e=>pu(t,e,!1)),Est=t=>Co(t,e=>pu(t,e,!Pi(t))),Ast=t=>Co(t,e=>pu(t,e,Pi(t))),Mst=t=>Co(t,e=>Ee.cursor(t.lineBlockAt(e.head).from)),Pst=t=>Co(t,e=>Ee.cursor(t.lineBlockAt(e.head).to)),VA=({state:t,dispatch:e})=>(e(Ja(t,{anchor:0})),!0),WA=({state:t,dispatch:e})=>(e(Ja(t,{anchor:t.doc.length})),!0),qA=({state:t,dispatch:e})=>(e(Ja(t,{anchor:t.selection.main.anchor,head:0})),!0),XA=({state:t,dispatch:e})=>(e(Ja(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Bst=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),$st=({state:t,dispatch:e})=>{let n=g3(t).map(({from:r,to:i})=>Ee.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Ee.create(n),userEvent:"select"})),!0},Lst=({state:t,dispatch:e})=>{let n=P0(t.selection,r=>{var i;let s=$n(t).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return Ee.range(s.to,s.from)});return e(Ja(t,n)),!0},Fst=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Ee.create([n.main]):n.main.empty||(r=Ee.create([Ee.cursor(n.main.head)])),r?(e(Ja(t,r)),!0):!1};function m3(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(n="delete.backward",l=_g(t,l,!1)):l>o&&(n="delete.forward",l=_g(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=_g(t,o,!1),a=_g(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Ee.cursor(o)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ot.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _g(t,e,n){if(t instanceof ot)for(let r of t.state.facet(ot.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const $q=(t,e)=>m3(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),s,o;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,n-i.from))){if(s[s.length-1]=="	")return n-1;let a=am(s,r.tabSize),l=a%Bb(r)||Bb(r);for(let u=0;u<l&&s[s.length-1-u]==" ";u++)n--;o=n}else o=Qi(i.text,n-i.from,e,e)+i.from,o==n&&i.number!=(e?r.doc.lines:1)&&(o+=e?1:-1);return o}),xk=t=>$q(t,!1),Lq=t=>$q(t,!0),Fq=(t,e)=>m3(t,n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Qi(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),h=o(u);if(a!=null&&h!=a)break;(u!=" "||r!=n)&&(a=h),r=l}return r}),Nq=t=>Fq(t,!1),Nst=t=>Fq(t,!0),Iq=t=>m3(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),Ist=t=>m3(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),Rst=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:un.of(["",""])},range:Ee.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Qst=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:Qi(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:Qi(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Ee.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function g3(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function Rq(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of g3(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Ee.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Ee.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Ee.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const zst=({state:t,dispatch:e})=>Rq(t,e,!1),Vst=({state:t,dispatch:e})=>Rq(t,e,!0);function Qq(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of g3(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Wst=({state:t,dispatch:e})=>Qq(t,e,!1),qst=({state:t,dispatch:e})=>Qq(t,e,!0),Xst=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(g3(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=P0(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Yst(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=$n(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ft.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const Ust=zq(!1),jst=zq(!0);function zq(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&Yst(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new c3(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=H7(u,s);for(h==null&&(h=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",b1(e,h)];return l&&d.push(b1(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:un.of(d)},range:Ee.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function J7(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Ee.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Hst=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new c3(t,{overrideIndentation:s=>{let o=n[s];return o==null?-1:o}}),i=J7(t,(s,o,a)=>{let l=H7(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],h=b1(t,l);(u!=h||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Vq=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(J7(t,(n,r)=>{r.push({from:n.from,insert:t.facet(hm)})}),{userEvent:"input.indent"})),!0),Wq=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(J7(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=am(i,t.tabSize),o=0,a=b1(t,Math.max(0,s-Bb(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Zst=[{key:"Ctrl-b",run:bq,shift:Tq,preventDefault:!0},{key:"Ctrl-f",run:Oq,shift:Dq},{key:"Ctrl-p",run:kq,shift:Mq},{key:"Ctrl-n",run:wq,shift:Pq},{key:"Ctrl-a",run:Ost,shift:Mst},{key:"Ctrl-e",run:vst,shift:Pst},{key:"Ctrl-d",run:Lq},{key:"Ctrl-h",run:xk},{key:"Ctrl-k",run:Iq},{key:"Ctrl-Alt-h",run:Nq},{key:"Ctrl-o",run:Rst},{key:"Ctrl-t",run:Qst},{key:"Ctrl-v",run:vk}],Gst=[{key:"ArrowLeft",run:bq,shift:Tq,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:ust,shift:wst,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:yst,shift:Est,preventDefault:!0},{key:"ArrowRight",run:Oq,shift:Dq,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:hst,shift:_st,preventDefault:!0},{mac:"Cmd-ArrowRight",run:bst,shift:Ast,preventDefault:!0},{key:"ArrowUp",run:kq,shift:Mq,preventDefault:!0},{mac:"Cmd-ArrowUp",run:VA,shift:qA},{mac:"Ctrl-ArrowUp",run:RA,shift:QA},{key:"ArrowDown",run:wq,shift:Pq,preventDefault:!0},{mac:"Cmd-ArrowDown",run:WA,shift:XA},{mac:"Ctrl-ArrowDown",run:vk,shift:zA},{key:"PageUp",run:RA,shift:QA},{key:"PageDown",run:vk,shift:zA},{key:"Home",run:gst,shift:Dst,preventDefault:!0},{key:"Mod-Home",run:VA,shift:qA},{key:"End",run:mst,shift:Tst,preventDefault:!0},{key:"Mod-End",run:WA,shift:XA},{key:"Enter",run:Ust},{key:"Mod-a",run:Bst},{key:"Backspace",run:xk,shift:xk},{key:"Delete",run:Lq},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Nq},{key:"Mod-Delete",mac:"Alt-Delete",run:Nst},{mac:"Mod-Backspace",run:Ist},{mac:"Mod-Delete",run:Iq}].concat(Zst.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),qq=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:fst,shift:Sst},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:pst,shift:Cst},{key:"Alt-ArrowUp",run:zst},{key:"Shift-Alt-ArrowUp",run:Wst},{key:"Alt-ArrowDown",run:Vst},{key:"Shift-Alt-ArrowDown",run:qst},{key:"Escape",run:Fst},{key:"Mod-Enter",run:jst},{key:"Alt-l",mac:"Ctrl-l",run:$st},{key:"Mod-i",run:Lst,preventDefault:!0},{key:"Mod-[",run:Wq},{key:"Mod-]",run:Vq},{key:"Mod-Alt-\\",run:Hst},{key:"Shift-Mod-k",run:Xst},{key:"Shift-Mod-\\",run:kst},{key:"Mod-/",run:Yit},{key:"Alt-A",run:jit}].concat(Gst),Kst={key:"Tab",run:Vq,shift:Wq};function Tn(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)Xq(t,arguments[e]);return t}function Xq(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Xq(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const YA=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class d0{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(YA(a)):YA,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ai(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=M7(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=oo(e);let i=this.normalize(n);for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==i.length-1)break;o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(d0.prototype[Symbol.iterator]=function(){return this});const Yq={from:-1,to:-1,match:/.*/.exec("")},e_="gm"+(/x/.unicode==null?"":"u");class Uq{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Yq,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new jq(e,n,r,i,s);this.re=new RegExp(n,e_+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Nb(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Nb(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ZO=new WeakMap;class Ed{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=ZO.get(e);if(!i||i.from>=r||i.to<=n){let a=new Ed(n,e.sliceString(n,r));return ZO.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),ZO.set(e,new Ed(o,s)),new Ed(n,s.slice(n-o,r-o))}}class jq{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=Yq,this.matchPos=Nb(e,i),this.re=new RegExp(n,e_+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Ed.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Nb(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ed.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Uq.prototype[Symbol.iterator]=jq.prototype[Symbol.iterator]=function(){return this});function Jst(t){try{return new RegExp(t,e_),!0}catch{return!1}}function Nb(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function kk(t){let e=Tn("input",{class:"cm-textfield",name:"line"}),n=Tn("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:Ib.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},Tn("label",t.state.phrase("Go to line"),": ",e)," ",Tn("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,a,l,u,h]=i,d=u?+u.slice(1):0,f=l?+l:o.number;if(l&&h){let m=f/100;a&&(m=m*(a=="-"?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*m)}else l&&a&&(f=f*(a=="-"?-1:1)+o.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,f)));t.dispatch({effects:Ib.of(!1),selection:Ee.cursor(p.from+Math.max(0,Math.min(d,p.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const Ib=zt.define(),UA=Kr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Ib)&&(t=n.value);return t},provide:t=>p1.from(t,e=>e?kk:null)}),eot=t=>{let e=f1(t,kk);if(!e){let n=[Ib.of(!0)];t.state.field(UA,!1)==null&&n.push(zt.appendConfig.of([UA,tot])),t.dispatch({effects:n}),e=f1(t,kk)}return e&&e.dom.querySelector("input").focus(),!0},tot=ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),not={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Hq=at.define({combine(t){return Ga(t,not,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Zq(t){let e=[aot,oot];return t&&e.push(Hq.of(t)),e}const rot=ft.mark({class:"cm-selectionMatch"}),iot=ft.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jA(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=zn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=zn.Word)}function sot(t,e,n,r){return t(e.sliceDoc(n,n+1))==zn.Word&&t(e.sliceDoc(r-1,r))==zn.Word}const oot=ur.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Hq),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ft.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ft.none;let l=n.wordAt(i.head);if(!l)return ft.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return ft.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(jA(o,n,i.from,i.to)&&sot(o,n,i.from,i.to)))return ft.none}else if(s=n.sliceDoc(i.from,i.to).trim(),!s)return ft.none}let a=[];for(let l of t.visibleRanges){let u=new d0(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:h,to:d}=u.value;if((!o||jA(o,n,h,d))&&(i.empty&&h<=i.from&&d>=i.to?a.push(iot.range(h,d)):(h>=i.to||d<=i.from)&&a.push(rot.range(h,d)),a.length>e.maxMatches))return ft.none}}return ft.set(a)}},{decorations:t=>t.decorations}),aot=ot.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),lot=({state:t,dispatch:e})=>{let{selection:n}=t,r=Ee.create(n.ranges.map(i=>t.wordAt(i.head)||Ee.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function cot(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new d0(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new d0(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const uot=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return lot({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=cot(t,r);return i?(e(t.update({selection:t.selection.addRange(Ee.range(i.from,i.to),!1),effects:ot.scrollIntoView(i.to)})),!0):!1},t_=at.define({combine(t){return Ga(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new xot(e)})}});class Gq{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Jst(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new pot(this):new dot(this)}getCursor(e,n=0,r){let i=e.doc?e:en.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Gh(this,i,n,r):Zh(this,i,n,r)}}class Kq{constructor(e){this.spec=e}}function Zh(t,e,n,r){return new d0(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?hot(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function hot(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(Rb(i,n-s))!=zn.Word||e(Qb(i,n-s))!=zn.Word)&&(e(Qb(i,r-s))!=zn.Word||e(Rb(i,r-s))!=zn.Word))}class dot extends Kq{constructor(e){super(e)}nextMatch(e,n,r){let i=Zh(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Zh(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Zh(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Zh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Zh(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Gh(t,e,n,r){return new Uq(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?fot(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function Rb(t,e){return t.slice(Qi(t,e,!1),e)}function Qb(t,e){return t.slice(e,Qi(t,e))}function fot(t){return(e,n,r)=>!r[0].length||(t(Rb(r.input,r.index))!=zn.Word||t(Qb(r.input,r.index))!=zn.Word)&&(t(Qb(r.input,r.index+r[0].length))!=zn.Word||t(Rb(r.input,r.index+r[0].length))!=zn.Word)}class pot extends Kq{nextMatch(e,n,r){let i=Gh(this.spec,e,r,e.doc.length).next();return i.done&&(i=Gh(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=Gh(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n))}matchAll(e,n){let r=Gh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Gh(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const O1=zt.define(),n_=zt.define(),qc=Kr.define({create(t){return new GO(wk(t).create(),null)},update(t,e){for(let n of e.effects)n.is(O1)?t=new GO(n.value.create(),t.panel):n.is(n_)&&(t=new GO(t.query,n.value?r_:null));return t},provide:t=>p1.from(t,e=>e.panel)});class GO{constructor(e,n){this.query=e,this.panel=n}}const mot=ft.mark({class:"cm-searchMatch"}),got=ft.mark({class:"cm-searchMatch cm-searchMatch-selected"}),yot=ur.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(qc))}update(t){let e=t.state.field(qc);(e!=t.startState.field(qc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ft.none;let{view:n}=this,r=new ru;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,h)=>{let d=n.state.selection.ranges.some(f=>f.from==u&&f.to==h);r.add(u,h,d?got:mot)})}return r.finish()}},{decorations:t=>t.decorations});function mm(t){return e=>{let n=e.state.field(qc,!1);return n&&n.query.spec.valid?t(e,n):Jq(e)}}const zb=mm((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);return r?(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:i_(t,r),userEvent:"select.search"}),!0):!1}),Vb=mm((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);return i?(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:i_(t,i),userEvent:"select.search"}),!0):!1}),bot=mm((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Ee.create(n.map(r=>Ee.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Oot=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new d0(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Ee.range(a.value.from,a.value.to))}return e(t.update({selection:Ee.create(s,o),userEvent:"select.search.matches"})),!0},HA=mm((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(ot.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let h=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a={anchor:s.from-h,head:s.to-h},u.push(i_(t,s))}return t.dispatch({changes:o,selection:a,scrollIntoView:!!a,effects:u,userEvent:"input.replace"}),!0}),vot=mm((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:ot.announce.of(r),userEvent:"input.replace.all"}),!0});function r_(t){return t.state.facet(t_).createPanel(t)}function wk(t,e){var n,r,i,s;let o=t.selection.main,a=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!a)return e;let l=t.facet(t_);return new Gq({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}const Jq=t=>{let e=t.state.field(qc,!1);if(e&&e.panel){let n=f1(t,r_);if(!n)return!1;let r=n.dom.querySelector("[main-field]");if(r&&r!=t.root.activeElement){let i=wk(t.state,e.query.spec);i.valid&&t.dispatch({effects:O1.of(i)}),r.focus(),r.select()}}else t.dispatch({effects:[n_.of(!0),e?O1.of(wk(t.state,e.query.spec)):zt.appendConfig.of(wot)]});return!0},eX=t=>{let e=t.state.field(qc,!1);if(!e||!e.panel)return!1;let n=f1(t,r_);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:n_.of(!1)}),!0},tX=[{key:"Mod-f",run:Jq,scope:"editor search-panel"},{key:"F3",run:zb,shift:Vb,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zb,shift:Vb,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:eX,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Oot},{key:"Alt-g",run:eot},{key:"Mod-d",run:uot,preventDefault:!0}];class xot{constructor(e){this.view=e;let n=this.query=e.state.field(qc).query.spec;this.commit=this.commit.bind(this),this.searchField=Tn("input",{value:n.search,placeholder:xs(e,"Find"),"aria-label":xs(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Tn("input",{value:n.replace,placeholder:xs(e,"Replace"),"aria-label":xs(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Tn("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Tn("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Tn("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Tn("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Tn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>zb(e),[xs(e,"next")]),r("prev",()=>Vb(e),[xs(e,"previous")]),r("select",()=>bot(e),[xs(e,"all")]),Tn("label",null,[this.caseField,xs(e,"match case")]),Tn("label",null,[this.reField,xs(e,"regexp")]),Tn("label",null,[this.wordField,xs(e,"by word")]),...e.state.readOnly?[]:[Tn("br"),this.replaceField,r("replace",()=>HA(e),[xs(e,"replace")]),r("replaceAll",()=>vot(e),[xs(e,"replace all")])],Tn("button",{name:"close",onclick:()=>eX(e),"aria-label":xs(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new Gq({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:O1.of(e)}))}keydown(e){Gnt(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Vb:zb)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),HA(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(O1)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(t_).top}}function xs(t,e){return t.state.phrase(e)}const Sg=30,Cg=/[\s\.,:;?!]/;function i_(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Sg),o=Math.min(i,n+Sg),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Sg;l++)if(!Cg.test(a[l+1])&&Cg.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Sg;l--)if(!Cg.test(a[l-1])&&Cg.test(a[l])){a=a.slice(0,l);break}}return ot.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const kot=ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),wot=[qc,fu.lowest(yot),kot];class nX{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=$n(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(iX(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function ZA(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function _ot(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=ZA(e)+ZA(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function rX(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:_ot(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function Sot(t,e){return n=>{for(let r=$n(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class GA{constructor(e,n,r){this.completion=e,this.source=n,this.match=r}}function Xc(t){return t.selection.main.head}function iX(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const sX=tc.define();function Cot(t,e,n,r){return Object.assign(Object.assign({},t.changeByRange(i=>{if(i==t.selection.main)return{changes:{from:n,to:r,insert:e},range:Ee.cursor(n+e.length)};let s=r-n;return!i.empty||s&&t.sliceDoc(i.from-s,i.from)!=t.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:Ee.cursor(i.from-s+e.length)}})),{userEvent:"input.complete"})}function oX(t,e){const n=e.completion.apply||e.completion.label;let r=e.source;typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Cot(t.state,n,r.from,r.to)),{annotations:sX.of(e.completion)})):n(t,e.completion,r.from,r.to)}const KA=new WeakMap;function Tot(t){if(!Array.isArray(t))return t;let e=KA.get(t);return e||KA.set(t,e=rX(t)),e}class Dot{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let r=ai(e,n),i=oo(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(ai(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let O=ai(e,0),w=oo(O),D=w==e.length?0:-100;if(O!=n[0])if(O==r[0])D+=-200;else return null;return[D,0,w]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,u=0;if(a<0){for(let O=0,w=Math.min(e.length,200);O<w&&u<l;){let D=ai(e,O);(D==n[u]||D==r[u])&&(i[u++]=O),O+=oo(D)}if(u<l)return null}let h=0,d=0,f=!1,p=0,m=-1,g=-1,y=/[a-z]/.test(e),b=!0;for(let O=0,w=Math.min(e.length,200),D=0;O<w&&d<l;){let C=ai(e,O);a<0&&(h<l&&C==n[h]&&(s[h++]=O),p<l&&(C==n[p]||C==r[p]?(p==0&&(m=O),g=O+1,p++):p=0));let T,E=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(T=M7(C))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!O||E==1&&y||D==0&&E!=0)&&(n[d]==C||r[d]==C&&(f=!0)?o[d++]=O:o.length&&(b=!1)),D=E,O+=oo(C)}return d==l&&o[0]==0&&b?this.result(-100+(f?-200:0),o,e):p==l&&m==0?[-200-e.length+(g==e.length?0:-100),0,g]:a>-1?[-700-e.length,a,a+this.pattern.length]:p==l?[-200+-700-e.length,m,g]:d==l?this.result(-100+(f?-200:0)+-700+(b?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[e-r.length],s=1;for(let o of n){let a=o+(this.astral?oo(ai(r,o)):1);s>1&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return i}}const wo=at.define({combine(t){return Ga(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>JA(e(r),n(r)),optionClass:(e,n)=>r=>JA(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function JA(t,e){return t?e?t+" "+e:t:e}function Eot(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=n,a=0;for(let l=1;l<i.length;){let u=i[l++],h=i[l++];u>a&&s.appendChild(document.createTextNode(o.slice(a,u)));let d=s.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(o.slice(u,h))),d.className="cm-completionMatchedText",a=h}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function eM(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Aot{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:a=>this.positionInfo(a),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:i,selected:s}=r.open,o=e.state.facet(wo);this.optionContent=Eot(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=eM(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let l=a.target,u;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(u=/-(\d+)$/.exec(l.id))&&+u[1]<i.length){oX(e,i[+u[1]]),a.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var n,r,i;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((n=s.open)===null||n===void 0?void 0:n.disabled)!=((r=o.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=eM(n.options.length,n.selected,this.view.state.facet(wo).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>Ls(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Pot(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let m=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:m.innerWidth,bottom:m.innerHeight}}if(i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10)return null;let o=this.view.textDirection==Gn.RTL,a=o,l=!1,u,h="",d="",f=n.left-s.left,p=s.right-n.right;if(a&&f<Math.min(r.width,p)?a=!1:!a&&p<Math.min(r.width,f)&&(a=!0),r.width<=(a?f:p))h=Math.max(s.top,Math.min(i.top,s.bottom-r.height))-n.top+"px",u=Math.min(400,a?f:p)+"px";else{l=!0,u=Math.min(400,(o?n.right:s.right-n.left)-30)+"px";let m=s.bottom-n.bottom;m>=r.height||m>n.top?h=i.bottom-n.top+"px":d=n.bottom-i.top+"px"}return{top:h,bottom:d,maxWidth:u,class:l?o?"left-narrow":"right-narrow":a?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=r.from;s<r.to;s++){let{completion:o,match:a}=e[s];const l=i.appendChild(document.createElement("li"));l.id=n+"-"+s,l.setAttribute("role","option");let u=this.optionClass(o);u&&(l.className=u);for(let h of this.optionContent){let d=h(o,this.view.state,a);d&&l.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function Mot(t){return e=>new Aot(e,t)}function Pot(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}function tM(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Bot(t,e){let n=[],r=0;for(let a of t)if(a.hasResult())if(a.result.filter===!1){let l=a.result.getMatch;for(let u of a.result.options){let h=[1e9-r++];if(l)for(let d of l(u))h.push(d);n.push(new GA(u,a,h))}}else{let l=new Dot(e.sliceDoc(a.from,a.to)),u;for(let h of a.result.options)(u=l.match(h.label))&&(h.boost!=null&&(u[0]+=h.boost),n.push(new GA(h,a,u)))}let i=[],s=null,o=e.facet(wo).compareCompletions;for(let a of n.sort((l,u)=>u.match[0]-l.match[0]||o(l.completion,u.completion)))!s||s.label!=a.completion.label||s.detail!=a.completion.detail||s.type!=null&&a.completion.type!=null&&s.type!=a.completion.type||s.apply!=a.completion.apply?i.push(a):tM(a.completion)>tM(s)&&(i[i.length-1]=a),s=a.completion;return i}class dd{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new dd(this.options,nM(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let o=Bot(e,n);if(!o.length)return i&&e.some(l=>l.state==1)?new dd(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(wo).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new dd(o,nM(r,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:Mot(no),above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new dd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Wb{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Wb(Fot,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(wo),s=(r.override||n.languageDataAt("autocomplete",Xc(n)).map(Tot)).map(a=>(this.active.find(u=>u.source==a)||new ss(a,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!$ot(s,this.active)?o=dd.build(s,n,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ss(a.source,0):a));for(let a of e.effects)a.is(lX)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Wb(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Lot}}function $ot(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Lot={"aria-autocomplete":"list"};function nM(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Fot=[];function _k(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class ss{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=_k(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new ss(i.source,0));for(let s of e.effects)if(s.is(s_))i=new ss(i.source,1,s.value?Xc(e.state):-1);else if(s.is(qb))i=new ss(i.source,0);else if(s.is(aX))for(let o of s.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new ss(this.source,1)}handleChange(e){return e.changes.touchesRange(Xc(e.startState))?new ss(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ss(this.source,this.state,e.mapPos(this.explicitPos))}}class pp extends ss{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,n,r){var i;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Xc(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||n=="delete"&&Xc(e.startState)==this.from)return new ss(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return Not(this.result.validFor,e.state,s,o)?new pp(this.source,l,this.result,s,o):this.result.update&&(u=this.result.update(this.result,s,o,new nX(e.state,a,l>=0)))?new pp(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:Xc(e.state)):new ss(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ss(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new pp(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Not(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):iX(t,!0).test(i)}const s_=zt.define(),qb=zt.define(),aX=zt.define({map(t,e){return t.map(n=>n.map(e))}}),lX=zt.define(),no=Kr.define({create(){return Wb.start()},update(t,e){return t.update(e)},provide:t=>[z7.from(t,e=>e.tooltip),ot.contentAttributes.from(t,e=>e.attrs)]});function Tg(t,e="option"){return n=>{let r=n.state.field(no,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(wo).interactionDelay)return!1;let i=1,s;e=="page"&&(s=Brt(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:lX.of(a)}),!0}}const Iot=t=>{let e=t.state.field(no,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(wo).interactionDelay?!1:(e.open.disabled||oX(t,e.open.options[e.open.selected]),!0)},Rot=t=>t.state.field(no,!1)?(t.dispatch({effects:s_.of(!0)}),!0):!1,Qot=t=>{let e=t.state.field(no,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:qb.of(null)}),!0)};class zot{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const rM=50,Vot=50,Wot=1e3,qot=ur.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(no).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(no);if(!t.selectionSet&&!t.docChanged&&t.startState.field(no)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!_k(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>Vot&&Date.now()-i.time>Wot){for(let s of i.context.abortListeners)try{s()}catch(o){Ls(this.view.state,o)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),rM):-1,this.composing!=0)for(let r of t.transactions)_k(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(no);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Xc(e),r=new nX(e,n,t.explicitPos==n),i=new zot(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:qb.of(null)}),Ls(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),rM))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(wo);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=new pp(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Xc(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(no).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new ss(i.active.source,0);for(let a of i.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:aX.of(e)})}},{eventHandlers:{blur(){let t=this.view.state.field(no,!1);t&&t.tooltip&&this.view.state.facet(wo).closeOnBlur&&this.view.dispatch({effects:qb.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:s_.of(!1)}),20),this.composing=0}}}),cX=ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Xot{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class o_{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,li.TrackDel),r=e.mapPos(this.to,1,li.TrackDel);return n==null||r==null?null:new o_(this.field,n,r)}}class a_{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,h=/^\t*/.exec(l)[0].length;for(let d=0;d<h;d++)u+=e.facet(hm);i.push(n+u.length-h),l=u+l.slice(h)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new o_(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1;for(let h=0;h<n.length;h++)(a!=null?n[h].seq==a:l?n[h].name==l:!1)&&(u=h);if(u<0){let h=0;for(;h<n.length&&(a==null||n[h].seq!=null&&n[h].seq<a);)h++;n.splice(h,0,{seq:a,name:l}),u=h;for(let d of i)d.field>=u&&d.field++}i.push(new Xot(u,r.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of i)l.line==r.length&&l.from>a.index&&(l.from--,l.to--)}r.push(o)}return new a_(r,i)}}let Yot=ft.widget({widget:new class extends Ka{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),Uot=ft.mark({class:"cm-snippetField"});class B0{constructor(e,n){this.ranges=e,this.active=n,this.deco=ft.set(e.map(r=>(r.from==r.to?Yot:Uot).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new B0(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const gm=zt.define({map(t,e){return t&&t.map(e)}}),jot=zt.define(),v1=Kr.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(gm))return n.value;if(n.is(jot)&&t)return new B0(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ot.decorations.from(t,e=>e?e.deco:ft.none)});function l_(t,e){return Ee.create(t.filter(n=>n.field==e).map(n=>Ee.range(n.from,n.to)))}function Hot(t){let e=a_.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:s,insert:un.of(o)},scrollIntoView:!0,annotations:sX.of(r)};if(a.length&&(l.selection=l_(a,0)),a.length>1){let u=new B0(a,0),h=l.effects=[gm.of(u)];n.state.field(v1,!1)===void 0&&h.push(zt.appendConfig.of([v1,eat,tat,cX]))}n.dispatch(n.state.update(l))}}function uX(t){return({state:e,dispatch:n})=>{let r=e.field(v1,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:l_(r.ranges,i),effects:gm.of(s?null:new B0(r.ranges,i))})),!0}}const Zot=({state:t,dispatch:e})=>t.field(v1,!1)?(e(t.update({effects:gm.of(null)})),!0):!1,Got=uX(1),Kot=uX(-1),Jot=[{key:"Tab",run:Got,shift:Kot},{key:"Escape",run:Zot}],iM=at.define({combine(t){return t.length?t[0]:Jot}}),eat=fu.highest(Ph.compute([iM],t=>t.facet(iM)));function Eo(t,e){return Object.assign(Object.assign({},e),{apply:Hot(t)})}const tat=ot.domEventHandlers({mousedown(t,e){let n=e.state.field(v1,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:l_(n.ranges,i.field),effects:gm.of(n.ranges.some(s=>s.field>i.field)?new B0(n.ranges,i.field):null)}),!0)}}),x1={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Yu=zt.define({map(t,e){let n=e.mapPos(t,-1,li.TrackAfter);return n==null?void 0:n}}),c_=zt.define({map(t,e){return e.mapPos(t)}}),u_=new class extends wh{};u_.startSide=1;u_.endSide=-1;const hX=Kr.define({create(){return bn.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=bn.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Yu)?t=t.update({add:[u_.range(n.value,n.value+1)]}):n.is(c_)&&(t=t.update({filter:r=>r!=n.value}));return t}});function dX(){return[rat,hX]}const KO="()[]{}<>";function fX(t){for(let e=0;e<KO.length;e+=2)if(KO.charCodeAt(e)==t)return KO.charAt(e+1);return M7(t<128?t:t+1)}function pX(t,e){return t.languageDataAt("closeBrackets",e)[0]||x1}const nat=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),rat=ot.inputHandler.of((t,e,n,r)=>{if((nat?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&oo(ai(r,0))==1||e!=i.from||n!=i.to)return!1;let s=sat(t.state,r);return s?(t.dispatch(s),!0):!1}),iat=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=pX(t,t.selection.main.head).brackets||x1.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=oat(t.doc,o.head);for(let l of r)if(l==a&&y3(t.doc,o.head)==fX(ai(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Ee.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},mX=[{key:"Backspace",run:iat}];function sat(t,e){let n=pX(t,t.selection.main.head),r=n.brackets||x1.brackets;for(let i of r){let s=fX(ai(i,0));if(e==i)return s==i?cat(t,i,r.indexOf(i+i+i)>-1,n):aat(t,i,s,n.before||x1.before);if(e==s&&gX(t,t.selection.main.from))return lat(t,i,s)}return null}function gX(t,e){let n=!1;return t.field(hX).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function y3(t,e){let n=t.sliceString(e,e+2);return n.slice(0,oo(ai(n,0)))}function oat(t,e){let n=t.sliceString(e-2,e);return oo(ai(n,0))==n.length?n:n.slice(1)}function aat(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Yu.of(o.to+e.length),range:Ee.range(o.anchor+e.length,o.head+e.length)};let a=y3(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Yu.of(o.head+e.length),range:Ee.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function lat(t,e,n){let r=null,i=t.selection.ranges.map(s=>s.empty&&y3(t.doc,s.head)==n?Ee.cursor(s.head+n.length):r=s);return r?null:t.update({selection:Ee.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:s})=>c_.of(s))})}function cat(t,e,n,r){let i=r.stringPrefixes||x1.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Yu.of(a.to+e.length),range:Ee.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=y3(t.doc,l),h;if(u==e){if(sM(t,l))return{changes:{insert:e+e,from:l},effects:Yu.of(l+e.length),range:Ee.cursor(l+e.length)};if(gX(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e;return{range:Ee.cursor(l+e.length*(d?3:1)),effects:c_.of(l)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(h=oM(t,l-2*e.length,i))>-1&&sM(t,h))return{changes:{insert:e+e+e+e,from:l},effects:Yu.of(l+e.length),range:Ee.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=zn.Word&&oM(t,l,i)>-1&&!uat(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Yu.of(l+e.length),range:Ee.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function sM(t,e){let n=$n(t).resolveInner(e+1);return n.parent&&n.from==e}function uat(t,e,n,r){let i=$n(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>n.length+l;){if(t.sliceDoc(h.to-n.length,h.to)==n)return!1;h=h.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function oM(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=zn.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=zn.Word)return s}return-1}function yX(t={}){return[no,wo.of(t),qot,hat,cX]}const h_=[{key:"Ctrl-Space",run:Rot},{key:"Escape",run:Qot},{key:"ArrowDown",run:Tg(!0)},{key:"ArrowUp",run:Tg(!1)},{key:"PageDown",run:Tg(!0,"page")},{key:"PageUp",run:Tg(!1,"page")},{key:"Enter",run:Iot}],hat=fu.highest(Ph.computeN([wo],t=>t.facet(wo).defaultKeymap?[h_]:[]));class dat{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Ru{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(fd).markerFilter;s&&(i=s(i));let o=ft.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?ft.widget({widget:new xat(a),diagnostic:a}).range(a.from):ft.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Ru(o,n,f0(o))}}function f0(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new dat(i,s,o.diagnostic),!1}),r}function fat(t,e){return!!(t.effects.some(n=>n.is(d_))||t.changes.touchesRange(e.pos))}function bX(t,e){return t.field(As,!1)?e:e.concat(zt.appendConfig.of([As,ot.decorations.compute([As],n=>{let{selected:r,panel:i}=n.field(As);return!r||!i||r.from==r.to?ft.none:ft.set([mat.range(r.from,r.to)])}),Prt(gat,{hideOn:fat}),wat]))}function pat(t,e){return{effects:bX(t,[d_.of(e)])}}const d_=zt.define(),f_=zt.define(),OX=zt.define(),As=Kr.define({create(){return new Ru(ft.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=f0(n,t.selected.diagnostic,i)||f0(n,null,i)}t=new Ru(n,t.panel,r)}for(let n of e.effects)n.is(d_)?t=Ru.init(n.value,t.panel,e.state):n.is(f_)?t=new Ru(t.diagnostics,n.value?b3.open:null,t.selected):n.is(OX)&&(t=new Ru(t.diagnostics,t.panel,n.value));return t},provide:t=>[p1.from(t,e=>e.panel),ot.decorations.from(t,e=>e.diagnostics)]}),mat=ft.mark({class:"cm-lintRange cm-lintRange-active"});function gat(t,e,n){let{diagnostics:r}=t.state.field(As),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:h})=>{e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0))&&(i.push(h.diagnostic),s=Math.min(l,s),o=Math.max(u,o))});let a=t.state.facet(fd).tooltipFilter;return a&&(i=a(i)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:yat(t,i)}}}:null}function yat(t,e){return Tn("ul",{class:"cm-tooltip-lint"},e.map(n=>kX(t,n,!1)))}const bat=t=>{let e=t.state.field(As,!1);(!e||!e.panel)&&t.dispatch({effects:bX(t.state,[f_.of(!0)])});let n=f1(t,b3.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},aM=t=>{let e=t.state.field(As,!1);return!e||!e.panel?!1:(t.dispatch({effects:f_.of(!1)}),!0)},Oat=t=>{let e=t.state.field(As,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},vX=[{key:"Mod-Shift-m",run:bat,preventDefault:!0},{key:"F8",run:Oat}],vat=ur.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(fd);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(fd);Promise.all(n.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(pat(this.view.state,i))},r=>{Ls(this.view.state,r)})}}update(t){let e=t.state.facet(fd);(t.docChanged||e!=t.startState.facet(fd)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),fd=at.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Ga(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))},enables:vat});function xX(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function kX(t,e,n){var r;let i=n?xX(e.actions):[];return Tn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Tn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let p=f0(t.state.field(As).diagnostics,e);p&&s.apply(t,p.from,p.to)},{name:u}=s,h=i[o]?u.indexOf(i[o]):-1,d=h<0?u:[u.slice(0,h),Tn("u",u.slice(h,h+1)),u.slice(h+1)];return Tn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${h<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Tn("div",{class:"cm-diagnosticSource"},e.source))}class xat extends Ka{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Tn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class lM{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=kX(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class b3{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)aM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=xX(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=f0(this.view.state.field(As).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Tn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Tn("div",{class:"cm-panel-lint"},this.list,Tn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>aM(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(As).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(As),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let u=-1,h;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==l.diagnostic){u=d;break}u<0?(h=new lM(this.view,l.diagnostic),this.items.splice(r,0,h),i=!0):(h=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new lM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(As),r=f0(n.diagnostics,this.items[e].diagnostic);!r||this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:OX.of(r)})}static open(e){return new b3(e)}}function kat(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function JO(t){return kat(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const wat=ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:JO("#d11")},".cm-lintRange-warning":{backgroundImage:JO("orange")},".cm-lintRange-info":{backgroundImage:JO("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),_at=(()=>[Vrt(),BW(),wW(),dq(),eq(),bW(),kW(),en.allowMultipleSelections.of(!0),qW(),nq(rq,{fallback:!0}),aq(),dX(),yX(),SW(),CW(),_W(),Zq(),Ph.of([...mX,...qq,...tX,...gq,...GW,...h_,...vX])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var Sat=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[_at]}),Cat=Symbol("vue-codemirror-global-config"),Li,Tat=function(t){var e=t.onUpdate,n=t.onChange,r=t.onFocus,i=t.onBlur,s=function(o,a){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(u=Object.getOwnPropertySymbols(o);h<u.length;h++)a.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(o,u[h])&&(l[u[h]]=o[u[h]])}return l}(t,["onUpdate","onChange","onFocus","onBlur"]);return en.create({doc:s.doc,selection:s.selection,extensions:(Array.isArray(s.extensions)?s.extensions:[s.extensions]).concat([ot.updateListener.of(function(o){e(o),o.docChanged&&n(o.state.doc.toString(),o),o.focusChanged&&(o.view.hasFocus?r(o):i(o))})])})},Kh=function(t){var e=new om;return{compartment:e,run:function(n){e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:zt.appendConfig.of(e.of(n))})}}},cM=function(t,e){var n=Kh(t),r=n.compartment,i=n.run;return function(s){var o=r.get(t.state);i((s!=null?s:o!==e)?e:[])}},Dg={type:Boolean,default:void 0},Dat={autofocus:Dg,disabled:Dg,indentWithTab:Dg,tabSize:Number,placeholder:String,style:Object,autoDestroy:Dg,phrases:Object,root:Object,extensions:Array,selection:Object},Eat={modelValue:{type:String,default:""}},Aat=Object.assign(Object.assign({},Dat),Eat);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(Li||(Li={}));var Qu={};Qu[Li.Change]=function(t,e){return!0},Qu[Li.Update]=function(t){return!0},Qu[Li.Focus]=function(t){return!0},Qu[Li.Blur]=function(t){return!0},Qu[Li.Ready]=function(t){return!0};var wX={};wX[Li.ModelUpdate]=Qu[Li.Change];var Mat=Object.assign(Object.assign({},Qu),wX),Pat=b0({name:"VueCodemirror",props:Object.assign({},Aat),emits:Object.assign({},Mat),setup:function(t,e){var n=S3(),r=S3(),i=S3(),s=Object.assign(Object.assign({},Sat),K2(Cat,{})),o=uU(function(){var a={};return Object.keys(dU(t)).forEach(function(l){var u;l!=="modelValue"&&(a[l]=(u=t[l])!==null&&u!==void 0?u:s[l])}),a});return tP(function(){var a;r.value=Tat({doc:t.modelValue,selection:o.value.selection,extensions:(a=s.extensions)!==null&&a!==void 0?a:[],onFocus:function(u){return e.emit(Li.Focus,u)},onBlur:function(u){return e.emit(Li.Blur,u)},onUpdate:function(u){return e.emit(Li.Update,u)},onChange:function(u,h){u!==t.modelValue&&(e.emit(Li.Change,u,h),e.emit(Li.ModelUpdate,u,h))}}),i.value=function(u){return new ot(Object.assign({},u))}({state:r.value,parent:n.value,root:o.value.root});var l=function(u){var h=function(){return u.state.doc.toString()},d=Kh(u).run,f=cM(u,[ot.editable.of(!1),en.readOnly.of(!0)]),p=cM(u,Ph.of([Kst])),m=Kh(u).run,g=Kh(u).run,y=Kh(u).run,b=Kh(u).run;return{focus:function(){return u.focus()},getDoc:h,setDoc:function(O){O!==h()&&u.dispatch({changes:{from:0,to:u.state.doc.length,insert:O}})},reExtensions:d,toggleDisabled:f,toggleIndentWithTab:p,setTabSize:function(O){m([en.tabSize.of(O),hm.of(" ".repeat(O))])},setPhrases:function(O){g([en.phrases.of(O)])},setPlaceholder:function(O){y(vrt(O))},setStyle:function(O){O===void 0&&(O={}),b(ot.theme({"&":Object.assign({},O)}))}}}(i.value);Gs(function(){return t.modelValue},function(u){u!==l.getDoc()&&l.setDoc(u)}),Gs(function(){return t.extensions},function(u){return l.reExtensions(u||[])},{immediate:!0}),Gs(function(){return o.value.disabled},function(u){return l.toggleDisabled(u)},{immediate:!0}),Gs(function(){return o.value.indentWithTab},function(u){return l.toggleIndentWithTab(u)},{immediate:!0}),Gs(function(){return o.value.tabSize},function(u){return l.setTabSize(u)},{immediate:!0}),Gs(function(){return o.value.phrases},function(u){return l.setPhrases(u||{})},{immediate:!0}),Gs(function(){return o.value.placeholder},function(u){return l.setPlaceholder(u)},{immediate:!0}),Gs(function(){return o.value.style},function(u){return l.setStyle(u)},{immediate:!0}),o.value.autofocus&&l.focus(),e.emit(Li.Ready,{state:r.value,view:i.value,container:n.value})}),hU(function(){o.value.autoDestroy&&i.value&&function(a){a.destroy()}(i.value)}),function(){return es("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}}),Bat=Pat;class Xb{constructor(e,n,r,i,s,o,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=o,this.positions=a,this.hashProp=[[Ft.contextHash,i]]}static create(e,n,r,i,s){let o=i+(i<<8)+e+(n<<4)|0;return new Xb(e,n,r,o,s,[],[])}addChild(e,n){e.prop(Ft.contextHash)!=this.hash&&(e=new On(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new On(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(s,o,a)=>new On(Qr.none,s,o,a,this.hashProp)})}}var Ue;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.URL=33]="URL",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel"})(Ue||(Ue={}));class $at{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Lat{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return mp(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function uM(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Ue.OrderedList?g_:m_)(n,e,!1);return r>0&&(t.type!=Ue.BulletList||p_(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const _X={[Ue.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(fn(Ue.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(To(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Ue.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Ue.OrderedList]:uM,[Ue.BulletList]:uM,[Ue.Document](){return!0}};function To(t){return t==32||t==9||t==10||t==13}function mp(t,e=0){for(;e<t.length&&To(t.charCodeAt(e));)e++;return e}function hM(t,e,n){for(;e>n&&To(t.charCodeAt(e-1));)e--;return e}function SX(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function CX(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function p_(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!To(s))return-1}return n&&t.next==45&&EX(t)>-1&&t.depth==e.stack.length||r<3?-1:1}function TX(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function m_(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||To(t.text.charCodeAt(t.pos+1)))&&(!n||TX(e,Ue.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function g_(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!To(t.text.charCodeAt(r+1))||n&&!TX(e,Ue.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function DX(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function EX(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&To(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const Sk=/^[ \t]*$/,AX=/-->/,MX=/\?>/,Ck=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,AX],[/^\s*<\?/,MX],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Sk],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Sk]];function PX(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=Ck.length-(n?1:0);i<s;i++)if(Ck[i][0].test(r))return i;return-1}function dM(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function Du(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Ue.CodeText?t[r].to=n:t.push(fn(Ue.CodeText,e,n))}const Eg={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,o=[],a=[];for(Du(o,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){Du(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==Ue.CodeText?Du(o,u.from,u.to):o.push(u);a=[]}Du(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&Du(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=Ue.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-i).finish(Ue.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=SX(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,o=e.skipSpace(n),a=hM(e.text,e.text.length,o),l=[fn(Ue.CodeMark,r,r+s)];o<a&&l.push(fn(Ue.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let h=e.pos;if(e.indent-e.baseIndent<4)for(;h<e.text.length&&e.text.charCodeAt(h)==i;)h++;if(h-e.pos>=s&&e.skipSpace(h)==e.text.length){for(let d of e.markers)l.push(d);l.push(fn(Ue.CodeMark,t.lineStart+e.pos,t.lineStart+h)),t.nextLine();break}else{u||Du(l,t.lineStart-1,t.lineStart);for(let p of e.markers)l.push(p);let d=t.lineStart+e.basePos,f=t.lineStart+e.text.length;d<f&&Du(l,d,f)}}return t.addNode(t.buffer.writeElements(l,-r).finish(Ue.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=CX(e);return n<0?!1:(t.startContext(Ue.Blockquote,e.pos),t.addNode(Ue.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(p_(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Ue.HorizontalRule,n),!0},BulletList(t,e){let n=m_(e,t,!1);if(n<0)return!1;t.block.type!=Ue.BulletList&&t.startContext(Ue.BulletList,e.basePos,e.next);let r=dM(e,e.pos+1);return t.startContext(Ue.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ue.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=g_(e,t,!1);if(n<0)return!1;t.block.type!=Ue.OrderedList&&t.startContext(Ue.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=dM(e,e.pos+n);return t.startContext(Ue.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ue.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=DX(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=hM(e.text,e.text.length,r),o=s;for(;o>r&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==r||!To(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(Ue.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,o),i+n+1),-i);o<e.text.length&&a.write(Ue.HeaderMark,o-r,s-r);let l=a.finish(Ue.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=PX(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=Ck[n][1],s=[],o=i!=Sk;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=i==AX?Ue.CommentBlock:i==MX?Ue.ProcessingInstructionBlock:Ue.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class Fat{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&mp(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,fn(Ue.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(zX(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(fn(Ue.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(RX(e,mp(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=mp(e,this.pos),r=0;if(n>this.pos){let i=QX(e,n,this.start);if(i){let s=ev(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=ev(e,this.pos)),r>0&&r<e.length?r:-1}else return ev(e,this.pos)}}}function ev(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!To(n))return-1}return e}class Nat{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:EX(n),s=n.next;if(i<0)return!1;let o=fn(Ue.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,fn(s==61?Ue.SetextHeading1:Ue.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}const Iat={LinkReference(t,e){return e.content.charCodeAt(0)==91?new Fat(e):null},SetextHeading(){return new Nat}},Rat=[(t,e)=>DX(e)>=0,(t,e)=>SX(e)>=0,(t,e)=>CX(e)>=0,(t,e)=>m_(e,t,!0)>=0,(t,e)=>g_(e,t,!0)>=0,(t,e)=>p_(e,t,!0)>=0,(t,e)=>PX(e,t,!0)>=0],Qat={text:"",end:0};class zat{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new Lat,this.atEnd=!1,this.dontInject=new Set,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=Xb.create(Ue.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Xat(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let r of e.markers)this.addNode(r.type,r.from,r.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new $at(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);if(!n)return!1;let r=n,i=this.absoluteLineStart+n;for(let s=1;s<this.ranges.length;s++){let o=this.ranges[s-1].to,a=this.ranges[s].from;o>=this.lineStart&&a<i&&(r-=a-o)}return this.lineStart+=r,this.absoluteLineStart+=n,this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=Qat;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+o,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+Ue[i.type]);if(!s(i,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=Xb.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new On(this.parser.nodeSet.types[e],p0,p0,(r!=null?r:this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(Dk(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?BX(this.ranges,0,e.topNode,this.ranges[0].from,this.dontInject):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=Dk(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Ue.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?fn(this.parser.getNodeType(e),n,r,i):new FX(e,n)}get buffer(){return new LX(this.parser.nodeSet)}}function BX(t,e,n,r,i){if(i.has(n.tree))return n.tree;let s=t[e].to,o=[],a=[],l=n.from+r;function u(h,d){for(;d?h>=s:h>s;){let f=t[e+1].from-s;r+=f,h+=f,e++,s=t[e].to}}for(let h=n.firstChild;h;h=h.nextSibling){u(h.from+r,!0);let d=h.from+r,f;h.to+r>s?(f=BX(t,e,h,r,i),u(h.to+r,!1)):f=h.toTree(),o.push(f),a.push(d-l)}return u(n.to+r,!1),new On(n.type,o,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class O3 extends Y7{constructor(e,n,r,i,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let h of e.types)this.nodeTypes[h.name]=h.id}createParse(e,n,r){let i=new zat(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=Tk(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),h=this.endLeafBlock.slice(),d=this.wrappers;if(nf(n.defineNodes)){i=Object.assign({},i);let f=r.types.slice(),p;for(let m of n.defineNodes){let{name:g,block:y,composite:b,style:O}=typeof m=="string"?{name:m}:m;if(f.some(C=>C.name==g))continue;b&&(i[f.length]=(C,T,E)=>b(T,E,C.value));let w=f.length,D=b?["Block","BlockContext"]:y?w>=Ue.ATXHeading1&&w<=Ue.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;f.push(Qr.define({id:w,name:g,props:D&&[[Ft.group,D]]})),O&&(p||(p={}),Array.isArray(O)||O instanceof Lo?p[g]=O:Object.assign(p,O))}r=new um(f),p&&(r=r.extend(M0(p)))}if(nf(n.props)&&(r=r.extend(...n.props)),nf(n.remove))for(let f of n.remove){let p=this.blockNames.indexOf(f),m=this.inlineNames.indexOf(f);p>-1&&(s[p]=o[p]=void 0),m>-1&&(l[m]=void 0)}if(nf(n.parseBlock))for(let f of n.parseBlock){let p=a.indexOf(f.name);if(p>-1)s[p]=f.parse,o[p]=f.leaf;else{let m=f.before?Ag(a,f.before):f.after?Ag(a,f.after)+1:a.length-1;s.splice(m,0,f.parse),o.splice(m,0,f.leaf),a.splice(m,0,f.name)}f.endLeaf&&h.push(f.endLeaf)}if(nf(n.parseInline))for(let f of n.parseInline){let p=u.indexOf(f.name);if(p>-1)l[p]=f.parse;else{let m=f.before?Ag(u,f.before):f.after?Ag(u,f.after)+1:u.length-1;l.splice(m,0,f.parse),u.splice(m,0,f.name)}}return n.wrap&&(d=d.concat(n.wrap)),new O3(r,s,o,a,h,i,l,u,d)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new Wat(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let o of this.inlineParsers)if(o){let a=o(r,s,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function nf(t){return t!=null&&t.length>0}function Tk(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=Tk(t[0]);if(t.length==1)return e;let n=Tk(t.slice(1));if(!n||!e)return e||n;let r=(o,a)=>(o||p0).concat(a||p0),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(o,a,l,u)=>i(s(o,a,l,u),a,l,u):i:s}}function Ag(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let $X=[Qr.none];for(let t=1,e;e=Ue[t];t++)$X[t]=Qr.define({id:t,name:e,props:t>=Ue.Escape?[]:[[Ft.group,t in _X?["Block","BlockContext"]:["Block","LeafBlock"]]]});const p0=[];class LX{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return On.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}class k1{constructor(e,n,r,i=p0){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new LX(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class FX{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return p0}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function fn(t,e,n,r){return new k1(t,e,n,r)}const NX={resolve:"Emphasis",mark:"EmphasisMark"},IX={resolve:"Emphasis",mark:"EmphasisMark"},rf={},fM={};class Fo{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const pM="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let w1=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{w1=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const tv={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<pM.length;i++)if(pM.charCodeAt(i)==r)return t.append(fn(Ue.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(fn(Ue.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(fn(Ue.InlineCode,n,r+1,[fn(Ue.CodeMark,n,n+i),fn(Ue.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(fn(Ue.URL,n,n+1+i[0].length));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(fn(Ue.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(r);if(o)return t.append(fn(Ue.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(fn(Ue.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),o=w1.test(i),a=w1.test(s),l=/\s|^$/.test(i),u=/\s|^$/.test(s),h=!u&&(!a||l||o),d=!l&&(!o||u||a),f=h&&(e==42||!d||o),p=d&&(e==42||!h||a);return t.append(new Fo(e==95?NX:IX,n,r,(f?1:0)|(p?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(fn(Ue.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(fn(Ue.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Fo(rf,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Fo(fM,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof Fo&&(i.type==rf||i.type==fM)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),o=t.parts[r]=Vat(t,s,i.type==rf?Ue.Link:Ue.Image,i.from,n+1);if(i.type==rf)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof Fo&&l.type==rf&&(l.side=0)}return o.to}}return-1}};function Vat(t,e,n,r,i){let{text:s}=t,o=t.char(i),a=i;if(e.unshift(fn(Ue.LinkMark,r,r+(n==Ue.Image?2:1))),e.push(fn(Ue.LinkMark,i-1,i)),o==40){let l=t.skipSpace(i+1),u=RX(s,l-t.offset,t.offset),h;u&&(l=t.skipSpace(u.to),h=QX(s,l-t.offset,t.offset),h&&(l=t.skipSpace(h.to))),t.char(l)==41&&(e.push(fn(Ue.LinkMark,i,i+1)),a=l+1,u&&e.push(u),h&&e.push(h),e.push(fn(Ue.LinkMark,l,a)))}else if(o==91){let l=zX(s,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return fn(n,r,a,e)}function RX(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return fn(Ue.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(To(a))break;if(o)o=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(o=!0)}return s>e?fn(Ue.URL,e+n,s+n):s==t.length?null:!1}}function QX(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==i)return fn(Ue.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function zX(t,e,n,r){for(let i=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(i)i=!1;else{if(a==93)return r?!1:fn(Ue.LinkLabel,e+n,s+1+n);if(r&&!To(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class Wat{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new Fo(e,n,r,(i?1:0)|(s?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Fo&&i.type.resolve&&i.side&2))continue;let s=i.type==NX||i.type==IX,o=i.to-i.from,a,l=r-1;for(;l>=e;l--){let g=this.parts[l];if(g instanceof Fo&&g.side&1&&g.type==i.type&&!(s&&(i.side&1||g.side&2)&&(g.to-g.from+o)%3==0&&((g.to-g.from)%3||o%3))){a=g;break}}if(!a)continue;let u=i.type.resolve,h=[],d=a.from,f=i.to;if(s){let g=Math.min(2,a.to-a.from,o);d=a.to-g,f=i.from+g,u=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&h.push(this.elt(a.type.mark,d,a.to));for(let g=l+1;g<r;g++)this.parts[g]instanceof k1&&h.push(this.parts[g]),this.parts[g]=null;i.type.mark&&h.push(this.elt(i.type.mark,i.from,f));let p=this.elt(u,d,f,h);this.parts[l]=s&&a.from!=d?new Fo(a.type,a.from,d,a.side):null,(this.parts[r]=s&&i.to!=f?new Fo(i.type,f,i.to,i.side):null)?this.parts.splice(r,0,p):this.parts[r]=p}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof k1&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Fo&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return mp(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?fn(this.parser.getNodeType(e),n,r,i):new FX(e,n)}}function Dk(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof k1&&(n[r]=new k1(s.type,s.from,s.to,Dk(s.children,[i])))}else n.splice(r++,0,i)}return n}const qat=[Ue.CodeBlock,Ue.ListItem,Ue.OrderedList,Ue.BulletList];class Xat{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Ft.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}if(e.dontInject.add(n.tree),e.addNode(n.tree,n.from-r),n.type.is("Block")&&(qat.indexOf(n.type.id)<0?(o=n.to-r,a=e.block.children.length):(o=l,a=u,l=n.to-r,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}}const Yat=M0({"Blockquote/...":K.quote,HorizontalRule:K.contentSeparator,"ATXHeading1/... SetextHeading1/...":K.heading1,"ATXHeading2/... SetextHeading2/...":K.heading2,"ATXHeading3/...":K.heading3,"ATXHeading4/...":K.heading4,"ATXHeading5/...":K.heading5,"ATXHeading6/...":K.heading6,"Comment CommentBlock":K.comment,Escape:K.escape,Entity:K.character,"Emphasis/...":K.emphasis,"StrongEmphasis/...":K.strong,"Link/... Image/...":K.link,"OrderedList/... BulletList/...":K.list,"BlockQuote/...":K.quote,"InlineCode CodeText":K.monospace,URL:K.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":K.processingInstruction,"CodeInfo LinkLabel":K.labelName,LinkTitle:K.string,Paragraph:K.content}),Uat=new O3(new um($X).extend(Yat),Object.keys(Eg).map(t=>Eg[t]),Object.keys(Eg).map(t=>Iat[t]),Object.keys(Eg),Rat,_X,Object.keys(tv).map(t=>tv[t]),Object.keys(tv),[]);function jat(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let o=i?i.from:n;if(o>s&&r.push({from:s,to:o}),!i)break;s=i.to}return r}function Hat(t){let{codeParser:e,htmlParser:n}=t;return{wrap:IW((i,s)=>{let o=i.type.id;if(e&&(o==Ue.CodeBlock||o==Ue.FencedCode)){let a="";if(o==Ue.FencedCode){let u=i.node.getChild(Ue.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==Ue.CodeText}}else if(n&&(o==Ue.HTMLBlock||o==Ue.HTMLTag))return{parser:n,overlay:jat(i.node,i.from,i.to)};return null})}}const Zat={resolve:"Strikethrough",mark:"StrikethroughMark"},Gat={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":K.strikethrough}},{name:"StrikethroughMark",style:K.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),o=/\s|^$/.test(i),a=w1.test(r),l=w1.test(i);return t.addDelimiter(Zat,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function gp(t,e,n=0,r,i=0){let s=0,o=!0,a=-1,l=-1,u=!1,h=()=>{r.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let d=n;d<e.length;d++){let f=e.charCodeAt(d);f==124&&!u?((!o||a>-1)&&s++,o=!1,r&&(a>-1&&h(),r.push(t.elt("TableDelimiter",d+i,d+i+1))),a=l=-1):(u||f!=32&&f!=9)&&(a<0&&(a=d),l=d+1),u=!u&&f==92}return a>-1&&(s++,r&&h()),s}function mM(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const VX=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class gM{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&VX.test(i=n.text.slice(n.pos))){let s=[];gp(e,r.content,0,s,r.start)==gp(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];gp(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const Kat={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":K.heading}},"TableRow",{name:"TableCell",style:K.content},{name:"TableDelimiter",style:K.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return mM(e.content,0)?new gM:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof gM)||!mM(e.text,e.basePos))return!1;let r=t.scanLine(t.absoluteLineEnd+1).text;return VX.test(r)&&gp(t,e.text,e.basePos)==gp(t,r,e.basePos)},before:"SetextHeading"}]};class Jat{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const elt={defineNodes:[{name:"Task",block:!0,style:K.list},{name:"TaskMarker",style:K.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\]/.test(e.content)&&t.parentType().name=="ListItem"?new Jat:null},after:"SetextHeading"}]},tlt=[Kat,elt,Gat];function WX(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let o=[r.elt(n,s,s+1)];for(let a=s+1;a<r.end;a++){let l=r.char(a);if(l==t)return r.addElement(r.elt(e,s,a+1,o.concat(r.elt(n,a,a+1))));if(l==92&&o.push(r.elt("Escape",a,a+++2)),To(l))break}return-1}}const nlt={defineNodes:[{name:"Superscript",style:K.special(K.content)},{name:"SuperscriptMark",style:K.processingInstruction}],parseInline:[{name:"Superscript",parse:WX(94,"Superscript","SuperscriptMark")}]},rlt={defineNodes:[{name:"Subscript",style:K.special(K.content)},{name:"SubscriptMark",style:K.processingInstruction}],parseInline:[{name:"Subscript",parse:WX(126,"Subscript","SubscriptMark")}]},ilt={defineNodes:[{name:"Emoji",style:K.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};class Yb{constructor(e,n,r,i,s,o,a,l,u,h=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Yb(e,[],n,r,r,0,[],0,i?new yM(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let h=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,f,d+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r){let i=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}else this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4)}apply(e,n,r){e&65536?this.reduce(e):this.shift(e,n,r)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Yb(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new slt(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>4<<1||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<4<<1&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:n}=this.p;if(!n.validAction(this.state,e)){let r=e>>19,i=e&65535,s=this.stack.length-r*3;if(s<0||n.getGoto(this.stack[s],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new yM(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class yM{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}var bM;(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth",t[t.MinBigReduction=2e3]="MinBigReduction"})(bM||(bM={}));class slt{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Ub{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Ub(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Ub(this.stack,this.pos,this.index)}}function Ff(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class j2{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const OM=new j2;class olt{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=OM,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=OM,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Ad{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;qX(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Ad.prototype.contextual=Ad.prototype.fallback=Ad.prototype.extend=!1;class Ek{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Ff(e):e}token(e,n){let r=e.pos,i;for(;i=e.pos,qX(this.data,e,n,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(i+1,e.token)}i>r&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i-r))}}Ek.prototype.contextual=Ad.prototype.fallback=Ad.prototype.extend=!1;class el{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function qX(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let u=t[o+1];for(let p=o+3;p<u;p+=2)if((t[p+1]&a)>0){let m=t[p];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||alt(m,e.token.value,i,s))){e.acceptToken(m);break}}let h=e.next,d=0,f=t[o+2];if(e.next<0&&f>d&&t[u+f*3-3]==65535&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;d<f;){let p=d+f>>1,m=u+p+(p<<1),g=t[m],y=t[m+1]||65536;if(h<g)f=p;else if(h>=y)d=p+1;else{o=t[m+2],e.advance();continue e}}break}}function vM(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function alt(t,e,n,r){let i=vM(n,r,e);return i<0||vM(n,r,t)<i}const Ao=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let nv=null;var xM;(function(t){t[t.Margin=25]="Margin"})(xM||(xM={}));function kM(t,e,n){let r=t.cursor(Pn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class llt{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?kM(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?kM(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof On){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Ft.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class clt{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new j2)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if((1<<u&o)==0)continue;let h=s[u],d=this.tokens[u];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,h,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!h.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new j2,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new j2,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Ol(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Ol(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(Ol(a,u+1),n,r,i))}return i}}var wM;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo",t[t.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",t[t.MaxStackCount=12]="MaxStackCount"})(wM||(wM={}));class ult{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new olt(n,i),this.tokens=new clt(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Yb.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new llt(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&dlt(i);if(o)return this.stackToTree(o);if(this.parser.strict)throw Ao&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=Ao?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,h=u?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!u||(d.prop(Ft.contextHash)||0)==h))return e.useNode(d,f),Ao&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof On)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof On&&d.positions[0]==0)d=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Ao&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let h=l[u++],d=l[u++],f=l[u++],p=u==l.length||!r,m=p?e:e.split();if(m.apply(h,d,f),Ao&&console.log(o+this.stackID(m)+` (via ${(h&65536)==0?"shift":`reduce of ${s.getName(h&65535)}`} for ${s.getName(d)} @ ${i}${m==e?"":", split"})`),p)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return _M(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],h=Ao?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Ao&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=h;for(let p=0;d.forceReduce()&&p<10&&(Ao&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));p++)Ao&&(f=this.stackID(d)+" -> ");for(let p of a.recoverByInsert(l))Ao&&console.log(h+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Ao&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),_M(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),On.build({buffer:Ub.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(nv||(nv=new WeakMap)).get(e);return n||nv.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function _M(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class hlt{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const rv=t=>t;class XX{constructor(e){this.start=e.start,this.shift=e.shift||rv,this.reduce=e.reduce||rv,this.reuse=e.reuse||rv,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class m0 extends Y7{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Ft[l]);for(let u=1;u<a.length;){let h=a[u++];if(h>=0)s(h,l,a[u++]);else{let d=a[u+-h];for(let f=-h;f>0;f--)s(a[u++],l,d);u++}}}this.nodeSet=new um(n.map((a,l)=>Qr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=$W;let o=Ff(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(SM),this.states=Ff(e.states,Uint32Array),this.data=Ff(e.stateData),this.goto=Ff(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Ad(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new ult(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Ol(r,s+2)];else{if(r[s+1]==2)return Ol(r,s+2);break}if(o==n||o==0)return Ol(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){if(n==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ol(this.data,r+2);else return!1;if(n==Ol(this.data,r+1))return!0}}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ol(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(m0.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=SM(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new hlt(e,r,i)}static deserialize(e){return new m0(e)}}function Ol(t,e){return t[e]|t[e+1]<<16}function dlt(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function SM(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const flt=54,plt=1,mlt=55,glt=2,ylt=56,blt=3,CM=4,Olt=5,jb=6,YX=7,UX=8,jX=9,HX=10,vlt=11,xlt=12,klt=13,iv=57,wlt=14,TM=58,_lt=20,Slt=22,ZX=23,Clt=24,Ak=26,GX=27,Tlt=28,Dlt=31,Elt=34,KX=36,Alt=37,Mlt=0,Plt=1,Blt={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},$lt={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},DM={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Llt(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function JX(t){return t==9||t==10||t==13||t==32}let EM=null,AM=null,MM=0;function Mk(t,e){let n=t.pos+e;if(MM==n&&AM==t)return EM;let r=t.peek(e);for(;JX(r);)r=t.peek(++e);let i="";for(;Llt(r);)i+=String.fromCharCode(r),r=t.peek(++e);return AM=t,MM=n,EM=i?i.toLowerCase():r==Flt||r==Nlt?void 0:null}const eY=60,Hb=62,y_=47,Flt=63,Nlt=33,Ilt=45;function PM(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let n=0;n<t.length;n++)this.hash+=(this.hash<<4)+t.charCodeAt(n)+(t.charCodeAt(n)<<8)}const Rlt=[jb,HX,YX,UX,jX],Qlt=new XX({start:null,shift(t,e,n,r){return Rlt.indexOf(e)>-1?new PM(Mk(r,1)||"",t):t},reduce(t,e){return e==_lt&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==jb||i==KX?new PM(Mk(r,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),zlt=new el((t,e)=>{if(t.next!=eY){t.next<0&&e.context&&t.acceptToken(iv);return}t.advance();let n=t.next==y_;n&&t.advance();let r=Mk(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?wlt:jb);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(vlt);if(i&&$lt[i])return t.acceptToken(iv,-2);if(e.dialectEnabled(Mlt))return t.acceptToken(xlt);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(klt)}else{if(r=="script")return t.acceptToken(YX);if(r=="style")return t.acceptToken(UX);if(r=="textarea")return t.acceptToken(jX);if(Blt.hasOwnProperty(r))return t.acceptToken(HX);i&&DM[i]&&DM[i][r]?t.acceptToken(iv,-1):t.acceptToken(jb)}},{contextual:!0}),Vlt=new el(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(TM);break}if(t.next==Ilt)e++;else if(t.next==Hb&&e>=2){n>3&&t.acceptToken(TM,-2);break}else e=0;t.advance()}});function Wlt(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const qlt=new el((t,e)=>{if(t.next==y_&&t.peek(1)==Hb){let n=e.dialectEnabled(Plt)||Wlt(e.context);t.acceptToken(n?Olt:CM,2)}else t.next==Hb&&t.acceptToken(CM,1)});function b_(t,e,n){let r=2+t.length;return new el(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==eY||s==1&&i.next==y_||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&JX(i.next))o++;else if(s==r&&i.next==Hb){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const Xlt=b_("script",flt,plt),Ylt=b_("style",mlt,glt),Ult=b_("textarea",ylt,blt),jlt=M0({"Text RawText":K.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":K.angleBracket,TagName:K.tagName,"MismatchedCloseTag/TagName":[K.tagName,K.invalid],AttributeName:K.attributeName,"AttributeValue UnquotedAttributeValue":K.attributeValue,Is:K.definitionOperator,"EntityReference CharacterReference":K.character,Comment:K.blockComment,ProcessingInst:K.processingInstruction,DoctypeDecl:K.documentMeta}),Hlt=m0.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Qlt,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[jlt],skippedNodes:[0],repeatNodeCount:9,tokenData:"#%g!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs4ysv-_vw5iwxJ^x}-_}!OKP!O!P-_!P!Q$q!Q![-_![!]!!O!]!^-_!^!_!&W!_!`#$o!`!a&X!a!c-_!c!}!!O!}#R-_#R#S!!O#S#T3V#T#o!!O#o#s-_#s$f$q$f%W-_%W%o!!O%o%p-_%p&a!!O&a&b-_&b1p!!O1p4U-_4U4d!!O4d4e-_4e$IS!!O$IS$I`-_$I`$Ib!!O$Ib$Kh-_$Kh%#t!!O%#t&/x-_&/x&Et!!O&Et&FV-_&FV;'S!!O;'S;:j!&Q;:j;=`4s<%l?&r-_?&r?Ah!!O?Ah?BY$q?BY?Mn!!O?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/echSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0uXhSqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0pS1eP;=`<%l0p[1kP;=`<%l/^!U1wbhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!U3SP;=`<%l1n!V3bchS`P!a`!cpOq&Xqr3Vrs&}sv3Vvw0pwx(tx!P3V!P!Q&X!Q!^3V!^!_1n!_!a&X!a#s3V#s$f&X$f;'S3V;'S;=`4m<%l?Ah3V?Ah?BY&X?BY?Mn3V?MnO&X!V4pP;=`<%l3V!_4vP;=`<%l-_!Z5SV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_5rjhSkWc!ROX7dXZ8qZ[7d[^8q^p7dqr:crs8qst@Ttw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^/^!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!Z7ibkWOX7dXZ8qZ[7d[^8q^p7dqr7drs8qst+Ptw7dwx8qx!]7d!]!^9f!^!a8q!a#S7d#S#T8q#T;'S7d;'S;=`:]<%lO7d!R8tVOp8qqs8qt!]8q!]!^9Z!^;'S8q;'S;=`9`<%lO8q!R9`Oa!R!R9cP;=`<%l8q!Z9mYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z:`P;=`<%l7d!_:jjhSkWOX7dXZ8qZ[7d[^8q^p7dqr:crs8qst/^tw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^<[!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!_<echSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V=udhSOp8qqr=prs8qst0ptw=pwx8qx!P=p!P!Q8q!Q!]=p!]!^?T!^!_=p!_!a8q!a#s=p#s$f8q$f;'S=p;'S;=`?w<%l?Ah=p?Ah?BY8q?BY?Mn=p?MnO8q!V?[XhSa!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!V?zP;=`<%l=p!_@QP;=`<%l:c!_@[ihSkWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^/^!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!ZBOakWOXAyXZCTZ[Ay[^CT^pAyqrAyrsCTswAywxCTx!]Ay!]!^Cu!^!aCT!a#SAy#S#TCT#T;'SAy;'S;=`Dl<%lOAy!RCWUOpCTq!]CT!]!^Cj!^;'SCT;'S;=`Co<%lOCT!RCoOb!R!RCrP;=`<%lCT!ZC|YkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZDoP;=`<%lAy!_DyihSkWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^Fh!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!_FqchSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VHRchSOpCTqrG|rsCTswG|wxCTx!PG|!P!QCT!Q!]G|!]!^I^!^!_G|!_!aCT!a#sG|#s$fCT$f;'SG|;'S;=`JQ<%l?AhG|?Ah?BYCT?BY?MnG|?MnOCT!VIeXhSb!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!VJTP;=`<%lG|!_JZP;=`<%lDr!ZJgW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aK^lhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMU!O!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aMckhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!`&X!`!a! W!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!T! cX`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!a!!_!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!O!!O!O!P!!O!P!Q$q!Q![!!O![!]!!O!]!^-_!^!_1n!_!a&X!a!c-_!c!}!!O!}#R-_#R#S!!O#S#T3V#T#o!!O#o#s-_#s$f$q$f$}-_$}%O!!O%O%W-_%W%o!!O%o%p-_%p&a!!O&a&b-_&b1p!!O1p4U!!O4U4d!!O4d4e-_4e$IS!!O$IS$I`-_$I`$Ib!!O$Ib$Je-_$Je$Jg!!O$Jg$Kh-_$Kh%#t!!O%#t&/x-_&/x&Et!!O&Et&FV-_&FV;'S!!O;'S;:j!&Q;:j;=`4s<%l?&r-_?&r?Ah!!O?Ah?BY$q?BY?Mn!!O?MnO$q!a!&TP;=`<%l!!O!V!&achS!a`!cpOq*Vqr!'lrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!b!Ey!b#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!'uhhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!)a!O!P1n!P!Q*V!Q!_1n!_!a*V!a!f1n!f!g!,]!g#W1n#W#X!<y#X#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!)jdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!*x!O!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!+TbhS!a`!cp!dPOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!,fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!q1n!q!r!-t!r#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!-}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!e1n!e!f!/]!f#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!/fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!v1n!v!w!0t!w#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!0}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!{1n!{!|!2]!|#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!2fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!r1n!r!s!3t!s#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!3}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!g1n!g!h!5]!h#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!5fchS!a`!cpOq!6qqr!5]rs!7hsv!5]vw!;`wx!9[x!P!5]!P!Q!6q!Q!_!5]!_!`!6q!`!a!:j!a#s!5]#s$f!6q$f;'S!5];'S;=`!<s<%l?Ah!5]?Ah?BY!6q?BY?Mn!5]?MnO!6q!R!6xY!a`!cpOr!6qrs!7hsv!6qvw!8Swx!9[x!`!6q!`!a!:j!a;'S!6q;'S;=`!;Y<%lO!6qq!7mV!cpOv!7hvx!8Sx!`!7h!`!a!8q!a;'S!7h;'S;=`!9U<%lO!7hP!8VTO!`!8S!`!a!8f!a;'S!8S;'S;=`!8k<%lO!8SP!8kO{PP!8nP;=`<%l!8Sq!8xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!9XP;=`<%l!7ha!9aX!a`Or!9[rs!8Ssv!9[vw!8Sw!`!9[!`!a!9|!a;'S!9[;'S;=`!:d<%lO!9[a!:TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!:gP;=`<%l!9[!R!:sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;]P;=`<%l!6qT!;ebhSOq!8Sqr!;`rs!8Ssw!;`wx!8Sx!P!;`!P!Q!8S!Q!_!;`!_!`!8S!`!a!8f!a#s!;`#s$f!8S$f;'S!;`;'S;=`!<m<%l?Ah!;`?Ah?BY!8S?BY?Mn!;`?MnO!8ST!<pP;=`<%l!;`!V!<vP;=`<%l!5]!V!=SdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#c1n#c#d!>b#d#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!>kdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#V1n#V#W!?y#W#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!@SdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#h1n#h#i!Ab#i#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!AkdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#m1n#m#n!By#n#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!CSdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#d1n#d#e!Db#e#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!DkdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#X1n#X#Y!5]#Y#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!FSchS!a`!cpOq!G_qr!Eyrs!HUsv!Eyvw!Ncwx!Jvx!P!Ey!P!Q!G_!Q!_!Ey!_!a!G_!a!b##T!b#s!Ey#s$f!G_$f;'S!Ey;'S;=`#$i<%l?Ah!Ey?Ah?BY!G_?BY?Mn!Ey?MnO!G_!R!GfY!a`!cpOr!G_rs!HUsv!G_vw!Hpwx!Jvx!a!G_!a!b!Lv!b;'S!G_;'S;=`!N]<%lO!G_q!HZV!cpOv!HUvx!Hpx!a!HU!a!b!Iq!b;'S!HU;'S;=`!Jp<%lO!HUP!HsTO!a!Hp!a!b!IS!b;'S!Hp;'S;=`!Ik<%lO!HpP!IVTO!`!Hp!`!a!If!a;'S!Hp;'S;=`!Ik<%lO!HpP!IkOxPP!InP;=`<%l!Hpq!IvV!cpOv!HUvx!Hpx!`!HU!`!a!J]!a;'S!HU;'S;=`!Jp<%lO!HUq!JdS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!JsP;=`<%l!HUa!J{X!a`Or!Jvrs!Hpsv!Jvvw!Hpw!a!Jv!a!b!Kh!b;'S!Jv;'S;=`!Lp<%lO!Jva!KmX!a`Or!Jvrs!Hpsv!Jvvw!Hpw!`!Jv!`!a!LY!a;'S!Jv;'S;=`!Lp<%lO!Jva!LaT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!LsP;=`<%l!Jv!R!L}Y!a`!cpOr!G_rs!HUsv!G_vw!Hpwx!Jvx!`!G_!`!a!Mm!a;'S!G_;'S;=`!N]<%lO!G_!R!MvV!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!N`P;=`<%l!G_T!NhbhSOq!Hpqr!Ncrs!Hpsw!Ncwx!Hpx!P!Nc!P!Q!Hp!Q!_!Nc!_!a!Hp!a!b# p!b#s!Nc#s$f!Hp$f;'S!Nc;'S;=`#!}<%l?Ah!Nc?Ah?BY!Hp?BY?Mn!Nc?MnO!HpT# ubhSOq!Hpqr!Ncrs!Hpsw!Ncwx!Hpx!P!Nc!P!Q!Hp!Q!_!Nc!_!`!Hp!`!a!If!a#s!Nc#s$f!Hp$f;'S!Nc;'S;=`#!}<%l?Ah!Nc?Ah?BY!Hp?BY?Mn!Nc?MnO!HpT##QP;=`<%l!Nc!V##^chS!a`!cpOq!G_qr!Eyrs!HUsv!Eyvw!Ncwx!Jvx!P!Ey!P!Q!G_!Q!_!Ey!_!`!G_!`!a!Mm!a#s!Ey#s$f!G_$f;'S!Ey;'S;=`#$i<%l?Ah!Ey?Ah?BY!G_?BY?Mn!Ey?MnO!G_!V#$lP;=`<%l!Ey!V#$zXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Xlt,Ylt,Ult,qlt,zlt,Vlt,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function tY(t,e){let n=Object.create(null);for(let r of t.getChildren(ZX)){let i=r.getChild(Clt),s=r.getChild(Ak)||r.getChild(GX);i&&(n[e.read(i.from,i.to)]=s?s.type.id==Ak?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function BM(t,e){let n=t.getChild(Slt);return n?e.read(n.from,n.to):" "}function sv(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=tY(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function nY(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return IW((a,l)=>{let u=a.type.id;if(u==Tlt)return sv(a,l,n);if(u==Dlt)return sv(a,l,r);if(u==Elt)return sv(a,l,i);if(u==KX&&s.length){let h=a.node,d=BM(h,l),f;for(let p of s)if(p.tag==d&&(!p.attrs||p.attrs(f||(f=tY(h,l))))){let m=h.parent.lastChild;return{parser:p.parser,overlay:[{from:a.to,to:m.type.id==Alt?m.from:h.parent.to}]}}}if(o&&u==ZX){let h=a.node,d;if(d=h.firstChild){let f=o[l.read(d.from,d.to)];if(f)for(let p of f){if(p.tagName&&p.tagName!=BM(h.parent,l))continue;let m=h.lastChild;if(m.type.id==Ak){let g=m.from+1,y=m.lastChild,b=m.to-(y&&y.isError?0:1);if(b>g)return{parser:p.parser,overlay:[{from:g,to:b}]}}else if(m.type.id==GX)return{parser:p.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const Zlt=94,$M=1,Glt=95,Klt=96,LM=2,rY=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Jlt=58,ect=40,iY=95,tct=91,H2=45,nct=46,rct=35,ict=37;function Zb(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function sct(t){return t>=48&&t<=57}const oct=new el((t,e)=>{for(let n=!1,r=0,i=0;;i++){let{next:s}=t;if(Zb(s)||s==H2||s==iY||n&&sct(s))!n&&(s!=H2||i>0)&&(n=!0),r===i&&s==H2&&r++,t.advance();else{n&&t.acceptToken(s==ect?Glt:r==2&&e.canShift(LM)?LM:Klt);break}}}),act=new el(t=>{if(rY.includes(t.peek(-1))){let{next:e}=t;(Zb(e)||e==iY||e==rct||e==nct||e==tct||e==Jlt||e==H2)&&t.acceptToken(Zlt)}}),lct=new el(t=>{if(!rY.includes(t.peek(-1))){let{next:e}=t;if(e==ict&&(t.advance(),t.acceptToken($M)),Zb(e)){do t.advance();while(Zb(t.next));t.acceptToken($M)}}}),cct=M0({"AtKeyword import charset namespace keyframes media supports":K.definitionKeyword,"from to selector":K.keyword,NamespaceName:K.namespace,KeyframeName:K.labelName,TagName:K.tagName,ClassName:K.className,PseudoClassName:K.constant(K.className),IdName:K.labelName,"FeatureName PropertyName":K.propertyName,AttributeName:K.attributeName,NumberLiteral:K.number,KeywordQuery:K.keyword,UnaryQueryOp:K.operatorKeyword,"CallTag ValueName":K.atom,VariableName:K.variableName,Callee:K.operatorKeyword,Unit:K.unit,"UniversalSelector NestingSelector":K.definitionOperator,MatchOp:K.compareOperator,"ChildOp SiblingOp, LogicOp":K.logicOperator,BinOp:K.arithmeticOperator,Important:K.modifier,Comment:K.blockComment,ParenthesizedContent:K.special(K.name),ColorLiteral:K.color,StringLiteral:K.string,":":K.punctuation,"PseudoOp #":K.derefOperator,"; ,":K.separator,"( )":K.paren,"[ ]":K.squareBracket,"{ }":K.brace}),uct={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},hct={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},dct={__proto__:null,not:128,only:128,from:158,to:160},fct=m0.deserialize({version:14,states:"7WQYQ[OOO#_Q[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO#fQ[O'#CfO$YQXO'#CaO$aQ[O'#ChO$lQ[O'#DPO$qQ[O'#DTOOQP'#Ed'#EdO$vQdO'#DeO%bQ[O'#DrO$vQdO'#DtO%sQ[O'#DvO&OQ[O'#DyO&TQ[O'#EPO&cQ[O'#EROOQS'#Ec'#EcOOQS'#ET'#ETQYQ[OOO&jQXO'#CdO'_QWO'#DaO'dQWO'#EjO'oQ[O'#EjQOQWOOOOQP'#Cg'#CgOOQP,59Q,59QO#fQ[O,59QO'yQ[O'#EWO(eQWO,58{O(mQ[O,59SO$lQ[O,59kO$qQ[O,59oO'yQ[O,59sO'yQ[O,59uO'yQ[O,59vO(xQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)PQWO,59SO)UQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)ZQ`O,59oOOQS'#Cp'#CpO$vQdO'#CqO)cQvO'#CsO*pQtO,5:POOQO'#Cx'#CxO)UQWO'#CwO+UQWO'#CyOOQS'#Eg'#EgOOQO'#Dh'#DhO+ZQ[O'#DoO+iQWO'#EkO&TQ[O'#DmO+wQWO'#DpOOQO'#El'#ElO(hQWO,5:^O+|QpO,5:`OOQS'#Dx'#DxO,UQWO,5:bO,ZQ[O,5:bOOQO'#D{'#D{O,cQWO,5:eO,hQWO,5:kO,pQWO,5:mOOQS-E8R-E8RO$vQdO,59{O,xQ[O'#EYO-VQWO,5;UO-VQWO,5;UOOQP1G.l1G.lO-|QXO,5:rOOQO-E8U-E8UOOQS1G.g1G.gOOQP1G.n1G.nO)PQWO1G.nO)UQWO1G.nOOQP1G/V1G/VO.ZQ`O1G/ZO.tQXO1G/_O/[QXO1G/aO/rQXO1G/bO0YQWO,59zO0_Q[O'#DOO0fQdO'#CoOOQP1G/Z1G/ZO$vQdO1G/ZO0mQpO,59]OOQS,59_,59_O$vQdO,59aO0uQWO1G/kOOQS,59c,59cO0zQ!bO,59eO1SQWO'#DhO1_QWO,5:TO1dQWO,5:ZO&TQ[O,5:VO&TQ[O'#EZO1lQWO,5;VO1wQWO,5:XO'yQ[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2YQWO1G/|O2_QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO2mQtO1G/gOOQO,5:t,5:tO3TQ[O,5:tOOQO-E8W-E8WO3bQWO1G0pOOQP7+$Y7+$YOOQP7+$u7+$uO$vQdO7+$uOOQS1G/f1G/fO3mQXO'#EiO3tQWO,59jO3yQtO'#EUO4nQdO'#EfO4xQWO,59ZO4}QpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5VQWO1G/PO$vQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5[QWO,5:uOOQO-E8X-E8XO5jQXO1G/vOOQS7+%h7+%hO5qQYO'#CsO(hQWO'#E[O5yQdO,5:hOOQS,5:h,5:hO6XQtO'#EXO$vQdO'#EXO7VQdO7+%ROOQO7+%R7+%ROOQO1G0`1G0`O7jQpO<<HaO7rQWO,5;TOOQP1G/U1G/UOOQS-E8S-E8SO$vQdO'#EVO7zQWO,5;QOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO8SQdO7+%ZOOQO7+%b7+%bOOQS,5:v,5:vOOQS-E8Y-E8YOOQS1G0S1G0SO8ZQtO,5:sOOQS-E8V-E8VOOQO<<Hm<<HmOOQPAN={AN={O9XQdO,5:qOOQO-E8T-E8TOOQO<<Hu<<Hu",stateData:"9i~O#UOSROS~OUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SQO#XSO~OQeOUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SdO#XSO~O#P#^P~P!ZO#SiO~O]nO^nOplOtoOxpO|qO!PsO#QrO#XkO~O!RtO~P#kO`zO#RwO#SvO~O#S{O~O#S}O~OQ!WOb!QOf!WOh!WOn!VO#R!TO#S!PO#[!RO~Ob!YO!b![O!e!]O#S!XO!R#_P~Oh!bOn!VO#S!aO~O#S!dO~Ob!YO!b![O!e!]O#S!XO~O!W#_P~P%bO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#QWX#XWX~O]!iO~O!W!jO#P#^X!Q#^X~O#P#^X!Q#^X~P!ZOUXOXXO]UO^UOtVOxWO#SQO#XSO~OplO!RtO~O`!sO#RwO#SvO~O!Q#^P~P!ZOb!zO~Ob!{O~Ov!|Oz!}O~OP#PObgXjgX!WgX!bgX!egX#SgXagXQgXfgXhgXngXpgX!VgX#PgX#RgX#[gXvgX!QgX~Ob!YOj#QO!b![O!e!]O#S!XO!W#_P~Ob#TO~Ob!YO!b![O!e!]O#S#UO~Op#YO!`#XO!R#_X!W#_X~Ob#]O~Oj#QO!W#_O~O!W#`O~Oh#aOn!VO~O!R#bO~O!RtO!`#XO~O!RtO!W#eO~O!W!|X#P!|X!Q!|X~P!ZO!W!jO#P#^a!Q#^a~O]nO^nOtoOxpO|qO!PsO#QrO#XkO~Op!za!R!zaa!za~P-bOv#lOz#mO~O]nO^nOtoOxpO#XkO~Op{i|{i!P{i!R{i#Q{ia{i~P.cOp}i|}i!P}i!R}i#Q}ia}i~P.cOp!Oi|!Oi!P!Oi!R!Oi#Q!Oia!Oi~P.cO!Q#nO~Oa#]P~P'yOa#YP~P$vOa#uOj#QO~O!W#wO~Oh#xOo#xO~O]!^Xa![X!`![X~O]#yO~Oa#zO!`#XO~Op#YO!R#_a!W#_a~O!`#XOp!aa!R!aa!W!aaa!aa~O!W$PO~O!Q$TO!q$RO!r$RO#[$QO~Oj#QOp$VO!V$XO!W!Ti#P!Ti!Q!Ti~P$vO!W!|a#P!|a!Q!|a~P!ZO!W!jO#P#^i!Q#^i~Oa#]X~P#kOa$]O~Oj#QOQ!xXa!xXb!xXf!xXh!xXn!xXp!xX#R!xX#S!xX#[!xX~Op$_Oa#YX~P$vOa$aO~Oj#QOv$bO~Oa$cO~O!`#XOp!}a!R!}a!W!}a~Oa$eO~P-bOP#PO!RgX~O!Q$hO!q$RO!r$RO#[$QO~Oj#QOQ!{Xb!{Xf!{Xh!{Xn!{Xp!{X!V!{X!W!{X#P!{X#R!{X#S!{X#[!{X!Q!{X~Op$VO!V$kO!W!Tq#P!Tq!Q!Tq~P$vOj#QOv$lO~OplOa#]a~Op$_Oa#Ya~Oa$oO~P$vOj#QOQ!{ab!{af!{ah!{an!{ap!{a!V!{a!W!{a#P!{a#R!{a#S!{a#[!{a!Q!{a~Oa!yap!ya~P$vOo#[j!Pj~",goto:",`#aPPPPP#bP#k#zP#k$Z#kPP$aPPP$g$p$pP%SP$pP$p%j%|PPP&f&l#kP&rP#kP&xP#kP#k#kPPP'O'b'oPP#bPP'v'v(Q'vP'vP'v'vP#bP#bP#bP(T#bP(W(ZPP#bP#bP(^(m({)R)])c)m)sPPPPPP)y*SP*o*rP+h+k+q+z_aOPcgt!j#hkXOPcglqrst!j!z#]#hkROPcglqrst!j!z#]#hQjSR!mkQxUR!qnQ!qzQ#S!UR#k!sq!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mT$R#b$Sq!UY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mQ!b]R#a!cQyUR!rnQ!qyR#k!rQ|VR!toQ!OWR!upQuTQ!pmQ#^!_Q#d!fQ#e!gR$f$RSfPtQ!lgQ#g!jR$Y#hZePgt!j#ha!^Z_`!S!Y![#X#YR#V!YR!c]R!e^R#c!eQcOSgPtU!hcg#hR#h!jQ#r!{U$^#r$d$mQ$d#yR$m$_Q$`#rR$n$`QmTS!om$[R$[#oQ$W#fR$j$WQ!kfS#i!k#jR#j!lQ#Z!ZR#}#ZQ$S#bR$g$S_bOPcgt!j#h^TOPcgt!j#hQ!nlQ!vqQ!wrQ!xsQ#o!zR$O#]R#s!{Q!SYQ!`[Q#O!QQ#f!i[#q!{#r#y$_$d$mQ#t!}Q#v#QS$U#f$WQ$Z#mR$i$VR#p!zQhPR!ytQ!_ZQ!g`R#R!SU!ZZ`!SQ!f_Q#W!YQ#[![Q#{#XR#|#Y",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule Styles",maxTerm:108,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[cct],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Lq~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Cu![!]Dp!]!^El!^!_$}!_!`E}!`!aF`!a!b$}!b!cG[!c!}$}!}#OHt#O#P$}#P#QIV#Q#R6d#R#T$}#T#UIh#U#c$}#c#dJy#d#o$}#o#pK`#p#q6d#q#rKq#r#sLS#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`Lk<%lO$}W%QSOy%^z;'S%^;'S;=`%o<%lO%^W%cSoWOy%^z;'S%^;'S;=`%o<%lO%^W%rP;=`<%l%^~%zh#U~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#U~oWOX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^^)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^^)sUoWOy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^^*[UoWOy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^^*sUoWOy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^^+[UoWOy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^^+sUoWOy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^^,[UoWOy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^^,sUoWOy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^^-[UoWOy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^^-uS!VUoWOy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.R_/zYtPOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^^0oYoWOy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^^1dYoWOy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^^2ZYfUoWOy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^^3QYfUoWOy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^^3uYoWOy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^^4lYfUoWOy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^^5aYoWOy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^^6WSfUoWOy%^z;'S%^;'S;=`%o<%lO%^Y6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^Y7QSzQoWOy%^z;'S%^;'S;=`%o<%lO%^X7cSXPOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7o_9cSbVOy%^z;'S%^;'S;=`%o<%lO%^~9tOa~_9{UUPjSOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^_:fWjS!PPOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^^;TUoWOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^^;nYoW#[UOy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^^<cYoWOy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=WUoWOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=qUoW#[UOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^>[[oW#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^_?VSpVOy%^z;'S%^;'S;=`%o<%lO%^^?hWjSOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^_@VU#XPOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjSOy%^z{@}{;'S%^;'S;=`%o<%lO%^~ASUoWOy@}yzAfz{Bm{;'S@};'S;=`Co<%lO@}~AiTOzAfz{Ax{;'SAf;'S;=`Bg<%lOAf~A{VOzAfz{Ax{!PAf!P!QBb!Q;'SAf;'S;=`Bg<%lOAf~BgOR~~BjP;=`<%lAf~BrWoWOy@}yzAfz{Bm{!P@}!P!QC[!Q;'S@};'S;=`Co<%lO@}~CcSoWR~Oy%^z;'S%^;'S;=`%o<%lO%^~CrP;=`<%l@}^Cz[#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^XDuU]POy%^z![%^![!]EX!];'S%^;'S;=`%o<%lO%^XE`S^PoWOy%^z;'S%^;'S;=`%o<%lO%^_EqS!WVOy%^z;'S%^;'S;=`%o<%lO%^YFSSzQOy%^z;'S%^;'S;=`%o<%lO%^XFeU|POy%^z!`%^!`!aFw!a;'S%^;'S;=`%o<%lO%^XGOS|PoWOy%^z;'S%^;'S;=`%o<%lO%^XG_WOy%^z!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHO[!YPoWOy%^z}%^}!OGw!O!Q%^!Q![Gw![!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHySxPOy%^z;'S%^;'S;=`%o<%lO%^^I[SvUOy%^z;'S%^;'S;=`%o<%lO%^XIkUOy%^z#b%^#b#cI}#c;'S%^;'S;=`%o<%lO%^XJSUoWOy%^z#W%^#W#XJf#X;'S%^;'S;=`%o<%lO%^XJmS!`PoWOy%^z;'S%^;'S;=`%o<%lO%^XJ|UOy%^z#f%^#f#gJf#g;'S%^;'S;=`%o<%lO%^XKeS!RPOy%^z;'S%^;'S;=`%o<%lO%^_KvS!QVOy%^z;'S%^;'S;=`%o<%lO%^ZLXU!PPOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^WLnP;=`<%l$}",tokenizers:[act,lct,oct,0,1,2,3],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:95,get:t=>uct[t]||-1},{term:56,get:t=>hct[t]||-1},{term:96,get:t=>dct[t]||-1}],tokenPrec:1123});let ov=null;function av(){if(!ov&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));ov=e.sort().map(r=>({type:"property",label:r}))}return ov||[]}const FM=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),NM=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),pct=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),ac=/^(\w[\w-]*|-\w[\w-]*|)$/,mct=/^-(-[\w-]*)?$/;function gct(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const IM=new NW,yct=["Declaration"];function bct(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function sY(t,e){if(e.to-e.from>4096){let n=IM.get(e);if(n)return n;let r=[],i=new Set,s=e.cursor(Pn.IncludeAnonymous);if(s.firstChild())do for(let o of sY(t,s.node))i.has(o.label)||(i.add(o.label),r.push(o));while(s.nextSibling());return IM.set(e,r),r}else{let n=[],r=new Set;return e.cursor().iterate(i=>{var s;if(i.name=="VariableName"&&i.matchContext(yct)&&((s=i.node.nextSibling)===null||s===void 0?void 0:s.name)==":"){let o=t.sliceString(i.from,i.to);r.has(o)||(r.add(o),n.push({label:o,type:"variable"}))}}),n}}const Oct=t=>{let{state:e,pos:n}=t,r=$n(e).resolveInner(n,-1),i=r.type.isError&&r.from==r.to-1&&e.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(i||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:av(),validFor:ac};if(r.name=="ValueName")return{from:r.from,options:NM,validFor:ac};if(r.name=="PseudoClassName")return{from:r.from,options:FM,validFor:ac};if(r.name=="VariableName"||(t.explicit||i)&&gct(r,e.doc))return{from:r.name=="VariableName"?r.from:n,options:sY(e.doc,bct(r)),validFor:mct};if(r.name=="TagName"){for(let{parent:a}=r;a;a=a.parent)if(a.name=="Block")return{from:r.from,options:av(),validFor:ac};return{from:r.from,options:pct,validFor:ac}}if(!t.explicit)return null;let s=r.resolve(n),o=s.childBefore(n);return o&&o.name==":"&&s.name=="PseudoClassSelector"?{from:n,options:FM,validFor:ac}:o&&o.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:n,options:NM,validFor:ac}:s.name=="Block"||s.name=="Styles"?{from:n,options:av(),validFor:ac}:null},Gb=u0.define({name:"css",parser:fct.configure({props:[dm.add({Declaration:U2()}),fm.add({Block:YW})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function vct(){return new y1(Gb,Gb.data.of({autocomplete:Oct}))}const RM=301,QM=1,xct=2,zM=302,kct=304,wct=305,_ct=3,Sct=4,Cct=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],oY=125,Tct=59,VM=47,Dct=42,Ect=43,Act=45,Mct=new XX({start:!1,shift(t,e){return e==_ct||e==Sct||e==kct?t:e==wct},strict:!1}),Pct=new el((t,e)=>{let{next:n}=t;(n==oY||n==-1||e.context)&&e.canShift(zM)&&t.acceptToken(zM)},{contextual:!0,fallback:!0}),Bct=new el((t,e)=>{let{next:n}=t,r;Cct.indexOf(n)>-1||n==VM&&((r=t.peek(1))==VM||r==Dct)||n!=oY&&n!=Tct&&n!=-1&&!e.context&&e.canShift(RM)&&t.acceptToken(RM)},{contextual:!0}),$ct=new el((t,e)=>{let{next:n}=t;if((n==Ect||n==Act)&&(t.advance(),n==t.next)){t.advance();let r=!e.context&&e.canShift(QM);t.acceptToken(r?QM:xct)}},{contextual:!0}),Lct=M0({"get set async static":K.modifier,"for while do if else switch try catch finally return throw break continue default case":K.controlKeyword,"in of await yield void typeof delete instanceof":K.operatorKeyword,"let var const function class extends":K.definitionKeyword,"import export from":K.moduleKeyword,"with debugger as new":K.keyword,TemplateString:K.special(K.string),super:K.atom,BooleanLiteral:K.bool,this:K.self,null:K.null,Star:K.modifier,VariableName:K.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":K.function(K.variableName),VariableDefinition:K.definition(K.variableName),Label:K.labelName,PropertyName:K.propertyName,PrivatePropertyName:K.special(K.propertyName),"CallExpression/MemberExpression/PropertyName":K.function(K.propertyName),"FunctionDeclaration/VariableDefinition":K.function(K.definition(K.variableName)),"ClassDeclaration/VariableDefinition":K.definition(K.className),PropertyDefinition:K.definition(K.propertyName),PrivatePropertyDefinition:K.definition(K.special(K.propertyName)),UpdateOp:K.updateOperator,LineComment:K.lineComment,BlockComment:K.blockComment,Number:K.number,String:K.string,Escape:K.escape,ArithOp:K.arithmeticOperator,LogicOp:K.logicOperator,BitOp:K.bitwiseOperator,CompareOp:K.compareOperator,RegExp:K.regexp,Equals:K.definitionOperator,Arrow:K.function(K.punctuation),": Spread":K.punctuation,"( )":K.paren,"[ ]":K.squareBracket,"{ }":K.brace,"InterpolationStart InterpolationEnd":K.special(K.brace),".":K.derefOperator,", ;":K.separator,"@":K.meta,TypeName:K.typeName,TypeDefinition:K.definition(K.typeName),"type enum interface implements namespace module declare":K.definitionKeyword,"abstract global Privacy readonly override":K.modifier,"is keyof unique infer":K.operatorKeyword,JSXAttributeValue:K.attributeValue,JSXText:K.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":K.angleBracket,"JSXIdentifier JSXNameSpacedName":K.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":K.attributeName,"JSXBuiltin/JSXIdentifier":K.standard(K.tagName)}),Fct={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:219,private:219,protected:219,readonly:221,instanceof:240,satisfies:243,in:244,const:246,import:278,keyof:333,unique:337,infer:343,is:379,abstract:399,implements:401,type:403,let:406,var:408,interface:415,enum:419,namespace:425,module:427,declare:431,global:435,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},Nct={__proto__:null,async:117,get:119,set:121,public:181,private:181,protected:181,static:183,abstract:185,override:187,readonly:193,accessor:195,new:383},Ict={__proto__:null,"<":137},Rct=m0.deserialize({version:14,states:"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S",stateData:"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~",goto:"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j",nodeNames:"\u26A0 ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:362,context:Mct,nodeProps:[["group",-26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,"Expression",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,"Type",-3,84,95,101,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",142,"JSXStartTag",154,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",143,"JSXSelfCloseEndTag JSXEndTag",159,"JSXEndTag"]],propSources:[Lct],skippedNodes:[0,3,4,268],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[Bct,$ct,2,3,4,5,6,7,8,9,10,11,12,13,Pct,new Ek("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~",141,325),new Ek("j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~",25,307)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:13213,ts:13215},dynamicPrecedences:{76:1,78:1,162:1,190:1},specialized:[{term:311,get:t=>Fct[t]||-1},{term:327,get:t=>Nct[t]||-1},{term:67,get:t=>Ict[t]||-1}],tokenPrec:13238}),Qct=[Eo("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Eo("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Eo("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Eo("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Eo("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Eo(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Eo("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Eo(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Eo(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Eo('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Eo('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],WM=new NW,aY=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function sf(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const zct=["FunctionDeclaration"],Vct={FunctionDeclaration:sf("function"),ClassDeclaration:sf("class"),ClassExpression:()=>!0,EnumDeclaration:sf("constant"),TypeAliasDeclaration:sf("type"),NamespaceDeclaration:sf("namespace"),VariableDefinition(t,e){t.matchContext(zct)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function lY(t,e){let n=WM.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Pn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=Vct[o.name];if(a&&a(o,s)||aY.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of lY(t,o.node))r.push(a);return!1}}),WM.set(e,r),r}const qM=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,cY=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function Wct(t){let e=$n(t.state).resolveInner(t.pos,-1);if(cY.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&qM.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)aY.has(i.name)&&(r=r.concat(lY(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:qM}}const Il=u0.define({name:"javascript",parser:Rct.configure({props:[dm.add({IfStatement:U2({except:/^\s*({|else\b)/}),TryStatement:U2({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:xit,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:vit({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":U2({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),fm.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":YW,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),uY={test:t=>/^JSX/.test(t.name),facet:U7({commentTokens:{block:{open:"{/*",close:"*/}"}}})},hY=Il.configure({dialect:"ts"},"typescript"),dY=Il.configure({dialect:"jsx",props:[j7.add(t=>t.isTop?[uY]:void 0)]}),fY=Il.configure({dialect:"jsx ts",props:[j7.add(t=>t.isTop?[uY]:void 0)]},"typescript"),qct="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(t=>({label:t,type:"keyword"}));function Xct(t={}){let e=t.jsx?t.typescript?fY:dY:t.typescript?hY:Il;return new y1(e,[Il.data.of({autocomplete:Sot(cY,rX(Qct.concat(qct)))}),Il.data.of({autocomplete:Wct}),t.jsx?jct:[]])}function Yct(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(!t.parent)return null;t=t.parent}}function XM(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const Uct=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),jct=ot.inputHandler.of((t,e,n,r)=>{if((Uct?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Il.isActiveAt(t.state,e,-1))return!1;let{state:i}=t,s=i.changeByRange(o=>{var a,l;let{head:u}=o,h=$n(i).resolveInner(u,-1),d;if(h.name=="JSXStartTag"&&(h=h.parent),r==">"&&h.name=="JSXFragmentTag")return{range:Ee.cursor(u+1),changes:{from:u,insert:"></>"}};if(r=="/"&&h.name=="JSXFragmentTag"){let f=h.parent,p=f==null?void 0:f.parent;if(f.from==u-1&&((a=p.lastChild)===null||a===void 0?void 0:a.name)!="JSXEndTag"&&(d=XM(i.doc,p==null?void 0:p.firstChild,u))){let m=`/${d}>`;return{range:Ee.cursor(u+m.length),changes:{from:u,insert:m}}}}else if(r==">"){let f=Yct(h);if(f&&((l=f.lastChild)===null||l===void 0?void 0:l.name)!="JSXEndTag"&&i.sliceDoc(u,u+2)!="</"&&(d=XM(i.doc,f,u)))return{range:Ee.cursor(u+1),changes:{from:u,insert:`></${d}>`}}}return{range:o}});return s.changes.empty?!1:(t.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)}),of=["_blank","_self","_top","_parent"],lv=["ascii","utf-8","utf-16","latin1","latin1"],cv=["get","post","put","delete"],uv=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ks=["true","false"],dt={},Hct={a:{attrs:{href:null,ping:null,type:null,media:null,target:of,hreflang:null}},abbr:dt,address:dt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:dt,aside:dt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:dt,base:{attrs:{href:null,target:of}},bdi:dt,bdo:dt,blockquote:{attrs:{cite:null}},body:dt,br:dt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:uv,formmethod:cv,formnovalidate:["novalidate"],formtarget:of,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:dt,center:dt,cite:dt,code:dt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:dt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:dt,div:dt,dl:dt,dt,em:dt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:dt,figure:dt,footer:dt,form:{attrs:{action:null,name:null,"accept-charset":lv,autocomplete:["on","off"],enctype:uv,method:cv,novalidate:["novalidate"],target:of}},h1:dt,h2:dt,h3:dt,h4:dt,h5:dt,h6:dt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:dt,hgroup:dt,hr:dt,html:{attrs:{manifest:null}},i:dt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:uv,formmethod:cv,formnovalidate:["novalidate"],formtarget:of,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:dt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:dt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:dt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:lv,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:dt,noscript:dt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:dt,param:{attrs:{name:null,value:null}},pre:dt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:dt,rt:dt,ruby:dt,samp:dt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:lv}},section:dt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:dt,source:{attrs:{src:null,type:null,media:null}},span:dt,strong:dt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:dt,summary:dt,sup:dt,table:dt,tbody:dt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:dt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:dt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:dt,time:{attrs:{datetime:null}},title:dt,tr:dt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:dt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:dt},pY={accesskey:null,class:null,contenteditable:ks,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ks,autocorrect:ks,autocapitalize:ks,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ks,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ks,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ks,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ks,"aria-hidden":ks,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ks,"aria-multiselectable":ks,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ks,"aria-relevant":null,"aria-required":ks,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},mY="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of mY)pY[t]=null;class Kb{constructor(e,n){this.tags=Object.assign(Object.assign({},Hct),e),this.globalAttrs=Object.assign(Object.assign({},pY),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Kb.default=new Kb;function g0(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function v3(t,e=!1){for(let n=t.parent;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function gY(t,e,n){let r=n.tags[g0(t,v3(e,!0))];return(r==null?void 0:r.children)||n.allTags}function O_(t,e){let n=[];for(let r=e;r=v3(r);){let i=g0(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const yY=/^[:\-\.\w\u00b7-\uffff]*$/;function YM(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">";return{from:r,to:i,options:gY(t.doc,n,e).map(o=>({label:o,type:"type"})).concat(O_(t.doc,n).map((o,a)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-a}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function UM(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:O_(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:yY}}function Zct(t,e,n,r){let i=[],s=0;for(let o of gY(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of O_(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Gct(t,e,n,r,i){let s=v3(n),o=s?e.tags[g0(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(u=>({label:u,type:"property"})),validFor:yY}}function Kct(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),h=e.globalAttrs[u];if(!h){let d=v3(n),f=d?e.tags[g0(t.doc,d)]:null;h=(f==null?void 0:f.attrs)&&f.attrs[u]}if(h){let d=t.sliceDoc(r,i).toLowerCase(),f='"',p='"';/^['"]/.test(d)?(l=d[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",p=t.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):l=/^[^\s<>='"]*$/;for(let m of h)a.push({label:m,apply:f+m+p,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function Jct(t,e){let{state:n,pos:r}=e,i=$n(n).resolveInner(r),s=i.resolve(r,-1);for(let o=r,a;i==s&&(a=s.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;i=s=a,o=l.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?UM(n,s,s.from,r):YM(n,t,s,s.from,r):s.name=="StartTag"?YM(n,t,s,r,r):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?UM(n,s,r,r):e.explicit&&(s.name=="OpenTag"||s.name=="SelfClosingTag")||s.name=="AttributeName"?Gct(n,t,s,s.name=="AttributeName"?s.from:r,r):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?Kct(n,t,s,s.name=="Is"?r:s.from,r):e.explicit&&(i.name=="Element"||i.name=="Text"||i.name=="Document")?Zct(n,t,s,r):null}function eut(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Kb(e,n):Kb.default;return i=>Jct(r,i)}const bY=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:hY.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:dY.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:fY.parser},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Il.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Gb.parser}],OY=[{name:"style",parser:Gb.parser.configure({top:"Styles"})}].concat(mY.map(t=>({name:t,parser:Il.parser}))),Z2=u0.define({name:"html",parser:Hlt.configure({props:[dm.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),fm.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),lq.add({"OpenTag CloseTag":t=>t.getChild("TagName")})],wrap:nY(bY,OY)}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}});function tut(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=nY((t.nestedLanguages||[]).concat(bY),(t.nestedAttributes||[]).concat(OY)));let r=n||e?Z2.configure({dialect:e,wrap:n}):Z2;return new y1(r,[Z2.data.of({autocomplete:eut(t)}),t.autoCloseTags!==!1?nut:[],Xct().support,vct().support])}const jM=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),nut=ot.inputHandler.of((t,e,n,r)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Z2.isActiveAt(t.state,e,-1))return!1;let{state:i}=t,s=i.changeByRange(o=>{var a,l,u;let{head:h}=o,d=$n(i).resolveInner(h,-1),f;if((d.name=="TagName"||d.name=="StartTag")&&(d=d.parent),r==">"&&d.name=="OpenTag"){if(((l=(a=d.parent)===null||a===void 0?void 0:a.lastChild)===null||l===void 0?void 0:l.name)!="CloseTag"&&(f=g0(i.doc,d.parent,h))&&!jM.has(f)){let p=t.state.doc.sliceString(h,h+1)===">",m=`${p?"":">"}</${f}>`;return{range:Ee.cursor(h+1),changes:{from:h+(p?1:0),insert:m}}}}else if(r=="/"&&d.name=="OpenTag"){let p=d.parent,m=p==null?void 0:p.parent;if(p.from==h-1&&((u=m.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(f=g0(i.doc,m,h))&&!jM.has(f)){let g=t.state.doc.sliceString(h,h+1)===">",y=`/${f}${g?"":">"}`,b=h+y.length+(g?1:0);return{range:Ee.cursor(b),changes:{from:h,insert:y}}}}return{range:o}});return s.changes.empty?!1:(t.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)}),vY=U7({block:{open:"<!--",close:"-->"}}),xY=new Ft,kY=Uat.configure({props:[fm.add(t=>!t.is("Block")||t.is("Document")||Pk(t)!=null?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),xY.add(Pk),dm.add({Document:()=>null}),Xu.add({Document:vY})]});function Pk(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function rut(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=Pk(r.type))!=null&&i<=e)break;n=r}return n.to}const iut=XW.of((t,e,n)=>{for(let r=$n(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(xY);if(i==null)continue;let s=rut(r,i);if(s>n)return{from:n,to:s}}return null});function v_(t){return new ho(vY,t,[iut],"markdown")}const sut=v_(kY),out=kY.configure([tlt,rlt,nlt,ilt]),wY=v_(out);function aut(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=Pb.matchLanguageName(t,n,!0),r instanceof Pb)return r.support?r.support.language.parser:g1.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class Mg{constructor(e,n,r,i,s,o,a){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+SY(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function _Y(t,e){let n=[];for(let i=t;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&n.push(i);let r=[];for(let i=n.length-1;i>=0;i--){let s=n[i],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="FencedCode")r.push(new Mg(s,l,l,"","","",null));else if(s.name=="Blockquote"&&(o=/^[ \t]*>( ?)/.exec(a.text.slice(l))))r.push(new Mg(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^([ \t]*)\d+([.)])([ \t]*)/.exec(a.text.slice(l)))){let u=o[3],h=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),h-=4),r.push(new Mg(s.parent,l,l+h,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^([ \t]*)([-+*])([ \t]{1,4}\[[ xX]\])?([ \t]+)/.exec(a.text.slice(l)))){let u=o[4],h=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),h-=4);let d=o[2];o[3]&&(d+=o[3].replace(/[xX]/," ")),r.push(new Mg(s.parent,l,l+h,o[1],u,d,s))}}return r}function SY(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function hv(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let a=SY(s,e),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(i+2+r)})}i=l}let o=s.nextSibling;if(!o)break;s=o}}const lut=({state:t,dispatch:e})=>{let n=$n(t),{doc:r}=t,i=null,s=t.changeByRange(o=>{if(!o.empty||!wY.isActiveAt(t,o.from))return i={range:o};let a=o.from,l=r.lineAt(a),u=_Y(n.resolveInner(a,-1),r);for(;u.length&&u[u.length-1].from>a-l.from;)u.pop();if(!u.length)return i={range:o};let h=u[u.length-1];if(h.to-h.spaceAfter.length>a-l.from)return i={range:o};let d=a>=h.to-h.spaceAfter.length&&!/\S/.test(l.text.slice(h.to));if(h.item&&d)if(h.node.firstChild.to>=a||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let y=u.length>1?u[u.length-2]:null,b,O="";y&&y.item?(b=l.from+y.from,O=y.marker(r,1)):b=l.from+(y?y.to:0);let w=[{from:b,to:a,insert:O}];return h.node.name=="OrderedList"&&hv(h.item,r,w,-2),y&&y.node.name=="OrderedList"&&hv(y.item,r,w),{range:Ee.cursor(b+O.length),changes:w}}else{let y="";for(let b=0,O=u.length-2;b<=O;b++)y+=u[b].blank(b<O?u[b+1].from-y.length:null,b<O);return y+=t.lineBreak,{range:Ee.cursor(a+y.length),changes:{from:l.from,insert:y}}}if(h.node.name=="Blockquote"&&d&&l.from){let y=r.lineAt(l.from-1),b=/>\s*$/.exec(y.text);if(b&&b.index==h.from){let O=t.changes([{from:y.from+b.index,to:y.to},{from:l.from+h.from,to:l.to}]);return{range:o.map(O),changes:O}}}let f=[];h.node.name=="OrderedList"&&hv(h.item,r,f);let p=h.item&&h.item.from<l.from,m="";if(!p||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=h.to)for(let y=0,b=u.length-1;y<=b;y++)m+=y==b&&!p?u[y].marker(r,1):u[y].blank(y<b?u[y+1].from-m.length:null);let g=a;for(;g>l.from&&/\s/.test(l.text.charAt(g-l.from-1));)g--;return m=t.lineBreak+m,f.push({from:g,to:a,insert:m}),{range:Ee.cursor(g+m.length),changes:f}});return i?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function HM(t){return t.name=="QuoteMark"||t.name=="ListMark"}function cut(t,e){let n=t.resolveInner(e,-1),r=e;HM(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(HM(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const uut=({state:t,dispatch:e})=>{let n=$n(t),r=null,i=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&wY.isActiveAt(t,s.from)){let l=a.lineAt(o),u=_Y(cut(n,o),a);if(u.length){let h=u[u.length-1],d=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(o-l.from>d&&!/\S/.test(l.text.slice(d,o-l.from)))return{range:Ee.cursor(l.from+d),changes:{from:l.from+d,to:o}};if(o-l.from==d){let f=l.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(l.text.slice(h.from,h.to)))return{range:s,changes:{from:f,to:l.from+h.to,insert:h.blank(h.to-h.from)}};if(f<o)return{range:Ee.cursor(f),changes:{from:f,to:o}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},hut=[{key:"Enter",run:lut},{key:"Backspace",run:uut}],ZM=tut({matchClosingTags:!1});function dut(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=sut}=t;if(!(i instanceof O3))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=t.extensions?[t.extensions]:[],o=[ZM.support],a;n instanceof y1?(o.push(n.support),a=n.language):n&&(a=n);let l=e||a?aut(e,a):void 0;return s.push(Hat({codeParser:l,htmlParser:ZM.language.parser})),r&&o.push(fu.high(Ph.of(hut))),new y1(v_(i.configure(s)),o)}const GM={__name:"CodeMirror",props:{id:Number,cmtype:String},setup(t){const e=t,n=yt(!1),r=yt(""),i=Fk(),s=yt(),o=yt();yt(!1);const a=yt();a.value=e.id;const l=yt();l.value=e.cmtype,i.getters.getProjectId;const u=m=>{s.value=m.view,m.view.contentDOM.addEventListener("drop",function(g){g.preventDefault()},!0),m.view.contentDOM.addEventListener("dragover",function(g){g.preventDefault()},!0)},h=m=>{if(m.preventDefault(),m.clipboardData.files.length!=0)for(let g=0;g<m.clipboardData.files.length;g++){const y=m.clipboardData.files[g];if(l.value=="note"){let b=new FormData;b.append("id",a.value),b.append("file",y),n.value=!0,mr.post("/api/note/assert",b).then(O=>{if(O.data.docType=="file"){const w="["+y.name+"]("+O.data.uri+`)
`;s.value.dispatch({changes:{from:o.value.from,to:o.value.to,insert:w},selection:{anchor:o.value.from+w.length},scrollIntoView:!0})}else if(O.data.docType=="image"){const w="!["+y.name+"]("+O.data.uri+`)
`;s.value.dispatch({changes:{from:o.value.from,to:o.value.to,insert:w},selection:{anchor:o.value.from+w.length},scrollIntoView:!0})}n.value=!1}).catch(O=>{n.value=!1,Nn.error({message:O.response.data,duration:2e3,showClose:!0})})}}},d=m=>{if(m.preventDefault(),m.dataTransfer.files.length!=0)for(let g=0;g<m.dataTransfer.files.length;g++){const y=m.dataTransfer.files[g];if(l.value=="note"){let b=new FormData;b.append("id",a.value),b.append("file",y),n.value=!0,mr.post("/api/note/assert",b).then(O=>{if(O.data.docType=="file"){const w="["+y.name+"]("+O.data.uri+`)
`;s.value.dispatch({changes:{from:o.value.from,to:o.value.to,insert:w},selection:{anchor:o.value.from+w.length},scrollIntoView:!0})}else if(O.data.docType=="image"){const w="!["+y.name+"]("+O.data.uri+`)
`;s.value.dispatch({changes:{from:o.value.from,to:o.value.to,insert:w},selection:{anchor:o.value.from+w.length},scrollIntoView:!0})}n.value=!1}).catch(O=>{n.value=!1,Nn.error({message:O.response.data,duration:2e3,showClose:!0})})}}},f=m=>{s.value=m.view,o.value=m.state.selection.ranges[0]},p=[dut(),BW(),wW(),dq(),eq(),bW(),kW(),en.allowMultipleSelections.of(!0),qW(),nq(rq,{fallback:!0}),aq(),dX(),yX(),SW(),CW(),_W(),Zq(),Ph.of([...mX,...qq,...tX,...gq,...GW,...h_,...vX])];return(m,g)=>{const y=Nk("loading");return Nf((nn(),Xr(yv(Bat),{modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=b=>r.value=b),autofocus:!0,"indent-with-tab":!0,"tab-size":4,style:fU({overflow:"auto",minHeight:"600px",height:"calc(83.7vh)"}),extensions:p,onReady:u,onUpdate:f,onDrop:d,onPaste:h,"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"\u6570\u636E\u52A0\u8F7D\u4E2D..."},null,8,["modelValue","style"])),[[y,n.value]])}}};const fut=["onKeydown"],put={key:0,class:"markdown"},mut={__name:"markdown",props:{content:String,pattern:Number,codeType:String,id:Number},emits:["update:content","update:ctState","update:ctrlSave","update:outline"],setup(t,{emit:e}){const n=t,r=yt("");r.value=n.content;const i=yt(0);i.value=n.pattern;const s=yt("");s.value=n.codeType;const o=yt(0);o.value=n.id;const a=yt(!1),l=yt(!1),u=yt(!0),h=yt(!0),d=yt(0),f=yt(0),p=D=>{D.key=="s"&&(D.preventDefault(),e("update:ctrlSave",!0))},m=D=>{e("update:outline",D)};Gs(r,(D,C)=>{a.value==!1?a.value=!0:e("update:ctState",!0),e("update:content",D)}),Gs(n,(D,C)=>{D.content!=r.value&&(r.value=D.content,a.value=!1,e("update:ctState",!1)),D.pattern!=i.value&&(i.value=D.pattern,i.value==1?b():i.value==2?y():i.value==3?O():i.value==4&&w()),D.codeType!=s.value&&(s.value=D.codeType),D.id!=o.value&&(o.value=D.id)}),Gs(f,(D,C)=>{l.value==!0&&u.value==!0&&h.value==!1&&D<800&&w()});const g=D=>{r.value=D},y=()=>{u.value=!0,l.value=!1,h.value=!1},b=()=>{u.value=!1,l.value=!1,h.value=!1},O=()=>{l.value=!0,u.value=!0,h.value=!1,f.value=document.getElementById("split").clientWidth,l.value==!0&&u.value==!0&&h.value==!1&&f.value<800&&w(),d.value=f.value/2},w=()=>{h.value=!0,l.value=!0};return(D,C)=>(nn(),Yr("div",{id:"split",onKeydown:pU(p,["ctrl"])},[l.value==!1?(nn(),Yr("div",put,[Et(kE,{class:cf([s.value==="stage"?"markdown-md-max":"",s.value==="doc"?"markdown-md-max-doc":"",u.value===!0?"md-preview":"md-unpreview"]),md:r.value,"onUpdate:md":g,preview:u.value,codeType:s.value,id:o.value,pattern:i.value,"onUpdate:outline":m},null,8,["class","md","preview","codeType","id","pattern"])])):h.value?(nn(),Yr("div",{key:1,class:cf([s.value==="stage"?"markdown-cm":"",s.value==="doc"?"markdown-cm-doc":""])},[Et(GM,{modelValue:r.value,"onUpdate:modelValue":C[0]||(C[0]=T=>r.value=T),id:o.value,cmtype:s.value},null,8,["modelValue","id","cmtype"])],2)):(nn(),Xr(yU,{key:2,min:d.value,max:d.value*2-300,style:{height:"100%"}},{left:$t(()=>[Et(GM,{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=T=>r.value=T),id:o.value,cmtype:s.value,style:{"min-height":"805px"}},null,8,["modelValue","id","cmtype"])]),right:$t(()=>[l.value?(nn(),Yr("div",{key:0,class:cf([s.value==="stage"?"markdown-cm":"",s.value==="doc"?"markdown-cm-doc-sp":""])},[Et(kE,{class:cf([[s.value==="stage"?"markdown-md":"",s.value==="doc"?"markdown-md-doc-sp":""],"md"]),md:r.value,pattern:i.value,"onUpdate:md":g,preview:u.value,codeType:s.value,id:o.value},null,8,["class","md","pattern","preview","codeType","id"])],2)):pi("",!0)]),_:1},8,["min","max"]))],40,fut))}},gut=nP(mut,[["__scopeId","data-v-b568d3d9"]]);const yut={"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"\u6570\u636E\u52A0\u8F7D\u4E2D..."},but={class:"md-body"},Out={key:0},vut={key:1},xut={key:3,style:{display:"flex"}},kut={class:"md-update-time",style:{color:"#909399"}},wut={key:4,style:{"padding-left":"15px",color:"#909399"}},_ut={key:5,class:"md-update-time"},Sut={key:9,class:"md-btn-group"},Cut={class:"md-btn"},Tut={class:"md-btn"},Dut={key:10,class:"md-btn-group"},Eut={class:"md-btn"},Aut={"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"\u6570\u636E\u52A0\u8F7D\u4E2D..."},Mut={style:{height:"45px",display:"flex"}},Put={style:{"margin-top":"5px"}},But={"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"\u6570\u636E\u52A0\u8F7D\u4E2D..."},$ut={style:{height:"45px",display:"flex"}},Lut={style:{"margin-top":"5px"}},Fut={class:"dialog-footer"},Nut={class:"dialog-footer"},Iut={__name:"MarkdownFile",emits:["update:change","update:editing","update:outline"],setup(t,{emit:e}){yt("");const n=yt({}),r=Fk();r.getters.getProjectId;const i=yt(""),s=gU(),o=yt(!1),a=yt(!1);r.getters.getRole;const l=yt(!1),u=yt(!1),h=yt(!1),d=yt(!1),f=yt("user"),p=yt(0);p.value=Number(s.params.id);const m=yt(""),g=["\u7B14\u8BB0\u62E5\u6709\u8005","\u53EF\u67E5\u770B","\u53EF\u7F16\u8F91"],y=yt({type:"user",userId:"",groupId:"",role:1}),b=[{id:1,type:"\u53EF\u67E5\u770B"},{id:2,type:"\u53EF\u7F16\u8F91"}],O=[{name:"\u7528\u6237",value:"user"},{name:"\u7528\u6237\u7EC4",value:"group"}],w=yt([]);let D="",C="";const T=ge=>{if(!ge){w.value=[];return}C=ge,D===""&&(D=ge,a.value=!0,mr.get("/api/user/nameList?keyword="+ge).then(Y=>{w.value=Y.data}).then(()=>{if(D===C)return;let Y=C;D="",C="",T(Y)}).finally(()=>{a.value=!1,D="",C=""}))},E=yt([]),P=ge=>{if(!ge){E.value=[];return}C=ge,D===""&&(D=ge,a.value=!0,mr.get("/api/userGroup/list?role=0&keyword="+ge).then(Y=>{E.value=Y.data}).then(()=>{if(D===C)return;let Y=C;D="",C="",T(Y)}).finally(()=>{a.value=!1,D="",C=""}))},M=()=>{let ge={};y.value.type=="user"?ge.id=y.value.userId:y.value.type=="group"&&(ge.id=y.value.groupId),ge.noteId=p.value,ge.shareType=y.value.type,ge.role=y.value.role,mr.post("/api/noteMember/share",ge).then(()=>{h.value=!1,y.value.type="user",y.value.userId="",y.value.groupId="",y.value.role=1,Nn.success({message:"\u5206\u4EAB\u6210\u529F",duration:1e3,showClose:!0})}).catch(Y=>{Nn.error({message:Y.response.data,duration:1e3,showClose:!0})})},$=(ge,Y)=>{Om.confirm(es("p",null,[es("span",null,"\u786E\u8BA4\u53D6\u6D88\u5BF9"),es("i",{style:"color: red"},ge.row.name),es("span",null,"\u7684\u5206\u4EAB")]),"\u53D6\u6D88\u5206\u4EAB",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",confirmButtonClass:"el-button--danger",type:"warning"}).then(()=>{let $e={id:ge.row.id,noteId:p.value,shareType:Y};mr.post("/api/noteMember/cancel",$e).then(Se=>{Nn.success({message:"\u53D6\u6D88\u5206\u4EAB\u6210\u529F",duration:2e3,showClose:!0}),L()}).catch(Se=>{Nn.error({message:Se.response.data,duration:2e3,showClose:!0})})}).catch(()=>{})},A=yt([]),_=yt([]),L=()=>{p.value!==0&&(mr.get("/api/noteMember/allUser?id="+p.value).then(({data:ge})=>{A.value=ge}).catch(ge=>{Nn.error({message:ge.response.data,duration:1e3,showClose:!0})}),mr.get("/api/noteMember/allGroup?id="+p.value).then(({data:ge})=>{_.value=ge}).catch(ge=>{Nn.error({message:ge.response.data,duration:1e3,showClose:!0})}))},v=yt(!1),q=yt(0),x=yt("note"),X=yt(!1),de=yt(!1),H=yt(),G=ge=>{H.value=ge,e("update:outline",ge)},F=()=>{p.value!==0&&(o.value=!0,mr.get("/api/note/info?id="+p.value).then(ge=>{n.value=ge.data,mr.get("/api/note/content?id="+n.value.id).then(Y=>{i.value=Y.data,o.value=!1}).catch(Y=>{o.value=!1,Nn.error({message:Y.response.data,duration:1e3,showClose:!0})})}).catch(ge=>{o.value=!1,Nn.error({message:ge.response.data,duration:1e3,showClose:!0})}))};F();const B=()=>{var ge={};ge.userId=Number(r.getters.getUserInfo.id),ge.id=s.params.id,mr.post("/api/note/lock",ge).then(Y=>{v.value=!0,q.value=1,e("update:editing",!0)}).catch(Y=>{Om.alert(Y.response.data,"\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",type:"error"})})},ae=()=>{q.value=1},be=()=>{q.value=2},ye=()=>{q.value=3},Z=()=>{q.value=4},Qe=ge=>{i.value=ge},ne=ge=>{X.value=ge},se=()=>{X.value=!0};mU((ge,Y)=>{if(X.value==!0){let $e=new FormData;$e.append("id",Y.params.id),$e.append("content",i.value),$e.append("autoSave","true"),$e.append("title",n.value.title),$e.append("remark",n.value.remark),mr.post("/api/note/content",$e).then(Se=>{Nn.info({message:"\u4FEE\u6539\u6210\u529F",duration:1e3,showClose:!0}),p.value=Number(ge.params.id),q.value=2,v.value=!1,u.value=!1,F()}).catch(Se=>{Nn.error({message:Se.response.data,duration:1e3,showClose:!0})}),X.value=!1}else p.value=Number(ge.params.id),q.value=2,v.value=!1,u.value=!1,F();e("update:editing",!1)});const ee=()=>{Om.confirm(es("p",null,[es("span",null,"\u786E\u8BA4\u5220\u9664"),es("i",{style:"color: red"},n.value.title),es("span",null,"\u7B14\u8BB0\u5417\uFF1F\u5220\u9664\u540E\u7684\u6587\u4EF6\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u53EF\u5728\u56DE\u6536\u7AD9\u5185\u627E\u5230\u3002")]),"\u5220\u9664",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",confirmButtonClass:"el-button--danger",type:"warning"}).then(()=>{o.value=!0,mr.delete("/api/note/delete?id="+n.value.id).then(ge=>{Nn.success({message:"\u5220\u9664\u6210\u529F",duration:2e3,showClose:!0}),e("update:change",!0),F(),o.value=!1}).catch(ge=>{Nn.error({message:ge.response.data,duration:2e3,showClose:!0}),o.value=!1})}).catch(()=>{})},J=()=>{Om.confirm(es("p",null,[es("span",null,"\u786E\u8BA4\u6062\u590D"),es("i",{style:"color: red"},n.value.title),es("span",null,"\u7B14\u8BB0\u5417\uFF1F")]),"\u6062\u590D",{confirmButtonText:"\u6062\u590D",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{o.value=!0,mr.get("/api/note/restore?id="+n.value.id).then(ge=>{Nn.success({message:"\u6062\u590D\u6210\u529F",duration:2e3,showClose:!0}),e("update:change",!0),F(),o.value=!1}).catch(ge=>{Nn.error({message:ge.response.data,duration:2e3,showClose:!0}),o.value=!1})}).catch(()=>{})},z=()=>{l.value=!0,window.location.href="/api/note/export?id="+n.value.id,setTimeout(()=>{l.value=!1},3*1e3)},W=()=>{let ge=new FormData;ge.append("id",p.value),ge.append("content",i.value),ge.append("autoSave","false"),ge.append("title",n.value.title),ge.append("remark",n.value.remark),de.value=!0,mr.post("/api/note/content",ge).then(Y=>{Nn.success({message:"\u4FEE\u6539\u6210\u529F",duration:2e3,showClose:!0}),te(),de.value=!1,q.value=2,X.value=!1,u.value=!1,e("update:change",!0),mr.get("/api/note/info?id="+p.value).then($e=>{n.value=$e.data}).catch($e=>{Nn.error({message:$e.response.data,duration:1e3,showClose:!0})})}).catch(Y=>{Nn.error({message:Y.response.data,duration:1e3,showClose:!0})}),e("update:editing",!1)},te=()=>{v.value=!1},Q=setInterval(()=>{X.value==!0&&me()},5*60*1e3),me=()=>{X.value==!0&&setTimeout(()=>{de.value=!0;let ge=new FormData;ge.append("id",p.value),ge.append("content",i.value),ge.append("autoSave","true"),ge.append("title",n.value.title),ge.append("remark",n.value.remark),mr.post("/api/note/content",ge).then(Y=>{Nn.info({message:"\u4FEE\u6539\u6210\u529F",duration:1e3,showClose:!0}),de.value=!1}).catch(Y=>{Nn.error({message:Y.response.data,duration:1e3,showClose:!0}),de.value=!1}),X.value=!1},300)},I=()=>{if(n.value.role==1)u.value=!1,n.value.remark=m.value;else{var ge={};ge.userId=Number(r.getters.getUserInfo.id),ge.id=s.params.id,o.value=!0,q.value=2,v.value=!1,X.value=!1,mr.post("/api/note/cancel",ge).then(Y=>{i.value=Y.data,mr.get("/api/note/info?id="+p.value).then($e=>{n.value=$e.data,o.value=!1}).catch($e=>{o.value=!1,Nn.error({message:$e.response.data,duration:1e3,showClose:!0})})}).catch(Y=>{o.value=!1,Nn.error({message:Y.response.data,duration:1e3,showClose:!0})}),e("update:editing",!1)}};return e4(()=>{me(),Q&&clearInterval(Q),e("update:editing",!1)}),(ge,Y)=>{const $e=Us("el-input"),Se=Us("el-button"),De=Us("el-button-group"),_e=Us("el-option"),Te=Us("el-select"),ke=Us("el-form-item"),Me=Us("el-form"),pe=Us("el-dialog"),Ce=Us("el-table-column"),Be=Us("el-table"),qe=Us("el-tab-pane"),Je=Us("el-tabs"),Nt=Nk("loading");return Nf((nn(),Yr("div",yut,[Ys("div",but,[v.value==!1&&n.value.remark==""&&u.value==!1?(nn(),Yr("h2",Out,nc(n.value.title),1)):v.value==!1&&n.value.remark!==""&&u.value==!1?(nn(),Yr("h2",vut,nc(n.value.remark),1)):v.value==!0&&n.value.role==0?(nn(),Xr($e,{key:2,modelValue:n.value.title,"onUpdate:modelValue":Y[0]||(Y[0]=Ne=>n.value.title=Ne),class:"md-input",onChange:se},null,8,["modelValue"])):v.value==!0&&n.value.role!==0||u.value==!0?(nn(),Yr("div",xut,[Et($e,{modelValue:n.value.remark,"onUpdate:modelValue":Y[1]||(Y[1]=Ne=>n.value.remark=Ne),class:"md-input",onChange:se},null,8,["modelValue"]),Ys("div",kut,nc(n.value.title),1)])):pi("",!0),v.value==!1?(nn(),Yr("h4",wut,nc(n.value.userName),1)):pi("",!0),p.value!==0?(nn(),Yr("div",_ut," \u66F4\u65B0\u65F6\u95F4\uFF1A"+nc(n.value.updatedAt),1)):pi("",!0),(n.value.role==0||n.value.role==2)&&v.value==!1&&n.value.isDelete==0?(nn(),Xr(Se,{key:6,type:"success",style:{"margin-top":"16px","margin-left":"5px"},onClick:z,disabled:l.value},{default:$t(()=>[fr("\u5BFC\u51FA")]),_:1},8,["disabled"])):pi("",!0),n.value.role==0&&v.value==!1&&n.value.isDelete==0?(nn(),Xr(Se,{key:7,type:"primary",style:{"margin-top":"16px","margin-left":"5px"},onClick:Y[2]||(Y[2]=Ne=>h.value=!0)},{default:$t(()=>[fr("\u5206\u4EAB")]),_:1})):pi("",!0),n.value.role==0&&v.value==!1&&n.value.isDelete==0?(nn(),Xr(Se,{key:8,type:"warning",style:{"margin-top":"16px","margin-left":"5px"},onClick:Y[3]||(Y[3]=Ne=>{d.value=!0,L()})},{default:$t(()=>[fr("\u5DF2\u5206\u4EAB")]),_:1})):pi("",!0),v.value==!1?(nn(),Yr("div",Sut,[Ys("div",Cut,[(n.value.role==0||n.value.role==2)&&n.value.isDelete==0?(nn(),Xr(Se,{key:0,type:"primary",style:{"margin-top":"5px"},onClick:B},{default:$t(()=>[fr("\u7F16\u8F91")]),_:1})):pi("",!0),n.value.role==0&&n.value.isDelete==0?(nn(),Xr(Se,{key:1,type:"danger",style:{"margin-top":"5px"},onClick:ee},{default:$t(()=>[fr("\u522A\u9664")]),_:1})):pi("",!0),n.value.role==0&&n.value.isDelete==1?(nn(),Xr(Se,{key:2,type:"warning",style:{"margin-top":"5px"},onClick:J},{default:$t(()=>[fr("\u6062\u590D")]),_:1})):pi("",!0)]),Ys("div",Tut,[n.value.role==1&&u.value==!1?(nn(),Xr(Se,{key:0,type:"primary",style:{"margin-top":"5px"},onClick:Y[4]||(Y[4]=Ne=>{u.value=!0,m.value=n.value.remark})},{default:$t(()=>[fr("\u4FEE\u6539\u5907\u6CE8")]),_:1})):pi("",!0),u.value==!0?(nn(),Xr(Se,{key:1,style:{"margin-top":"5px"},disabled:de.value,onClick:I},{default:$t(()=>[fr("\u53D6\u6D88")]),_:1},8,["disabled"])):pi("",!0),u.value==!0?(nn(),Xr(Se,{key:2,onClick:W,type:"warning",style:{"margin-top":"5px"},disabled:de.value},{default:$t(()=>[fr("\u4FDD\u5B58")]),_:1},8,["disabled"])):pi("",!0)])])):(nn(),Yr("div",Dut,[Et(De,{class:"md-group"},{default:$t(()=>[Et(Se,{type:"primary",onClick:ae},{default:$t(()=>[fr("\u7F16\u8F91\u6A21\u5F0F")]),_:1}),Et(Se,{type:"primary",onClick:be},{default:$t(()=>[fr("\u9884\u89C8\u6A21\u5F0F")]),_:1}),Et(Se,{type:"primary",onClick:ye},{default:$t(()=>[fr("\u6DF7\u5408\u6A21\u5F0F")]),_:1}),Et(Se,{type:"primary",onClick:Z},{default:$t(()=>[fr("\u4EE3\u7801\u6A21\u5F0F")]),_:1})]),_:1}),Ys("div",Eut,[Et(Se,{disabled:de.value,onClick:I},{default:$t(()=>[fr("\u53D6\u6D88")]),_:1},8,["disabled"]),Et(Se,{onClick:W,type:"warning",disabled:de.value},{default:$t(()=>[fr("\u4FDD\u5B58")]),_:1},8,["disabled"])])]))]),Et(gut,{content:i.value,pattern:q.value,codeType:x.value,id:p.value,"onUpdate:content":Qe,"onUpdate:ctState":ne,"onUpdate:ctrlSave":me,"onUpdate:outline":G,class:cf([q.value===2&&v.value===!0?"md-pattern":""])},null,8,["content","pattern","codeType","id","class"]),Et(pe,{modelValue:h.value,"onUpdate:modelValue":Y[11]||(Y[11]=Ne=>h.value=Ne),"close-on-click-modal":!1,"show-close":!1,title:"\u5206\u4EAB",width:"30%"},{footer:$t(()=>[Ys("span",Fut,[Et(Se,{onClick:Y[10]||(Y[10]=Ne=>(h.value=!1,y.value.type="user",y.value.userId="",y.value.groupId="",y.value.role=1))},{default:$t(()=>[fr(" \u53D6\u6D88 ")]),_:1}),Et(Se,{type:"primary",onClick:M},{default:$t(()=>[fr("\u63D0\u4EA4")]),_:1})])]),default:$t(()=>[Et(Me,{model:y.value,"label-width":"120px"},{default:$t(()=>[Et(ke,{label:"\u7C7B\u578B",prop:"type",style:{width:"80%"}},{default:$t(()=>[Et(Te,{modelValue:y.value.type,"onUpdate:modelValue":Y[5]||(Y[5]=Ne=>y.value.type=Ne),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",onChange:Y[6]||(Y[6]=Ne=>(y.value.userId="",y.value.groupId=""))},{default:$t(()=>[(nn(),Yr(vm,null,xm(O,Ne=>Et(_e,{key:Ne.name,label:Ne.name,value:Ne.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),y.value.type=="user"?(nn(),Xr(ke,{key:0,label:"\u6743\u9650",prop:"role",style:{width:"80%"}},{default:$t(()=>[Et(Te,{modelValue:y.value.role,"onUpdate:modelValue":Y[7]||(Y[7]=Ne=>y.value.role=Ne),placeholder:""},{default:$t(()=>[(nn(),Yr(vm,null,xm(b,Ne=>Et(_e,{key:Ne.type,label:Ne.type,value:Ne.id},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):pi("",!0),y.value.type=="user"?(nn(),Xr(ke,{key:1,label:"\u7528\u6237",prop:"userId",style:{width:"80%"}},{default:$t(()=>[Et(Te,{modelValue:y.value.userId,"onUpdate:modelValue":Y[8]||(Y[8]=Ne=>y.value.userId=Ne),loading:a.value,filterable:"",remote:"","reserve-keyword":!1,"default-first-option":"","remote-show-suffix":"","remote-method":T,placeholder:" ","value-key":"name"},{default:$t(()=>[Nf((nn(),Yr("div",Aut,[(nn(!0),Yr(vm,null,xm(w.value,Ne=>(nn(),Xr(_e,{style:{height:"45px"},key:Ne.id,value:Ne.id,label:Ne.name},{default:$t(()=>[Ys("div",Mut,[Ys("div",Put,nc(Ne.name),1)])]),_:2},1032,["value","label"]))),128))])),[[Nt,o.value]])]),_:1},8,["modelValue","loading"])]),_:1})):pi("",!0),y.value.type=="group"?(nn(),Xr(ke,{key:2,label:"\u7528\u6237\u7EC4",prop:"groupId",style:{width:"80%"}},{default:$t(()=>[Et(Te,{modelValue:y.value.groupId,"onUpdate:modelValue":Y[9]||(Y[9]=Ne=>y.value.groupId=Ne),loading:a.value,filterable:"",remote:"","reserve-keyword":!1,"default-first-option":"","remote-show-suffix":"","remote-method":P,placeholder:" ","value-key":"name"},{default:$t(()=>[Nf((nn(),Yr("div",But,[(nn(!0),Yr(vm,null,xm(E.value,Ne=>(nn(),Xr(_e,{style:{height:"45px"},key:Ne.belong,value:Ne.belong,label:Ne.name},{default:$t(()=>[Ys("div",$ut,[Ys("div",Lut,nc(Ne.name),1)])]),_:2},1032,["value","label"]))),128))])),[[Nt,o.value]])]),_:1},8,["modelValue","loading"])]),_:1})):pi("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"]),Et(pe,{modelValue:d.value,"onUpdate:modelValue":Y[14]||(Y[14]=Ne=>d.value=Ne),"close-on-click-modal":!1,"show-close":!1,title:"\u5DF2\u5206\u4EAB",width:"30%"},{footer:$t(()=>[Ys("span",Nut,[Et(Se,{onClick:Y[13]||(Y[13]=Ne=>{d.value=!1,f.value="user"})},{default:$t(()=>[fr(" \u786E\u5B9A ")]),_:1})])]),default:$t(()=>[Et(Je,{modelValue:f.value,"onUpdate:modelValue":Y[12]||(Y[12]=Ne=>f.value=Ne),class:"demo-tabs"},{default:$t(()=>[Et(qe,{label:"\u7528\u6237",name:"user"},{default:$t(()=>[Et(Be,{data:A.value,style:{width:"100%"}},{default:$t(()=>[Et(Ce,{prop:"name",label:"\u540D\u79F0"}),Et(Ce,{prop:"role",label:"\u6743\u9650"},{default:$t(Ne=>[Ys("div",null,nc(g[Ne.row.role]),1)]),_:1}),Et(Ce,{prop:"id",label:"\u64CD\u4F5C"},{default:$t(Ne=>[Et(Se,{type:"danger",onClick:rt=>$(Ne,"user")},{default:$t(()=>[fr("\u53D6\u6D88\u5206\u4EAB")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),Et(qe,{label:"\u7528\u6237\u7EC4",name:"group"},{default:$t(()=>[Et(Be,{data:_.value,style:{width:"100%"}},{default:$t(()=>[Et(Ce,{prop:"name",label:"\u540D\u79F0"}),Et(Ce,{prop:"id",label:"\u64CD\u4F5C"},{default:$t(Ne=>[Et(Se,{type:"danger",onClick:rt=>$(Ne,"group")},{default:$t(()=>[fr("\u53D6\u6D88\u5206\u4EAB")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])),[[Nt,o.value]])}}},Rut=nP(Iut,[["__scopeId","data-v-90ee2343"]]),Hut=Object.freeze(Object.defineProperty({__proto__:null,default:Rut},Symbol.toStringTag,{value:"Module"}));export{Ul as C,Hut as M,qt as _,j4 as a,nu as b,F8 as c,Uut as d,Hr as e,Pt as f,ie as g,Oje as h,RUe as i,Yo as j,$s as k,V as l,Aje as m,T0 as n,OXe as o,GD as p,sR as q,Qs as r,Le as s,vt as t,Lt as u,Ix as v,ko as w};
