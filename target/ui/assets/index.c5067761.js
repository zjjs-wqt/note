const a={getUserAgent:function(){return window.navigator.userAgent},userAgentContains:function(e){return e=e.toLowerCase(),this.getUserAgent().toLowerCase().indexOf(e)>-1},isOSX:function(){return this.userAgentContains("Macintosh")},isFirefox:function(){return this.userAgentContains("firefox")},isInternetExplorer:function(){return this.userAgentContains("trident")},isIE:function(){var e=this.getUserAgent().toLowerCase(),t=e.indexOf("msie");if(t>0)return!0;var n=e.indexOf("trident/");return n>0},isEdge:function(){var e=this.getUserAgent().toLowerCase(),t=e.indexOf("edge");return t>0},isChrome:function(){const e=window.chrome,t=window.navigator,n=t.vendor,o=typeof window.opr<"u",r=t.userAgent.indexOf("Edge")>-1,s=t.userAgent.match("CriOS");return e!==null&&typeof e<"u"&&n==="Google Inc."&&o===!1&&r===!1||s},isOpera:function(){return this.userAgentContains(" OPR/")}};let c;const u=(e,t,n)=>e.addEventListener?(e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}):(e.attachEvent(t,n),{remove:function(){e.detachEvent(t,n)}}),m=(e,t)=>{let n=document.createElement("iframe");return n.src=t,n.id="hiddenIframe",n.style.display="none",e.appendChild(n),n},l=(e,t,n)=>{const o=setTimeout(function(){t(),i.remove()},c);let r=document.querySelector("#hiddenIframe");r||(r=m(document.body,"about:blank"));const i=u(window,"blur",()=>{clearTimeout(o),i.remove(),n()});r.contentWindow.location.href=e},g=(e,t,n)=>{const o=setTimeout(function(){t(),i.remove()},c);let r=window;for(;r.parent&&r!=r.parent;)r=r.parent;const i=u(r,"blur",()=>{clearTimeout(o),i.remove(),n()});window.location.href=e},w=(e,t,n)=>{let o=document.querySelector("#hiddenIframe");o||(o=m(document.body,"about:blank"));try{o.contentWindow.location.href=e,n()}catch(r){r.name=="NS_ERROR_UNKNOWN_PROTOCOL"&&t()}},v=(e,t,n)=>{navigator.msLaunchUri(e,n,t)},p=()=>{const e=window.navigator.userAgent;let t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],parseFloat(t[1])||""):n[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?parseFloat(t[2]):(n=n[2]?[n[1],n[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&n.splice(1,1,t[1]),parseFloat(n[1]))},O=(e,t,n,o=2e3,r)=>{const s=()=>{t&&t()},i=()=>{n&&n()},h=()=>{r&&r()},d=()=>{a.isFirefox()?p()>=64?l(e,s,i):w(e,s,i):a.isChrome()?g(e,s,i):a.isOSX()?l(e,s,i):h()};if(o&&(c=o),a.isEdge()||a.isIE())v(e,t,n);else if(document.hasFocus())d();else{let f=u(window,"focus",()=>{f.remove(),d()})}};var C=O;export{C as c};
